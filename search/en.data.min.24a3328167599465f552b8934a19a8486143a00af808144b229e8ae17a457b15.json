[{"id":0,"href":"/blog/hugo-blog-4/","title":"Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° (4) - ê²€ìƒ‰ ê¸°ëŠ¥ ê°œì„  ë° ê²€ìƒ‰ í˜ì´ì§€ êµ¬í˜„ (Fuse.js)","content":" ëŒ€ìƒ ë…ì\në§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì€ ë¶„ë“¤ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŠ¥ì ìœ¼ë¡œ ë˜ëŠ” ì‹œê°ì ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê³  ì‹¶ì€ ë¶„ë“¤ Fuse.jsë¥¼ í™œìš©í•œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê²€ìƒ‰ì„ êµ¬í˜„í•˜ë ¤ëŠ” ë¶„ë“¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì™€ ê°€ìƒ DOMì„ í™œìš©í•œ ì‚¬ë¡€ë¥¼ ì°¾ê³  ìˆëŠ” ë¶„ë“¤ ì£¼ìš” ë‚´ìš©\nBook í…Œë§ˆ ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤ ë¶„ì„ (Book í…Œë§ˆ ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤ ë¶„ì„) Book í…Œë§ˆ ê²€ìƒ‰ì°½ì˜ UI ë° ê¸°ëŠ¥ ê°œì„  (ê²€ìƒ‰ ê¸°ëŠ¥ ê°œì„ ) í…œí”Œë¦¿ êµ¬ì¡° ì¬ì„¤ê³„ ë° window ì „ì—­ ê°ì²´ í™œìš© (ê²€ìƒ‰ ê¸°ëŠ¥ íŒŒì¼ êµ¬ì¡° ì¬ì„¤ê³„) ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ DOM ì¡°ì‘ ìµœì í™” (ê²€ìƒ‰ ìˆ˜í–‰ ë° ê²°ê³¼ í•„í„°ë§) ì•ì„  ê²Œì‹œê¸€ì—ì„œ Book í…Œë§ˆì˜ íƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•œ Taxonomies ê¸°ëŠ¥ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.\nì•ì—ì„œì˜ ê³¼ì •ì„ ê±°ì³¤ë‹¤ë©´ íƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ê°€ ë¸”ë¡œê·¸ì— ì¶”ê°€ë˜ê³ , ì—¬ê¸°ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê²Œì‹œê¸€ í•­ëª© ë° í˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ì„ ë§Œë“¤ì—ˆì„ ê²ƒì…ë‹ˆë‹¤.\nì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” Hugo Book í…Œë§ˆì—ì„œ êµ¬í˜„ëœ ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤ë¥¼ ë¶„ì„í•˜ê³  ì‹¤ì œë¡œ ê²€ìƒ‰ í˜ì´ì§€ë¥¼ êµ¬í˜„í•˜ë©´ì„œ ê²€ìƒ‰ ì„±ëŠ¥ì„ ìµœì í™”í•˜ê³  í…œí”Œë¦¿ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ë°©ì‹ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\nBook í…Œë§ˆ ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤ ë¶„ì„ # HugoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ëœ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì•„ë˜ ê³µì‹ë¬¸ì„œì— ë”°ë¥´ë©´ Pagefind, Lunr.js, Fuse.js ë“±ì˜ ì˜¤í”ˆì†ŒìŠ¤ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤.\nSearch tools See some of the open-source and commercial search options for your newly created Hugo website. gohugo.io ì´ëŸ° ê¸°ëŠ¥ì— ìµìˆ™í•˜ì§€ ì•Šì€ ì €ì™€ ê°™ì€ ì‚¬ëŒì´ ì§ì ‘ ë¬¸ì„œë¥¼ ì°¾ì•„ê°€ë©° ê²€ìƒ‰ ê¸°ëŠ¥ì„ ë„ì…í•˜ë ¤ í–ˆë‹¤ë©´ ê½¤ë‚˜ ë¨¸ë¦¬ ì•„í”„ê³  ì˜¤ëœ ì‹œê°„ì´ ê±¸ë ¸ì„ ìˆ˜ ìˆì§€ë§Œ, ë‹¤í–‰íˆ Book í…Œë§ˆëŠ” ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì§€ì›í•´ì¤˜ì„œ ì¤‘ê°„ì¤‘ê°„ ë¡œê·¸ë¥¼ ì°ì–´ë³´ë©´ì„œ ê²€ìƒ‰ ê³¼ì •ì„ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ í…œí”Œë¦¿ ë¶„ì„ # Book í…Œë§ˆì˜ ê²€ìƒ‰ì°½ì€ book-menu ì˜ì—­ì— ìˆìœ¼ë¯€ë¡œ ìš°ì„  layouts/_partials/docs/menu.html í…œí”Œë¦¿ì„ ì°¾ì•„ë´¤ìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/menu.html --\u0026gt; \u0026lt;nav\u0026gt; {{ partial \u0026#34;docs/brand\u0026#34; . }} {{ partial \u0026#34;docs/search\u0026#34; . }} \u0026lt;!-- ... --\u0026gt; \u0026lt;/nav\u0026gt; docs/brand ëŠ” ë©”ì¸ ë ˆì´ì•„ì›ƒì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ë•Œ í”„ë¡œí•„ ì‚¬ì§„ì´ë‚˜ ì†Œì…œ ë§í¬ë¥¼ êµ¬í˜„í–ˆë˜ í…œí”Œë¦¿ì…ë‹ˆë‹¤. ê²€ìƒ‰ì°½ì€ ë°”ë¡œ ë°‘ì— ìˆìœ¼ë¯€ë¡œ, ê·¸ë¦¬ê³  í…œí”Œë¦¿ ëª…ì¹­ ìì²´ê°€ ì§ê´€ì ìœ¼ë¡œ \u0026quot;ê²€ìƒ‰\u0026quot;ì„ ê°€ë¦¬í‚¤ë¯€ë¡œ layouts/_partials/docs/search.html í…œí”Œë¦¿ì˜ ë‚´ìš©ì„ í™•ì¸í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/search.html --\u0026gt; {{ if default true .Site.Params.BookSearch }} \u0026lt;div class=\u0026#34;book-search hidden\u0026#34;\u0026gt; \u0026lt;input id=\u0026#34;book-search-input\u0026#34; type=\u0026#34;text\u0026#34; placeholder=\u0026#34;{{ i18n \u0026#34;Search\u0026#34; }}\u0026#34; aria-label=\u0026#34;{{ i18n \u0026#34;Search\u0026#34; }}\u0026#34; maxlength=\u0026#34;64\u0026#34; data-hotkeys=\u0026#34;s/\u0026#34; /\u0026gt; \u0026lt;div class=\u0026#34;book-search-spinner hidden\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;ul id=\u0026#34;book-search-results\u0026#34;\u0026gt;\u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt;document.querySelector(\u0026#34;.book-search\u0026#34;).classList.remove(\u0026#34;hidden\u0026#34;)\u0026lt;/script\u0026gt; {{ end }} docs/search í…œí”Œë¦¿ì˜ ë‚´ìš© ìì²´ëŠ” input ìš”ì†Œ í•˜ë‚˜ë§Œ ìˆê³  íŠ¹ë³„í•œê±´ ì—†ìŠµë‹ˆë‹¤. ì„¤ì • ë‚´ íŒŒë¼ë¯¸í„°(params) ì•„ë˜ì„œ BookSearch ê°’ì„ í• ë‹¹í•˜ì—¬ ê²€ìƒ‰ì°½ì„ í™œì„±í™”/ë¹„í™œì„±í™”í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒ ì •ë„ë§Œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìë°”ìŠ¤í¬ë¦½íŠ¸ ë¶„ì„ # ê·¸ë ‡ë‹¤ë©´ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬í˜„ë˜ì–´ ìˆì„ ê²ƒì´ë¯€ë¡œ í…œí”Œë¦¿ê³¼ ë³„ê°œì˜ assets/ ê²½ë¡œë¥¼ íƒìƒ‰í•˜ì—¬ search.js ë¼ëŠ” ì§ê´€ì ì¸ ì´ë¦„ì˜ íŒŒì¼ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.\níŒŒì¼ì´ í•œ í˜ì´ì§€ì— ë“¤ì–´ì˜¤ì§€ ì•Šì•„ ë¶€ë¶„ì ìœ¼ë¡œ ë‚˜ëˆ ì„œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\nCopy js // assets/search.js \u0026#39;use strict\u0026#39;; {{ $searchDataFile := printf \u0026#34;%s.search-data.json\u0026#34; .Language.Lang }} {{ $searchData := resources.Get \u0026#34;search-data.json\u0026#34; | resources.ExecuteAsTemplate $searchDataFile . | resources.Minify | resources.Fingerprint }} {{ $searchConfig := i18n \u0026#34;bookSearchConfig\u0026#34; | default \u0026#34;{}\u0026#34; }} (function () { const searchDataURL = \u0026#39;{{ partial \u0026#34;docs/links/resource-precache\u0026#34; $searchData }}\u0026#39;; // ... })(); ë¨¼ì €, ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹œì‘ ë¶€ë¶„ì—ëŠ” $searchData ë³€ìˆ˜ì— í• ë‹¹ëœ íŒŒì¼ì„ ê°€ì ¸ì™€ ì½ì–´ì˜¤ê³  ìˆìŠµë‹ˆë‹¤. ì´ ë³€ìˆ˜ë¥¼ console.log() ì— ë„£ì–´ë³´ë©´ /search-data.json ê°’ì´ ì¶œë ¥ë©ë‹ˆë‹¤.\nê²€ìƒ‰ ì½”í¼ìŠ¤ ë¶„ì„ # ì•„ë§ˆ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ê³¼ ë™ì¼í•œ ê²½ë¡œì— ìˆëŠ” search-data.json íŒŒì¼ì„ ê°€ë¦¬í‚¤ëŠ” ê²ƒ ê°™ì•„ì„œ ë‚´ìš©ì„ í™•ì¸í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\nCopy json [ {{- $pages := where .Site.Pages \u0026#34;Kind\u0026#34; \u0026#34;in\u0026#34; (slice \u0026#34;page\u0026#34; \u0026#34;section\u0026#34;) -}} {{- $pages = where $pages \u0026#34;Params.bookSearchExclude\u0026#34; \u0026#34;!=\u0026#34; true -}} {{/* Remove until we know why it does not work, see https://github.com/alex-shpak/hugo-book/issues/528 */}} {{/*- $pages = where $pages \u0026#34;Content\u0026#34; \u0026#34;not in\u0026#34; (slice nil \u0026#34;\u0026#34;) -*/}} {{- $pages = where $pages \u0026#34;Content\u0026#34; \u0026#34;!=\u0026#34; \u0026#34;\u0026#34; -}} {{ range $index, $page := $pages }} {{ if gt $index 0}},{{end}} { \u0026#34;id\u0026#34;: {{ $index }}, \u0026#34;href\u0026#34;: \u0026#34;{{ $page.RelPermalink }}\u0026#34;, \u0026#34;title\u0026#34;: {{ (partial \u0026#34;docs/title\u0026#34; $page) | jsonify }}, \u0026#34;section\u0026#34;: {{ (partial \u0026#34;docs/title\u0026#34; $page.Parent) | default $.Site.Title | jsonify }}, \u0026#34;content\u0026#34;: {{ $page.Plain | jsonify }} } {{- end -}} ] ìµìˆ™í•œ Go í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•´ id, href, title, section, content ë¡œ êµ¬ì„±ëœ ê°ì²´ì˜ ë°°ì—´ì„ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì´ëŠ” ì¼ì¢…ì˜ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¼ê³  ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ì€ë°, ê²Œì‹œê¸€ì˜ ë‚´ìš© ì „ë¬¸ì„ í¬í•¨í•˜ê³  ìˆì–´ì„œ ê²€ìƒ‰ ì½”í¼ìŠ¤ë¼ê³  ë¶€ë¥´ëŠ”ê²Œ ì ì ˆí• ì§€ë„ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.\nì´í•˜ ë‚´ìš©ì—ì„œ search-data.json ì˜ ë‚´ìš©ì„ ê²€ìƒ‰ ì½”í¼ìŠ¤ ë¼ ë¶€ë¥´ê² ìŠµë‹ˆë‹¤.\nHugoë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì›¹ì‚¬ì´íŠ¸ëŠ” ì •ì  í˜ì´ì§€ë¡œë§Œ êµ¬ì„±ë˜ë¯€ë¡œ, ê²€ìƒ‰ ì¸ë±ìŠ¤ë„ ì•„ë§ˆ public/ ê²½ë¡œë¥¼ ì°¾ì•„ë³´ë©´ ê´€ë ¨ëœ íŒŒì¼ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì—­ì‹œë‚˜ ì§ê´€ì ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆëŠ” JSON íŒŒì¼ í•˜ë‚˜ê°€ public ê²½ë¡œ ì•„ë˜ì— ìˆìŠµë‹ˆë‹¤.\nCopy bash public % tree -L 1 . â”œâ”€â”€ ... â”œâ”€â”€ en.search-data.min.eab6c7b9001273416ee00669c84e2e15e0c20a277354e60f930fbf616c3450cd.json â”œâ”€â”€ ... ë§Œì•½ Hugo ë¹Œë“œë¥¼ ì—¬ëŸ¬ ë²ˆ í–ˆë‹¤ë©´ (ë™ì‹œì— ì´ì „ ë¹Œë“œì—ì„œ ë§Œë“¤ì–´ì§„ íŒŒì¼ì„ ì§€ìš°ì§€ ì•Šì•˜ë‹¤ë©´) search-data.json íŒŒì¼ì´ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì–´ì¡Œì„ê±´ë°, ì–´ë–¤ íŒŒì¼ì„ ë´ì•¼í• ì§€ ëª¨ë¥´ê² ë‹¤ë©´ ìœ„ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ searchDataURL ë³€ìˆ˜ë¥¼ ì¶œë ¥í•´ë³´ë©´ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (searchDataURL ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ëŠ” ë¼ì¸ ì•„ë˜ì— console.log() ë¥¼ ì‹¤í–‰í•˜ë©´ ë¹Œë“œ ì§í›„ì— ì½˜ì†”ì— ì¶œë ¥ë©ë‹ˆë‹¤.)\npublic/ ê²½ë¡œì—ì„œ ë³´ì•˜ë˜ en.search-data.min.eab6c7b9001273416ee00669c84e2e15e0c20a277354e60f930fbf616c3450cd.json íŒŒì¼ì´ ê·¸ëŒ€ë¡œ ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.\níŒŒì¼ëª…ì´ ì™œ ì´ë ‡ê²Œ ë˜ì—ˆëŠ”ê°€ëŠ”, ìš°ì„  $searchData ë³€ìˆ˜ë¥¼ í• ë‹¹í•˜ëŠ” ë¼ì¸ì—ì„œ resources.Minify ê¸°ëŠ¥ìœ¼ë¡œ íŒŒì¼ì„ ì¶•ì†Œí•˜ë©´ì„œ ë’¤ì— .min ì´ ë¶™ê³ , resources.Fingerprint ê¸°ëŠ¥ìœ¼ë¡œ íŒŒì¼ëª…ì— í•´ì‹œê¹Œì§€ ì¶”ê°€ë˜ë©´ì„œ ì´ëŸ° ëª…ì¹­ìœ¼ë¡œ ë³€í™˜ëœ ê²ƒì…ë‹ˆë‹¤.\në¸Œë¼ìš°ì €ì—ì„œ ì´ íŒŒì¼ì˜ ê²½ë¡œë¡œ ì ‘ì†í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ íŒŒì¼ì€ ExampleSite ê¸°ì¤€ìœ¼ë¡œ 100 KB, í˜„ì¬ 40ê°œ ê¸€ì´ ìˆëŠ” ì œ ë¸”ë¡œê·¸ ê¸°ì¤€ìœ¼ë¡œëŠ” 600 KB ì •ë„ì˜ ìš©ëŸ‰ì´ ë˜ëŠ”ë° ì•ìœ¼ë¡œ ê²Œì‹œê¸€ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ ë¬´ì‹í•˜ê²Œ ì»¤ì§€ëŠ” ì´ íŒŒì¼ì„ ê²€ìƒ‰í•  ë•Œë§ˆë‹¤ ê°€ì ¸ì˜¨ë‹¤ê³  ìƒê°í•˜ë‹ˆ ì¥ê¸°ì ì¸ ê´€ì ì—ì„œ ê±±ì •ì´ ë©ë‹ˆë‹¤.\nì•„ë¬´íŠ¼, ì´ íŒŒì¼ë§Œ ë´¤ì„ ë•Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì´í›„ ë™ì‘ì€ ê²€ìƒ‰ ì½”í¼ìŠ¤ì—ì„œ ì…ë ¥ ì¿¼ë¦¬ë¥¼ í¬í•¨í•˜ëŠ” í˜ì´ì§€ë¥¼ í•„í„°í•  ê²ƒì´ë¼ ì˜ˆìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¶„ì„ # êµ¬ì²´ì ì¸ ê²€ìƒ‰ ê³¼ì •ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë‚´ìš©ì„ ì´ì–´ì„œ ë³´ê² ìŠµë‹ˆë‹¤.\nCopy js (function () { const searchDataURL = \u0026#39;{{ partial \u0026#34;docs/links/resource-precache\u0026#34; $searchData }}\u0026#39;; // ... const input = document.querySelector(\u0026#39;#book-search-input\u0026#39;); const results = document.querySelector(\u0026#39;#book-search-results\u0026#39;); if (!input) { return } input.addEventListener(\u0026#39;focus\u0026#39;, init); input.addEventListener(\u0026#39;keyup\u0026#39;, search); document.addEventListener(\u0026#39;keypress\u0026#39;, focusSearchFieldOnKeyPress); // ... })(); ì•„ë˜ì—ëŠ” í•¨ìˆ˜ë“¤ì´ ì •ì˜ë˜ì–´ ìˆëŠ”ë°, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— í• ë‹¹ë˜ëŠ” init, search, focusSearchFieldOnKeyPress ê°€ ê°ê° ì´ í•¨ìˆ˜ë“¤ì…ë‹ˆë‹¤.\ninput ìš”ì†Œì¸ ê²€ìƒ‰ì°½ì´ í¬ì»¤ìŠ¤ë˜ë©´ init() í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³ , ì…ë ¥ì„ ë§ˆì¹˜ë©´ search() í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.\nfocusSearchFieldOnKeyPress() í•¨ìˆ˜ëŠ” ë‹¨ì¶•í‚¤ê°€ ëˆŒë ¸ëŠ”ì§€ ê°ì‹œí•˜ëŠ” í•¨ìˆ˜ì¸ë°, input#book-search-input ìš”ì†Œì˜ data-hotkeys ì†ì„±ì— ì§€ì •ëœ ë‹¨ì¶•í‚¤ê°€ ëˆŒë¦¬ë©´ ë°”ë¡œ ê²€ìƒ‰ì°½ì— í¬ì»¤ìŠ¤ë˜ëŠ” ê¸°ëŠ¥ì„ í•©ë‹ˆë‹¤. (ë‹¨ì¶•í‚¤ëŠ” s, / ê°€ ì§€ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.)\nì´ˆê¸°í™” í•¨ìˆ˜ ë¶„ì„ # init() í•¨ìˆ˜ëŠ” ê²€ìƒ‰ì°½ì— í¬ì»¤ìŠ¤ë  ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.\nCopy js (function () { // ... function init() { input.removeEventListener(\u0026#39;focus\u0026#39;, init); // init once input.required = true; fetch(searchDataURL) .then(pages =\u0026gt; pages.json()) .then(pages =\u0026gt; { window.bookSearchIndex = new Fuse(pages, indexConfig); }) .then(() =\u0026gt; input.required = false) .then(search); } // ... })(); í•¨ìˆ˜ì˜ ì²«ì¤„ë¶€í„° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì—ì„œ ì œê±°í•©ë‹ˆë‹¤. ì´ˆê¸°í™” í•¨ìˆ˜ë‹¤ë³´ë‹ˆ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ë©´ ë˜ëŠ” ê²ƒ ê°™ì€ë° ë‚´ìš©ì„ ì´ì–´ì„œ ë³´ìë©´, searchDataURL ê²½ë¡œ, ì¦‰ search-data.json ì„ ìš”ì²­í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³ , ê°€ì ¸ì˜¨ ê²€ìƒ‰ ì½”í¼ìŠ¤ë¥¼ Fuse(pages, indexConfig) í•¨ìˆ˜ì— ì „ë‹¬í•´ì„œ Fuse ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì„ ë³´ë‹ˆ Fuse.js ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í–¥í›„ ê²€ìƒ‰ ì‹œì— Fuse ì¸ë±ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì´ˆê¸°í™” í•¨ìˆ˜ë¥¼ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ëŠ” ì´ìœ ë¥¼ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ í•¨ìˆ˜ ë¶„ì„ # search() í•¨ìˆ˜ëŠ” í‚¤ë¥¼ ë–¼ì—ˆì„ ë•Œ, ì¦‰ ë¬¸ìë¥¼ í•˜ë‚˜í•˜ë‚˜ ì…ë ¥í•  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.\n(ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë³´ê¸° ìœ„í•´ ë”°ë¡œ ì—”í„° í‚¤ë¥¼ ëˆŒëŸ¬ì•¼ í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.)\nCopy js (function () { // ... function search() { while (results.firstChild) { results.removeChild(results.firstChild); } if (!input.value) { return; } const searchHits = window.bookSearchIndex.search(input.value).slice(0,10); searchHits.forEach(function (page) { const li = element(\u0026#39;\u0026lt;li\u0026gt;\u0026lt;a href\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;small\u0026gt;\u0026lt;/small\u0026gt;\u0026lt;/li\u0026gt;\u0026#39;); const a = li.querySelector(\u0026#39;a\u0026#39;), small = li.querySelector(\u0026#39;small\u0026#39;); a.href = page.item.href; a.textContent = page.item.title; small.textContent = page.item.section; results.appendChild(li); }); } // ... })(); Fuse.js ì˜ ë‚´ë¶€ ë™ì‘ê¹Œì§€ëŠ” ë‹¤ë£° ìˆ˜ëŠ” ì—†ê³ , ì´ í•¨ìˆ˜ì˜ ë™ì‘ë§Œ ë³´ìë©´ ê¸°ì¡´ ê²€ìƒ‰ ê²°ê³¼ì¸ results ë¥¼ ì´ˆê¸°í™”í•˜ê³  ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ìµœëŒ€ 10ê°œ í˜ì´ì§€ì˜ ì •ë³´ë¥¼ li ìš”ì†Œë¡œ ë³€í™˜í•˜ì—¬ ë‹¤ì‹œ results ì— ì¶”ê°€í•˜ëŠ” ë™ì‘ì„ í•©ë‹ˆë‹¤.\nresults ì˜ ë‚´ìš©ì€ ì¦‰ì‹œ ul#book-search-results ìš”ì†Œ ë‚´ë¶€ì— í‘œì‹œë©ë‹ˆë‹¤. í•´ë‹¹ ìš”ì†ŒëŠ” ê²€ìƒ‰ì°½ ë°”ë¡œ ì•„ë˜ ìˆì–´ì„œ ê²€ìƒ‰ ê²°ê³¼ê°€ ê²€ìƒ‰ì°½ ì•„ë˜ì— (ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ì•„ë˜ë¡œ ë°€ì–´ë‚´ê³ ) ì¶œë ¥ë©ë‹ˆë‹¤.\nì—¬ê¸°ê¹Œì§€ ë´¤ë‹¤ë©´ Book í…Œë§ˆì—ì„œ ê²€ìƒ‰ì„ ì–´ë–»ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ê¸°ëŠ¥ ê°œì„  # ë°”ë¡œ ìœ„ ì´ë¯¸ì§€ë¥¼ ë³´ìë§ˆì ê°œì„ í•´ì•¼ í•  ë¶€ë¶„ì´ ë³´ì˜€ìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ì•„ì´ì½˜ ì¶”ê°€ # ê°€ì¥ ë¨¼ì € ëŠë‚€ ë¬¸ì œì ì€ ê²€ìƒ‰ì°½ì˜ UIê°€ ì…ë ¥ì°½ í•˜ë‚˜ë§Œ ë©ê·¸ëŸ¬ë‹ˆ ìˆì–´ì„œ ê²€ìƒ‰ì„ ìœ„í•œ ì…ë ¥ì°½ì¸ì§€ ë‹¤ë¥¸ ëª©ì ì¸ì§€ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•˜ê¸° ì–´ë µë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ, ì…ë ¥ì°½ ì˜¤ë¥¸ìª½ì— ê²€ìƒ‰ ì•„ì´ì½˜ì„ í•˜ë‚˜ ì¶”ê°€í•˜ê³ ì í•©ë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/_partials/docs/search.html --\u0026gt; \u0026lt;div class=\u0026#34;book-search hidden\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;search-input-container\u0026#34;\u0026gt; \u0026lt;input ... /\u0026gt; \u0026lt;button type=\u0026#34;button\u0026#34; id=\u0026#34;book-search-button\u0026#34; class=\u0026#34;book-search-btn\u0026#34; onclick=\u0026#34;goToSearchPage()\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-magnifying-glass\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/div\u0026gt; CSS Copy scss // assets/_main.scss .book-search { position: relative; margin: $padding-8 0; .search-input-container { // ì…ë ¥ì°½ê³¼ ê²€ìƒ‰ ì•„ì´ì½˜ì„ ê°€ë¡œë¡œ ë‚˜ë€íˆ ë‚˜ì—´ position: relative; display: flex; align-items: center; } input { width: 100%; padding: $padding-8; margin: 0 $padding-8 0 0; // ê²€ìƒ‰ ì•„ì´ì½˜ê³¼ ê°„ê²© ë‘ê¸° // ì…ë ¥ì°½ì— í…Œë‘ë¦¬ ì ìš© border: 1px solid var(--gray-500); border-radius: $border-radius; background: var(--gray-300); color: var(--body-font-color); \u0026amp;:required + .book-search-spinner { display: block; } } .book-search-btn { // ê²€ìƒ‰ ì•„ì´ì½˜ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ì„ ì ìš© background: transparent; border: none; color: var(--body-font-color); cursor: pointer; \u0026amp;:hover { color: var(--color-link); } i { font-size: $font-size-24; } } // ... } ì •í™•íˆëŠ” ê²€ìƒ‰ ë²„íŠ¼ì˜ ì—­í• ì´ì§€ë§Œ, ì•„ì§ ê²€ìƒ‰ í˜ì´ì§€ ë° ë¦¬ë‹¤ì´ë ‰íŠ¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì§€ëŠ” ì•Šì•˜ìœ¼ë¯€ë¡œ ê²€ìƒ‰ ì•„ì´ì½˜ì´ë¼ê³  ë¶€ë¥´ê² ìŠµë‹ˆë‹¤.\nì•„ì§ ê²€ìƒ‰ ì•„ì´ì½˜ì— íŠ¹ë³„í•œ ê¸°ëŠ¥ì€ ì—†ì§€ë§Œ, ì…ë ¥ì°½ì´ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í•œë‹¤ëŠ” ê²ƒì€ ì§ê´€ì ìœ¼ë¡œ ì¸ì‹í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ê²°ê³¼ ìœ„ì¹˜ ê³ ì • # ê°€ì¥ ë¨¼ì € ëŠë‚€ ë¬¸ì œì ì€ ê²€ìƒ‰ ê²°ê³¼ê°€ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ë°€ì–´ë‚´ê³  ë³´ì—¬ì§„ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ì´ëŸ¬í•œ ë™ì‘ì€ ì„ í˜¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê²€ìƒ‰ ê²°ê³¼ëŠ” ì¹´í…Œê³ ë¦¬ ëª©ë¡ì˜ ìœ„ì¹˜ë¥¼ ì˜®ê¸°ì§€ ì•Šê³  ê·¸ ìœ„ì— ê²¹ì³ì„œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì´ ê°€ì¥ ì´ìƒì ì…ë‹ˆë‹¤.\nCSS Copy scss // assets/_main.scss .book-search { // ... #book-search-results { position: absolute; background: var(--gray-100); border: 1px solid var(--gray-200); border-radius: $border-radius; z-index: 11; } } JavaScript Copy js // assets/search.js (function () { // ... function search() { // ... searchHits.forEach(function (page) { const li = element(\u0026#39;\u0026lt;li\u0026gt;\u0026lt;a href\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;small\u0026gt;\u0026lt;/small\u0026gt;\u0026lt;/li\u0026gt;\u0026#39;); const a = li.querySelector(\u0026#39;a\u0026#39;); // small = li.querySelector(\u0026#39;small\u0026#39;); \u0026lt;\u0026lt; ì œê±° a.href = page.item.href; a.textContent = page.item.title; // small.textContent = page.item.section; \u0026lt;\u0026lt; ì œê±° results.appendChild(li); }); } // ... })(); ì´ê²ƒì€ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ ê³ ì •ì‹œí‚¤ë©´ ë©ë‹ˆë‹¤. CSS íŒŒì¼ì—ì„œ position: absolute; ë¥¼ ì ìš©í•˜ë©´ ìœ„ì¹˜ë¥¼ ê³ ì •í•  ìˆ˜ ìˆê³ , ì¹´í…Œê³ ë¦¬ ëª©ë¡ì¸ .book-categories ìš”ì†Œë³´ë‹¤ í° z-index ë¥¼ ë¶€ì—¬í•˜ë©´ ì¹´í…Œê³ ë¦¬ ëª©ë¡ ìœ„ì— ê²€ìƒ‰ ê²°ê³¼ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\nì¶”ê°€ë¡œ, ê²€ìƒ‰ ê²°ê³¼ì—ëŠ” section ì •ë³´ë¥¼ ì œëª© ë°‘ì— ê°™ì´ ë³´ì—¬ì£¼ê³  ìˆëŠ”ë°, í•´ë‹¹ ë¸”ë¡œê·¸ì—ì„œëŠ” section ì„ ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•  ì¼ì´ ì—†ìœ¼ë¯€ë¡œ ì—†ì• ëŠ”ê²Œ ë” ê¹”ë”í•©ë‹ˆë‹¤. ì´ì— í•´ë‹¹í•˜ëŠ” \u0026lt;small\u0026gt; íƒœê·¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ë¯€ë¡œ ì´ ë¶€ë¶„ì„ ì œê±°í–ˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ê²°ê³¼ì— ë”ë³´ê¸° ë§í¬ ì¶”ê°€ # Book í…Œë§ˆì—ì„œëŠ” ê²€ìƒ‰ ê²°ê³¼ë¥¼ ìµœëŒ€ 10ê°œê¹Œì§€ë§Œ ë³´ì—¬ì¤ë‹ˆë‹¤. í•˜ì§€ë§Œ, ì œëª©ì´ ì—¬ëŸ¬ì¤„ì— ë‹¬í•˜ëŠ” ê²Œì‹œê¸€ë“¤ì„ 10ê°œë§Œ ë‚˜ì—´í•´ë„ í•´ìƒë„ì— ë”°ë¼ ê²€ìƒ‰ ê²°ê³¼ê°€ í™”ë©´ ëì— ë‹¿ê±°ë‚˜ í•œ í™”ë©´ì— ë‹¤ ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ëŸ° ì‚¬ìœ ë¡œ ê²€ìƒ‰ í˜ì´ì§€ë¥¼ ë§Œë“¤ë ¤ê³  í•˜ì§€ë§Œ ê²€ìƒ‰ í˜ì´ì§€ì— ëŒ€í•œê±´ ë‹¤ìŒ ë¬¸ë‹¨ì—ì„œ ì„œìˆ í•˜ê³ , ì¼ë‹¨ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ìš”ì•½í•´ì„œ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ë”ë³´ê¸° ë§í¬ë¥¼ í‘œì‹œí•˜ê² ìŠµë‹ˆë‹¤.\nJavaScript Copy js // assets/search.js (function () { // ... function search() { // ... const searchHits = window.bookSearchIndex.search(input.value); // ì‹¤ì œ ê²€ìƒ‰ ê²°ê³¼ const searchPreview = searchHits.slice(0, 3); // ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ ê²€ìƒ‰ ê²°ê³¼ (ë¯¸ë¦¬ë³´ê¸° 3ê°œ) searchPreview.forEach(function (page) { const li = element(\u0026#39;\u0026lt;li\u0026gt;\u0026lt;a href\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;small\u0026gt;\u0026lt;/small\u0026gt;\u0026lt;/li\u0026gt;\u0026#39;); const a = li.querySelector(\u0026#39;a\u0026#39;); a.href = page.item.href; a.textContent = page.item.title; results.appendChild(li); }); if (searchHits.length \u0026gt; 3) { // ê²€ìƒ‰ ê²°ê³¼ê°€ 3ê°œë¥¼ ì´ˆê³¼í•  ê²½ìš° ë”ë³´ê¸° ë§í¬ë¥¼ ì¶”ê°€ (+ ê²€ìƒ‰ ê²°ê³¼ê°€ ëª‡ ê°œ ìˆëŠ”ì§€ ì¹´ìš´íŒ…í•˜ì—¬ í‘œì‹œ) const moreLink = element(\u0026#39;\u0026lt;li class=\u0026#34;book-search-more\u0026#34;\u0026gt;\u0026lt;a href\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026#39;); const a = moreLink.querySelector(\u0026#39;a\u0026#39;); a.textContent = \u0026#39;ë”ë³´ê¸° (ì´ \u0026#39; + searchHits.length + \u0026#39;ê°œ)\u0026#39;; results.appendChild(moreLink); } } // ... })(); CSS Copy scss // assets/_main.scss .book-search { // ... .book-search-more { border-top: 1px solid var(--gray-200); a { color: var(--color-link); font-size: $font-size-12; font-weight: 500; } } } ë”ë³´ê¸° ë§í¬ì˜ ì—­í• ì€ ê²€ìƒ‰ ë²„íŠ¼ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ê²€ìƒ‰ í˜ì´ì§€ê°€ ë§Œë“¤ì–´ì ¸ì•¼ ì œ ê¸°ëŠ¥ì„ í•˜ì§€ë§Œ ì¼ë‹¨ êµ¬ìƒ‰ë§Œ ê°–ì·„ìŠµë‹ˆë‹¤.\nì´ì „ ê²°ê³¼ì—ì„œëŠ” ìµœëŒ€ 10ê°œ ê²Œì‹œê¸€ë§Œ ë³´ì—¬ì£¼ê³  ì „ì²´ ëª‡ ê°œ ê¸€ì´ ìˆëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ì—ˆëŠ”ë°, ì´ ì ì„ ê°œì„ í–ˆë‹¤ëŠ”ë°ì— ì˜ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ê²°ê³¼ ì´ˆê¸°í™” ê¸°ëŠ¥ ì¶”ê°€ # Book í…Œë§ˆì—ì„œëŠ” ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ë§Œ ìˆê³  ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ê²°ê³¼ë¥¼ íŒì—…ì²˜ëŸ¼ ë‚˜íƒ€ë‚˜ê²Œ í•˜ê¸° ì „ì—ëŠ” êµ³ì´ ì—†ì–´ë„ ë¬¸ì œ ì—†ì—ˆê² ì§€ë§Œ, ë³€ê²½ í›„ ê²€ìƒ‰ ê²°ê³¼ê°€ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ê°€ë ¤ë²„ë¦¬ë©´ì„œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì—†ì• ëŠ” ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.\nì´ë¯¸ ê²€ìƒ‰ì°½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë‹¨ì¶•í‚¤ë¥¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œ êµ¬í˜„í•œ ì‚¬ë¡€ë¥¼ ë´¤ê¸° ë•Œë¬¸ì— ê²€ìƒ‰ ê²°ê³¼ ì´ˆê¸°í™” ê¸°ëŠ¥ë„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì‚¬ìš©í•˜ë©´ ë™ì‘ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy js (function () { // .. input.addEventListener(\u0026#39;focus\u0026#39;, init); input.addEventListener(\u0026#39;keyup\u0026#39;, search); input.addEventListener(\u0026#39;keydown\u0026#39;, handleEscape); input.addEventListener(\u0026#39;blur\u0026#39;, clearResults); // ... /** * @param {KeyboardEvent} event */ function handleEscape(event) { if (event.key === \u0026#39;Escape\u0026#39;) { clearResults(); input.blur(); } } function clearResults() { while (results.firstChild) { results.removeChild(results.firstChild); } } // ... })(); ê²€ìƒ‰ í˜ì´ì§€ ì¶”ê°€ # ì‚¬ì´ë“œ ë©”ë‰´ë¼ëŠ” ì‘ì€ ì˜ì—­ì—ì„œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ”ë°ëŠ” í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤. ì¼ë°˜ì ì¸ ë¸”ë¡œê·¸ í”Œë«í¼ì—ì„œëŠ” ê²€ìƒ‰ì°½ì— ì…ë ¥í•œ ê²°ê³¼ë¥¼ í•˜ë‚˜ì˜ í˜ì´ì§€ë¡œ ë³´ì—¬ì£¼ëŠ”ë° ì»¤ìŠ¤í…€ í…Œë§ˆì—ë„ ê²€ìƒ‰ í˜ì´ì§€ í…œí”Œë¦¿ì„ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤.\nğŸ’¡ ê²€ìƒ‰ í˜ì´ì§€ í…œí”Œë¦¿ì€ ì´ì „ ê²Œì‹œê¸€ì—ì„œ êµ¬í˜„í•œ ê²Œì‹œê¸€ ëª©ë¡ í…œí”Œë¦¿ì„ í™œìš©í•©ë‹ˆë‹¤.\nì•ìœ¼ë¡œì˜ ì§„í–‰ì„ ìœ„í•´ í•´ë‹¹ ê³¼ì •ì´ ì„ í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.\nê²€ìƒ‰ ê¸°ëŠ¥ íŒŒì¼ êµ¬ì¡° ì¬ì„¤ê³„ # ì§€ê¸ˆê¹Œì§€ë§Œí•´ë„ ê²€ìƒ‰ê³¼ ê´€ë ¨í•´ì„œ 1ê°œì˜ í…œí”Œë¦¿ê³¼ 2ê°œì˜ ì• ì…‹ íŒŒì¼ì„ ë§Œë“¤ì—ˆëŠ”ë°, ì•ìœ¼ë¡œ ê²€ìƒ‰ ê´€ë ¨ íŒŒì¼ì´ ê³„ì† ì¶”ê°€ë˜ë©´ì„œ ë³µì¡í•´ì§ˆ ê²ƒ ê°™ì•„ í•œë²ˆ ì •ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\nê¸°ì¡´ íŒŒì¼ \u0026gt;\u0026gt;\u0026gt; ë³€ê²½ëœ íŒŒì¼ layouts/_partials/docs/search.html \u0026gt;\u0026gt;\u0026gt; layouts/_partials/search/input.html assets/search-data.json \u0026gt;\u0026gt;\u0026gt; assets/search/data.json assets/search.js (ì¸ë±ìŠ¤ ìƒì„± í•¨ìˆ˜) \u0026gt;\u0026gt;\u0026gt; assets/search/fuse.js assets/search.js (ê²€ìƒ‰ ìˆ˜í–‰ í•¨ìˆ˜) \u0026gt;\u0026gt;\u0026gt; assets/search/input.js ê²€ìƒ‰ íŒŒì¼ë“¤ì´ ì•ìœ¼ë¡œ ìƒˆë¡œ ì¶”ê°€ë  ê²ƒì„ ì˜ˆìƒí•˜ì—¬ search í´ë” ë‚´ì— ë¶„ë¥˜í–ˆìŠµë‹ˆë‹¤.\nê·¸ë¦¬ê³ , Fuse ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì€ ê²€ìƒ‰ í˜ì´ì§€ì—ì„œë„ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì—, í•˜ë‚˜ì˜ search.js ìŠ¤í¬ë¦½íŠ¸ë¥¼ fuse.js, input.js ë¼ëŠ” 2ê°œì˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤. (ë³€ê²½ëœ íŒŒì¼ëª…ì€ \u0026lt;head\u0026gt; ë¥¼ êµ¬ì„±í•˜ëŠ” html-head.html ì—ë„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.)\nì´ë•Œ, ì„œë¡œ ë‹¤ë¥¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ê°„ì— Fuse ì¸ë±ìŠ¤ë¥¼ ê³µìœ í•˜ê¸° ìœ„í•´ window ì „ì—­ ê°ì²´ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. fuse.js ì—ì„œ ì „ì—­ ê°ì²´ì— í•¨ìˆ˜ë§Œ ë¯¸ë¦¬ ì •ì˜í•´ë†“ê³  input.js ì—ì„œ ê²€ìƒ‰ ìˆ˜í–‰ ì‹œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¸ë±ìŠ¤ê°€ ì ì ˆí•œ ì‹œì ì— ë§Œë“¤ì–´ì§€ë„ë¡ í–ˆìŠµë‹ˆë‹¤.\nì´ ê³¼ì •ì„ ì•„ë˜ì˜ window ê·¸ë˜í”„ë¡œ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nwindow Copy text [HTML í˜ì´ì§€ ë¡œë“œ] â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ \u0026lt;script src=\u0026#34;fuse.js\u0026#34;\u0026gt; â”‚ â‘  ì¸ë±ìŠ¤ ìƒì„± í•¨ìˆ˜ë§Œ ë¨¼ì € ë¡œë“œ â”‚ window.bookSearch = {...} â”‚ â”‚ window.bookSearch.initIndex = func â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ \u0026lt;script src=\u0026#34;list.js\u0026#34;\u0026gt; â”‚ â‘¡ ê²€ìƒ‰ ì‹œ (performSearch) â”‚ window.bookSearch.initIndex() â”‚ fuse.jsì—ì„œ ì •ì˜í•œ í•¨ìˆ˜ ì‚¬ìš© â”‚ .then(() =\u0026gt; performSearch()) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ window.bookSearchIndex â”‚ â‘¢ ê²€ìƒ‰ ì‹œì ì— ì¸ë±ìŠ¤ê°€ ìƒì„±ë¨ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ fuse.js Copy js \u0026#39;use strict\u0026#39;; {{ $searchDataFile := printf \u0026#34;search/%s.data.json\u0026#34; .Language.Lang }} {{ $searchData := resources.Get \u0026#34;search/data.json\u0026#34; | resources.ExecuteAsTemplate $searchDataFile . | resources.Minify | resources.Fingerprint }} {{ $searchConfig := i18n \u0026#34;bookSearchConfig\u0026#34; | default \u0026#34;{}\u0026#34; }} window.bookSearch = window.bookSearch || {}; window.bookSearch.searchDataURL = \u0026#39;{{ partial \u0026#34;docs/links/resource-precache\u0026#34; $searchData }}\u0026#39;; window.bookSearch.getIndexConfig = function() { return Object.assign({{ $searchConfig }}, { includeScore: true, useExtendedSearch: true, fieldNormWeight: 1.5, threshold: 0.2, ignoreLocation: true, keys: [ { name: \u0026#39;title\u0026#39;, weight: 0.7 }, { name: \u0026#39;content\u0026#39;, weight: 0.3 } ] }); }; /** * Fuse ê²€ìƒ‰ ì¸ë±ìŠ¤ ìƒì„± * @returns {Promise\u0026lt;Fuse\u0026gt;} */ window.bookSearch.initIndex = function() { if (window.bookSearchIndex) { return Promise.resolve(window.bookSearchIndex); } const indexConfig = window.bookSearch.getIndexConfig(); return fetch(window.bookSearch.searchDataURL) .then(response =\u0026gt; { if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } return response.json(); }) .then(pages =\u0026gt; { window.bookSearchIndex = new Fuse(pages, indexConfig); return window.bookSearchIndex; }); }; input.js Copy js \u0026#39;use strict\u0026#39;; (function () { const input = document.querySelector(\u0026#39;#book-search-input\u0026#39;); const results = document.querySelector(\u0026#39;#book-search-results\u0026#39;); if (!input) { return } input.addEventListener(\u0026#39;focus\u0026#39;, init); // ê²€ìƒ‰ì°½ì´ í¬ì»¤ìŠ¤ë˜ë©´ ê²€ìƒ‰ ì¸ë±ìŠ¤ ìƒì„± input.addEventListener(\u0026#39;keyup\u0026#39;, search); // í‚¤ ì…ë ¥ ì‹œ ê²€ìƒ‰ ìˆ˜í–‰ input.addEventListener(\u0026#39;keydown\u0026#39;, handleEscape); // ESC í‚¤ê°€ ëˆŒë¦¬ë©´ ê²€ìƒ‰ ê²°ê³¼ ì´ˆê¸°í™” input.addEventListener(\u0026#39;blur\u0026#39;, clearResults); // ê²€ìƒ‰ì°½ì—ì„œ í¬ì»¤ìŠ¤ê°€ í•´ì œë˜ë©´ ê²€ìƒ‰ ê²°ê³¼ ì´ˆê¸°í™” // ê²€ìƒ‰ì°½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë‹¨ì¶•í‚¤ê°€ ëˆŒë¦¬ëŠ” ì´ë²¤íŠ¸ ì²˜ë¦¬ document.addEventListener(\u0026#39;keypress\u0026#39;, focusSearchFieldOnKeyPress); /** * ë‹¨ì¶•í‚¤(\u0026#39;s\u0026#39; ë˜ëŠ” \u0026#39;/\u0026#39;)ê°€ ëˆŒë¦¬ë©´ ê²€ìƒ‰ì°½ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™í•˜ëŠ” í•¨ìˆ˜ * @param {Event} event */ function focusSearchFieldOnKeyPress(event) { if (event.target.value !== undefined) { return; } if (input === document.activeElement) { return; } const characterPressed = String.fromCharCode(event.charCode); if (!isHotkey(characterPressed)) { return; } input.focus(); event.preventDefault(); } /** * ì…ë ¥ëœ ë¬¸ìê°€ ë‹¨ì¶•í‚¤ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ * @param {string} character * @returns {boolean} */ function isHotkey(character) { const dataHotkeys = input.getAttribute(\u0026#39;data-hotkeys\u0026#39;) || \u0026#39;\u0026#39;; return dataHotkeys.indexOf(character) \u0026gt;= 0; } /** * ESC í‚¤ê°€ ëˆŒë¦¬ë©´ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì´ˆê¸°í™”í•˜ê³  ê²€ìƒ‰ì°½ì—ì„œ í¬ì»¤ìŠ¤ë¥¼ í•´ì œí•˜ëŠ” í•¨ìˆ˜ * @param {KeyboardEvent} event */ function handleEscape(event) { if (event.key === \u0026#39;Escape\u0026#39;) { clearResults(); input.blur(); } } function clearResults() { while (results.firstChild) { results.removeChild(results.firstChild); } } /** * ê²€ìƒ‰ì°½ì´ ìµœì´ˆë¡œ í¬ì»¤ìŠ¤ë˜ë©´ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ */ function init() { input.removeEventListener(\u0026#39;focus\u0026#39;, init); input.required = true; window.bookSearch.initIndex() .then(() =\u0026gt; input.required = false) .then(search); } /** * ê²€ìƒ‰ ìˆ˜í–‰ í›„ ê²€ìƒ‰ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°(ìµœëŒ€ 3ê°œ)ë¥¼ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ */ function search() { clearResults(); if (!input.value) { return; } const searchHits = window.bookSearchIndex.search(input.value); const searchPreview = searchHits.slice(0, 3); searchPreview.forEach(function (page) { const li = element(\u0026#39;\u0026lt;li\u0026gt;\u0026lt;a href\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026#39;); const a = li.querySelector(\u0026#39;a\u0026#39;) a.href = page.item.href; a.textContent = page.item.title; results.appendChild(li); }); // ê²€ìƒ‰ í˜ì´ì§€ë¡œ ì´ë™í•˜ê¸° ìœ„í•œ ë”ë³´ê¸° ë§í¬ë¥¼ í‘œì‹œ if (searchHits.length \u0026gt; 3) { const moreLink = element(\u0026#39;\u0026lt;li class=\u0026#34;book-search-more\u0026#34;\u0026gt;\u0026lt;a href\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026#39;); const a = moreLink.querySelector(\u0026#39;a\u0026#39;); a.href = \u0026#39;{{ \u0026#34;/search/\u0026#34; | relURL }}?q=\u0026#39; + encodeURIComponent(input.value); a.textContent = \u0026#39;ë”ë³´ê¸° (ì´ \u0026#39; + searchHits.length + \u0026#39;ê°œ)\u0026#39;; results.appendChild(moreLink); } } /** * HTML ë¬¸ìì—´ë¡œë¶€í„° DOM ìš”ì†Œë¥¼ ìƒì„± * @param {string} content * @returns {Node} */ function element(content) { const div = document.createElement(\u0026#39;div\u0026#39;); div.innerHTML = content; return div.firstChild; } })(); html-head.html Copy html \u0026lt;!-- Search --\u0026gt; {{- if default true .Site.Params.BookSearch -}} \u0026lt;!-- Search Data --\u0026gt; {{- $searchData := resources.Get \u0026#34;search/data.json\u0026#34; | resources.ExecuteAsTemplate \u0026#34;search/data.json\u0026#34; . | resources.Minify | resources.Fingerprint }} \u0026lt;link rel=\u0026#34;preload\u0026#34; href=\u0026#34;{{ $searchData.RelPermalink }}\u0026#34; as=\u0026#34;fetch\u0026#34; crossorigin\u0026gt; \u0026lt;script\u0026gt; window.SEARCH_DATA_URL = \u0026#34;{{ $searchData.RelPermalink }}\u0026#34;; \u0026lt;/script\u0026gt; \u0026lt;!-- Search Fuse --\u0026gt; {{- $searchFuseJS := resources.Get \u0026#34;search/fuse.js\u0026#34; | resources.ExecuteAsTemplate \u0026#34;search/fuse.js\u0026#34; . | resources.Minify | resources.Fingerprint }} \u0026lt;script defer src=\u0026#34;{{ \u0026#34;fuse.min.js\u0026#34; | relURL }}\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script defer src=\u0026#34;{{ partial \u0026#34;docs/links/resource-precache\u0026#34; $searchFuseJS }}\u0026#34; {{ template \u0026#34;integrity\u0026#34; $searchFuseJS }}\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;!-- Search Input --\u0026gt; {{- $searchInputJS := resources.Get \u0026#34;search/input.js\u0026#34; | resources.ExecuteAsTemplate \u0026#34;search/input.js\u0026#34; . | resources.Minify | resources.Fingerprint }} \u0026lt;script defer src=\u0026#34;{{ partial \u0026#34;docs/links/resource-precache\u0026#34; $searchInputJS }}\u0026#34; {{ template \u0026#34;integrity\u0026#34; $searchInputJS }}\u0026gt;\u0026lt;/script\u0026gt; {{ end -}} menu.html Copy html \u0026lt;nav\u0026gt; {{ partial \u0026#34;docs/brand\u0026#34; . }} {{ partial \u0026#34;docs/search/input\u0026#34; . }} \u0026lt;!-- ... --\u0026gt; \u0026lt;/nav\u0026gt; ë¹ˆ ê²€ìƒ‰ í˜ì´ì§€ ìƒì„± # ê²€ìƒ‰ í˜ì´ì§€ëŠ” /search ê²½ë¡œë¡œ ì—°ê²°ë˜ëŠ”ë° Hugoì—ì„œ í•´ë‹¹ ê²½ë¡œë¥¼ ì¸ì‹ì‹œí‚¤ê¸° ìœ„í•´ ì½˜í…ì¸  íŒŒì¼ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.\ncontent/search/_index.md ê²½ë¡œì— íŒŒì¼ì„ ìƒì„±í•´ì¤ë‹ˆë‹¤.\nCopy yaml --- title: \u0026#34;Search\u0026#34; type: \u0026#34;search\u0026#34; --- íŒŒì¼ ë‚´ìš©ì€ ìœ„ì™€ ê°™ì´ front matterë§Œ ì…ë ¥í•´ì£¼ê³  ë³¸ë¬¸ì€ ë¹„ì›Œë†“ìœ¼ë©´ ë©ë‹ˆë‹¤. ì´ íŒŒì¼ì„ ìƒì„±í•œ ê²ƒìœ¼ë¡œ /search ê²½ë¡œë¥¼ ì¸ì‹í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ /search ê²½ë¡œì— ì ‘ì†í•˜ë©´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì€ ë¹ˆ í˜ì´ì§€ê°€ ë³´ì…ë‹ˆë‹¤.\nê²€ìƒ‰ í˜ì´ì§€ ì´ë™ ê¸°ëŠ¥ ì¶”ê°€ # ê²€ìƒ‰ì°½ì— ê²€ìƒ‰ì–´ê°€ ì…ë ¥ëœ ìƒíƒœì—ì„œ ê²€ìƒ‰ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” 3ê°€ì§€ ë°©ë²•ì„ ì •ë¦¬í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ë²„íŠ¼ì„ ë§ˆìš°ìŠ¤ í´ë¦­ ê²€ìƒ‰ì°½ì—ì„œ ì—”í„° í‚¤ë¥¼ ì…ë ¥ ê²€ìƒ‰ ê²°ê³¼ ë§¨ ì•„ë˜ ë”ë³´ê¸° ë§í¬ë¥¼ í´ë¦­ 1, 2ë²ˆ ë°©ë²•ì€ search-input.html í…œí”Œë¦¿ì—ì„œ êµ¬í˜„í•˜ê³  3ë²ˆ ë°©ë²•ì€ search-input.js ìŠ¤í¬ë¦½íŠ¸ì—ì„œ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\nCopy js function goToSearchPage() { const searchInput = document.getElementById(\u0026#39;book-search-input\u0026#39;); const query = searchInput.value.trim(); if (query) { window.location.href = \u0026#39;/search/?q=\u0026#39; + encodeURIComponent(query); } } goToSearchPage() í•¨ìˆ˜ëŠ” /search ê²½ë¡œë¡œ ì´ë™í•˜ë©´ì„œ, ê²€ìƒ‰ì°½ì— ì…ë ¥ëœ ê°’ì„ q íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ëŠ” ê¸°ëŠ¥ì„ í•©ë‹ˆë‹¤. ë§Œì•½ \u0026quot;Hugo\u0026quot; ë¼ëŠ” ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í–ˆë‹¤ë©´ \u0026lt;baseUrl\u0026gt;/search/?q=Hugo ì£¼ì†Œë¡œ ë§¤í•‘ë©ë‹ˆë‹¤.\ní•¨ìˆ˜ê°€ ê¸¸ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ í…œí”Œë¦¿ ìì²´ì— ë‚´ì¥ì‹œí‚¤ê² ìŠµë‹ˆë‹¤. search-input í…œí”Œë¦¿ì—ì„œ \u0026lt;script\u0026gt; ë‚´ë¶€ì— í•¨ìˆ˜ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/search-input.html --\u0026gt; \u0026lt;div class=\u0026#34;book-search hidden\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;search-input-container\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;book-search-input\u0026#34; placeholder=\u0026#34;{{ i18n \u0026#34;Search\u0026#34; }}\u0026#34; aria-label=\u0026#34;{{ i18n \u0026#34;Search\u0026#34; }}\u0026#34; maxlength=\u0026#34;64\u0026#34; data-hotkeys=\u0026#34;s/\u0026#34; onkeydown=\u0026#34;if(event.key===\u0026#39;Enter\u0026#39;) goToSearchPage()\u0026#34; /\u0026gt; \u0026lt;button type=\u0026#34;button\u0026#34; id=\u0026#34;book-search-button\u0026#34; class=\u0026#34;book-search-btn\u0026#34; onclick=\u0026#34;goToSearchPage()\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-magnifying-glass\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;book-search-spinner hidden\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;ul id=\u0026#34;book-search-results\u0026#34;\u0026gt;\u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script\u0026gt; document.querySelector(\u0026#34;.book-search\u0026#34;).classList.remove(\u0026#34;hidden\u0026#34;); // goToSearchPage() í•¨ìˆ˜ ì¶”ê°€ \u0026lt;/script\u0026gt; ê·¸ë¦¬ê³ , ê²€ìƒ‰ ë²„íŠ¼ì¸ \u0026lt;button\u0026gt; ìš”ì†Œì— onclick ì†ì„±ìœ¼ë¡œ goToSearchPage() í•¨ìˆ˜ë¥¼ ì—°ê²°ì‹œí‚¤ê³ , ê²€ìƒ‰ì°½ì¸ \u0026lt;input\u0026gt; ìš”ì†Œì—ë„ onkeydown ì†ì„±ìœ¼ë¡œ ì—”í„° í‚¤ë¥¼ ê°ì§€í•˜ì—¬ goToSearchPage() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë„ë¡ ì ìš©í–ˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ ê²€ìƒ‰ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” 1, 2ë²ˆ ë°©ë²•ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.\nCopy js // assets/search-input.js (function () { // ... function search() { // ... if (searchHits.length \u0026gt; 3) { const moreLink = element(\u0026#39;\u0026lt;li class=\u0026#34;book-search-more\u0026#34;\u0026gt;\u0026lt;a href\u0026gt;\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt;\u0026#39;); const a = moreLink.querySelector(\u0026#39;a\u0026#39;); a.href = \u0026#39;{{ \u0026#34;/search/\u0026#34; | relURL }}?q=\u0026#39; + encodeURIComponent(input.value); a.textContent = \u0026#39;ë”ë³´ê¸° (ì´ \u0026#39; + searchHits.length + \u0026#39;ê°œ)\u0026#39;; results.appendChild(moreLink); } } // ... })(); 3ë²ˆ ë°©ë²•ì¸ ë”ë³´ê¸° ë§í¬ëŠ” search-input.js ì—ì„œ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ë¯€ë¡œ, ë”ë³´ê¸° ë§í¬ì— í•´ë‹¹í•˜ëŠ” \u0026lt;a\u0026gt; ìš”ì†Œì— href ì†ì„±ì„ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.\n3ê°€ì§€ ë°©ë²• ëª¨ë‘ ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ë©´ /search ê²½ë¡œë¡œ ì—°ê²°ë©ë‹ˆë‹¤.\nê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ ë°©ì‹ êµ¬ìƒ # ê²€ìƒ‰ í˜ì´ì§€ì—ì„œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì•„ë˜ 2ê°€ì§€ë¥¼ ìƒê°í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nëª¨ë“  ê²Œì‹œê¸€ì— ëŒ€í•œ ìš”ì†Œë¥¼ ìƒì„±í•´ë‘ê³  ê²€ìƒ‰ ê²°ê³¼ì— ì—†ëŠ” ìš”ì†ŒëŠ” ìˆ¨ê¸°ê¸° ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë™ì ìœ¼ë¡œ ê²€ìƒ‰ ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” ìš”ì†Œë¥¼ ìƒì„±í•˜ê¸° ì²« ë²ˆì§¸ ë°©ì‹ì˜ ê²½ìš° ëª¨ë“  ê²Œì‹œê¸€ì— ëŒ€í•œ ìš”ì†Œë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ì´ˆê¸°ì— ë¡œë“œë˜ëŠ” DOM í¬ê¸°ê°€ ì»¤ì§„ë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°ì¸ Hugoì˜ íŠ¹ì„±ìƒ ê²€ìƒ‰ì„ ìœ„í•œ ê²Œì‹œê¸€ ì •ë³´ë„ ì •ì  íŒŒì¼ë¡œ ë§Œë“¤ì–´ë†“ê³  ë¶ˆëŸ¬ì™€ì•¼í•˜ê¸° ë•Œë¬¸ì— ë‘ ë²ˆì§¸ ë°©ì‹ê³¼ì˜ ì°¨ì´ê°€ í¬ì§€ ì•Šì„ê±°ë¼ ìƒê°í–ˆìŠµë‹ˆë‹¤.\níš¨ìœ¨ì„±ì„ ìƒê°í•˜ë©´ í•„ìš”í•œ í•­ëª©ë§Œ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ë‘ ë²ˆì§¸ ë°©ì‹ì´ ë” ë‚˜ì„ ìˆ˜ ìˆì§€ë§Œ, ë‘ ë²ˆì§¸ ë°©ì‹ì€ ê¸°ì¡´ì— ê²Œì‹œê¸€ í•­ëª©ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ë’€ë˜ post-item í…œí”Œë¦¿ì„ í™œìš©í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í…œí”Œë¦¿ì˜ ê¸°ëŠ¥ì„ ë‹¤ì‹œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.\në‹¨ìˆœíˆ ë¶ˆí¸í•¨ë§Œ ë”°ì§„ë‹¤ë©´ ì•„ì§ê¹Œì§€ ì—¬ì „íˆ íš¨ìœ¨ì´ ì¢‹ì€ ë‘ ë²ˆì§¸ ë°©ì‹ì„ ì„ íƒí•˜ê³  ì‹¶ì§€ë§Œ, í–¥í›„ post-item í…œí”Œë¦¿ì´ ë³€ê²½ë  ê²½ìš° ìë°”ìŠ¤í¬ë¦½íŠ¸ë„ ë™ì¼í•˜ê²Œ ë³€ê²½í•´ì¤˜ì•¼ í•˜ëŠ” ì¢…ì†ì ì¸ ê´€ê³„ê°€ ë˜ì–´ë²„ë ¤ ìì¹«í•˜ë©´ ì¼ê´€ì„±ì„ ìƒì–´ë²„ë¦´ ìˆ˜ ìˆì„ ë¬¸ì œê°€ ìˆì–´ ì²« ë²ˆì§¸ ë°©ì‹ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤. í‘œë¡œ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\ní•­ëª© ë°©ì‹ 1 ë°©ì‹ 2 êµ¬í˜„ ë°©ì‹ ëª¨ë“  ê²Œì‹œê¸€ì„ ë‚˜ì—´í•˜ê³  ê²€ìƒ‰ë˜ì§€ ì•Šì€ ê²Œì‹œê¸€ì€ ìˆ¨ê¸°ê¸° ê²€ìƒ‰ëœ ê²Œì‹œê¸€ë§Œ ë™ì ìœ¼ë¡œ ìƒì„± êµ¬í˜„ ë³µì¡ë„ âœ… ë‚®ìŒ (í…œí”Œë¦¿ ì¬ì‚¬ìš© ê°€ëŠ¥) âŒ ë†’ìŒ (í…œí”Œë¦¿ ì¬êµ¬í˜„ í•„ìš”) ì´ˆê¸° ë¡œë“œ í¬ê¸° âŒ ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•œ post-item ìš”ì†Œ âœ… ëª¨ë“  í˜ì´ì§€ì˜ ì†ì„±ë§Œ ì¶”ì¶œí•œ data.json í…œí”Œë¦¿ ì¼ê´€ì„± âœ… ë†’ìŒ (í…œí”Œë¦¿ì˜ ë³€ê²½ì‚¬í•­ë§Œ ê³ ë ¤í•˜ë©´ ë¨) âŒ ë‚®ìŒ (í…œí”Œë¦¿ ë³€ê²½ì‚¬í•­ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ë„ ë°˜ì˜) ë§Œì•½ ë°©ì‹ 2ë¥¼ ì‚¬ìš©í•  ê²½ìš° data.json ì„ ì´ë ‡ê²Œ êµ¬ì„±í•´ì•¼ í•©ë‹ˆë‹¤. data.json ì—ëŠ” post-item í…œí”Œë¦¿ì„ êµ¬ì„±í•˜ëŠ” ëª¨ë“  ì†ì„± ê°’ë“¤ì´ í¬í•¨ë©ë‹ˆë‹¤.\nCopy json [ {{- $pages := where .Site.Pages \u0026#34;Kind\u0026#34; \u0026#34;in\u0026#34; (slice \u0026#34;page\u0026#34; \u0026#34;section\u0026#34;) -}} {{- $pages = where $pages \u0026#34;Params.bookSearchExclude\u0026#34; \u0026#34;!=\u0026#34; true -}} {{- $pages = where $pages \u0026#34;Content\u0026#34; \u0026#34;!=\u0026#34; \u0026#34;\u0026#34; -}} {{ range $index, $page := $pages }} {{ if gt $index 0}},{{end }} { \u0026#34;id\u0026#34;: {{ $index }}, \u0026#34;href\u0026#34;: \u0026#34;{{ $page.RelPermalink }}\u0026#34;, \u0026#34;title\u0026#34;: {{ (partial \u0026#34;docs/title\u0026#34; $page) | jsonify }}, \u0026#34;section\u0026#34;: {{ (partial \u0026#34;docs/title\u0026#34; $page.Parent) | jsonify }}, \u0026#34;content\u0026#34;: {{ $page.Plain | jsonify }}, \u0026#34;date\u0026#34;: \u0026#34;{{ $page.Date.Format \u0026#34;2006-01-02\u0026#34; }}\u0026#34;, \u0026#34;parentCategory\u0026#34;: {{ (partial \u0026#34;categories/value-first\u0026#34; $page.Params.categories) | jsonify }}, \u0026#34;childCategory\u0026#34;: {{ (partial \u0026#34;categories/value-second\u0026#34; $page.Params.categories) | jsonify }}, \u0026#34;tags\u0026#34;: {{ (first 5 ($page.Params.tags | default slice)) | jsonify }}, \u0026#34;thumbnail\u0026#34;: {{ $page.Params.thumbnail | jsonify }}, \u0026#34;cover\u0026#34;: {{ $page.Params.cover | jsonify }} } {{- end -}} ] ê²€ìƒ‰ í˜ì´ì§€ í…œí”Œë¦¿ ì¶”ê°€ # ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ ë°©ì‹ 1ì„ ì„ íƒí–ˆìœ¼ë¯€ë¡œ ëª¨ë“  ê²Œì‹œê¸€ì„ ë‚˜ì—´í•˜ê¸° ìœ„í•œ ê²€ìƒ‰ í˜ì´ì§€ í…œí”Œë¦¿ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.\nê²€ìƒ‰ í˜ì´ì§€ë¡œ ì—°ê²°ë˜ëŠ” /search ê²½ë¡œì™€ ëŒ€ì‘ë˜ëŠ” í…œí”Œë¦¿ ìœ„ì¹˜ëŠ” layouts/search/list.html ì¸ë°, ì—¬ê¸°ì— ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ì‘ì„±í•©ë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/search/list.html --\u0026gt; {{ define \u0026#34;main\u0026#34; }} \u0026lt;article class=\u0026#34;markdown book-article\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;search-header\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;ê²€ìƒ‰ ê²°ê³¼\u0026lt;/h1\u0026gt; \u0026lt;div class=\u0026#34;search-query-info\u0026#34;\u0026gt; \u0026lt;p id=\u0026#34;search-query-display\u0026#34;\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div id=\u0026#34;search-no-results\u0026#34; class=\u0026#34;search-no-results hidden\u0026#34;\u0026gt; \u0026lt;p\u0026gt;ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;search-base\u0026#34; style=\u0026#34;display: none;\u0026#34;\u0026gt; {{- $pages := where .Site.RegularPages \u0026#34;Params.bookSearchExclude\u0026#34; \u0026#34;!=\u0026#34; true -}} {{- range $pages.ByDate.Reverse -}} {{ partial \u0026#34;docs/post-item.html\u0026#34; . }} {{- end -}} \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;post-list search-results\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div id=\u0026#34;search-pagination\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/article\u0026gt; {{ end }} CSS Copy scss // assets/_main.scss .search-header { margin-bottom: $padding-16; h1 { font-size: $font-size-40; margin-bottom: $padding-8; } .search-query-info { p { font-size: $font-size-18; } } } .search-no-results { text-align: center; padding: $padding-24; p { font-size: $font-size-20; } } post-item í…œí”Œë¦¿ì„ í™œìš©í•˜ì—¬ ëª¨ë“  ê²Œì‹œê¸€ë“¤ì„ ë‚˜ì—´í•˜ëŠ” ê²ƒ ì™¸ì— ì§ì ‘ì ì¸ ê²€ìƒ‰ ê¸°ëŠ¥ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ êµ¬í˜„ë©ë‹ˆë‹¤. ExampleSiteëŠ” í˜„ì¬ ë¸”ë¡œê·¸ì™€ êµ¬ì¡°ê°€ ë‹¬ë¼ì„œ ê²Œì‹œê¸€, Taxonomy í˜ì´ì§€ êµ¬ë¶„ ì—†ì´ ëª¨ë“  í˜ì´ì§€ë¥¼ ê°€ì ¸ì™”ëŠ”ë°, íŠ¹ì • ì„¹ì…˜ì— ì†í•˜ëŠ” ê²Œì‹œê¸€ë§Œ ë³´ì—¬ì£¼ê³  ì‹¶ìœ¼ë©´ ì´ë ‡ê²Œ í•„í„°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n$pages := where .Site.RegularPages \u0026quot;Section\u0026quot; \u0026quot;posts\u0026quot; ê²€ìƒ‰ ê²°ê³¼ëŠ” .search-results ì˜ì—­ì— í‘œì‹œë˜ê³ , ë§Œì•½ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ë‹¤ë©´ #search-no-results ì˜ì—­ì´ ë‚˜íƒ€ë‚  ê²ƒì…ë‹ˆë‹¤.\nê²€ìƒ‰ ë° ê²°ê³¼ í‘œì‹œ ê¸°ëŠ¥ ì¶”ê°€ # ë§ˆì§€ë§‰ìœ¼ë¡œ, ê²€ìƒ‰ í˜ì´ì§€ì˜ í•µì‹¬ ê¸°ëŠ¥ì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤.\níŒŒì¼ëª…ì€ ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ search/list.html í…œí”Œë¦¿ ëª…ì¹­ê³¼ ë§ì¶°ì„œ search/list.js ë¡œ í•˜ê² ìŠµë‹ˆë‹¤.\níŒŒë¼ë¯¸í„° ì´ˆê¸°í™” ë° ì¸ë±ìŠ¤ ìƒì„± # ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì²˜ìŒì—ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤.\nê²€ìƒ‰ í‚¤ì›Œë“œëŠ” q, í˜ì´ì§€ëŠ” page ì— ëŒ€ì‘ë˜ë©° ê°ê° query, currentPage ìƒìˆ˜ì— í• ë‹¹ë©ë‹ˆë‹¤.\nCopy js // assets/search/list.js document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { const urlParams = new URLSearchParams(window.location.search); const query = urlParams.get(\u0026#39;q\u0026#39;) || \u0026#39;\u0026#39;; const currentPage = parseInt(urlParams.get(\u0026#39;page\u0026#39;)) || 1; const itemsPerPage = 10; window.bookSearch.initIndex() .then(() =\u0026gt; { initSearch(); performSearch(); }); function initSearch() { const displayElement = document.getElementById(\u0026#39;search-query-display\u0026#39;); if (query) { displayElement.innerHTML = `\u0026#34;${query}\u0026#34; ê²€ìƒ‰ ê²°ê³¼ \u0026lt;em class=\u0026#34;list-count\u0026#34; id=\u0026#34;search-count\u0026#34;\u0026gt;0\u0026lt;/em\u0026gt;`; } else { displayElement.textContent = \u0026#39;ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.\u0026#39;; } } // ... }); íŒŒë¼ë¯¸í„°ë¥¼ ì´ˆê¸°í™”í•œ í›„ window.bookSearch.initIndex() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì•ì—ì„œ ê²€ìƒ‰ ê¸°ëŠ¥ íŒŒì¼ êµ¬ì¡°ë¥¼ ì¬ì„¤ê³„í•˜ëŠ” ê³¼ì •ì—ì„œ Fuse ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì „ì—­ í•¨ìˆ˜ initIndex() ë¥¼ ë¯¸ë¦¬ ì •ì˜í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ë§ˆì°¬ê°€ì§€ë¡œ ì „ì—­ ìœ„ì¹˜ì— ì¸ë±ìŠ¤ê°€ ìƒì„±ë˜ê³  window.bookSearchIndex ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ ì¸ë±ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì¸ë±ìŠ¤ê°€ ìƒì„±ë˜ë©´ ì´ì–´ì„œ initSearch() \u0026gt;\u0026gt; performSearch() ìˆœì„œë¡œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.\ninitSearch() í•¨ìˆ˜ëŠ” ê°„ë‹¨í•˜ì—¬ ê°™ì´ ì„¤ëª…í•©ë‹ˆë‹¤. ê²€ìƒ‰ ì¿¼ë¦¬ê°€ ìˆì„ ê²½ìš°, ê²€ìƒ‰ ê²°ê³¼ê°€ ëª‡ ê°œ ìˆëŠ”ì§€ í‘œì‹œí•˜ëŠ” .list-count ìš”ì†Œë¥¼ í¬í•¨í•œ ë¬¸ì¥ì„ .search-query-display ì˜ì—­ ë‚´ì— ì‚½ì…í•©ë‹ˆë‹¤. ë§Œì•½ ê²€ìƒ‰ ì¿¼ë¦¬ê°€ ì—†ìœ¼ë©´ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ë‹¬ë¼ëŠ” ì•ˆë‚´ ë¬¸êµ¬ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.\nê²€ìƒ‰ ìˆ˜í–‰ ë° ê²°ê³¼ í•„í„°ë§ # performSearch() í•¨ìˆ˜ëŠ” ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ê³  ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì„ í•©ë‹ˆë‹¤. í•¨ìˆ˜ì˜ ë‚´ìš©ì´ í•œ í™”ë©´ì— ë“¤ì–´ì˜¤ì§€ ì•Šì•„ ì„¤ëª…ì€ ì£¼ì„ìœ¼ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.\nCopy js document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { // ... function performSearch() { const sourceContainer = document.querySelector(\u0026#39;.search-base\u0026#39;); const resultsContainer = document.querySelector(\u0026#39;.search-results\u0026#39;); const allPostItems = Array.from(sourceContainer.querySelectorAll(\u0026#39;.post-item\u0026#39;)); if (!query) { document.getElementById(\u0026#39;search-no-results\u0026#39;).classList.remove(\u0026#39;hidden\u0026#39;); document.getElementById(\u0026#39;search-pagination\u0026#39;).style.display = \u0026#39;none\u0026#39;; return; } // Fuse ê²€ìƒ‰ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œ ê²€ìƒ‰ ìˆ˜í–‰ const searchHits = window.bookSearchIndex.search(query); if (searchHits.length === 0) { document.getElementById(\u0026#39;search-no-results\u0026#39;).classList.remove(\u0026#39;hidden\u0026#39;); document.getElementById(\u0026#39;search-count\u0026#39;).textContent = \u0026#39;0\u0026#39;; document.getElementById(\u0026#39;search-pagination\u0026#39;).style.display = \u0026#39;none\u0026#39;; return; } // ê²€ìƒ‰ ê²°ê³¼ì™€ ëŒ€ì‘ë˜ëŠ” DOM ìš”ì†Œë¥¼ ì°¾ê¸° (href ì†ì„±ì´ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸) const matchedItems = []; searchHits.forEach((result) =\u0026gt; { const href = result.item.href; const matchedItem = allPostItems.find(item =\u0026gt; { const link = item.querySelector(\u0026#39;.post-title a\u0026#39;); return link \u0026amp;\u0026amp; link.getAttribute(\u0026#39;href\u0026#39;) === href; }); if (matchedItem) { matchedItems.push(matchedItem.cloneNode(true)); } }); // í˜ì´ì§€ë„¤ì´ì…˜ ìƒì„±ì„ ìœ„í•œ ì¸ë±ìŠ¤ ê³„ì‚° const totalPages = Math.ceil(matchedItems.length / itemsPerPage); const startIndex = (currentPage - 1) * itemsPerPage; const endIndex = Math.min(startIndex + itemsPerPage, matchedItems.length); // í˜„ì¬ í˜ì´ì§€ì˜ ê²Œì‹œê¸€ì„ ê°€ìƒ DOM ì»¨í…Œì´ë„ˆì— ì¶”ê°€í•˜ê³  ì‹¤ì œ DOMì— ì—…ë°ì´íŠ¸ const fragment = document.createDocumentFragment(); for (let i = startIndex; i \u0026lt; endIndex; i++) { fragment.appendChild(matchedItems[i]); } resultsContainer.innerHTML = \u0026#39;\u0026#39;; resultsContainer.appendChild(fragment); // ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ë¥¼ ì—…ë°ì´íŠ¸ document.getElementById(\u0026#39;search-count\u0026#39;).textContent = matchedItems.length; buildPagination(currentPage, totalPages, query); } // ... }); ê²€ìƒ‰ í˜ì´ì§€ í…œí”Œë¦¿ì—ì„œ ëª¨ë“  ê²Œì‹œê¸€ì„ ë‚˜ì—´í•˜ëŠ” .search-base ì˜ì—­ê³¼ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” .search-results ì˜ì—­ì´ ë”°ë¡œ êµ¬ë¶„ëœ ì´ìœ ê°€ ì´ í•¨ìˆ˜ì˜ ë™ì‘ìœ¼ë¡œ ì„¤ëª…ë©ë‹ˆë‹¤.\nê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ì²˜ìŒì—ëŠ” ëª¨ë“  ê²Œì‹œê¸€ì˜ ìŠ¤íƒ€ì¼ì— display = 'none'; ì†ì„±ì„ ë„£ì–´ì„œ ì „ì²´ ê²Œì‹œê¸€ì„ ìˆ¨ê¸°ê³  ê²€ìƒ‰ ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” ê²Œì‹œê¸€ì—ë§Œ display = 'block'; ì†ì„±ì„ ë®ì–´ì”Œì›Œ ìˆ¨ê¹€ì„ í•´ì œí–ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ, ì´ ë°©ì‹ì˜ ë‹¨ì ì€ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ìœ ì‚¬ë„ ìˆœìœ¼ë¡œ í‘œì‹œí•˜ì§€ ëª»í•˜ê³  ë¬´ì¡°ê±´ ì²˜ìŒ í˜ì´ì§€ê°€ ë‚˜ì—´ëœ ê¸°ì¤€ì¸ ì‘ì„±ì¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ ì •ë¦¬í•˜ê³ ë³´ë‹ˆ ì •ë ¬ ê¸°ì¤€ì„ ë°”ê¾¸ëŠ” ê¸°ëŠ¥ë„ ì¶”ê°€í•˜ë©´ ì¢‹ê² ë‹¤ ìƒê°í•˜ì§€ë§Œ, ì–´ì¨‹ë“  ìœ ì‚¬ë„ ìˆœìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ”ê²Œ ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” ë” ê²€ìƒ‰ ê²°ê³¼ì— ëŒ€í•œ í¥ë¯¸ë¥¼ ëŒ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ ë‹¤ë¥¸ ë°©ì‹ì„ ìƒê°í–ˆìŠµë‹ˆë‹¤.\nìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‚¬ì´íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ”ë° ìµìˆ™í•˜ì§€ ì•Šë‹¤ë³´ë‹ˆ ì½”íŒŒì¼ëŸ¿ì˜ ë„ì›€ì„ ë°›ì•˜ëŠ”ë°, ê°€ì¥ ë§¤ë ¥ì ì¸ ë°©ì‹ì´ DocumentFragment ë¼ëŠ” ê°€ìƒì˜ DOM ì»¨í…Œì´ë„ˆë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.\në§¤ë²ˆ ê²€ìƒ‰í•  ë•Œë§ˆë‹¤ ê²Œì‹œê¸€ ìš”ì†Œë¥¼ ì¬ë°°ì¹˜í•˜ê¸° ìœ„í•´ ë°˜ë³µë¬¸ìœ¼ë¡œ DOMì„ ì¡°ì‘í•˜ëŠ”ê±´ ë§¤ìš° í° ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨ì¼ ìš”ì†Œë¥¼ ë°”ê¾¸ê¸° ìœ„í•´ ë§¤ë²ˆ DOM ì „ì²´ë¥¼ ì—…ë°ì´íŠ¸ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê²ƒì´ DocumentFragment ì…ë‹ˆë‹¤. ë©”ëª¨ë¦¬ì— ì¡´ì¬í•˜ëŠ” ê°€ìƒì˜ DOM ì»¨í…Œì´ë„ˆì— ê²€ìƒ‰ ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” post-item ìš”ì†Œë“¤ì„ ë‹´ì•„ë†“ê³  ë°˜ë³µë¬¸ì´ ëë‚œ ì‹œì ì— ì‹¤ì œ DOMì— ìˆëŠ” .search-results ì˜ì—­ì— ìš”ì†Œë“¤ì˜ ë­‰ì¹˜ë¥¼ ì¶”ê°€í•˜ë©´ ë‹¨ í•œë²ˆì˜ DOM ì—…ë°ì´íŠ¸ë§Œìœ¼ë¡œ ëª¨ë“  ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì•„ë˜ ê·¸ë˜í”„ë¡œ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy text [ë©”ëª¨ë¦¬] [ì‹¤ì œ DOM] â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ DocumentFragment â”‚ â”‚ .search-results â”‚ â”‚ â”œâ”€ post-item 1 â”‚ â”‚ â”œâ”€ post-item 1 â”‚ â”‚ â”œâ”€ post-item 2 â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ â”œâ”€ post-item 2 â”‚ â”‚ â””â”€ post-item 3 â”‚ appendChild â”‚ â””â”€ post-item 3 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ performSearch() í•¨ìˆ˜ì—ì„œëŠ” ê²€ìƒ‰ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ ì´ í˜ì´ì§€ ìˆ˜, ì‹œì‘ í˜ì´ì§€, ì¢…ë£Œ í˜ì´ì§€ë¥¼ ê³„ì‚°í•˜ëŠ”ë°, ì´ ê°’ë“¤ì€ ê³§ë°”ë¡œ ë‹¤ìŒ buildPagination() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ì„œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.\ní˜ì´ì§€ë„¤ì´ì…˜ ë™ì  ìƒì„± # í˜ì´ì§€ë„¤ì´ì…˜ ìƒì„± í•¨ìˆ˜ buildPagination() ì˜ ë‚´ìš©ì€ ê¸¸ê¸´ í•˜ì§€ë§Œ í˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ì¸ pagination ì˜ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬í˜„í•œ ê²ƒ ë¿ì…ë‹ˆë‹¤.\ní˜ì´ì§€ë„¤ì´ì…˜ ë˜í•œ post-item ì²˜ëŸ¼ paginaiton í…œí”Œë¦¿ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆì§€ë§Œ, ë‹¨ìˆœ ì¬ë°°ì¹˜ë§Œ í•˜ë©´ ë˜ëŠ” post-item ê³¼ ë‹¤ë¥´ê²Œ í˜ì´ì§€ë„¤ì´ì…˜ì€ ë§í¬ë‚˜ í˜ì´ì§€ ë²ˆí˜¸ ë“± ëª¨ë“  ìš”ì†Œì˜ í…ìŠ¤íŠ¸ê¹Œì§€ ì‹¹ ë°”ê¿”ì•¼í•˜ë‹¤ë³´ë‹ˆ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ëŠ” ì˜ë¯¸ê°€ ì—†ì–´ ì™„ì „íˆ ë™ì ìœ¼ë¡œ ìƒì„±í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nCopy js document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { // ... /** * @param {number} currentPage - í˜„ì¬ í˜ì´ì§€ (1ë¶€í„° ì‹œì‘) * @param {number} totalPages - ì´ í˜ì´ì§€ ìˆ˜ * @param {string} query - ê²€ìƒ‰ ì¿¼ë¦¬ */ function buildPagination(currentPage, totalPages, query) { const paginationContainer = document.getElementById(\u0026#39;search-pagination\u0026#39;); if (totalPages \u0026lt;= 1) { paginationContainer.style.display = \u0026#39;none\u0026#39;; return; } paginationContainer.style.display = \u0026#39;block\u0026#39;; const createPageUrl = (page) =\u0026gt; { return `/search/?q=${encodeURIComponent(query)}${page \u0026gt; 1 ? \u0026#39;\u0026amp;page=\u0026#39; + page : \u0026#39;\u0026#39;}#pagination-anchor`; }; // 10ê°œ ê²Œì‹œê¸€ ë‹¨ìœ„ë¡œ í˜ì´ì§€ë¥¼ ê·¸ë£¹í™” const groupNumber = Math.floor((currentPage - 1) / 10); const groupStart = groupNumber * 10 + 1; let groupEnd = groupStart + 9; if (groupEnd \u0026gt; totalPages) { groupEnd = totalPages; } // ì´ì „ ë° ë‹¤ìŒ í˜ì´ì§€ ê·¸ë£¹ì„ ê³„ì‚° const prevGroupPage = groupStart - 10; const nextGroupPage = groupEnd + 1; // ì´ì „ í˜ì´ì§€ ê·¸ë£¹ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ const prevButtonHTML = groupStart \u0026gt; 1 ? `\u0026lt;a href=\u0026#34;${createPageUrl(prevGroupPage \u0026gt; 1 ? prevGroupPage : 1)}\u0026#34; class=\u0026#34;pagination-nav pagination-link\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-backward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; ì´ì „ \u0026lt;/a\u0026gt;` : `\u0026lt;span class=\u0026#34;pagination-nav disabled\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-backward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; ì´ì „ \u0026lt;/span\u0026gt;`; // í˜„ì¬ í˜ì´ì§€ ê·¸ë£¹ì— ì†í•œ ê°ê°ì˜ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë§í¬ let pagesHTML = \u0026#39;\u0026#39;; for (let i = groupStart; i \u0026lt;= groupEnd; i++) { if (i === currentPage) { pagesHTML += `\u0026lt;span class=\u0026#34;pagination-page current\u0026#34; id=\u0026#34;current-page\u0026#34;\u0026gt;${i}\u0026lt;/span\u0026gt;`; } else { pagesHTML += `\u0026lt;a href=\u0026#34;${createPageUrl(i)}\u0026#34; class=\u0026#34;pagination-page pagination-link\u0026#34;\u0026gt;${i}\u0026lt;/a\u0026gt;`; } } // ë‹¤ìŒ í˜ì´ì§€ ê·¸ë£¹ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ const nextButtonHTML = nextGroupPage \u0026lt;= totalPages ? `\u0026lt;a href=\u0026#34;${createPageUrl(nextGroupPage)}\u0026#34; class=\u0026#34;pagination-nav pagination-link\u0026#34;\u0026gt; ë‹¤ìŒ \u0026lt;i class=\u0026#34;fa-solid fa-forward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt;` : `\u0026lt;span class=\u0026#34;pagination-nav disabled\u0026#34;\u0026gt; ë‹¤ìŒ \u0026lt;i class=\u0026#34;fa-solid fa-forward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/span\u0026gt;`; // í˜ì´ì§€ë„¤ì´ì…˜ì„ `#search-pagination` ì˜ì—­ì— ì—…ë°ì´íŠ¸ paginationContainer.innerHTML = ` \u0026lt;div id=\u0026#34;pagination-anchor\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;nav class=\u0026#34;pagination\u0026#34;\u0026gt; ${prevButtonHTML} \u0026lt;div class=\u0026#34;pagination-pages\u0026#34;\u0026gt; ${pagesHTML} \u0026lt;/div\u0026gt; ${nextButtonHTML} \u0026lt;/nav\u0026gt;`; } }); ì—¬ê¸°ê¹Œì§€ ì ìš©í•˜ê³  ë¸”ë¡œê·¸ì—ì„œ ê²€ìƒ‰ì„ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì€ ê²€ìƒ‰ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ í˜ì´ì§€ì™€ ê´€ë ¨ëœ ëª¨ë“  êµ¬í˜„ ê³¼ì •ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\në‹¤ìŒ ê²Œì‹œê¸€ì—ì„œëŠ” ë³¸ë¬¸ì˜ ë ˆì´ì•„ì›ƒì„ ê°œì„ í•˜ëŠ” ê³¼ì •ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.\n"},{"id":1,"href":"/blog/hugo-blog-3/","title":"Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° (3) - Taxonomiesë¡œ íƒœê·¸/ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•","content":" ëŒ€ìƒ ë…ì\në§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì€ ë¶„ë“¤ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŠ¥ì ìœ¼ë¡œ ë˜ëŠ” ì‹œê°ì ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê³  ì‹¶ì€ ë¶„ë“¤ Hugoì—ì„œ ì§€ì›í•˜ëŠ” taxonomies ê¸°ëŠ¥ì„ í™œìš©í•œ ì‚¬ë¡€ë¥¼ ì°¾ê³  ìˆëŠ” ë¶„ë“¤ ë¸”ë¡œê·¸ì— 2ë‹¨ê³„ ì¹´í…Œê³ ë¦¬ë¥¼ êµ¬í˜„í•˜ê³  ì‹¶ì€ ë¶„ë“¤ HTML/CSSë¥¼ ì´ìš©í•œ ë‹¨ì¼ ì›¹ í˜ì´ì§€ êµ¬ì„±ì— ìµìˆ™í•˜ì‹  ë¶„ë“¤ ì£¼ìš” ë‚´ìš©\nHugoì˜ taxonomies ê¸°ëŠ¥ê³¼ êµ¬ì„± ìš”ì†Œ ì´í•´ (Taxonomies) ê²Œì‹œê¸€ ëª©ë¡ê³¼ í˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ êµ¬í˜„ (ê²Œì‹œê¸€ ëª©ë¡ í…œí”Œë¦¿ ì¶”ê°€ / í˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ ì¶”ê°€) íƒœê·¸ í˜ì´ì§€ ì¶”ê°€ ë° terms í…œí”Œë¦¿ ì‘ì„± (íƒœê·¸ í˜ì´ì§€ ì¶”ê°€) 2ë‹¨ê³„ ì¹´í…Œê³ ë¦¬ êµ¬ì¡° ì„¤ê³„ ë° ë¶€ëª¨-ìì‹ ì¹´í…Œê³ ë¦¬ í…œí”Œë¦¿ êµ¬í˜„ (ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ì¶”ê°€) ë©”ë‰´ ì˜ì—­ì— ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ í†µí•© ë° ê²Œì‹œê¸€ ì¹´ìš´íŒ… (ë©”ë‰´ì— ì¹´í…Œê³ ë¦¬ ì¶”ê°€) ì•ì„  ê²Œì‹œê¸€ì—ì„œ Book í…Œë§ˆì˜ ë©”ì¸ ë ˆì´ì•„ì›ƒì¸ ë©”ë‰´, ëª©ì°¨, í—¤ë”ë¥¼ ê°œì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\nì•ì—ì„œì˜ ê³¼ì •ì„ ê±°ì³¤ë‹¤ë©´ í”„ë¡œí•„ ì‚¬ì§„, ì†Œì…œ ë§í¬, ìŠ¤í¬ë¡¤ ì´ë™ ë²„íŠ¼ ë“±ì´ ë¸”ë¡œê·¸ì— ì¶”ê°€ë˜ì—ˆì„ ê²ƒì…ë‹ˆë‹¤.\nì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” Hugoì˜ taxonomies ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì¹´í…Œê³ ë¦¬ì™€ íƒœê·¸ë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\nTaxonomies # HugoëŠ” taxonomies ë¼ê³  í•˜ëŠ” ì½˜í…ì¸  ê·¸ë£¹í™” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. í•´ë‹¹ ê¸°ëŠ¥ì€ ê²Œì‹œê¸€ê³¼ ê°™ì€ ì½˜í…ì¸ ë¥¼ ì‚¬ìš©ìê°€ ì§ì ‘ ì •ì˜í•˜ì—¬ ë¶„ë¥˜í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ëŒ€í‘œì ìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ì™€ íƒœê·¸ê°€ ìˆìŠµë‹ˆë‹¤.\nTaxonomies Hugo includes support for user-defined taxonomies. gohugo.io Taxonomy êµ¬ì„± ìš”ì†Œ # Hugoì—ì„œ TaxonomyëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ ìš”ì†Œë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\nTaxonomy: ì½˜í…ì¸ ë¥¼ ë¶„ë¥˜í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¹´í…Œê³ ë¦¬ ì²´ê³„ (ì˜ˆ: tags, categories) Term: Taxonomy ë‚´ì˜ ê°œë³„ í•­ëª© (ì˜ˆ: Hugo, Blog, Frontend) Value: Termì— í• ë‹¹ëœ ì½˜í…ì¸  (ì˜ˆ: íŠ¹ì • íƒœê·¸ê°€ ì§€ì •ëœ ê²Œì‹œê¸€) ì˜ˆë¥¼ ë“¤ì–´, ì´ ë¸”ë¡œê·¸ì˜ í˜„ì¬ ê²Œì‹œê¸€ì€ ë‹¤ìŒê³¼ ê°™ì€ taxonomiesë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\nCopy yaml categories: [\u0026#34;Frontend\u0026#34;, \u0026#34;Blog\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;íƒœê·¸\u0026#34;, \u0026#34;ì¹´í…Œê³ ë¦¬\u0026#34;] ì—¬ê¸°ì„œ categoriesì™€ tagsëŠ” Taxonomyì´ê³ , Frontend, Blog, Hugo ë“±ì€ Termì…ë‹ˆë‹¤.\nê·¸ë¦¬ê³  ì´ ê²Œì‹œê¸€ ìì²´ê°€ ì´ëŸ¬í•œ Termë“¤ì˜ Valueê°€ ë©ë‹ˆë‹¤.\nTaxonomy í• ë‹¹ ë°©ë²• # HugoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ categories ì™€ tags ë‘ ê°€ì§€ taxonomyë¥¼ ì œê³µí•©ë‹ˆë‹¤.\nê²Œì‹œê¸€ì˜ front matter ì— íƒœê·¸ë‚˜ ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•˜ë©´, HugoëŠ” ìë™ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ í˜ì´ì§€ë“¤ì„ ìƒì„±í•©ë‹ˆë‹¤.\n(front matterì— ëŒ€í•´ì„œëŠ” ë”°ë¡œ ì„¤ëª…í•˜ì§€ ì•Šì•˜ëŠ”ë°, ê²Œì‹œê¸€ì˜ ìµœìƒë‹¨ì— YAML, TOML ë“± í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•˜ëŠ” ë©”íƒ€ë°ì´í„° ì…ë‹ˆë‹¤.)\nëª¨ë“  íƒœê·¸/ì¹´í…Œê³ ë¦¬ë¥¼ ë‚˜ì—´í•˜ëŠ” ëª©ë¡ í˜ì´ì§€ (ì˜ˆ: /categories/, /tags/) ê° íƒœê·¸/ì¹´í…Œê³ ë¦¬ë³„ ê²Œì‹œê¸€ ëª©ë¡ í˜ì´ì§€ (ì˜ˆ: /categories/blog/, /tags/hugo/) ì‹¤ì œë¡œ Hugo ì •ì  ì›¹í˜ì´ì§€ë¥¼ ë§Œë“¤ë©´ ì•„ë˜ì™€ ê°™ì€ ê²½ë¡œë“¤ì´ ìƒì„±ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash public/ â”œâ”€â”€ asciinema/ â”œâ”€â”€ categories/ â”œâ”€â”€ docs/ â”œâ”€â”€ icons/ â”œâ”€â”€ katex/ â”œâ”€â”€ posts/ â”œâ”€â”€ showcases/ â””â”€â”€ tags/ ì—¬ê¸°ì„œ categories/ ì™€ tags/ ê²½ë¡œê°€ taxonomy.html ë° terms.html í…œí”Œë¦¿ì— ì˜í•´ ë§Œë“¤ì–´ì§„ ê²°ê³¼ì…ë‹ˆë‹¤.\n(Book í…Œë§ˆì—ì„œëŠ” ë‘ ê²½ë¡œì— ëŒ€í•œ ë ˆì´ì•„ì›ƒì„ ë§Œë“¤ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ í•´ë‹¹ í˜ì´ì§€ì˜ ë‚´ìš©ì€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.)\nHugoì—ì„œ ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ ì œê³µí•´ì¤€ë‹¤ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ë„ ë˜ì§€ ì•Šì„ê¹Œ ì‹¶ì§€ë§Œ, ì•ˆíƒ€ê¹ê²Œë„ HugoëŠ” ì¹´í…Œê³ ë¦¬ì™€ íƒœê·¸ë¥¼ 1ì°¨ì›ì ìœ¼ë¡œë°–ì— ì¸ì‹í•˜ì§€ ëª»í•©ë‹ˆë‹¤. íƒœê·¸ëŠ” ë‹¨ìˆœíˆ 1ì°¨ì› ë°°ì—´ë¡œ ë´ë„ ê´œì°®ì§€ë§Œ, ì¹´í…Œê³ ë¦¬ëŠ” ìµœì†Œ 2ë‹¨ê³„ ì´ìƒì˜ ê¹Šì´ê°€ ìˆëŠ” êµ¬ì¡°ë¥¼ ì§€í–¥í•˜ë¯€ë¡œ ì§ì ‘ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\nê²Œì‹œê¸€ ëª©ë¡ í…œí”Œë¦¿ ì¶”ê°€ # ì¹´í…Œê³ ë¦¬ì™€ íƒœê·¸ í˜ì´ì§€ëŠ” ë‘ ì¢…ë¥˜ë¡œ ë‚˜ëˆ ì§‘ë‹ˆë‹¤. í•˜ë‚˜ëŠ” ì „ì²´ ì¹´í…Œê³ ë¦¬ ë° íƒœê·¸ ëª©ë¡ì„ ë³´ëŠ” í˜ì´ì§€(ì´í•˜ taxonomy í˜ì´ì§€)ì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë‹¨ì¼ ì¹´í…Œê³ ë¦¬ ë˜ëŠ” íƒœê·¸ì— ì†í•˜ëŠ” ê²Œì‹œê¸€ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€(ì´í•˜ terms í˜ì´ì§€)ì…ë‹ˆë‹¤.\nì´ ì¤‘ ê²Œì‹œê¸€ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” taxonomy í˜ì´ì§€ì—ì„œ ê³µí†µì ì¸ ê¸°ëŠ¥ê³¼ ì™¸ê´€ì„ ê°€ì§„ ë¶€ë¶„ì´ ìˆëŠ”ë°, í•´ë‹¹ ë¶€ë¶„ì„ ë³„ë„ì˜ í…œí”Œë¦¿ìœ¼ë¡œ êµ¬ì„±í•˜ê³ ì í•©ë‹ˆë‹¤.\nê²Œì‹œê¸€ ëª©ë¡ êµ¬ìƒí•˜ê¸° # ì¼ë°˜ì ì¸ ë¸”ë¡œê·¸ í”Œë«í¼ì—ì„œ ê²Œì‹œê¸€ ëª©ë¡ì€ ì„¸ë¡œë¡œ ë‚˜ì—´ë©ë‹ˆë‹¤. ì•„ë˜ ì´ë¯¸ì§€ëŠ” í‹°ìŠ¤í† ë¦¬ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ê²Œì‹œê¸€ ëª©ë¡ì˜ í•œ ë¶€ë¶„ì¸ë°, ê²Œì‹œê¸€ ì œëª©, ì‘ì„±ì¼, ìš”ì•½ê³¼ ê°™ì€ ë©”íƒ€ë°ì´í„°ê°€ ì¢Œì¸¡ì— ë³´ì—¬ì§€ê³  ì»¤ë²„ ì´ë¯¸ì§€ê°€ ìš°ì¸¡ì— í‘œì‹œë©ë‹ˆë‹¤.\ní‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ì—ì„œëŠ” ê²Œì‹œê¸€ ëª©ë¡ì—ì„œ íƒœê·¸ë¥¼ ë³´ì—¬ì£¼ì§€ ì•Šì§€ë§Œ, ì´ë²ˆì— ë§Œë“¤ taxonomy í˜ì´ì§€ì—ì„œëŠ” ê° ê²Œì‹œê¸€ í•­ëª©ë§ˆë‹¤ íƒœê·¸ë¥¼ ë³´ì—¬ì£¼ê³  íƒœê·¸ë¥¼ í´ë¦­í•˜ë©´ terms í˜ì´ì§€ë¡œ ì´ë™í•˜ë„ë¡ êµ¬ì„±í•  ì˜ˆì •ì…ë‹ˆë‹¤. (ì¹´í…Œê³ ë¦¬ë„ ë§ˆì°¬ê°€ì§€ ì…ë‹ˆë‹¤.)\nê²Œì‹œê¸€ í•­ëª© í…œí”Œë¦¿ ì¶”ê°€ # Book í…Œë§ˆëŠ” layouts/_partials/docs ê²½ë¡œì— partial í…œí”Œë¦¿ì´ ìœ„ì¹˜í•´ ìˆìŠµë‹ˆë‹¤.\nê²Œì‹œê¸€ ëª©ë¡ì—ì„œ ë‹¨ì¼ ê²Œì‹œê¸€ í•­ëª©ì€ partial í…œí”Œë¦¿ìœ¼ë¡œ ë¶„ë¥˜ëœë‹¤ ìƒê°í•˜ì—¬ í•´ë‹¹ ê²½ë¡œì— post-item.html ì´ë¼ëŠ” í…œí”Œë¦¿ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì»¤ë²„ ì´ë¯¸ì§€ì˜ ìœ„ì¹˜ë¥¼ ì¡°ì •í•˜ëŠ” ë“±ì˜ CSS ìŠ¤íƒ€ì¼ì€ assets/_custom.scss ì— ì ìš©í•´ì¤ë‹ˆë‹¤. (CSS ìŠ¤íƒ€ì¼ì´ ìƒëŒ€ì ìœ¼ë¡œ ê¸¸ì–´ ì£¼ì„ìœ¼ë¡œ ì„¤ëª…ì„ ëŒ€ì²´í•©ë‹ˆë‹¤.)\nHTML Copy html \u0026lt;!-- layouts/_partials/docs/post-item.html --\u0026gt; \u0026lt;article class=\u0026#34;post-item\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;post-meta\u0026#34;\u0026gt; \u0026lt;!-- ê²Œì‹œê¸€ ì‘ì„±ì¼ --\u0026gt; \u0026lt;time datetime=\u0026#34;{{ .Date.Format \u0026#34;2006-01-02\u0026#34; }}\u0026#34;\u0026gt; {{ .Date.Format \u0026#34;2006ë…„ 01ì›” 02ì¼\u0026#34; }} \u0026lt;/time\u0026gt; \u0026lt;!-- ì¹´í…Œê³ ë¦¬ ëª©ë¡ì´ ì¶”ê°€ë  ìœ„ì¹˜ --\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;post-content-area{{ if .Params.cover }} has-cover{{ end }}\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;post-text-area\u0026#34;\u0026gt; \u0026lt;!-- ê²Œì‹œê¸€ ì œëª© --\u0026gt; \u0026lt;h2 class=\u0026#34;post-title\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .RelPermalink }}\u0026#34;\u0026gt;{{ .Title }}\u0026lt;/a\u0026gt; \u0026lt;/h2\u0026gt; \u0026lt;!-- ê²Œì‹œê¸€ ìš”ì•½ --\u0026gt; {{ $summary := cond .Description .Description (cond .Summary .Summary \u0026#34;\u0026#34;) }} {{ if $summary }} \u0026lt;div class=\u0026#34;post-summary\u0026#34;\u0026gt; {{ $summary | plainify | truncate 148 }} \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;post-summary-mobile\u0026#34;\u0026gt; {{ $summary | plainify | truncate 72 }} \u0026lt;/div\u0026gt; {{ end }} \u0026lt;!-- íƒœê·¸ ëª©ë¡ì´ ì¶”ê°€ë  ìœ„ì¹˜ --\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- ì»¤ë²„ ì´ë¯¸ì§€ --\u0026gt; {{ if .Params.cover }} \u0026lt;div class=\u0026#34;post-cover\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ .Params.cover | absURL }}\u0026#34; alt=\u0026#34;Cover Image\u0026#34; class=\u0026#34;post-cover-img\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/div\u0026gt; \u0026lt;/article\u0026gt; CSS Copy scss // assets/_custom.scss .post-item { // `post-item` ì˜ì—­ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•˜ê¸° ìœ„í•´ í…Œë‘ë¦¬ë¥¼ ì¶”ê°€ border: 1px solid var(--gray-200); border-radius: 8px; padding: $padding-24; background: var(--body-background); transition: box-shadow 0.3s ease, border-color 0.3s ease; \u0026amp;:hover { // `post-item` ì˜ì—­ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ í…Œë‘ë¦¬ë¥¼ ë§í¬ ìƒ‰ìƒ(íŒŒë€ìƒ‰)ìœ¼ë¡œ ë³€ê²½ box-shadow: 0 4px 12px var(--box-shadow); border-color: var(--color-link); } } .post-meta { // `post-meta` ì˜ì—­ ë‚´ í•­ëª©(ì‘ì„±ì¼ ë° ì¹´í…Œê³ ë¦¬)ì„ ì •ë ¬í•˜ê³  ì—°í•œ ê¸€ì”¨ìƒ‰ ì ìš© display: flex; justify-content: space-between; align-items: center; color: var(--gray-500); flex-wrap: wrap; gap: 0.5rem; font-size: 0.9rem; margin-bottom: 0.9rem; time { font-weight: 500; } } .post-content-area { // `post-content-area` ì˜ì—­ ë‚´ í•­ëª©(ì œëª©, ìš”ì•½ í…ìŠ¤íŠ¸ ë° ì»¤ë²„ ì´ë¯¸ì§€)ì„ ì •ë ¬ display: flex; gap: 1.5rem; align-items: flex-start; \u0026amp;.has-cover .post-text-area { // ê²Œì‹œê¸€ì´ ì»¤ë²„ ì´ë¯¸ì§€ë¥¼ ê°€ì§ˆ ê²½ìš° í…ìŠ¤íŠ¸ ì˜ì—­ì˜ ì„¸ë¡œ ê¸¸ì´ë¥¼ ì´ë¯¸ì§€ ë†’ì´ë§Œí¼ ê³ ì • // (íƒœê·¸ ëª©ë¡ì„ ì˜ì—­ í•˜ë‹¨ì— ê³ ì •ì‹œí‚¤ê¸° ìœ„í•œ ëª©ì ) min-height: $preview-height; // 170px; } } .post-text-area { // ì œëª© í…ìŠ¤íŠ¸, ìš”ì•½ í…ìŠ¤íŠ¸, íƒœê·¸ ëª©ë¡ ìš”ì†Œë“¤ì„ ì •ë ¬ flex: 1; min-width: 0; display: flex; flex-direction: column; h2.post-title { margin-top: 0; margin-bottom: $padding-8; line-height: 1.4; } } .post-title { // ì œëª© í…ìŠ¤íŠ¸ì˜ ìŠ¤íƒ€ì¼ì„ ì ìš© font-size: $font-size-24; line-height: 1.3; a { color: var(--body-font-color); text-decoration: none; transition: color 0.3s ease; \u0026amp;:hover { color: var(--color-link); } } } .markdown .post-title { // ë§ˆí¬ë‹¤ìš´ H2 í—¤ë”ì— ê¸°ë³¸ìœ¼ë¡œ ì ìš©ë˜ëŠ” ë§ˆì§„ì„ ë¬´ì‹œ (ì—¬ë°± ì¤„ì´ê¸°) margin-top: $padding-20; } .post-summary, .post-summary-mobile { // ìš”ì•½ í…ìŠ¤íŠ¸ì˜ ìŠ¤íƒ€ì¼ì„ ì ìš© color: var(--gray-800); line-height: 1.6; margin-bottom: 1rem; overflow: hidden; word-wrap: break-word; flex: 1; } .post-summary-mobile { // ê¸°ë³¸ì ìœ¼ë¡œëŠ” ëª¨ë°”ì¼ ì „ìš© ìš”ì•½ í…ìŠ¤íŠ¸ë¥¼ ìˆ¨ê¸°ê¸° display: none; } .post-cover { // ì»¤ë²„ ì´ë¯¸ì§€ì˜ ê°€ë¡œ, ì„¸ë¡œ ê¸¸ì´ë¥¼ ê³ ì • width: $preview-width; // 200px; height: $preview-height; // 170px; border-radius: 8px; overflow: hidden; .post-cover-img { // ì»¤ë²„ ì´ë¯¸ì§€ê°€ ê³ ì •ëœ ê¸¸ì´ë¥¼ ë„˜ìœ¼ë©´ ê°€ìš´ë°ë§Œ ì˜ë¼ì„œ í‘œì‹œí•˜ê¸° width: 100%; height: 100%; object-fit: cover; object-position: center; } } @media (max-width: $body-max-width) { .post-title { font-size: $font-size-20; // ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œ ì œëª© í…ìŠ¤íŠ¸ í¬ê¸°ë¥¼ ì¤„ì´ê¸° } .post-summary { display: none; // ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œ ê¸°ë³¸ ìš”ì•½ í…ìŠ¤íŠ¸ë¥¼ ìˆ¨ê¸°ê¸° } .post-summary-mobile { display: block; // ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œ ëª¨ë°”ì¼ ì „ìš© ìš”ì•½ í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•˜ê¸° } .post-content-area.has-cover { // ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œ ì»¤ë²„ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ì¤„ì´ê³  ì •ì‚¬ê°í˜• ë¹„ìœ¨ë¡œ ë³€ê²½ .post-cover { width: $preview-mobile-width; // 160px; height: $preview-mobile-height; // 160px; } .post-text-area { min-height: $preview-mobile-height; // 160px; } } } í•˜ë‚˜ì˜ ê²Œì‹œê¸€ í•­ëª©ì€ ê²Œì‹œê¸€ ì‘ì„±ì¼, ì œëª©, ìš”ì•½, ì»¤ë²„ ì´ë¯¸ì§€ë¡œë§Œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nì•„ì§ ê²Œì‹œê¸€ í•­ëª©ì„ ë³¼ ìˆ˜ ìˆëŠ” í˜ì´ì§€ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ì„œ í•´ë‹¹ í…œí”Œë¦¿ì„ ì§ì ‘ í™•ì¸í•˜ê¸° ì–´ë ¤ìš¸ ê²ƒì´ê¸°ì— ì‹¤ì œë¡œ í…œí”Œë¦¿ì„ ë Œë”ë§í•œ ê²°ê³¼ë¥¼ ë³´ì—¬ë“œë¦½ë‹ˆë‹¤. (ì»¤ë²„ ì´ë¯¸ì§€ëŠ” í•´ë‹¹ ê²Œì‹œê¸€ì˜ ì»¤ë²„ ì´ë¯¸ì§€ë¥¼ ì²¨ë¶€í–ˆìŠµë‹ˆë‹¤.)\nê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ìë©´, ê²Œì‹œê¸€ ìš”ì•½ì€ ê²Œì‹œê¸€ì´ ê°€ì§„ Description ë˜ëŠ” Summary ë¥¼ ê°€ì ¸ì™€ ì¼ì • ê¸€ì ìˆ˜ê¹Œì§€ ì˜ë¼ì„œ í‘œì‹œí•©ë‹ˆë‹¤. Description ì€ front matterì—ì„œ ì‘ì„±í•˜ëŠ” ê²Œì‹œê¸€ì— ëŒ€í•œ ì„¤ëª…ë¬¸ì´ê³ , Summary ëŠ” ë§ˆì°¬ê°€ì§€ë¡œ front matterì—ì„œ ì§€ì •í•  ìˆ˜ë„ ìˆì§€ë§Œ ë”°ë¡œ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ê²Œì‹œê¸€ì˜ ë³¸ë¬¸ í…ìŠ¤íŠ¸ë¥¼ ì¼ì • ê¸€ì ìˆ˜ê¹Œì§€ ì œê³µí•©ë‹ˆë‹¤.\nê²Œì‹œê¸€ ìš”ì•½ì— í‘œì‹œí•  ê¸€ì ìˆ˜ì˜ ê²½ìš° ì—¬ëŸ¬ê°€ì§€ ìˆ«ìë¥¼ ë„£ì–´ë´¤ì„ ë•Œ 148ìê°€ ì ì ˆí–ˆê³ , ëª¨ë°”ì¼ì˜ ê²½ìš° ê·¸ë³´ë‹¤ ë” ì ì€ 72ì ì •ë„ê°€ ì ì ˆí–ˆìŠµë‹ˆë‹¤. ì´ì–´ì§€ëŠ” CSS ì„¤ì •ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ”ë°, í™”ë©´ì˜ ë„ˆë¹„ì— ë”°ë¼ ì¼ì • í¬ê¸°ë¥¼ ì´ˆê³¼í•˜ë©´ post-summary ìš”ì†Œë§Œ í‘œì‹œí•˜ê³  ì¼ì • í¬ê¸° ì´í•˜ë¡œ ì¤„ì–´ë“¤ë©´ post-summary-mobile ìš”ì†Œë§Œ í‘œì‹œí•˜ëŠ” ì›ë¦¬ì…ë‹ˆë‹¤.\nì»¤ë²„ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë¶€ë¶„ì€ Hugoì—ì„œ ì´ë¯¸ì§€ê°€ ë¬¸ìì—´ë¡œ ì „ë‹¬ë˜ëŠ” ê²½ìš°ì™€ ë§µ í˜•íƒœë¡œ ì „ë‹¬ë˜ëŠ” ê²½ìš°ë¥¼ ê³ ë ¤í•˜ì—¬ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. íŠ¹ë³„íˆ ë§µ í˜•íƒœì˜ ì´ë¯¸ì§€ë¥¼ ì˜ì‹í•œ ê²ƒì€ ì•„ë‹ˆê³ , Book í…Œë§ˆì˜ ë‹¤ë¥¸ í…œí”Œë¦¿ì—ì„œ ì´ëŸ°ì‹ìœ¼ë¡œ ì»¤ë²„ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ê·¸ëŒ€ë¡œ ê°€ì ¸ë‹¤ ì¼ìŠµë‹ˆë‹¤. front matterì—ì„œ ì»¤ë²„ ì´ë¯¸ì§€ì— ëŒ€í•œ ì£¼ì†Œë¥¼ ì‘ì„±í•˜ë©´ img.post-cover-img ìš”ì†Œì˜ src ì†ì„±ìœ¼ë¡œ í•´ë‹¹ ì´ë¯¸ì§€ ì£¼ì†Œê°€ ì „ë‹¬ë©ë‹ˆë‹¤.\nì´í›„ì— ì¹´í…Œê³ ë¦¬ì™€ íƒœê·¸ í˜ì´ì§€ë¥¼ ì¶”ê°€í•˜ë©´ì„œ ê²Œì‹œê¸€ í•­ëª©ì˜ ìš°ì¸¡ ìƒë‹¨ì¸ ì»¤ë²„ ì´ë¯¸ì§€ ìœ„ì— ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„, ì¢Œì¸¡ í•˜ë‹¨ì¸ ìš”ì•½ í…ìŠ¤íŠ¸ ì•„ë˜ì— íƒœê·¸ ëª©ë¡ì„ ì¶”ê°€í•  ì˜ˆì •ì…ë‹ˆë‹¤.\ní˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ ì¶”ê°€ # ë˜ í•˜ë‚˜ë¡œ ê³ ë ¤í•´ì•¼ í•  ê²ƒì€ í˜ì´ì§€ë„¤ì´ì…˜ ì…ë‹ˆë‹¤. ì•ìœ¼ë¡œ ê²Œì‹œê¸€ë“¤ì´ ê³„ì† ì¶”ê°€ë ê±´ë°, ê·¸ ë§ì€ ê²Œì‹œê¸€ë“¤ì„ í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œ ëª¨ë‘ ë³´ì—¬ì£¼ê²Œ ë˜ë©´ ë³´ê¸°ë„ ë¶ˆí¸í•  ê²ƒì´ë©° ì¥ê¸°ì ìœ¼ë¡œ ê²Œì‹œê¸€ë“¤ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì†ë„ë¥¼ ê°ë‹¹í•˜ì§€ ëª»í•  ê²ƒì…ë‹ˆë‹¤. í˜ì´ì§€ë„¤ì´ì…˜ì€ ì´ëŸ° ë¬¸ì œë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ê²Œì‹œê¸€ë“¤ì„ ì—¬ëŸ¬ í˜ì´ì§€ë¡œ ë‚˜ëˆ ì„œ ì¼ì • ê°œìˆ˜ë§Œ í‘œì‹œí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.\ní˜ì´ì§€ë„¤ì´ì…˜ êµ¬ìƒí•˜ê¸° # ë§ˆì°¬ê°€ì§€ë¡œ í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ë¥¼ ë³´ë©´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\nì¼ë°˜ì ì¸ ê²Œì‹œíŒ í˜ì´ì§€ì—ì„œëŠ” 10ê°œ ë‹¨ìœ„ë¡œ í˜ì´ì§€ë¥¼ í‘œì‹œí•˜ëŠ”ë° í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ëŠ” í˜„ì¬ í˜ì´ì§€ì—ì„œ ì•ë’¤ë¡œ 3ê°œì˜ í˜ì´ì§€ë§Œ ë³´ì—¬ì¤ë‹ˆë‹¤. ì´ë²ˆì— ë§Œë“¤ taxonomy í˜ì´ì§€ì—ì„œëŠ” ì¼ë°˜ì ì¸ ê²Œì‹œíŒì²˜ëŸ¼ 10ê°œ ë‹¨ìœ„ë¡œ í˜ì´ì§€ë¥¼ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.\ní˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ ì¶”ê°€ # Book í…Œë§ˆì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ pagination.html í…œí”Œë¦¿ì„ ì œê³µí•˜ê³  í•´ë‹¹ í…œí”Œë¦¿ì€ Hugoì˜ Paginatorë¼ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/pagination.html --\u0026gt; {{- if .Paginator -}} \u0026lt;!-- ... --\u0026gt; {{- end -}} í•˜ì§€ë§Œ, Paginator ê¸°ëŠ¥ì— ëŒ€í•œ ê³µì‹ë¬¸ì„œë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì œì•½ì‚¬í•­ì„ ì•ˆë‚´í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nAlthough simple to invoke, with the Paginator method you can neither filter nor sort the page collection. It acts upon the page collection received in context. The Paginate method is more flexible, and strongly recommended. í˜ì´ì§€ ì»¬ë ‰ì…˜, ì¦‰ ê²Œì‹œê¸€ ëª©ë¡ì„ í•„í„°í•˜ê±°ë‚˜ ì •ë ¬í•  ìˆ˜ ì—†ë‹¤ëŠ”ê±´ë° ì¹´í…Œê³ ë¦¬ ë˜ëŠ” íƒœê·¸ ê´€ë ¨ ê²Œì‹œê¸€ì„ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‚˜ì—´í•  ë•ŒëŠ” ì „ì²´ ê²Œì‹œê¸€ ì¤‘ ê´€ë ¨ëœ ì¼ë¶€ ê²Œì‹œê¸€ë§Œ í•„í„°í•  í•„ìš”ê°€ ìˆì–´ì„œ Paginateë¼ëŠ” ë‹¤ë¥¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\në‹¤ìŒê³¼ ê°™ì´ paginate.html í…œí”Œë¦¿ì„ ë³€ê²½í•´ì¤ë‹ˆë‹¤. (CSS ìŠ¤íƒ€ì¼ë„ assets/_custom.scss ì— ì¶”ê°€í•´ì¤ë‹ˆë‹¤.)\nHTML Copy html \u0026lt;!-- layouts/_partials/docs/pagination.html --\u0026gt; {{ $paginate := . }} {{ if gt $paginate.TotalPages 1 }} \u0026lt;div id=\u0026#34;pagination-anchor\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;nav class=\u0026#34;pagination\u0026#34;\u0026gt; {{ $currentPage := $paginate.PageNumber }} {{ $totalPages := $paginate.TotalPages }} \u0026lt;!-- 10ê°œ ê²Œì‹œê¸€ ë‹¨ìœ„ë¡œ í˜ì´ì§€ë¥¼ ê·¸ë£¹í™” --\u0026gt; {{ $groupNumber := div (sub $currentPage 1) 10 }} {{ $groupStart := add (mul $groupNumber 10) 1 }} {{ $groupEnd := add $groupStart 9 }} {{ if gt $groupEnd $totalPages }} {{ $groupEnd = $totalPages }} {{ end }} \u0026lt;!-- ì´ì „ ë° ë‹¤ìŒ í˜ì´ì§€ ê·¸ë£¹ì„ ê³„ì‚° --\u0026gt; {{ $prevGroupPage := sub $groupStart 10 }} {{ $nextGroupPage := add $groupEnd 1 }} \u0026lt;!-- ì´ì „ í˜ì´ì§€ ê·¸ë£¹ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ --\u0026gt; {{ if gt $groupStart 1 }} \u0026lt;a href=\u0026#34;{{ $paginate.First.URL }}{{ if gt $prevGroupPage 1 }}page/{{ $prevGroupPage }}/{{ end }}#pagination-anchor\u0026#34; class=\u0026#34;pagination-nav pagination-link\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-backward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; ì´ì „ \u0026lt;/a\u0026gt; {{ else }} \u0026lt;span class=\u0026#34;pagination-nav disabled\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-backward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; ì´ì „ \u0026lt;/span\u0026gt; {{ end }} \u0026lt;!-- í˜„ì¬ í˜ì´ì§€ ê·¸ë£¹ì˜ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë§í¬ --\u0026gt; \u0026lt;div class=\u0026#34;pagination-pages\u0026#34;\u0026gt; {{ range $i := seq $groupStart $groupEnd }} {{ if eq $i $currentPage }} \u0026lt;span class=\u0026#34;pagination-page current\u0026#34; id=\u0026#34;current-page\u0026#34;\u0026gt;{{ $i }}\u0026lt;/span\u0026gt; {{ else }} \u0026lt;a href=\u0026#34;{{ $paginate.First.URL }}{{ if gt $i 1 }}page/{{ $i }}/{{ end }}#pagination-anchor\u0026#34; class=\u0026#34;pagination-page pagination-link\u0026#34;\u0026gt; {{ $i }} \u0026lt;/a\u0026gt; {{ end }} {{ end }} \u0026lt;/div\u0026gt; \u0026lt;!-- ë‹¤ìŒ í˜ì´ì§€ ê·¸ë£¹ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ --\u0026gt; {{ if le $nextGroupPage $totalPages }} \u0026lt;a href=\u0026#34;{{ $paginate.First.URL }}page/{{ $nextGroupPage }}/#pagination-anchor\u0026#34; class=\u0026#34;pagination-nav pagination-link\u0026#34;\u0026gt; ë‹¤ìŒ \u0026lt;i class=\u0026#34;fa-solid fa-forward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt; {{ else }} \u0026lt;span class=\u0026#34;pagination-nav disabled\u0026#34;\u0026gt; ë‹¤ìŒ \u0026lt;i class=\u0026#34;fa-solid fa-forward\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/span\u0026gt; {{ end }} \u0026lt;/nav\u0026gt; {{ end }} CSS Copy scss // assets/_custom.scss .pagination { // ì´ì „ ë²„íŠ¼, í˜ì´ì§€ ë§í¬, ë‹¤ìŒ ë²„íŠ¼ì„ ì •ë ¬ display: flex; justify-content: center; align-items: center; gap: $padding-4; padding: 2rem 0; margin-top: 2rem; border-top: 1px solid var(--gray-200); max-width: 100%; .pagination-nav, .pagination-page { // ê°ê°ì˜ í˜ì´ì§€ ë§í¬ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ì„ ì ìš© // (í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ëª¨ì„œë¦¬ê°€ ë‘¥ê·¼ ì‚¬ê°í˜• í…Œë‘ë¦¬ë¡œ ê°ì‹¸ê¸°) padding: $padding-8; border: 1px solid var(--gray-200); border-radius: 4px; flex-grow: 0; flex-shrink: 0; text-align: center; white-space: nowrap; \u0026amp;:hover { background: var(--gray-200); border-color: var(--color-link); } } } .markdown { // ë§ˆí¬ë‹¤ìš´ a íƒœê·¸ì— ê¸°ë³¸ìœ¼ë¡œ ì ìš©ë˜ëŠ” ìƒ‰ìƒì„ ë¬´ì‹œ a[href].pagination-link { color: var(--body-font-color); text-decoration: none; } a[href]:hover.pagination-link { color: var(--body-font-color); text-decoration: none; } a[href]:visited.pagination-link { color: var(--body-font-color); text-decoration: none; } } .pagination-nav { width: 4rem; \u0026amp;.disabled { // ì´ì „, ë‹¤ìŒ í˜ì´ì§€ ê·¸ë£¹ì´ ì—†ìœ¼ë©´ ë²„íŠ¼ì„ ë¹„í™œì„±í™” border: 1px solid var(--gray-200); color: var(--gray-500); cursor: not-allowed; } i { // ì´ì „, ë‹¤ìŒ ë²„íŠ¼ì˜ ì•„ì´ì½˜ í¬ê¸° ì„¤ì • font-size: $font-size-12; } } .pagination-pages { // í˜ì´ì§€ ë§í¬ë“¤ì„ ì •ë ¬ display: flex; gap: $padding-4; .pagination-page { min-width: 2.5rem; \u0026amp;.current { // í˜„ì¬ í˜ì´ì§€ì— ëŒ€í•œ ë§í¬ë¥¼ ê°•ì¡° background: var(--color-page-link); border-color: var(--color-link); cursor: default; } } } #pagination-anchor { // í˜ì´ì§€ ì´ë™ í›„ ìŠ¤í¬ë¡¤ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ì•µì»¤ ìš”ì†Œ ìˆ¨ê¸°ê¸° position: relative; top: -100px; visibility: hidden; } @media (max-width: $body-max-width) { // ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œëŠ” ì´ì „, ë‹¤ìŒ ë²„íŠ¼ì„ í˜ì´ì§€ ë§í¬ ì•„ë˜ë¡œ ë°°ì¹˜ .pagination { flex-wrap: wrap; gap: $padding-8; } .pagination-pages { flex-wrap: wrap; justify-content: center; width: 100%; } .pagination-nav { order: 2; } } í˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ì„ ë Œë”ë§í•˜ë©´ ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤.\ní˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ì€ ì´ì „ ë²„íŠ¼, í˜ì´ì§€ ë§í¬ 10ê°œ, ë‹¤ìŒ ë²„íŠ¼ì´ ìˆœì„œëŒ€ë¡œ ë‚˜ì—´ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\ní˜ì´ì§€ë¥¼ ì´ë™í•˜ëŠ”ê±´ í˜„ì¬ ê²½ë¡œ ë’¤ì— /page/{í˜ì´ì§€} ë¥¼ ë¶™ì´ë©´ ë©ë‹ˆë‹¤.\n(Paginate ê¸°ëŠ¥ì„ ì‚¬ìš©í–ˆë‹¤ë©´ ë Œë”ë§ ì‹œì— ê° í˜ì´ì§€ë³„ ì •ì  í˜ì´ì§€ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.)\ní˜ì´ì§€ ë§í¬ëŠ” ì´ë¥¼ ì´ìš©í•´ íŠ¹ì • í˜ì´ì§€ì— ëŒ€í•œ ê²½ë¡œë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ë§í¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë˜í•œ, ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•œ í›„ì—ë„ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ìœ ì§€í•˜ë„ë¡ í˜ì´ì§€ë„¤ì´ì…˜ ì˜ì—­ì— ëŒ€í•œ ì•µì»¤ ë§í¬ #pagination-anchor ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\nì´ì „ ë²„íŠ¼ê³¼ ë‹¤ìŒ ë²„íŠ¼ì€ ì§ì „, ì§í›„ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ì´ì „, ë‹¤ìŒ í˜ì´ì§€ ê·¸ë£¹ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. í˜ì´ì§€ ê·¸ë£¹ì€ 10ê°œ í˜ì´ì§€ ë‹¨ìœ„ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, í•´ë‹¹ ë²„íŠ¼ì€ í˜ì´ì§€ ê·¸ë£¹ì˜ ì²« ë²ˆì§¸ í˜ì´ì§€ë¡œ ì—°ê²°ë©ë‹ˆë‹¤.\nTaxonomy í…œí”Œë¦¿ ê²½ë¡œ # í•„ìš”í•œ partial í…œí”Œë¦¿ë“¤ì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ë³¸ê²©ì ìœ¼ë¡œ taxonomy ë° terms í…œí”Œë¦¿ì„ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.\nê·¸ì „ì—, ì–´ë””ì— í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\nTaxonomy Templates Taxonomy templating includes taxonomy list pages, taxonomy terms pages, and using taxonomies in your single page â€¦ gohugobrasil.netlify.app ìœ„ Hugo ê³µì‹ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ìš°ì„ ìˆœìœ„ë¡œ taxonomy í…œí”Œë¦¿ì„ íƒìƒ‰í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nlayouts/taxonomy/\u0026lt;SINGULAR\u0026gt;.html layouts/_default/taxonomy.html layouts/_default/list.html ë™ì¼í•˜ê²Œ, terms í…œí”Œë¦¿ì€ ë‹¤ìŒê³¼ ê°™ì€ ìš°ì„ ìˆœìœ„ë¡œ íƒìƒ‰í•©ë‹ˆë‹¤.\nlayouts/taxonomy/\u0026lt;SINGULAR\u0026gt;.terms.html layouts/_default/terms.html Book í…Œë§ˆì—ì„œ terms í…œí”Œë¦¿ì€ ì œê³µë˜ì§€ ì•Šì§€ë§Œ taxonomy í…œí”Œë¦¿ì€ layouts/_partials/docs/taxonomy.html ê²½ë¡œì—ì„œ ì œê³µë©ë‹ˆë‹¤. í•´ë‹¹ taxonomy í…œí”Œë¦¿ì€ íƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ì— ê³µí†µì ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ, íƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ í˜ì´ì§€ êµ¬ì„±ì— ì°¨ì´ê°€ ìˆì–´ì„œ ì „ìš© í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš°ì—ëŠ” layouts/tags/ ë° layouts/categories/ ê²½ë¡œë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\níƒœê·¸ í˜ì´ì§€ ì¶”ê°€ # íƒœê·¸ í˜ì´ì§€ëŠ” taxonomy í…œí”Œë¦¿ì„ ë¨¼ì € ë§Œë“¤ê³  terms í…œí”Œë¦¿ì„ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.\níƒœê·¸ ì „ìš© í…œí”Œë¦¿ì„ ë§Œë“¤ê¸° ìœ„í•´ layouts/tags/ ê²½ë¡œ ì•„ë˜ì— ë‘ ê°œì˜ í…œí”Œë¦¿ íŒŒì¼ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.\ntaxonomy í…œí”Œë¦¿ ì¶”ê°€ # ë¨¼ì €, layouts/tags/list.html íŒŒì¼ì„ ì¶”ê°€í•˜ì—¬ íŠ¹ì • íƒœê·¸ë¥¼ í¬í•¨í•˜ëŠ” ê²Œì‹œê¸€ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/tags/list.html --\u0026gt; {{ define \u0026#34;main\u0026#34; }} \u0026lt;article class=\u0026#34;markdown book-article\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;list-header\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;\u0026lt;i class=\u0026#34;fa-solid fa-tag\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ .Title }}\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;ì „ì²´ ê¸€ \u0026lt;em class=\u0026#34;list-count\u0026#34;\u0026gt;{{ len .Pages }}\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; {{ $paginator := .Paginate .Pages 10 }} \u0026lt;div class=\u0026#34;post-list\u0026#34;\u0026gt; {{ range $paginator.Pages }} {{ partial \u0026#34;docs/post-item.html\u0026#34; . }} {{ end }} \u0026lt;/div\u0026gt; {{ partial \u0026#34;docs/pagination.html\u0026#34; $paginator }} \u0026lt;/article\u0026gt; {{ end }} CSS Copy scss // assets/_custom.scss .list-header { // í—¤ë” ì˜ì—­ì˜ ìš”ì†Œë“¤ì„ ê°€ìš´ë° ì •ë ¬ text-align: center; padding-bottom: $padding-16; margin-bottom: $padding-48; border-bottom: 1px solid var(--body-font-color); h1 { font-size: $font-size-40; margin-bottom: $padding-8; i { font-size: $font-size-40; } } p { font-size: $font-size-20; } } .list-count { // ê´€ë ¨ ê²Œì‹œê¸€ ìˆ˜ë¥¼ íŒŒë€ìƒ‰ìœ¼ë¡œ ê°•ì¡° í‘œí˜„ font-style: normal; font-weight: bold; color: var(--color-link); } .post-list { // ê²Œì‹œê¸€ ëª©ë¡ ê°„ì˜ ê°„ê²©ì„ ì¡°ì ˆí•˜ê³  footerì™€ì˜ ì—¬ë°±ë„ ì¶”ê°€ display: flex; flex-direction: column; gap: $padding-24; margin-bottom: $padding-48; } ì•ì—ì„œ ê²Œì‹œê¸€ ëª©ë¡ê³¼ í˜ì´ì§€ë„¤ì´ì…˜ í…œí”Œë¦¿ì„ ë¯¸ë¦¬ ë§Œë“¤ì–´ë’€ê¸° ë•Œë¬¸ì— taxonomy í…œí”Œë¦¿ì€ ë‹¨ìˆœí•©ë‹ˆë‹¤.\ní…œí”Œë¦¿ì—ì„œ ì‚¬ìš©ë˜ëŠ” Pages ê¸°ëŠ¥ì€ ëª¨ë“  Page ê°ì²´ë¥¼ ëª©ë¡ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ”ë°, taxonomy ë ˆì´ì•„ì›ƒì—ì„œëŠ” í•´ë‹¹ taxonomy, ì¦‰ íƒœê·¸ë¥¼ í¬í•¨í•˜ëŠ” Page ê°ì²´ë“¤ë§Œ ë°˜í™˜í•©ë‹ˆë‹¤.\nìƒë‹¨ì˜ list-header ì˜ì—­ì—ì„œëŠ” ë‹¨ìˆœíˆ Pages ë¥¼ í˜¸ì¶œí•˜ê³  ê·¸ ê°œìˆ˜ë¥¼ ì„¸ì–´ ì „ì²´ ëª‡ ê°œì˜ ê²Œì‹œê¸€ì´ ìˆëŠ”ì§€ ì•Œë ¤ì¤ë‹ˆë‹¤.\ní—¤ë” ì•„ë˜ ë³¸ë¬¸ì¸ post-list ì˜ì—­ì—ì„œëŠ” ê°ê°ì˜ Page ê°ì²´ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ëª©ë¡ìœ¼ë¡œ ë‚˜íƒ€ë‚´ëŠ”ë°, í•œë²ˆì— 10ê°œ í˜ì´ì§€ì”© ë‚˜ëˆ ì„œ ë³´ì—¬ì£¼ê¸° ìœ„í•´ Pages ë¥¼ Paginateë¡œ ê°ìŒ‰ë‹ˆë‹¤.\në°˜ë³µë¬¸ì„ í†µí•´ í˜„ì¬ í˜ì´ì§€ì— í• ë‹¹ëœ ëª¨ë“  Page ê°ì²´ë¥¼ layouts/_partials/docs/post-item.html í…œí”Œë¦¿ì„ ì‚¬ìš©í•´ ë³´ì—¬ì£¼ê³ , ë³¸ë¬¸ ì•„ë˜ì—ëŠ” layouts/_partials/docs/pagination.html í…œí”Œë¦¿ì„ ì‚¬ìš©í•´ í˜ì´ì§€ ì´ë™ ë§í¬ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.\në³´ê¸° ì¢‹ê²Œ CSS ìŠ¤íƒ€ì¼ë„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. list-header ë° post-list í´ë˜ìŠ¤ëŠ” ì¹´í…Œê³ ë¦¬ì˜ taxonomy í…œí”Œë¦¿ì—ì„œë„ ì‚¬ìš©ë˜ë¯€ë¡œ taxonomy ìœ í˜•ì˜ í…œí”Œë¦¿ì—ì„œ ê³µí†µìœ¼ë¡œ ì ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.\në Œë”ë§í•˜ê³  Example Siteì˜ íƒœê·¸ ì¤‘ Development ì— ëŒ€í•œ taxonomy í˜ì´ì§€ë¥¼ ì ‘ì†í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ê´€ë ¨ ê²Œì‹œê¸€ ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê´€ë ¨ ê²Œì‹œê¸€ì´ 2ê°œ ë°–ì— ì—†ì–´ í˜ì´ì§€ë„¤ì´ì…˜ì€ ì•ˆë³´ì´ëŠ”ë° ê´€ë ¨ ê²Œì‹œê¸€ì„ 10ê°œ ì´ìƒ ì¶”ê°€í•˜ë©´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\nterms í…œí”Œë¦¿ ì¶”ê°€ # ëª¨ë“  íƒœê·¸ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ê°€ ìˆë‹¤ë©´ ë¸”ë¡œê·¸ì— ì²˜ìŒ ë“¤ì–´ì˜¤ëŠ” ì‚¬ëŒë“¤ì´ ë¸”ë¡œê·¸ì˜ ì •ì²´ì„±ì„ ì´í•´í•˜ê¸° ì‰¬ìš¸ ê²ƒì…ë‹ˆë‹¤.\nlayouts/tags/terms.html íŒŒì¼ì„ ì¶”ê°€í•˜ì—¬ ëª¨ë“  íƒœê·¸ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/tags/terms.html --\u0026gt; {{ define \u0026#34;main\u0026#34; }} \u0026lt;article class=\u0026#34;markdown book-article\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;list-header\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;\u0026lt;i class=\u0026#34;fa-solid fa-tags\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; Tags\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;ì „ì²´ íƒœê·¸ \u0026lt;em class=\u0026#34;list-count\u0026#34;\u0026gt;{{ len .Data.Terms }}\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;tag-chips\u0026#34;\u0026gt; {{ range .Data.Terms.ByCount }} \u0026lt;div class=\u0026#34;tag-item\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .Page.RelPermalink }}\u0026#34; class=\u0026#34;tag-link\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;tag-name\u0026#34;\u0026gt;{{ .Page.Title }}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;tag-count\u0026#34;\u0026gt;({{ .Count }})\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/div\u0026gt; \u0026lt;/article\u0026gt; {{ end }} CSS Copy scss // assets/_custom.scss .tag-chips { display: flex; flex-wrap: wrap; gap: $padding-8; .tag-link { display: flex; align-items: center; gap: $padding-4; padding: $padding-8 $padding-12; .tag-name { font-weight: 500; } .tag-count { font-size: $font-size-12; opacity: 0.7; } } } terms í…œí”Œë¦¿ì€ ë‹¨ìˆœíˆ íƒœê·¸ ëª©ë¡ì„ ë‚˜ì—´í•˜ëŠ” ê²ƒë¿ì´ë¼ì„œ ë‚´ìš©ì€ ë‹¨ìˆœí•©ë‹ˆë‹¤.\n.Data.Terms ë°©ì‹ìœ¼ë¡œ taxonomiesë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ Taxonomies ë¬¸ì„œì— ì•ˆë‚´ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ ê°€ì ¸ì˜¨ taxonomies, ì¦‰ íƒœê·¸ ëª©ë¡ì—ì„œ ê° íƒœê·¸ë§ˆë‹¤ ê´€ë ¨ëœ ê²Œì‹œê¸€ì˜ ìˆ˜ë¥¼ ì„¸ì–´ì„œ íƒœê·¸ (ê°œìˆ˜) í˜•ì‹ìœ¼ë¡œ ë³´ì—¬ì¤„ ê²ƒì…ë‹ˆë‹¤.\ní•˜ì§€ë§Œ, ì´ë ‡ê²Œí•˜ë©´ íƒœê·¸ê°€ í•˜ë‚˜ì— í•œì¤„ì”© ì„¸ë¡œë¡œ ë‚˜ì—´ë˜ì–´ ë³´ê¸°ì— ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¨ìˆœí•œ í…ìŠ¤íŠ¸ì¸ ê°ê°ì˜ íƒœê·¸ë¥¼ ì¹© í˜•íƒœë¡œ ë°”ê¾¸ê³  ê°€ë¡œë¡œ ë‚˜ì—´í•˜ëŠ” CSS ìŠ¤íƒ€ì¼ë„ ì ìš©í–ˆìŠµë‹ˆë‹¤.\n{baseURL}/tags ê²½ë¡œë¥¼ í†µí•´ terms í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ë°, ì¢Œì¸¡ ë©”ë‰´ì— í•´ë‹¹ í˜ì´ì§€ì— ëŒ€í•œ ë°”ë¡œê°€ê¸° ë²„íŠ¼ë„ ì¶”ê°€í•˜ë©´ ëˆ„êµ¬ë‚˜ ì°¾ì•„ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì´ ì†Œì…œ ë§í¬ ì˜ì—­ì—ì„œ ì•ˆì“°ëŠ” ë§í¬ í•˜ë‚˜ë¥¼ íƒœê·¸ í˜ì´ì§€ë¡œ ì—°ê²°ì‹œì¼°ìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/brand.html --\u0026gt; \u0026lt;div class=\u0026#34;sidebar-profile\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;sidebar-social\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;a href=\u0026#34;{{ \u0026#34;/tags/\u0026#34; | relURL }}\u0026#34; title=\u0026#34;Tags\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-tags\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ ì¶”ê°€ # ì¹´í…Œê³ ë¦¬ëŠ” ë‹¨ìˆœíˆ í‚¤ì›Œë“œë“¤ì„ 1ì°¨ì›ì ìœ¼ë¡œ ë‚˜ì—´í•œ íƒœê·¸ì™€ ë‹¤ë¥´ê²Œ 2ë‹¨ê³„ë¡œ êµ¬ì„±í•  ê²ƒì…ë‹ˆë‹¤. ë”°ë¼ì„œ, ì €ëŠ” ì¹´í…Œê³ ë¦¬ë¥¼ ì¼ë°˜ì ì¸ taxonomiesì²˜ëŸ¼ ë‹¤ë£¨ì§€ ì•Šê³  ì²« ë²ˆì§¸ ì›ì†Œê°€ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬, ë‘ ë²ˆì§¸ ì›ì†Œê°€ ìì‹ ì¹´í…Œê³ ë¦¬ì¸ ê¸¸ì´ê°€ 2ì¸ ë°°ì—´ì˜ í˜•íƒœë¡œ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\nì´ ê²Œì‹œê¸€ì€ ë‹¤ìŒê³¼ ê°™ì´ ì¹´í…Œê³ ë¦¬ë¥¼ ì§€ì •í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nCopy yaml categories: [\u0026#34;Frontend\u0026#34;, \u0026#34;Blog\u0026#34;] ì—¬ê¸°ì„œ ì²« ë²ˆì§¸ ì›ì†Œì¸ \u0026quot;Frontend\u0026quot;ê°€ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ê°€ ë˜ê³ , ë‘ ë²ˆì§¸ ì›ì†Œì¸ \u0026quot;Blog\u0026quot;ëŠ” ìì‹ ì¹´í…Œê³ ë¦¬ê°€ ë©ë‹ˆë‹¤.\nì¹´í…Œê³ ë¦¬ íŒŒì‹± í…œí”Œë¦¿ ì¶”ê°€ # ì´ì–´ì„œ ë§Œë“¤ taxonomy í…œí”Œë¦¿ ë¿ ì•„ë‹ˆë¼ ì¹´í…Œê³ ë¦¬ë¥¼ í™œìš©í•˜ëŠ” ëª¨ë“  í…œí”Œë¦¿ì—ì„œ ë¶€ëª¨/ìì‹ ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ì¶œí•´ ì‚¬ìš©í•˜ê²Œ ë ê±´ë°, í•´ë‹¹ ì½”ë“œê°€ ì§§ì€ í¸ì´ ì•„ë‹ˆë¼ì„œ ë³„ë„ì˜ í…œí”Œë¦¿ìœ¼ë¡œ ë§Œë“¤ë ¤ê³  í•©ë‹ˆë‹¤.\nlayouts/_partials/ ê²½ë¡œ ì•„ë˜ì— ì„ì˜ì˜ í…œí”Œë¦¿ íŒŒì¼ì„ ì¶”ê°€í•˜ë©´ ë˜ì§€ë§Œ, ë¹„ìŠ·í•œ ìœ í˜•ì˜ í…œí”Œë¦¿ì„ 3ê°œ ì •ë„ ë§Œë“¤ ê²ƒì´ë¯€ë¡œ categories ë¼ëŠ” í´ë”ë¡œ ë¬¶ì–´ì£¼ê² ìŠµë‹ˆë‹¤.\nì²« ë²ˆì§¸ í…œí”Œë¦¿ì€ .Params.categories ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì„œ ì²« ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ ê°’ì„ êº¼ë‚´ëŠ” value-first í…œí”Œë¦¿ì…ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë°°ì—´ í˜•íƒœì§€ë§Œ, ë¹ˆ ë°°ì—´ ë˜ëŠ” ë‹¨ì¼ ë¬¸ìì—´ì´ ì§€ì •ë  ê²½ìš°ë„ ê³ ë ¤í•˜ì—¬ ëª‡ ê°€ì§€ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í–ˆìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/categories/value-first.html --\u0026gt; {{ $categories := . }} {{ if reflect.IsSlice $categories }} {{- cond (gt (len $categories) 0) (index $categories 0 | string) \u0026#34;\u0026#34; -}} {{ else if eq (printf \u0026#34;%T\u0026#34; $categories) \u0026#34;string\u0026#34; }} {{- $categories -}} {{ else }} \u0026#34;\u0026#34; {{ end }} ë‘ ë²ˆì§¸ í…œí”Œë¦¿ì€ .Params.categories ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì„œ ë‘ ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ ê°’ì„ êº¼ë‚´ëŠ” value-second í…œí”Œë¦¿ì…ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ê°€ ë‹¨ì¼ ë¬¸ìì—´ì¸ ê²½ìš° ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ë§Œ ìˆë‹¤ê³  íŒë‹¨í•˜ê¸° ë•Œë¬¸ì—, ì¹´í…Œê³ ë¦¬ì˜ ê¸¸ì´ê°€ 2 ì´ìƒì¸ ë°°ì—´ë¡œ ì œê³µë  ì¡°ê±´ë§Œ ê³ ë ¤í•˜ë©´ ë©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/categories/value-second.html --\u0026gt; {{ $categories := . }} {{- cond (and (reflect.IsSlice $categories) (gt (len $categories) 1)) (index $categories 1 | string) \u0026#34;\u0026#34; -}} ì„¸ ë²ˆì§¸ í…œí”Œë¦¿ì€ .Params.categories ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì„œ / ë¡œ êµ¬ë¶„ëœ ì „ì²´ ì¹´í…Œê³ ë¦¬ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ëŠ” value í…œí”Œë¦¿ì…ë‹ˆë‹¤. í˜„ì¬ëŠ” 2ë‹¨ê³„ ì¹´í…Œê³ ë¦¬ê¹Œì§€ë§Œ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ë°°ì—´ì— ê¸¸ì´ ì œí•œì„ ê±¸ë©´ ë””í…Œì¼ì„ ì‚´ë¦´ ìˆ˜ ìˆì§€ë§Œ, ì´ê²ƒì´ ë”±íˆ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒë„ ì•„ë‹ˆê³  í–¥í›„ ì¹´í…Œê³ ë¦¬ ë‹¨ê³„ë¥¼ ë” ëŠ˜ë¦´ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ë‹¨ìˆœí•˜ê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/categories/value.html --\u0026gt; {{ $categories := . }} {{ if reflect.IsSlice $categories }} {{- delimit $categories \u0026#34;/\u0026#34; -}} {{ else if eq (printf \u0026#34;%T\u0026#34; $categories) \u0026#34;string\u0026#34; }} {{- $categories -}} {{ else }} \u0026#34;\u0026#34; {{ end }} ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ í…œí”Œë¦¿ ì¶”ê°€ # íƒœê·¸ì—ì„œëŠ” í•˜ë‚˜ì˜ taxonomy í…œí”Œë¦¿ì„ ë§Œë“¤ì—ˆì§€ë§Œ, ì¹´í…Œê³ ë¦¬ëŠ” ë¶€ëª¨ì™€ ìì‹ ì¹´í…Œê³ ë¦¬ì˜ êµ¬ì„±ì´ ë‹¬ë¼ì„œ 2ê°œì˜ í…œí”Œë¦¿ìœ¼ë¡œ ë¶„ë¦¬í•  ê²ƒì…ë‹ˆë‹¤. íƒœê·¸ì—ì„œ layouts/tags/ ê²½ë¡œ ì•„ë˜ì— í…œí”Œë¦¿ì„ ì¶”ê°€í•œ ê²ƒì²˜ëŸ¼ ì¹´í…Œê³ ë¦¬ë„ layouts/categories/ ê²½ë¡œ ì•„ë˜ì— í…œí”Œë¦¿ì„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/categories/parent.html --\u0026gt; {{ define \u0026#34;main\u0026#34; }} \u0026lt;article class=\u0026#34;markdown book-article\u0026#34;\u0026gt; \u0026lt;!-- ì œëª©ì„ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ ëª…ì¹­ìœ¼ë¡œ ì¸ì‹ --\u0026gt; {{ $currentCategory := partial \u0026#34;categories/value-first\u0026#34; (slice .Title) }} {{ $pages := slice }} {{ $subCategories := slice }} \u0026lt;!-- ëª¨ë“  \u0026#34;posts\u0026#34; ê²½ë¡œì˜ ê²Œì‹œê¸€ë“¤ì„ ìˆœíšŒí•˜ë©´ì„œ --\u0026gt; {{ range where .Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;posts\u0026#34; }} {{ $pageCategory := partial \u0026#34;categories/value-first\u0026#34; .Params.categories }} \u0026lt;!-- ê²Œì‹œê¸€ì˜ ì²« ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ í˜„ì¬ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì™€ ê°™ìœ¼ë©´ `$pages` ë°°ì—´ì— ì¶”ê°€ --\u0026gt; {{ if eq $currentCategory $pageCategory }} {{ $pages = $pages | append . }} {{ $subCategory := partial \u0026#34;categories/value-second\u0026#34; .Params.categories }} \u0026lt;!-- ê²Œì‹œê¸€ì˜ ë‘ ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ê°€ í•˜ìœ„ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì— ì—†ìœ¼ë©´ `$subCategories` ë°°ì—´ì— ì¶”ê°€ --\u0026gt; {{ if not (in $subCategories $subCategory) }} {{ $subCategories = $subCategories | append $subCategory }} {{ end }} {{ end }} {{ end }} \u0026lt;div class=\u0026#34;list-header\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;\u0026lt;i class=\u0026#34;fa-solid fa-folder\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ .Title }}\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;ì „ì²´ ê¸€ \u0026lt;em class=\u0026#34;list-count\u0026#34;\u0026gt;{{ len $pages }}\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- ëª¨ë“  í•˜ìœ„ ì¹´í…Œê³ ë¦¬ë“¤ì— ëŒ€í•œ ë°”ë¡œê°€ê¸° ë§í¬ë¥¼ ë‚˜ì—´ --\u0026gt; {{ if $subCategories }} \u0026lt;div class=\u0026#34;categories-section\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;í•˜ìœ„ ì¹´í…Œê³ ë¦¬\u0026lt;/h2\u0026gt; \u0026lt;div class=\u0026#34;category-chips\u0026#34;\u0026gt; {{ range $subCategory := $subCategories }} \u0026lt;div class=\u0026#34;category-item\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ \u0026#34;/categories/\u0026#34; | relURL }}{{ $currentCategory | urlize }}/{{ $subCategory | urlize }}\u0026#34; class=\u0026#34;category-link\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;category-name\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa-solid fa-file\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ $subCategory }}\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {{ end }} {{ if $pages }} \u0026lt;div class=\u0026#34;post-list\u0026#34;\u0026gt; {{ $paginate := .Paginate $pages 10 }} \u0026lt;div class=\u0026#34;post-list\u0026#34;\u0026gt; {{ range $paginate.Pages }} {{ partial \u0026#34;docs/post-item.html\u0026#34; . }} {{ end }} \u0026lt;/div\u0026gt; {{ partial \u0026#34;docs/pagination.html\u0026#34; $paginate }} \u0026lt;/div\u0026gt; {{ else }} \u0026lt;div class=\u0026#34;post-list empty-list\u0026#34;\u0026gt; \u0026lt;p\u0026gt;ì´ ì¹´í…Œê³ ë¦¬ì— ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/article\u0026gt; {{ end }} CSS Copy scss // assets/_custom.scss .categories-section { margin-bottom: $padding-40; } .category-chips { display: flex; flex-wrap: wrap; gap: $padding-8; .category-link { display: flex; align-items: center; gap: $padding-4; padding: $padding-8 $padding-12; .category-name { font-weight: 500; .fa-file, .fa-folder, .fa-folder-open { font-size: $font-size-base; } } } } .empty-list p { text-align: center; } í…œí”Œë¦¿ì˜ ìƒë‹¨ì—ì„œ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì™€ ì—°ê´€ëœ ê²Œì‹œê¸€ë“¤ì„ ê±¸ëŸ¬ë‚´ëŠ” ë¶€ë¶„ì„ ì œì™¸í•˜ë©´ íƒœê·¸ì˜ taxonomy í…œí”Œë¦¿ê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤.\ní•´ë‹¹ í…œí”Œë¦¿ë„ taxonomy í…œí”Œë¦¿ì´ê¸° ë•Œë¬¸ì— Pages ë¥¼ ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ë„ ìˆì§€ë§Œ, Hugoì—ì„œ taxonomyì—” ìˆœì„œê°€ ì—†ê¸° ë•Œë¬¸ì— ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ê°€ ì¹´í…Œê³ ë¦¬ ë°°ì—´ì—ì„œ ì²« ë²ˆì§¸ ê°’ì¸ ì¡°ê±´ì„ ë§Œì¡±ì‹œí‚¤ê¸° ìœ„í•´ ì§ì ‘ Page ë°°ì—´ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\níƒœê·¸ì˜ taxonomy í…œí”Œë¦¿ê³¼ì˜ ê°€ì¥ í° ì°¨ì´ì ì€ í—¤ë” ì•„ë˜ì— í•˜ìœ„ ì¹´í…Œê³ ë¦¬ë“¤ì— ëŒ€í•œ ë°”ë¡œê°€ê¸° ë§í¬ë¥¼ í‘œì‹œí•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë¶€ëª¨-ìì‹ ì¹´í…Œê³ ë¦¬ ê°„ì— ì´ë™ì„ ìš©ì´í•˜ê²Œ í•˜ê¸° ìœ„í•´ ì´ì™€ ê°™ì€ ë°”ë¡œê°€ê¸° ë§í¬ë¥¼ ì¶”ê°€í–ˆê³ , ì´ê²ƒì´ í´ë”-íŒŒì¼ ê´€ê³„ì™€ ìœ ì‚¬í•˜ë‹¤ ìƒê°í•´ ê·¸ëŸ¬í•œ ì•„ì´ì½˜ìœ¼ë¡œ ì§ê´€ì„±ì„ ë”í–ˆìŠµë‹ˆë‹¤.\në Œë”ë§í•˜ê¸° ì „ì— í•œê°€ì§€ ìœ ì˜í•  ì ì€, parent ë¼ëŠ” ì„ì˜ì˜ ëª…ì¹­ì„ ì‚¬ìš©í•˜ëŠ” í•´ë‹¹ í…œí”Œë¦¿ì€ ìë™ìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ë“¤ì„ ë§Œë“¤ì–´ë‚´ì§€ ì•ŠìŠµë‹ˆë‹¤. ê²Œì‹œê¸€ì´ ìˆëŠ” content/ í´ë”ì—ì„œ ëª¨ë“  ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤.\nExample Siteì—ì„œë„ ê¸°ë³¸ì ìœ¼ë¡œ [\u0026quot;Development\u0026quot;, \u0026quot;golang\u0026quot;] ì¹´í…Œê³ ë¦¬ê°€ ì§€ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì¸ Development ì— ëŒ€í•œ ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ ì•„ë˜ì²˜ëŸ¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.\nCopy yaml # content/categories/Development/_index.md --- title: \u0026#34;Development\u0026#34; type: \u0026#34;categories\u0026#34; layout: \u0026#34;parent\u0026#34; --- ì œëª©ì€ ì¹´í…Œê³ ë¦¬ ëª…ì¹­ê³¼ ë™ì¼í•´ì•¼ í•˜ê³ , layout ë¥¼ parent ë¡œ ì§€ì •í•˜ë©´ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤. ê·¸ ê²°ê³¼ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤. (jekyll ì¹´í…Œê³ ë¦¬ëŠ” ì„ì˜ë¡œ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.)\nìì‹ ì¹´í…Œê³ ë¦¬ í…œí”Œë¦¿ ì¶”ê°€ # ìì‹ ì¹´í…Œê³ ë¦¬ í…œí”Œë¦¿ì€ ë™ì¼í•˜ê²Œ layouts/categories/ ê²½ë¡œ ì•„ë˜ì— ì¶”ê°€í•©ë‹ˆë‹¤. CSS ìŠ¤íƒ€ì¼ì€ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ í…œí”Œë¦¿ê³¼ ë™ì¼í•œ ì„¤ì •ì„ ê³µìœ í•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/categories/child.html --\u0026gt; {{ define \u0026#34;main\u0026#34; }} \u0026lt;article class=\u0026#34;markdown book-article\u0026#34;\u0026gt; \u0026lt;!-- front matterì—ì„œ `parent` íŒŒë¼ë¯¸í„°ë¥¼ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ ëª…ì¹­ìœ¼ë¡œ, ì œëª©ì„ ìì‹ ì¹´í…Œê³ ë¦¬ ëª…ì¹­ìœ¼ë¡œ ì¸ì‹ --\u0026gt; {{ $currentCategories := partial \u0026#34;categories/value\u0026#34; (slice .Params.parent .Title) }} {{ $pages := slice }} \u0026lt;!-- ëª¨ë“  \u0026#34;posts\u0026#34; ê²½ë¡œì˜ ê²Œì‹œê¸€ë“¤ì„ ìˆœíšŒí•˜ë©´ì„œ --\u0026gt; {{ range where .Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;posts\u0026#34; }} {{ $pageCategories := partial \u0026#34;categories/value\u0026#34; .Params.categories }} \u0026lt;!-- ê²Œì‹œê¸€ì˜ ì „ì²´ ì¹´í…Œê³ ë¦¬ê°€ í˜„ì¬ ì¹´í…Œê³ ë¦¬ì™€ ê°™ìœ¼ë©´ `$pages` ë°°ì—´ì— ì¶”ê°€ --\u0026gt; {{ if eq $currentCategories $pageCategories }} {{ $pages = $pages | append . }} {{ end }} {{ end }} \u0026lt;div class=\u0026#34;list-header\u0026#34;\u0026gt; \u0026lt;h1\u0026gt;\u0026lt;i class=\u0026#34;fa-solid fa-file\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ .Title }}\u0026lt;/h1\u0026gt; \u0026lt;p\u0026gt;ì „ì²´ ê¸€ \u0026lt;em class=\u0026#34;list-count\u0026#34;\u0026gt;{{ len $pages }}\u0026lt;/em\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” `parent` íŒŒë¼ë¯¸í„°ë¡œ ë°”ë¡œê°€ê¸° ë§í¬ë¥¼ ìƒì„± --\u0026gt; {{ if .Params.parent }} \u0026lt;div class=\u0026#34;categories-section\u0026#34;\u0026gt; \u0026lt;h2\u0026gt;ìƒìœ„ ì¹´í…Œê³ ë¦¬\u0026lt;/h2\u0026gt; \u0026lt;div class=\u0026#34;category-chips\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;category-item\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ \u0026#34;/categories/\u0026#34; | relURL }}{{ .Params.parent | urlize }}/\u0026#34; class=\u0026#34;category-link\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;category-name\u0026#34;\u0026gt;\u0026lt;i class=\u0026#34;fa-solid fa-folder-open\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ .Params.parent }}\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {{ end }} {{ if $pages }} \u0026lt;div class=\u0026#34;post-list\u0026#34;\u0026gt; {{ $paginate := .Paginate $pages 10 }} \u0026lt;div class=\u0026#34;post-list\u0026#34;\u0026gt; {{ range $paginate.Pages }} {{ partial \u0026#34;docs/post-item.html\u0026#34; . }} {{ end }} \u0026lt;/div\u0026gt; {{ partial \u0026#34;docs/pagination.html\u0026#34; $paginate }} \u0026lt;/div\u0026gt; {{ else }} \u0026lt;div class=\u0026#34;post-list empty-list\u0026#34;\u0026gt; \u0026lt;p\u0026gt;ì´ ì¹´í…Œê³ ë¦¬ì— ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/article\u0026gt; {{ end }} ìì‹ ì¹´í…Œê³ ë¦¬ì™€ ì—°ê´€ëœ í˜ì´ì§€ë“¤ì„ íƒìƒ‰í•˜ëŠ” ë™ì‘ì„ ì œì™¸í•˜ë©´ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ í…œí”Œë¦¿ê³¼ ë™ì¼í•©ë‹ˆë‹¤. ë°°ì—´ í˜•íƒœì˜ categories ë¥¼ / ë¡œ êµ¬ë¶„ëœ ë¬¸ìì—´ë¡œ ë§Œë“¤ì–´ì„œ ë¹„êµí•©ë‹ˆë‹¤.\nìŠ¤íƒ€ì¼ì€ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì™€ ë™ì¼í•˜ë¯€ë¡œ ë³„ë„ë¡œ ì¶”ê°€í• ê±´ ì—†ê³ , ìì‹ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì¸ë±ìŠ¤ í˜ì´ì§€ë“¤ì„ ë§Œë“¤ì–´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ì•„ë˜ì²˜ëŸ¼ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì˜ ì¸ë±ìŠ¤ í˜ì´ì§€ì™€ ë™ì¼í•œ ê²½ë¡œì— ìì‹ ì¹´í…Œê³ ë¦¬ í´ë”ë¥¼ ë§Œë“¤ê³  ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.\nCopy bash content/categories/ â””â”€â”€ Development/ â”œâ”€â”€ _index.md â”œâ”€â”€ golang/ â”‚Â â””â”€â”€ _index.md â””â”€â”€ jekyll/ â””â”€â”€ _index.md ìì‹ ì¹´í…Œê³ ë¦¬ì˜ ì¸ë±ìŠ¤ í˜ì´ì§€ ë‚´ìš©ì€ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì²˜ëŸ¼ front matterë¥¼ ì‘ì„±í•˜ëŠ”ë°, ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ ëª…ì¹­ì„ parent íŒŒë¼ë¯¸í„°ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.\nCopy yaml --- title: \u0026#34;golang\u0026#34; type: \u0026#34;categories\u0026#34; layout: \u0026#34;child\u0026#34; parent: \u0026#34;Development\u0026#34; --- ë Œë”ë§í•˜ë©´ ì´ë ‡ê²Œ ë³´ì…ë‹ˆë‹¤.\nì¹´í…Œê³ ë¦¬ ëª©ë¡ í…œí”Œë¦¿ ì¶”ê°€ # ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ëŠ” ê²°ë¡ ë¶€í„° ë³´ì—¬ë“œë¦¬ë©´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ìŠµë‹ˆë‹¤.\níŠ¸ë¦¬ì²˜ëŸ¼ ì¹´í…Œê³ ë¦¬ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ ë³´ì—¬ì£¼ê³  ìì‹ ì¹´í…Œê³ ë¦¬ í•˜ìœ„ì—ëŠ” ê´€ë ¨ ê²Œì‹œê¸€ì„ ìµœëŒ€ 3ê°œê¹Œì§€ í‘œì‹œí•©ë‹ˆë‹¤.\nê³¼ê±° PaperMod í…Œë§ˆë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‹œë„í•  ë•Œ ë‹¤ë¥¸ í…Œë§ˆ ì‚¬ìš©ìë¡œë¶€í„° ì „ë‹¬ë°›ì€ ì†ŒìŠ¤ì½”ë“œë¥¼ ì½”íŒŒì¼ëŸ¿ Grok Code Fast 1 ëª¨ë¸ì˜ ë„ì›€ì„ ë°›ì•„ ê°€ê³µí–ˆì§€ë§Œ ì½”ë“œ ê¸¸ì´ê°€ ê¸¸ì–´ì„œ ë§í¬ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.\nhugo-book-custom/layouts/categories/root.html at master Â· â€¦ Hugo documentation theme as simple as plain book. Contribute to minyeamer/hugo-book-custom development by creating an â€¦ GitHub hugo-book-custom/assets/_custom.scss at master Â· minyeamer/hugo-book-custom Hugo documentation theme as simple as plain book. Contribute to minyeamer/hugo-book-custom development by creating an â€¦ GitHub ì²« ë²ˆì§¸ ë§í¬ëŠ” layouts/categories/root.html ê²½ë¡œì— ì¶”ê°€í•˜ëŠ” íŒŒì¼ë¡œ terms í…œí”Œë¦¿ì…ë‹ˆë‹¤.\në‘ ë²ˆì§¸ ë§í¬ëŠ” assets/_custom.scss íŒŒì¼ì¸ë°, ì¤‘ê°„ì— /* Categories List */ ì£¼ì„ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¶€ë¶„ì„ ì°¸ê³ í•˜ë©´ ë©ë‹ˆë‹¤.\nê·¸ë¦¬ê³ , terms í…œí”Œë¦¿ìœ¼ë¡œ ë¶„ë¥˜í–ˆì§€ë§Œ í…œí”Œë¦¿ ëª…ì¹­ì€ root ì´ë¯€ë¡œ Hugoê°€ ìë™ìœ¼ë¡œ ì¸ì‹í•˜ì§€ ëª»í•©ë‹ˆë‹¤. content/categories/ ê²½ë¡œ ì•„ë˜ì— ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.\nCopy yaml # content/categories/_index.md --- title: \u0026#34;Categories\u0026#34; type: \u0026#34;categories\u0026#34; layout: \u0026#34;root\u0026#34; --- {baseURL}/categories ê²½ë¡œë¥¼ í†µí•´ ì¹´í…Œê³ ë¦¬ terms í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ë°, íƒœê·¸ terms í˜ì´ì§€ì²˜ëŸ¼ ì†Œì…œ ë§í¬ ì˜ì—­ì—ì„œ ì•ˆì“°ëŠ” ë§í¬ í•˜ë‚˜ ëŒ€ì‹ ì— ì¹´í…Œê³ ë¦¬ ë§í¬ë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/brand.html --\u0026gt; \u0026lt;div class=\u0026#34;sidebar-profile\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;sidebar-social\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;a href=\u0026#34;{{ \u0026#34;/categories/\u0026#34; | relURL }}\u0026#34; title=\u0026#34;Categories\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-folder\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; ë©”ë‰´ì— ì¹´í…Œê³ ë¦¬ ì¶”ê°€ # ì¹´í…Œê³ ë¦¬ terms í˜ì´ì§€ì—ì„œ ì „ì²´ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ íŒŒì•…í•  ìˆ˜ ìˆì§€ë§Œ, ì¹´í…Œê³ ë¦¬ëŠ” ì•„ë¬´ë˜ë„ ì–´ëŠ ìœ„ì¹˜ì—ì„œë‚˜ ë³¼ ìˆ˜ ìˆëŠ” ë©”ë‰´ ì˜ì—­ì—ì„œ ë³´ì—¬ì§€ëŠ”ê²Œ ë¸”ë¡œê·¸ ë…ìë“¤ì˜ ì´ëª©ì„ ëŒê¸°ì— ì¢‹ì„ ê²ƒì…ë‹ˆë‹¤.\nBook í…Œë§ˆì—ì„œ ë©”ë‰´ë¥¼ í‘œí˜„í•˜ëŠ” í…œí”Œë¦¿ì€ layouts/_partials/docs/menu.html ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì— ëŒ€í•œ í…œí”Œë¦¿ì„ í˜¸ì¶œí•  ê²ƒì…ë‹ˆë‹¤.\nìƒˆë¡œìš´ í…œí”Œë¦¿ì˜ ìœ„ì¹˜ëŠ” ì•ì—ì„œ ì¹´í…Œê³ ë¦¬ íŒŒì‹± í…œí”Œë¦¿ì„ ì¶”ê°€í–ˆë˜ layouts/_partials/categories/ ê²½ë¡œê°€ ì ì ˆí•´ë³´ì…ë‹ˆë‹¤. ì—¬ê¸°ì— menu.html í…œí”Œë¦¿ì„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/_partials/categories/menu.html --\u0026gt; {{ if .Site.Taxonomies.categories }} \u0026lt;div class=\u0026#34;book-categories\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;checkbox\u0026#34; class=\u0026#34;hidden toggle\u0026#34; id=\u0026#34;categories-control\u0026#34; checked /\u0026gt; \u0026lt;label for=\u0026#34;categories-control\u0026#34; class=\u0026#34;categories-toggle categories-link\u0026#34;\u0026gt; \u0026lt;!-- `ì „ì²´` ì¹´í…Œê³ ë¦¬ ë§í¬ -\u0026gt; ì¹´í…Œê³ ë¦¬ terms í˜ì´ì§€ë¡œ ì—°ê²° --\u0026gt; \u0026lt;a href=\u0026#34;/categories/\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-folder\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;span\u0026gt;{{ default \u0026#34;Categories\u0026#34; .Site.Params.BookMenu.categoriesLabel }}\u0026lt;/span\u0026gt; \u0026lt;span class=\u0026#34;category-count\u0026#34;\u0026gt;({{ len (where .Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;posts\u0026#34;) }})\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-chevron-down categories-arrow\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/label\u0026gt; \u0026lt;ul class=\u0026#34;categories-menu\u0026#34; id=\u0026#34;categories-menu\u0026#34;\u0026gt; \u0026lt;!-- ë¶€ëª¨-ìì‹ ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ êµ¬ì„± --\u0026gt; {{ $categoryTree := dict }} {{ range (where .Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;posts\u0026#34;) }} {{ if .Params.categories }} {{ $parent := partial \u0026#34;categories/value-first\u0026#34; .Params.categories | string }} {{ if $parent }} \u0026lt;!-- ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ ëª©ë¡ êµ¬ì„± --\u0026gt; {{ if not (index $categoryTree $parent) }} {{ $categoryTree = $categoryTree | merge (dict $parent dict) }} {{ end }} {{ $child := partial \u0026#34;categories/value-second\u0026#34; .Params.categories | string }} {{ if $child }} \u0026lt;!-- ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ìì‹ ì¹´í…Œê³ ë¦¬ ëª©ë¡ êµ¬ì„± --\u0026gt; {{ $children := index $categoryTree $parent }} {{ if not (index $children $child) }} {{ $children = $children | merge (dict $child dict) }} {{ $categoryTree = $categoryTree | merge (dict $parent $children) }} {{ end }} {{ end }} {{ end }} {{ end }} {{ end }} {{ range $parent, $children := $categoryTree }} \u0026lt;!-- ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ì™€ ì—°ê´€ëœ ê²Œì‹œê¸€ ìˆ˜ë¥¼ ì¹´ìš´íŒ… --\u0026gt; {{ $parentCount := 0 }} {{ range (where $.Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;posts\u0026#34;) }} {{ if .Params.categories }} {{ if eq $parent (partial \u0026#34;categories/value-first\u0026#34; .Params.categories | string) }} {{ $parentCount = add $parentCount 1 }} {{ end }} {{ end }} {{ end }} \u0026lt;li\u0026gt; {{ if $children }} \u0026lt;input type=\u0026#34;checkbox\u0026#34; class=\u0026#34;hidden toggle\u0026#34; id=\u0026#34;cat-{{ $parent | urlize }}\u0026#34; /\u0026gt; \u0026lt;label for=\u0026#34;cat-{{ $parent | urlize }}\u0026#34; class=\u0026#34;categories-toggle categories-link\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;/categories/{{ $parent | urlize }}/\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-folder\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ $parent }} \u0026lt;span class=\u0026#34;category-count\u0026#34;\u0026gt;({{ $parentCount }})\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-chevron-down categories-arrow\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/label\u0026gt; \u0026lt;ul\u0026gt; {{ range $child, $_ := $children }} \u0026lt;!-- ìì‹ ì¹´í…Œê³ ë¦¬ì™€ ì—°ê´€ëœ ê²Œì‹œê¸€ ìˆ˜ë¥¼ ì¹´ìš´íŒ… --\u0026gt; {{ $childCount := 0 }} {{ range (where $.Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;posts\u0026#34;) }} {{ if .Params.categories }} {{ if eq (printf \u0026#34;%s/%s\u0026#34; $parent $child) (partial \u0026#34;categories/value\u0026#34; .Params.categories | string) }} {{ $childCount = add $childCount 1 }} {{ end }} {{ end }} {{ end }} \u0026lt;li class=\u0026#34;categories-link\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;/categories/{{ $parent | urlize }}/{{ $child | urlize }}/\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-file\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ $child }} \u0026lt;span class=\u0026#34;category-count\u0026#34;\u0026gt;({{ $childCount }})\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; {{ end }} \u0026lt;/ul\u0026gt; {{ else }} \u0026lt;a href=\u0026#34;/categories/{{ $parent | urlize }}/\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-file\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ $parent }} \u0026lt;span class=\u0026#34;category-count\u0026#34;\u0026gt;({{ $parentCount }})\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; {{ end }} \u0026lt;/li\u0026gt; {{ end }} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; {{ end }} CSS Copy scss .book-categories { margin: $padding-16 0; padding-bottom: $padding-16; border-bottom: 1px solid var(--gray-500); position: relative; z-index: 1; i.fa-file, i.fa-folder, i.fa-chevron-down, i.fa-chevron-up { font-size: $font-size-14; transition: transform 0.2s ease; max-width: $font-size-18; } .category-count { font-size: $font-size-12; color: var(--gray-500); white-space: nowrap; text-align: left; margin: 0; } .categories-toggle { display: flex; align-items: center; padding: $padding-4 $padding-8; min-height: 2.381rem; font-weight: 500; cursor: pointer; } .categories-link:hover { color: var(--color-link); background-color: var(--link-background); } // `ì „ì²´` ì¹´í…Œê³ ë¦¬ í¼ì¹˜ê¸°/ì ‘ê¸° #categories-control:checked + .categories-toggle .categories-arrow { transform: rotate(180deg); } #categories-control:checked ~ .categories-menu { max-height: 1000px; } // ë¶€ëª¨-ìì‹ ì¹´í…Œê³ ë¦¬ í¼ì¹˜ê¸°/ì ‘ê¸° input[id^=\u0026#34;cat-\u0026#34;]:checked + .categories-toggle .categories-arrow { transform: rotate(180deg); } } ë©”ë‰´ ì¹´í…Œê³ ë¦¬ì˜ í•µì‹¬ ê¸°ëŠ¥ì€ ì¹´í…Œê³ ë¦¬ë¥¼ í¼ì¹˜ê³  ì ‘ì„ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ê³¼ ì¹´í…Œê³ ë¦¬ì™€ ì—°ê´€ëœ ê²Œì‹œê¸€ì˜ ìˆ˜ë¥¼ ì¹´ìš´íŒ…í•˜ì—¬ í‘œì‹œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\nì²« ë²ˆì§¸, ì¹´í…Œê³ ë¦¬ë¥¼ í¼ì¹˜ê³  ì ‘ëŠ” ê¸°ëŠ¥ì€ ì²´í¬ë°•ìŠ¤ë¥¼ í†µí•´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ê¸°ëŠ¥ìƒ ì²´í¬ë°•ìŠ¤ì§€ë§Œ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ê²Œ ë˜ë©´ í™”ì‚´í‘œë¡œ ë³´ì´ëŠ”ë°, ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ë©´ í•˜ìœ„ ì¹´í…Œê³ ë¦¬ê°€ í¼ì³ì§€ê²Œ ë©ë‹ˆë‹¤.\në‘ ë²ˆì§¸, ì¹´í…Œê³ ë¦¬ì™€ ì—°ê´€ëœ ê²Œì‹œê¸€ì˜ ìˆ˜ë¥¼ ì¹´ìš´íŒ…í•˜ëŠ” ë°©ì‹ì€ ì²˜ìŒì— categoryCount ë¼ëŠ” ë§µì„ ë§Œë“¤ê³  ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ë¥¼ ë§Œë“¤ ë•Œ ì¹´ìš´íŒ…ë„ ê°™ì´ í•˜ë ¤ê³  í–ˆì§€ë§Œ, Hugoì—ì„œ ë§µì€ ë¶ˆë³€ì„±ì„ ê°€ì ¸ì„œ ì•„ë¬´ë¦¬ ì¹´ìš´íŒ…í•´ë„ 1 ì´ìƒìœ¼ë¡œ ì˜¬ë¼ê°€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ, ì™„ì„±ëœ ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ë¥¼ ìˆœíšŒí•˜ëŠ” ê³¼ì •ì—ì„œ ë§¤ë²ˆ ëª¨ë“  ê²Œì‹œê¸€ ëª©ë¡ì„ ê°€ì ¸ì™€ í˜„ì¬ ì¹´í…Œê³ ë¦¬ì™€ ì—°ê´€ëœ ê²Œì‹œê¸€ì˜ ìˆ˜ë¥¼ ì„¸ëŠ” ë°©ì‹ì„ ì±„íƒí–ˆìŠµë‹ˆë‹¤.\në§ˆì§€ë§‰ìœ¼ë¡œ, layouts/_partials/docs/menu.html í…œí”Œë¦¿ìœ¼ë¡œ ëŒì•„ê°€ì„œ ê²€ìƒ‰ì°½ ì•„ë˜ì— ë°©ê¸ˆ ì¶”ê°€í•œ í…œí”Œë¦¿ì„ í˜¸ì¶œí•´ì£¼ë©´ ë©”ë‰´ ì˜ì—­ì— ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/menu.html --\u0026gt; \u0026lt;nav\u0026gt; {{ partial \u0026#34;docs/brand\u0026#34; . }} {{ partial \u0026#34;docs/search\u0026#34; . }} {{ partial \u0026#34;categories/menu\u0026#34; . }} \u0026lt;!-- ... --\u0026gt; ì—¬ê¸°ê¹Œì§€ ì ìš©í–ˆë‹¤ë©´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ë©”ë‰´ì— ì¹´í…Œê³ ë¦¬ íŠ¸ë¦¬ê°€ ë³´ì—¬ì§‘ë‹ˆë‹¤.\nê²Œì‹œê¸€ í•­ëª© ê°œì„ í•˜ê¸° # íƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ë¥¼ ì¶”ê°€í–ˆìœ¼ë‹ˆ ì²˜ìŒì— ë§Œë“¤ë‹¤ë§Œ ê²Œì‹œê¸€ í•­ëª© í…œí”Œë¦¿ì„ ì™„ì„±ì‹œì¼œë³´ê² ìŠµë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/_partials/docs/post-item.html --\u0026gt; \u0026lt;article class=\u0026#34;post-item\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;post-meta\u0026#34;\u0026gt; \u0026lt;time datetime=\u0026#34;{{ .Date.Format \u0026#34;2006-01-02\u0026#34; }}\u0026#34;\u0026gt; {{ .Date.Format \u0026#34;2006ë…„ 01ì›” 02ì¼\u0026#34; }} \u0026lt;/time\u0026gt; \u0026lt;!-- ê²Œì‹œê¸€ì´ ê°€ì§„ ë¶€ëª¨-ìì‹ ì¹´í…Œê³ ë¦¬ ì†ì„±ì„ í‘œì‹œ --\u0026gt; {{ if .Params.categories }} \u0026lt;div class=\u0026#34;post-categories\u0026#34;\u0026gt; {{ $parentCategory := partial \u0026#34;categories/value-first\u0026#34; .Params.categories }} {{- if $parentCategory -}} \u0026lt;a href=\u0026#34;{{ \u0026#34;/categories/\u0026#34; | relURL }}{{ $parentCategory | urlize }}/\u0026#34; class=\u0026#34;category\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-folder\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ $parentCategory }} \u0026lt;/a\u0026gt; {{ $childCategory := partial \u0026#34;categories/value-second\u0026#34; .Params.categories }} {{- if $childCategory -}} \u0026lt;a href=\u0026#34;{{ \u0026#34;/categories/\u0026#34; | relURL }}{{ $parentCategory | urlize }}/{{ $childCategory | urlize }}/\u0026#34; class=\u0026#34;category\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-file\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; {{ $childCategory }} \u0026lt;/a\u0026gt; {{- end -}} {{- end -}} \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;post-content-area{{ if .Params.cover }} has-cover{{ end }}\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;post-text-area\u0026#34;\u0026gt; \u0026lt;h2 class=\u0026#34;post-title\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .RelPermalink }}\u0026#34;\u0026gt;{{ .Title }}\u0026lt;/a\u0026gt; \u0026lt;/h2\u0026gt; {{- $summary := cond .Description .Description (cond .Summary .Summary \u0026#34;\u0026#34;) -}} {{ if $summary }} \u0026lt;div class=\u0026#34;post-summary\u0026#34;\u0026gt; {{ $summary | plainify | truncate 148 }} \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;post-summary-mobile\u0026#34;\u0026gt; {{ $summary | plainify | truncate 72 }} \u0026lt;/div\u0026gt; {{ end }} \u0026lt;!-- ê²Œì‹œê¸€ì´ ê°€ì§„ íƒœê·¸ ì†ì„±ì„ í‘œì‹œ --\u0026gt; {{ if .Params.tags }} \u0026lt;div class=\u0026#34;post-tags\u0026#34;\u0026gt; {{ range first 5 .Params.tags }} \u0026lt;a href=\u0026#34;{{ \u0026#34;/tags/\u0026#34; | relURL }}{{ . | urlize }}/\u0026#34; class=\u0026#34;tag\u0026#34;\u0026gt;#{{ . }}\u0026lt;/a\u0026gt; {{ end }} \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/div\u0026gt; {{ if .Params.cover }} \u0026lt;div class=\u0026#34;post-cover\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ .Params.cover | absURL }}\u0026#34; alt=\u0026#34;Cover Image\u0026#34; class=\u0026#34;post-cover-img\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/div\u0026gt; \u0026lt;/article\u0026gt; CSS Copy scss .post-categories { display: flex; gap: 0.5rem; .category { background: var(--gray-200); color: var(--body-font-color); padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem; .fa-file, .fa-folder { font-size: 0.8rem; } } } .post-tags { display: flex; flex-wrap: nowrap; gap: $padding-8; overflow: hidden; white-space: nowrap; .tag { display: inline-block; flex: none; background: var(--gray-100); color: var(--body-font-color); padding: $padding-4 $padding-8; font-size: $font-size-14; border: 1px solid var(--gray-200); border-radius: 4px; } } .book-footer .post-tags { line-height: 1.6; } .markdown .category, .markdown .category-link, .markdown .tag, .markdown .tag-link, .book-footer .tag { \u0026amp;[href] { color: var(--body-font-color); background: var(--gray-200); border-radius: $border-radius; } \u0026amp;[href]:visited { color: var(--body-font-color); } \u0026amp;[href]:hover { background: var(--color-page-link); color: var(--body-font-color); text-decoration: none; } } ê²Œì‹œê¸€ í•­ëª© í…œí”Œë¦¿ ì¶”ê°€ ì‹œì— ë§Œë“¤ì—ˆë˜ post-item í…œí”Œë¦¿ ì¤‘ê°„ì— post-categories ë° post-tags ìš”ì†Œë¥¼ ì¹© í˜•íƒœë¡œ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\níƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ì™€ ê´€ë ¨ëœ ëª¨ë“  êµ¬í˜„ ê³¼ì •ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\níƒœê·¸ì™€ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ê³¼ì •ì€ ê°ê°ì˜ ì»¨í…ì¸ ë¡œ ë‚˜ëˆ ë„ ê¸´ ë‚´ìš©ì´ë¼ì„œ 2ê°œì˜ ê¸€ë¡œ ë‚˜ëˆŒì§€ ê³ ë¯¼í–ˆì§€ë§Œ, taxonomies ë‚˜ ê²Œì‹œê¸€ ëª©ë¡ í…œí”Œë¦¿ ë“± ì„œë¡œ ê°„ì— ê³µí†µìœ¼ë¡œ ì„¤ëª…í•´ì•¼ í•  ë¶€ë¶„ì´ ë§ì•„ì„œ í•˜ë‚˜ì˜ ê¸€ë¡œ í•©ì¹˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\në‹¤ìŒ ê²Œì‹œê¸€ì—ì„œëŠ” ê²€ìƒ‰ í˜ì´ì§€ë¥¼ ì¶”ê°€í•˜ê³  ê¸°ë³¸ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ê°œì„ í•˜ëŠ” ê³¼ì •ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.\n"},{"id":2,"href":"/blog/hugo-blog-2/","title":"Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° (2) - ë©”ì¸ ë ˆì´ì•„ì›ƒ ì»¤ìŠ¤í„°ë§ˆì´ì§• (ë©”ë‰´, ëª©ì°¨, í—¤ë”)","content":" ëŒ€ìƒ ë…ì\në§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì€ ë¶„ë“¤ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŠ¥ì ìœ¼ë¡œ ë˜ëŠ” ì‹œê°ì ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê³  ì‹¶ì€ ë¶„ë“¤ Hugo í…œí”Œë¦¿ êµ¬ì¡°ì— ëŒ€í•´ ì´í•´í•˜ê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ HTML/CSSë¥¼ ì´ìš©í•œ ë‹¨ì¼ ì›¹ í˜ì´ì§€ êµ¬ì„±ì— ìµìˆ™í•˜ì‹  ë¶„ë“¤ ì£¼ìš” ë‚´ìš©\nHugo í…œí”Œë¦¿ êµ¬ì¡°ì™€ Book í…Œë§ˆì—ì„œ í™œìš©ë˜ëŠ” í…œí”Œë¦¿ (Book í…Œë§ˆ ì•Œì•„ë³´ê¸°) Book í…Œë§ˆì˜ ë©”ì¸ ë ˆì´ì•„ì›ƒì„ ë‘˜ëŸ¬ë³´ë©° ê° ì˜ì—­ì„ êµ¬ë³„ (ë©”ì¸ ë ˆì´ì•„ì›ƒ ê°œì„ í•˜ê¸°) Book í…Œë§ˆì—ì„œ ë©”ë‰´/ëª©ì°¨/í—¤ë” ì˜ì—­ì„ ê°œì„ í•˜ëŠ” ê³¼ì • (ë©”ë‰´ ì˜ì—­ ê°œì„ í•˜ê¸° / ëª©ì°¨ ì˜ì—­ ê°œì„ í•˜ê¸° / í—¤ë” ì˜ì—­ ê°œì„ í•˜ê¸°) ì•ì„  ê²Œì‹œê¸€ì—ì„œ Hugo í…Œë§ˆì— ëŒ€í•´ ë‘˜ëŸ¬ë³´ê³  Hugo í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.\nHugo ì„œë²„ ì‹¤í–‰í•˜ê¸° # Github Pagesë¥¼ ì´ìš©í•´ ë¸”ë¡œê·¸ë¥¼ github.io ì£¼ì†Œë¡œ ë°°í¬í•´ë³´ì•˜ì§€ë§Œ í…Œë§ˆë¥¼ ê°œì„ í•˜ëŠ” ê³¼ì •ì—ì„œëŠ” ë³€ê²½ì‚¬í•­ì„ ì¦‰ê°ì ìœ¼ë¡œ í™•ì¸í•´ë³´ê¸° ìœ„í•´ ë¡œì»¬ì—ì„œ ì„œë²„ë¥¼ ì‹¤í–‰í•´ ë³´ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.\nHugo ì„œë²„ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ hugo server ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash % hugo server Watching for changes in .../{archetypes,content,static,themes} ... Web Server is available at http://localhost:1313/ (bind address 127.0.0.1) ê¸°ë³¸ì ìœ¼ë¡œëŠ” 1313 í¬íŠ¸ì—ì„œ ì„œë²„ê°€ ì‹¤í–‰ë˜ë©° --port \u0026lt;í¬íŠ¸ë²ˆí˜¸\u0026gt; ì˜µì…˜ì„ ì¶”ê°€í•˜ë©´ ì„œë²„ê°€ í• ë‹¹ë  í¬íŠ¸ë¥¼ ì§ì ‘ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì„œë²„ë¥¼ ì‹¤í–‰í•˜ë©´ í„°ë¯¸ë„ì—ì„œ ì¶œë ¥ë˜ëŠ” ì£¼ì†Œ http://localhost:1313/ ë¥¼ í†µí•´ ë¸”ë¡œê·¸ì— ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ ì„œë²„ë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ ì¥ì ì€ í…Œë§ˆë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ë¹Œë“œë˜ì–´ ë³€ê²½ì‚¬í•­ì´ ì¦‰ê°ì ìœ¼ë¡œ ë°˜ì˜ëœë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ë§Œì•½ ë³€ê²½ì‚¬í•­ì´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì„œë²„ë¥¼ ì‹¤í–‰í•  ë•Œ --disableFastRender ì˜µì…˜ì„ ì¶”ê°€í•˜ê±°ë‚˜ ë¸Œë¼ìš°ì €ì—ì„œ ìºì‹œë¥¼ ì‚­ì œí•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nBook í…Œë§ˆ ì•Œì•„ë³´ê¸° # ì•ì„  ê²Œì‹œê¸€ì—ì„œ Book í…Œë§ˆì— ëŒ€í•´ ë‘˜ëŸ¬ë³´ë©´ì„œ ì•ìœ¼ë¡œ í•´ë‹¹ í…Œë§ˆë¥¼ ë°”íƒ•ìœ¼ë¡œ ë ˆì´ì•„ì›ƒì„ ê°œì„ í•´ë³´ê² ë‹¤ê³  ì „ë‹¬ë“œë ¸ìŠµë‹ˆë‹¤.\nBook í…Œë§ˆ ê°€ì ¸ì˜¤ê¸° # Githubì— ì˜¬ë¼ì˜¨ hugo-book ì €ì¥ì†Œë¥¼ Forkí•˜ì—¬ ê°œì¸ ì†Œìœ ì˜ ì €ì¥ì†Œë¡œ ê°€ì ¸ì˜¤ë©´ ì•ìœ¼ë¡œì˜ ë³€ê²½ì‚¬í•­ì„ ê´€ë¦¬í•˜ëŠ”ë° í¸ë¦¬í•©ë‹ˆë‹¤.\nì € ë˜í•œ Book í…Œë§ˆë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ hugo-book-customì´ë¼ëŠ” ë³„ë„ì˜ ì €ì¥ì†Œë¥¼ Forkí•´ì„œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\nForkí•œ ì €ì¥ì†Œë¥¼ git clone ëª…ë ¹ì–´ë¡œ ë¡œì»¬ ê²½ë¡œë¡œ ê°€ì ¸ì™€ ì½”ë“œë¥¼ í™•ì¸í•´ë³´ê² ìŠµë‹ˆë‹¤.\nCopy bash git clone https://github.com/minyeamer/hugo-book-custom Hugo í…œí”Œë¦¿ êµ¬ì¡° # Hugo v0.146.0 ê³µì‹ë¬¸ì„œì—ì„œ ì•ˆë‚´í•˜ëŠ” í´ë” êµ¬ì¡°ë¥¼ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\nNew template system in Hugo v0.146.0 Overview of the new template system in Hugo v0.146.0. gohugo.io layouts/ ê²½ë¡œ ì•„ë˜ì— ë‹¤ìŒê³¼ ê°™ì€ ê²½ë¡œë¡œ ë ˆì´ì•„ì›ƒì„ êµ¬ì„±í•˜ë„ë¡ ê¶Œì¥í•©ë‹ˆë‹¤.\nì—¬ê¸°ì„œ ê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” í…œí”Œë¦¿ì´ layouts/baseof.html ì´ê³ , í…œí”Œë¦¿ì„ í—¤ë”, ëª©ì°¨ ë“± ì—­í• ì— ë”°ë¼ ì‘ì€ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ  layouts/_partials/ ê²½ë¡œì— ë°°ì¹˜ì‹œí‚µë‹ˆë‹¤. layouts/baseof.html ì—ì„œëŠ” ì´ëŸ¬í•œ ë¶€ë¶„ í…œí”Œë¦¿ì„ ë™ì ìœ¼ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.\nCopy bash layouts/ â”œâ”€â”€ baseof.html â”œâ”€â”€ baseof.term.html â”œâ”€â”€ home.html â”œâ”€â”€ page.html â”œâ”€â”€ section.html â”œâ”€â”€ taxonomy.html â”œâ”€â”€ term.html â”œâ”€â”€ term.mylayout.en.rss.xml â”œâ”€â”€ _markup/ â”‚ â”œâ”€â”€ render-codeblock-go.term.mylayout.no.rss.xml â”‚ â””â”€â”€ render-link.html â”œâ”€â”€ _partials/ â”‚ â””â”€â”€ mypartial.html â”œâ”€â”€ _shortcodes/ â”‚ â”œâ”€â”€ myshortcode.html â”‚ â””â”€â”€ myshortcode.section.mylayout.en.rss.xml â”œâ”€â”€ docs/ â”‚ â”œâ”€â”€ baseof.html â”‚ â”œâ”€â”€ _shortcodes/ â”‚ â”‚ â””â”€â”€ myshortcode.html â”‚ â””â”€â”€ api/ â”‚ â”œâ”€â”€ mylayout.html â”‚ â”œâ”€â”€ page.html â”‚ â””â”€â”€ _markup/ â”‚ â””â”€â”€ render-link.html â””â”€â”€ tags/ â”œâ”€â”€ taxonomy.html â”œâ”€â”€ term.html â””â”€â”€ blue â””â”€â”€ list.html Book í…Œë§ˆ êµ¬ì¡° # layouts/docs/ ê²½ë¡œë¥¼ í™œìš©í•˜ëŠ” Hugo ê³µì‹ë¬¸ì„œì™€ ë‹¤ë¥´ê²Œ Book í…Œë§ˆëŠ” layouts/_partials/ ê²½ë¡œì— docs í´ë”ë¥¼ ë°°ì¹˜ì‹œì¼°ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ëŒ€ë¶€ë¶„ì˜ í…Œë§ˆ ìˆ˜ì • ì‘ì—…ì€ layouts/_partials/docs/ ê²½ë¡œì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.\nCopy bash layouts/_partials/docs/ â”œâ”€â”€ ... â”œâ”€â”€ brand.html â”œâ”€â”€ ... â”œâ”€â”€ footer.html â”œâ”€â”€ header.html â”œâ”€â”€ ... â”œâ”€â”€ html-head.html â”œâ”€â”€ ... â”œâ”€â”€ menu.html â”œâ”€â”€ ... â””â”€â”€ toc.html Book í…Œë§ˆì˜ layouts/_partials/docs/ ê²½ë¡œì—ëŠ” ë‹¤ì–‘í•œ í…œí”Œë¦¿ì´ ìˆì§€ë§Œ, ê·¸ ì¤‘ì—ì„œ ì£¼ë¡œ ë³´ê²Œë  ê²ƒì€ ìœ„ íŒŒì¼ë“¤ ì…ë‹ˆë‹¤.\nbrand.html : ë©”ë‰´ì—ì„œ ë¸”ë¡œê·¸ ì œëª©ì„ í‘œì‹œí•©ë‹ˆë‹¤. footer.html : ë³¸ë¬¸ í•˜ë‹¨ì— ì´ì „, ë‹¤ìŒ ê²Œì‹œê¸€ ë° ê¸€ ìˆ˜ì • ë§í¬ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. header.html : ë³¸ë¬¸ ìƒë‹¨ì— ë©”ë‰´ ë˜ëŠ” ëª©ì°¨ ì˜ì—­ì„ í¼ì¹˜ê³  ì ‘ëŠ” ë²„íŠ¼ì„ í‘œì‹œí•©ë‹ˆë‹¤. html-head.html : ë©”íƒ€(meta) íƒœê·¸ ë“± \u0026lt;head\u0026gt; íƒœê·¸ ë‚´ì— ë“¤ì–´ê°ˆ ìš”ì†Œë“¤ì„ ë‚˜ì—´í•©ë‹ˆë‹¤. menu.html : ë³¸ë¬¸ ì¢Œì¸¡ ë©”ë‰´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ brand.html ì„ í˜¸ì¶œí•©ë‹ˆë‹¤. toc.html : ë³¸ë¬¸ ìš°ì¸¡ì— ëª©ì°¨(Table of Contents)ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, ê¸°ëŠ¥ì ìœ¼ë¡œ ë¬´ì–¸ê°€ë¥¼ ì¶”ê°€í• ê²Œ ì•„ë‹ˆë¼ë©´, ë‹¨ìˆœíˆ ì‹œê°ì ìœ¼ë¡œ í…Œë§ˆë¥¼ ë³€ê²½í•˜ê³ ì í•œë‹¤ë©´ í…œí”Œë¦¿ íŒŒì¼ì„ ì§ì ‘ ê±´ë“¤ì§€ëŠ” ì•Šê³  CSS íŒŒì¼ì„ ì£¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.\nBook í…Œë§ˆì˜ CSS íŒŒì¼ë“¤ì€ assets/ ê²½ë¡œ ì•„ë˜ì— ìœ„ì¹˜í•©ë‹ˆë‹¤.\nCopy bash assets/ â”œâ”€â”€ _custom.scss â”œâ”€â”€ _defaults.scss â”œâ”€â”€ ... â”œâ”€â”€ _main.scss â”œâ”€â”€ _markdown.scss â”œâ”€â”€ ... â”œâ”€â”€ _shortcodes.scss â””â”€â”€ ... assets/ ê²½ë¡œì˜ íŒŒì¼ë“¤ ì¤‘ì—ì„œ ìœ„ íŒŒì¼ë“¤ì„ ì£¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.\n_custom.scss : ì‚¬ìš©ì ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤. _defaults.scss : í°íŠ¸ í¬ê¸°, ìƒ‰ìƒ ë“±ì´ ë³€ìˆ˜ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤. _main.scss : ë©”ë‰´, ëª©ì°¨ ë“± ë©”ì¸ ë ˆì´ì•„ì›ƒì— ëŒ€í•œ ìŠ¤íƒ€ì¼ì´ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. _markdown.scss : ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë Œë”ë§í•œ ê²°ê³¼ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ì´ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. _shortcodes.scss : ë§ˆí¬ë‹¤ìš´ ì‘ì„± ì‹œ ë¯¸ë¦¬ ì •í•´ì§„ ì§§ì€ ì½”ë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë° ì´ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ì´ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ì™¸ì— JS íŒŒì¼ ë“±ë„ assets/ ê²½ë¡œì— ìœ„ì¹˜í•©ë‹ˆë‹¤.\nExample Site # ì•ìœ¼ë¡œ Book í…Œë§ˆë¥¼ ìˆ˜ì •í•˜ê²Œ ë˜ëŠ”ë° ì•„ë¬´ëŸ° ê¸€ë„ ì—†ìœ¼ë©´ ìŠ¤íƒ€ì¼ì´ ì–´ë–»ê²Œ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.\nì´ë¯¸ ì‘ì„±í•œ ê²Œì‹œê¸€ì´ ìˆë‹¤ë©´ content/ ê²½ë¡œì— ê°€ì ¸ë‹¤ ë†“ì•„ë„ ì¢‹ì§€ë§Œ, ê·¸ëŸ¬í•œ ê²Œì‹œê¸€ì´ ì—†ì„ ê²½ìš°ì—” í…Œë§ˆì—ì„œ ì œê³µí•˜ëŠ” exampleSite/ ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nBook í…Œë§ˆì˜ Example SiteëŠ” ì˜ì–´, íˆë¸Œë¦¬ì–´, ì¤‘êµ­ì–´ë¡œ ì‘ì„±ëœ ê°ê°ì˜ í´ë”ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆëŠ”ë°, ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ë‹¤êµ­ì–´ í…ìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•˜ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ ì˜ì–´ ë¬¸ì„œë¡œ êµ¬ì„±ëœ content.en/ í´ë” ë‚´ íŒŒì¼ë“¤ì„ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ content/ ê²½ë¡œë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.\nCopy bash exampleSite/content.en/ â”œâ”€â”€ _index.md â”œâ”€â”€ docs â”‚Â â”œâ”€â”€ example â”‚Â â”‚Â â”œâ”€â”€ _index.md â”‚Â â”‚Â â””â”€â”€ ... â”‚Â â””â”€â”€ ... â”œâ”€â”€ posts â”‚Â â”œâ”€â”€ _index.md â”‚Â â””â”€â”€ ....md â””â”€â”€ showcases.md ê·¸ë¦¬ê³ , exampleSite/ ê²½ë¡œ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” hugo.yaml ì„¤ì • íŒŒì¼ë„ í˜„ì¬ í”„ë¡œì íŠ¸ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.\ní•´ë‹¹ íŒŒì¼ì€ Hugo ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•˜ëŠ”ë° í•„ìš”í•œ íŒŒë¼ë¯¸í„° ë“±ì˜ ì„¤ì • ì •ë³´ê°€ ê¸°ë¡ë˜ì–´ ìˆëŠ”ë°, TOML, YAML, JSON ë“± ë‹¤ì–‘í•œ í˜•ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤. Hugo í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ hugo.toml ì´ë¼ëŠ” íŒŒì¼ì´ ê¸°ë³¸ì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆì„ ê²ƒì¸ë°, TOML í˜•ì‹ì€ ì¤‘ì²©ëœ êµ¬ì¡°ë¥¼ í‘œí˜„í•˜ê¸°ì—ëŠ” ë²ˆê±°ë¡œì›Œ YAML í˜•ì‹ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\nì„¤ì • íŒŒì¼ì— ëŒ€í•´ì„œëŠ” í•„ìš”í•œ ìˆœê°„ì— ì„¤ëª…ë“œë¦´ ì˜ˆì •ì´ì§€ë§Œ, ì„¤ì • íŒŒì¼ ìƒë‹¨ì—ì„œ baseUrl ë° theme ê°’ì€ ì§€ê¸ˆ ë³€ê²½í•´ë‘ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.\nCopy yaml baseURL: http://localhost:1313/ title: Hugo Book theme: Book baseUrl ì€ ê¸°ë³¸ê°’ìœ¼ë¡œ http://localhost:1313/hugo-book/ ê²½ë¡œê°€ ì ìš©ë˜ì–´ ìˆëŠ”ë°, ë§¤ë²ˆ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ì— ì ‘ê·¼í•  ë•Œë§ˆë‹¤ hugo-book/ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ëŠ”ê²Œ ë¶ˆí¸í•˜ì—¬ ì œê±°í–ˆìŠµë‹ˆë‹¤.\ntheme ì€ ê¸°ë³¸ê°’ìœ¼ë¡œ hugo-book ì´ ì ìš©ë˜ì–´ ìˆëŠ”ë°, themes/ ê²½ë¡œì— ìœ„ì¹˜í•œ Book í…Œë§ˆì˜ í´ë”ëª…ì„ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.\në©”ì¸ ë ˆì´ì•„ì›ƒ ê°œì„ í•˜ê¸° # Book í…Œë§ˆëŠ” ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤.\në¸Œë¼ìš°ì €ì—ì„œ \u0026lt;body\u0026gt; íƒœê·¸ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” .container ìš”ì†Œë¥¼ í´ë™í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ë©”ë‰´, ë³¸ë¬¸, ëª©ì°¨ 3ê°œì˜ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ ì ¸ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. HTML ì†ŒìŠ¤ì½”ë“œì—ì„œ ê°ê°ì˜ ìš”ì†Œì— ëŒ€í•œ í´ë˜ìŠ¤ë¥¼ í™•ì¸í•´ë³´ë©´ book-menu, book-page, book-toc ë¡œ ì§€ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\në¸Œë¼ìš°ì €ì˜ ë„ˆë¹„ë¥¼ ì¤„ì´ë‹¤ ë³´ë©´ ë©”ë‰´ì™€ ëª©ì°¨ ì˜ì—­ì´ ì‚¬ë¼ì§€ê³  í—¤ë” ì˜ì—­ì´ ë‚˜íƒ€ë‚˜ê²Œ ë©ë‹ˆë‹¤. í—¤ë” ì˜ì—­ì€ book-header í´ë˜ìŠ¤ë¡œ íŠ¹ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í—¤ë” ì–‘ì˜†ì˜ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë©”ë‰´(ì™¼ìª½ ë²„íŠ¼)ì™€ ëª©ì°¨(ì˜¤ë¥¸ìª½ ë²„íŠ¼)ê°€ ë‹¤ì‹œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\nì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” ë©”ë‰´, ëª©ì°¨, í—¤ë” ì˜ì—­ì„ ìˆœì°¨ì ìœ¼ë¡œ ê°œì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.\në©”ë‰´ ì˜ì—­ ê°œì„ í•˜ê¸° # Book í…Œë§ˆì—ì„œ ë©”ë‰´ ì˜ì—­ì€ ì•„ë˜ ì´ë¯¸ì§€ì—ì„œ ì„ íƒëœ ë¶€ë¶„ì…ë‹ˆë‹¤.\nì¢Œì¸¡ ì‚¬ì´ë“œë°”ì— í•´ë‹¹í•˜ëŠ” ë©”ë‰´ ì˜ì—­ì€ book-menu í´ë˜ìŠ¤ê°€ ì ìš©ëœ ìš”ì†Œë¡œ ê°ì‹¸ì ¸ ìˆìœ¼ë©°, baseof.html íŒŒì¼ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ menu.html í…œí”Œë¦¿ íŒŒì¼ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- baseof.html --\u0026gt; {{ define \u0026#34;menu-container\u0026#34; }} \u0026lt;aside class=\u0026#34;book-menu\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;book-menu-content\u0026#34;\u0026gt; {{ template \u0026#34;menu\u0026#34; . }} \u0026lt;/div\u0026gt; \u0026lt;/aside\u0026gt; {{ end }} menu.html í…œí”Œë¦¿ íŒŒì¼ì€ layouts/_partials/docs/ ê²½ë¡œì— ìˆìœ¼ë©°, ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ ê²€ìƒ‰ì°½ì„ ë‚˜íƒ€ë‚´ëŠ” docs/search í…œí”Œë¦¿ì´ ë‘ ë²ˆì§¸ë¡œ í˜¸ì¶œë˜ê³ , ê·¸ ê°€ì¥ ë¨¼ì € í˜¸ì¶œë˜ëŠ” docs/brand í…œí”Œë¦¿ì´ ì´ë²ˆ ë¬¸ë‹¨ì—ì„œ ê°œì„ í•˜ê³ ì í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/menu.html --\u0026gt; \u0026lt;nav\u0026gt; {{ partial \u0026#34;docs/brand\u0026#34; . }} {{ partial \u0026#34;docs/search\u0026#34; . }} \u0026lt;!-- ... --\u0026gt; \u0026lt;/nav\u0026gt; ë‹¤ì‹œ ìœ„ ì´ë¯¸ì§€ì™€ ì•„ë˜ ê°œì„ í•˜ê³  ì‹¶ì€ ì‚¬í•­ì„ ê°™ì´ ë³´ë©´ì„œ ì–´ë–¤ ì ì„ í•´ê²°í•´ì•¼ í•˜ëŠ”ì§€ ìƒê°í•´ë³´ê² ìŠµë‹ˆë‹¤.\nì¢Œì¸¡ì—ëŠ” ë©”ë‰´ ì˜ì—­ì„ í‘œì‹œí•©ë‹ˆë‹¤. í”„ë¡œí•„ ì‚¬ì§„ì„ í‘œì‹œí•©ë‹ˆë‹¤. í´ë¦­í•˜ë©´ ë¸”ë¡œê·¸ í™ˆí˜ì´ì§€ì™€ ì—°ê²°ë©ë‹ˆë‹¤. ì†Œì…œ ë§í¬ ë˜ëŠ” ê¸°ëŠ¥ì„± ë²„íŠ¼ì„ í‘œì‹œí•©ë‹ˆë‹¤. 1. ë©”ë‰´ ì˜ì—­ ìœ„ì¹˜ ê³ ì •í•˜ê¸° # ì¼ë‹¨, ê²°ë¡ ì ìœ¼ë¡œ ì œê°€ í¬ë§í•˜ëŠ” ë””ìì¸ì€ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ìŠµë‹ˆë‹¤. í‹°ìŠ¤í† ë¦¬ì˜ hELLO í…Œë§ˆì…ë‹ˆë‹¤.\nìœ„ ìŠ¤íƒ€ì¼ì„ êµ¬í˜„í•˜ëŠ”ë° ìˆì–´ ë¬¸ì œì ì€ ë©”ë‰´ ì˜ì—­ì´ ì–´ì¤‘ê°„í•˜ê²Œ í™”ë©´ ì¢Œì¸¡ ì¤‘ê°„ì— ìœ„ì¹˜í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤.\nBook í…Œë§ˆì—ì„œëŠ” ë©”ë‰´ ì˜ì—­ì— ë°°ê²½ìƒ‰ì´ ì—†ì–´ì„œ ìì—°ìŠ¤ëŸ¬ì›Œ ë³´ì´ì§€ë§Œ, ì €ëŠ” ë©”ë‰´ ì˜ì—­ê³¼ ë³¸ë¬¸ ì˜ì—­ì˜ ê²½ê³„ë¥¼ ëª…í™•íˆ í•˜ê¸° ìœ„í•´ ë°°ê²½ìƒ‰ì„ ë„£ì–´ë³´ë©´ì„œ í•´ë‹¹ ë¬¸ì œì ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.\nì´ëŸ¬í•œ ìŠ¤íƒ€ì¼ì„ ë§Œë“¤ì–´ë‚¸ assets/_main.scss íŒŒì¼ì˜ .book-menu ë¶€ë¶„ì„ í™•ì¸í•´ë³´ë‹ˆê¹Œ flex ì†ì„±ì´ ì ìš©ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤. ë©”ë‰´, ë³¸ë¬¸, ëª©ì°¨ ì˜ì—­ì´ ë‚˜ë€íˆ ë¶™ì–´ìˆê³  ëª¨ë‹ˆí„°ì˜ ë„ˆë¹„ê°€ ê¸¸ì–´ì§ˆìˆ˜ë¡ ì¢Œìš°ì— ê³µë°±ì´ ìƒê¸°ê²Œ ë©ë‹ˆë‹¤.\nCopy scss // assets/_main.scss .book-menu { flex: 0 0 $menu-width; font-size: var(--font-size-smaller); // ... } ë©”ë‰´ ì˜ì—­ì„ ê³ ì •ì‹œí‚¤ë ¤ë©´ position: fixed; ì†ì„±ì„ ë¶€ì—¬í•˜ê³ , ì¢Œì¸¡ ëì— ê³ ì •ì‹œí‚¤ê¸° ìœ„í•´ top: 0; left: 0; ì†ì„±ì„ ì¶”ê°€ë¡œ ë¶€ì—¬í•©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ width: $menu-width; flex-shrink: 0; ì†ì„±ì€ ë©”ë‰´ ì˜ì—­ì˜ ë„ˆë¹„ë¥¼ ê³ ì •ì‹œí‚¤ëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.\nì°¸ê³ ë¡œ, ë°°ê²½ìƒ‰ì€ .book-menu í•˜ìœ„ì˜ .book-menu-content ìš”ì†Œì— ì ìš©í–ˆìŠµë‹ˆë‹¤.\nCopy scss .book-menu { position: fixed; top: 0; left: 0; width: $menu-width; flex-shrink: 0; .book-menu-content { background: var(--gray-200); // ... } // ... } ì•„ì§ ëª©ì°¨ ì˜ì—­ì˜ ì°¨ë¡€ëŠ” ì•„ë‹ˆì§€ë§Œ, ëª©ì°¨ ì˜ì—­ë„ ë©”ë‰´ ì˜ì—­ê³¼ ë™ì¼í•˜ê²Œ ìš°ì¸¡ ëì— ê³ ì •ì‹œí‚¬ í•„ìš”ê°€ ìˆì–´ ë¯¸ë¦¬ ì ìš©í•˜ê² ìŠµë‹ˆë‹¤.\nëª©ì°¨ ì˜ì—­ì— í•´ë‹¹í•˜ëŠ” book-toc í´ë˜ìŠ¤ê°€ ì ìš©ëœ ìš”ì†Œë¥¼ ëŒ€ìƒìœ¼ë¡œ top: 0; right: 0; ë¶€ë¶„ë§Œ ë‹¤ë¥´ê²Œ í•˜ì—¬ .book-menu ì™€ ë™ì¼í•œ ì†ì„±ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.\nCopy scss .book-toc { position: fixed; top: 0; right: 0; width: $menu-width; flex-shrink: 0; // ... } ì´ë ‡ê²Œ ì ìš©í–ˆì„ ë•Œ, ë³¸ë¬¸ ì˜ì—­ì´ ê°€ìš´ë° ìœ„ì¹˜í•˜ì§€ ì•Šê³  ë©”ë‰´ ì˜ì—­ì— ì¹˜ìš°ì¹œ ìª½ìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤.\nê°€ìš´ë° ì •ë ¬í•˜ê¸° ìœ„í•´ ë³¸ë¬¸ ì˜ì—­ì— í•´ë‹¹í•˜ëŠ” book-page í´ë˜ìŠ¤ê°€ ì ìš©ëœ ìš”ì†Œë¥¼ ëŒ€ìƒìœ¼ë¡œ margin: 0 auto; ì†ì„±ì„ ì ìš©í•˜ë©´ ë³¸ë¬¸ ì˜ì—­ ì–‘ ì˜†ì— ìë™ìœ¼ë¡œ ë™ì¼í•œ í¬ê¸°ì˜ ì—¬ë°±ì„ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.\nì´ˆê¸° Book í…Œë§ˆì—ëŠ” min-width ì†ì„±ë§Œ ì ìš©ë˜ì–´ ìˆëŠ”ë°, ë³¸ë¬¸ì´ ì „ì²´ ì˜ì—­ì„ ì°¨ì§€í•´ë²„ë ¤ ì—¬ë°±ì´ ë§Œë“¤ì–´ì§€ì§€ ì•Šê¸° ë•Œë¬¸ì— max-width ì†ì„±ì„ ì¶”ê°€í•©ë‹ˆë‹¤.\n$body-max-width ë³€ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì—†ì„ê±´ë°, ì €ëŠ” assets/_defaults.scss íŒŒì¼ì—ì„œ $body-max-width: 48rem; ë¼ì¸ì„ ì¶”ê°€í•´ ë³¸ë¬¸ì˜ ìµœëŒ€ ë„ˆë¹„ê°€ 48remì´ ë˜ë„ë¡ ì ìš©í–ˆìŠµë‹ˆë‹¤. (ì•ìœ¼ë¡œì˜ ì§„í–‰ ê³¼ì •ì—ì„œ ê¸°ì¡´ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ìˆì„í…ë°, $padding-24 ë“± ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ì— ëŒ€í•œ ì„¤ëª…ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.)\nCopy scss .book-page { max-width: $body-max-width; min-width: $body-min-width; margin: 0 auto; flex: 1 1 0; padding: $padding-16; } ìœ„ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ë©´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ì¢Œì¸¡ ëì˜ ê³ ì •ëœ ìœ„ì¹˜ì— ë©”ë‰´ê°€ ë³´ì—¬ì§‘ë‹ˆë‹¤.\nì˜ ë³´ì´ê¸° ìœ„í•´ ë¸Œë¼ìš°ì €ì˜ ë„ˆë¹„ë¥¼ 1500px ì •ë„ë¡œ ì¤„ì´ê³  ìº¡ì³í•œ ê²ƒì¸ë°, ì—¬ê¸°ì„œ ë¸Œë¼ìš°ì €ì˜ ë„ˆë¹„ë¥¼ 1200pxê¹Œì§€ ì¤„ì—¬ë³´ë‹ˆê¹Œ ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ë³¸ë¬¸ì´ ë©”ë‰´ ë° ëª©ì°¨ ì˜ì—­ ë’¤ì— ê²¹ì³ì„œ ìˆ¨ì–´ë²„ë¦¬ëŠ” í˜„ìƒì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\në©”ë‰´, ë³¸ë¬¸, ëª©ì°¨ ì˜ì—­ì´ flexibleí•˜ê²Œ ì •ë ¬ëœ ê¸°ì¡´ì˜ ìŠ¤íƒ€ì¼ê³¼ ë‹¤ë¥´ê²Œ ë©”ë‰´ì™€ ëª©ì°¨ ì˜ì—­ì„ position ì†ì„±ìœ¼ë¡œ ì–‘ëì— ê³ ì •ì‹œí‚¤ë©´ì„œ ë³¸ë¬¸ ì˜ì—­ê³¼ ë…ë¦½ì ì¸ ìš”ì†Œê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë³¸ë¬¸ ì˜ì—­ì´ ë©”ë‰´ì™€ ëª©ì°¨ ì˜ì—­ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ê³  ì¹¨ë²”í•˜ê²Œ ëœ ê²ƒì…ë‹ˆë‹¤.\në³¸ë¬¸ ë©”ë‰´ê°€ ë©”ë‰´ì™€ ëª©ì°¨ ì˜ì—­ì— ê²¹ì¹˜ì§€ ì•Šê¸° ìœ„í•´ ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ë“¤ì´ ìˆê² ì§€ë§Œ, ì €ëŠ” Book í…Œë§ˆì—ì„œ ì´ë¯¸ ë§Œë“¤ì–´ë†“ì€ ë°˜ì‘í˜• ë””ìì¸ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\nCopy scss @media screen and (max-width: $mobile-breakpoint) { .book-menu { visibility: hidden; margin-inline-start: -$menu-width; z-index: 1; } .book-toc { display: none; } .book-header { display: block; } // ... } @media screen and (max-width: $mobile-breakpoint) ëŠ” í™”ë©´ì˜ ë„ˆë¹„ê°€ $mobile-breakpoint ë³´ë‹¤ ì‘ì•„ì§€ëŠ” ê²½ìš°ë¥¼ ê¸°ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ì¡°ê±´ë¬¸ ì…ë‹ˆë‹¤.\nassets/_defaults.scss íŒŒì¼ì—ì„œ $mobile-breakpoint ëŠ” $menu-width + $body-min-width * 1.2 + $toc-width ì •ë„ì˜ í¬ê¸°ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ê³„ì‚°í•˜ë©´ 56rem ì •ë„ ë˜ëŠ”ë°, í™”ë©´ì˜ ë„ˆë¹„ê°€ ì´ë³´ë‹¤ ì‘ì•„ì§€ë©´ ë©”ë‰´ì™€ ëª©ì°¨ ì˜ì—­ì„ ìˆ¨ê¸°ê³  í—¤ë”ë¥¼ í‘œì‹œí•˜ê²Œ ë©ë‹ˆë‹¤. (í—¤ë”ì— ëŒ€í•œ ì„¤ëª…ì€ í—¤ë”ë¥¼ ê°œì„ í•  ë•Œ í•  ì˜ˆì •ì´ì§€ë§Œ, í—¤ë”ì—ì„œ ë©”ë‰´ì™€ ëª©ì°¨ë¥¼ í¼ì¹˜ê³  ì ‘ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)\në³€ê²½ëœ ìŠ¤íƒ€ì¼ì—ì„œ ë³¸ë¬¸ì´ ë©”ë‰´ ë° ëª©ì°¨ì™€ ê²¹ì¹˜ê²Œ ë˜ëŠ” ì§€ì ì€ ë©”ë‰´ì™€ ëª©ì°¨ ì˜ì—­ì˜ ë„ˆë¹„ì— $body-max-width ê¸¸ì´ë¥¼ ë”í•œ í¬ê¸°ì…ë‹ˆë‹¤. ì¦‰, $mobile-breakpoint ì—ì„œ $body-min-width ë¥¼ $body-max-width ë¡œ ë°”ê¿”ì£¼ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ ë³€ê²½í•˜ê³  ë‹¤ì‹œ ê³„ì‚°í•˜ë©´ 93.6remì´ ë˜ì–´ ë³¸ë¬¸ì´ ë©”ë‰´ ë° ëª©ì°¨ì™€ ê²¹ì¹˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤.\nCopy scss $mobile-breakpoint: $menu-width + $body-max-width * 1.2 + $toc-width !default; ì´ë ‡ê²Œ í•´ê²°ëœ ì¤„ ì•Œì•˜ì§€ë§Œ, 32ì¸ì¹˜ ëª¨ë‹ˆí„° ë° ëª¨ë°”ì¼ ê¸°ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œ ë¬¸ì œê°€ ì—†ì—ˆë˜ ê²ƒì´ê³  13ì¸ì¹˜ ë…¸íŠ¸ë¶ì—ì„œ ë¸”ë¡œê·¸ì— ì ‘ì†í•´ë³´ë‹ˆê¹Œ ëª¨ë°”ì¼ì²˜ëŸ¼ ë©”ë‰´ì™€ ë³¸ë¬¸ì´ ìˆ¨ê²¨ì ¸ ë³´ì˜€ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´í›„ì— ë‹¨ì¼ $mobile-breakpoint ë¥¼ $wide-breakpoint, $toc-breakpoint, $menu-breakpoint 3ë‹¨ê³„ë¡œ ë‚˜ëˆ„ê³  $wide-breakpoint ì§€ì ì—ì„œ ë³¸ë¬¸ì˜ ë„ˆë¹„ë¥¼ í•œ ë²ˆ ì¤„ì—¬ì£¼ì–´ 11ì¸ì¹˜ ë„ˆë¹„ê¹Œì§€ëŠ” ë©”ë‰´ì™€ ëª©ì°¨ê°€ ì „ë¶€ í‘œì‹œë˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì´ ë¶€ë¶„ì€ ê°ìì˜ í™”ë©´ í¬ê¸°ì— ë§ì¶° ì§ì ‘ ì§„í–‰í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.\n2. í”„ë¡œí•„ ì‚¬ì§„ì„ í‘œì‹œí•˜ê¸° # í˜„ì¬ê¹Œì§€ì˜ ë³€ê²½ì‚¬í•­ì„ ì ìš©í•˜ë©´ ë¸”ë¡œê·¸ê°€ ì•„ë˜ì™€ ê°™ì´ ë³´ì—¬ì§‘ë‹ˆë‹¤.\në©”ë‰´ ì˜ì—­ì—ì„œ ë¸”ë¡œê·¸ ì œëª©ë§Œ ìˆê³  ëˆˆê¸¸ì„ ëŒë§Œí•œ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ì œëª© ìœ„ì— í”„ë¡œí•„ ì‚¬ì§„ì„ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤.\në©”ë‰´ ì˜ì—­ ê°œì„ í•˜ê¸° ë¬¸ë‹¨ì˜ ì²« ë¶€ë¶„ì—ì„œ ì„¤ëª…í–ˆë“¯ì´ ë¸”ë¡œê·¸ ì œëª©ì´ ìœ„ì¹˜í•œ í…œí”Œë¦¿ì€ layouts/_partials/docs/brand.html íŒŒì¼ì…ë‹ˆë‹¤. íŒŒì¼ì˜ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/brand.html --\u0026gt; \u0026lt;h2 class=\u0026#34;book-brand\u0026#34;\u0026gt; \u0026lt;a class=\u0026#34;flex align-center\u0026#34; href=\u0026#34;{{ cond (not .Site.Home.File) .Sites.Default.Home.RelPermalink .Site.Home.RelPermalink }}\u0026#34;\u0026gt; {{- with .Site.Params.BookLogo -}} \u0026lt;img src=\u0026#34;{{ . | relURL }}\u0026#34; alt=\u0026#34;{{ partial \u0026#34;docs/text/i18n\u0026#34; \u0026#34;Logo\u0026#34; }}\u0026#34; /\u0026gt; {{- end -}} \u0026lt;span\u0026gt;{{ .Site.Title }}\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/h2\u0026gt; ì„¤ì • íŒŒì¼ì—ì„œ BookLogo íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•˜ë©´ ì œëª© ì˜†ì— ë¡œê³ ë¥¼ í‘œì‹œí•˜ëŠ”ë“¯ í•˜ì§€ë§Œ, í”„ë¡œí•„ ì‚¬ì§„ì€ ì´ë³´ë‹¤ ë” í¬ê²Œ ì œëª© ìœ„ì— ë‚˜íƒ€ë‚¼ ê²ƒì´ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ ìš”ì†Œë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤. (í”„ë¡œí•„ ì‚¬ì§„ì„ ì›í˜•ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” CSS ìŠ¤íƒ€ì¼ë„ assets/_custom.scss ì— ì ìš©í•©ë‹ˆë‹¤.)\nHTML Copy html \u0026lt;!-- layouts/_partials/docs/brand.html --\u0026gt; \u0026lt;div class=\u0026#34;sidebar-profile\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;profile-img-wrap\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.BaseURL }}\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ .Site.Params.BookMenu.profileImage }}\u0026#34; alt=\u0026#34;Profile\u0026#34; class=\u0026#34;profile-img\u0026#34; /\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;h2 class=\u0026#34;book-brand\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/h2\u0026gt; CSS Copy scss // assets/_custom.scss .profile-img-wrap { border-radius: 50%; overflow: hidden; margin-bottom: 1rem; } .profile-img { width: 100%; height: 100%; object-fit: contain; border-radius: 50%; display: block; } í…œí”Œë¦¿ì—ì„œ {{ .Site.Params.BookMenu.profileImage }} ë¶€ë¶„ì€ ì„¤ì • íŒŒì¼ì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. ê¸°ë³¸ ì„¤ì • íŒŒì¼ì€ Hugo í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê²½ë¡œì— ìˆëŠ” hugo.toml íŒŒì¼ì…ë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì—ì„œ profileImage íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ëŠ”ë° YAML í˜•ì‹ì—ì„œëŠ” ì´ë ‡ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy yaml # hugo.yaml params: BookMenu: profileImage: \u0026#34;\u0026lt;í”„ë¡œí•„-ì‚¬ì§„-ì£¼ì†Œ\u0026gt;\u0026#34; í”„ë¡œí•„ ì‚¬ì§„ì˜ ì£¼ì†Œê¹Œì§€ ì„¤ì •í•œ ê²°ê³¼ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ìŠµë‹ˆë‹¤.\n3. ì†Œì…œ ë§í¬ë¥¼ í‘œì‹œí•˜ê¸° # ë‹¤ìŒìœ¼ë¡œ, í”„ë¡œí•„ ì‚¬ì§„ ì•„ë˜ì—, ê·¸ë¦¬ê³  ë¸”ë¡œê·¸ ì œëª© ìœ„ì— ì†Œì…œ ë§í¬ë¥¼ í‘œì‹œí•  ê²ƒì…ë‹ˆë‹¤.\nbrand.html í…œí”Œë¦¿ì— ì†Œì…œ ë§í¬ë¥¼ ì¶”ê°€í•˜ë©´ ë˜ëŠ” ê²ƒì€ ì´ë¯¸ ì•Œê³  ìˆìœ¼ë¯€ë¡œ ë¶€ê°€ì ì¸ ì„¤ëª…ì—†ì´ ë°”ë¡œ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/_partials/docs/brand.html --\u0026gt; \u0026lt;div class=\u0026#34;sidebar-profile\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;profile-img-wrap\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;sidebar-social\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.Params.BookMenu.githubLink }}\u0026#34; target=\u0026#34;_blank\u0026#34; title=\u0026#34;GitHub\u0026#34; {{ if not .Site.Params.BookMenu.githubLink }}class=\u0026#34;disabled\u0026#34;{{ end }}\u0026gt; \u0026lt;i class=\u0026#34;fa-brands fa-github\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.Params.BookMenu.linkedinLink }}\u0026#34; target=\u0026#34;_blank\u0026#34; title=\u0026#34;LinkedIn\u0026#34; {{ if not .Site.Params.BookMenu.linkedinLink }}class=\u0026#34;disabled\u0026#34;{{ end }}\u0026gt; \u0026lt;i class=\u0026#34;fa-brands fa-linkedin\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.Params.BookMenu.notionLink }}\u0026#34; target=\u0026#34;_blank\u0026#34; title=\u0026#34;Notion\u0026#34; {{ if not .Site.Params.BookMenu.notionLink }}class=\u0026#34;disabled\u0026#34;{{ end }}\u0026gt; \u0026lt;i class=\u0026#34;fa-brands fa-notion\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.Params.BookMenu.twitterLink }}\u0026#34; target=\u0026#34;_blank\u0026#34; title=\u0026#34;Twitter\u0026#34; {{ if not .Site.Params.BookMenu.twitterLink }}class=\u0026#34;disabled\u0026#34;{{ end }}\u0026gt; \u0026lt;i class=\u0026#34;fa-brands fa-twitter\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;h2 class=\u0026#34;book-brand\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/h2\u0026gt; CSS Copy scss // assets/_custom.scss .sidebar-social { display: flex; justify-content: center; align-items: center; gap: 0.5rem; font-size: 1.5rem; width: 100%; margin-bottom: 1rem; } .sidebar-social a, i { color: --color-social-link; font-size: 2rem; flex: 1 1 0; text-align: center; transition: color 0.2s; } .sidebar-social a.disabled { pointer-events: none; opacity: 0.5; cursor: default; } ì´ 4ê°œì˜ ì†Œì…œ ë§í¬ [ ê¹ƒí—ˆë¸Œ, ë§í¬ë“œì¸, ë…¸ì…˜, íŠ¸ìœ„í„° ] ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\n\u0026lt;a\u0026gt; íƒœê·¸ì—ì„œ if ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ì†Œì…œ ë§í¬ë¥¼ ê°€ë¦¬í‚¤ëŠ” BookMenu.githubLink ë“±ì˜ íŒŒë¼ë¯¸í„°ê°€ ì„¤ì • íŒŒì¼ì— ì—†ì„ ê²½ìš° ì¶”ê°€ë˜ëŠ” êµ¬ë¬¸ì…ë‹ˆë‹¤. ì†Œì…œ ë§í¬ê°€ ì—†ìœ¼ë©´ ì•„ë˜ CSS ì„¤ì •ì—ì„œ í™œìš©ë  disabled í´ë˜ìŠ¤ê°€ ì ìš©ë˜ì–´ ë§í¬ê°€ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤.\nê·¸ë¦¬ê³ , \u0026lt;a\u0026gt; íƒœê·¸ì˜ ë‚´ìš©ì„ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´ ì†Œì…œ í”Œë«í¼ì— ëŒ€í•œ ë¡œê³  ì´ë¯¸ì§€ê°€ ì•„ë‹ˆë¼ \u0026lt;i\u0026gt; íƒœê·¸ ì•„ì´ì½˜ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ Font Awesomeì—ì„œ ì œê³µí•˜ëŠ” ìŠ¤íƒ€ì¼ì¸ë°, ì´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì™¸ë¶€ ì†ŒìŠ¤ì˜ CSS íŒŒì¼ì„ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.\nFont Awesome The internet\u0026amp;#39;s icon library + toolkit. Used by millions of designers, devs, \u0026amp;amp; content creators. Open-source. â€¦ fontawesome.com Book í…Œë§ˆ êµ¬ì¡° ë¬¸ë‹¨ì—ì„œ í–ˆë˜ ê²ƒì²˜ëŸ¼ \u0026lt;head\u0026gt; íƒœê·¸ ë‚´ì— ë“¤ì–´ê°ˆ ìš”ì†ŒëŠ” layouts/_partials/docs/html-head.html í…œí”Œë¦¿ì— ì¶”ê°€í•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/html-head.html --\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; /\u0026gt; ë¡œê³  ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´ ì†Œì…œ ë¡œê³  í¬ê¸°ë¥¼ ì¡°ì ˆí•˜ê¸° ìœ„í•´ width ì†ì„±ì„ ì ìš©í•´ì•¼ í•˜ì§€ë§Œ, í…ìŠ¤íŠ¸ ìœ í˜•ì¸ \u0026lt;i\u0026gt; íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— font-size ì†ì„±ìœ¼ë¡œ í¬ê¸°ë¥¼ ì¡°ì ˆí•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. (--color-social-link ë³€ìˆ˜ëŠ” ë¼ì´íŠ¸ ëª¨ë“œì™€ ë‹¤í¬ ëª¨ë“œì— ë”°ë¼ ë‹¬ë¼ì§€ëŠ”ë°, ì•„ì§ ë‹¤í¬ ëª¨ë“œë¥¼ ì¶”ê°€í•˜ê¸° ì „ì´ë¯€ë¡œ #fff ìƒ‰ìƒì„ ì ìš©í•´ì£¼ì„¸ìš”. ë³€ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•Šì•„ë„ ì˜¤ë¥˜ëŠ” ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)\në˜í•œ, ì†Œì„¤ ë§í¬ë¥¼ ì„¤ì • íŒŒì¼ì—ì„œ ì¶”ê°€í•˜ì§€ ì•Šì•˜ì„ ê²½ìš°ì— ì¶”ê°€ë˜ëŠ” disabled í´ë˜ìŠ¤ì— ë§í¬ë¥¼ ë¹„í™œì„±í™”í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.\nì†Œì…œ ë§í¬ê¹Œì§€ ì¶”ê°€í•œ ê²°ê³¼ëŠ” ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ìŠµë‹ˆë‹¤.\nì¶”í›„ì— ì¹´í…Œê³ ë¦¬, íƒœê·¸ ë“±ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ ë©”ë‰´ ì˜ì—­ì„ ìˆ˜ì •í•  ì¼ì´ ìˆì§€ë§Œ, ì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” ë©”ë‰´ ì˜ì—­ì— ëŒ€í•´ ì—¬ê¸°ê¹Œì§€ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.\nëª©ì°¨ ì˜ì—­ ê°œì„ í•˜ê¸° # Book í…Œë§ˆì—ì„œ ëª©ì°¨ ì˜ì—­ì€ ì•„ë˜ ì´ë¯¸ì§€ì—ì„œ ì„ íƒëœ ë¶€ë¶„ì…ë‹ˆë‹¤.\nìœ„ ì´ë¯¸ì§€ëŠ” ë©”ë‰´ ì˜ì—­ì„ ê°œì„ í•˜ê¸° ì „ì¸ Example Site ê¸°ì¤€ì´ê³ , ë©”ë‰´ ì˜ì—­ì„ ìœ„ì¹˜ ê³ ì •í•˜ê¸° ë¬¸ë‹¨ì—ì„œ ëª©ì°¨ ì˜ì—­ë„ ìš°ì¸¡ ëì— ê³ ì •ì‹œì¼°ìŠµë‹ˆë‹¤. (ë„ˆë¬´ ëì— ë¶™ì–´ìˆìœ¼ë©´ ë³´ê¸° ì•ˆì¢‹ì•„ 1.5rem ìˆ˜ì¤€ì˜ ì—¬ë°±ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.)\nëª©ì°¨ ì˜ì—­ì€ book-toc í´ë˜ìŠ¤ê°€ ì ìš©ëœ ìš”ì†Œë¡œ ê°ì‹¸ì ¸ ìˆìœ¼ë©°, baseof.html íŒŒì¼ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ toc í…œí”Œë¦¿ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- baseof.html --\u0026gt; {{ define \u0026#34;toc-container\u0026#34; }} {{ if partial \u0026#34;docs/toc-show\u0026#34; . }} \u0026lt;aside class=\u0026#34;book-toc\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;book-toc-content\u0026#34;\u0026gt; {{ template \u0026#34;toc\u0026#34; . }} \u0026lt;/div\u0026gt; \u0026lt;/aside\u0026gt; {{ end }} {{ end }} toc.html í…œí”Œë¦¿ íŒŒì¼ì€ layouts/_partials/docs/ ê²½ë¡œì— ìˆëŠ”ë°, ë‚´ìš©ì€ ë³„ ê±° ì—†ìŠµë‹ˆë‹¤. Hugo ê³µì‹ë¬¸ì„œ TableOfContentsë¥¼ ë³´ë©´ {{ .TableOfContents }} í…œí”Œë¦¿ì„ í†µí•´ ëª©ì°¨ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ê³  ì•ˆë‚´ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Book í…Œë§ˆì—ì„œë„ Hugoì— ë‚´ì¥ëœ ëª©ì°¨ í…œí”Œë¦¿ì„ í˜¸ì¶œí•˜ì—¬ ëª©ì°¨ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/toc.html --\u0026gt; {{ partial \u0026#34;docs/inject/toc-before\u0026#34; . }} {{ .TableOfContents }} {{ partial \u0026#34;docs/inject/toc-after\u0026#34; . }} ì°¸ê³ ë¡œ, ê°™ì€ ê²½ë¡œì— ìˆëŠ” toc-show.html íŒŒì¼ì€ baseof.html ì—ì„œ book-toc ë¥¼ ìƒì„±í• ì§€ ê²°ì •í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ”ë° ë‚´ìš©ì„ ë³´ë©´ nav#TableOfContents ì˜ì—­ì´ ìˆëŠ”ì§€ ê²€ì‚¬í•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/toc-show.html --\u0026gt; {{ return default (not (eq .TableOfContents \u0026#34;\u0026lt;nav id=\\\u0026#34;TableOfContents\\\u0026#34;\u0026gt;\u0026lt;/nav\u0026gt;\u0026#34;)) (default .Site.Params.BookToC .Params.BookToC) }} ë‹¤ì‹œ Hugo ê³µì‹ë¬¸ì„œ TableOfContentsë¥¼ ë³´ë©´ ëª©ì°¨ ì˜ì—­ì´ ì•„ë˜ HTML í˜•íƒœë¡œ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. #TableOfContents ìš”ì†Œë¥¼ ëŒ€ìƒìœ¼ë¡œ CSS ìŠ¤íƒ€ì¼ì„ ì ìš©í•  ì¼ì´ ìˆì–´ì„œ ì•Œê³  ìˆìœ¼ë©´ ì¢‹ìŠµë‹ˆë‹¤.\nCopy text \u0026lt;nav id=\u0026#34;TableOfContents\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;#section-1\u0026#34;\u0026gt;Section 1\u0026lt;/a\u0026gt; \u0026lt;ul\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;#section-11\u0026#34;\u0026gt;Section 1.1\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;#section-12\u0026#34;\u0026gt;Section 1.2\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/li\u0026gt; \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;#section-2\u0026#34;\u0026gt;Section 2\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; \u0026lt;/ul\u0026gt; \u0026lt;/nav\u0026gt; ëª©ì°¨ ì˜ì—­ì—ì„œëŠ” ì–´ë–¤ ì ì„ í•´ê²°í•˜ë©´ ì¢‹ì„ì§€ ìƒê°í•´ë³´ê² ìŠµë‹ˆë‹¤.\nëª©ì°¨ì™€ ë³¸ë¬¸ì˜ ì‚¬ì´ì— ëª©ì°¨ì˜ ê¸¸ì´ë§Œí¼ êµ¬ë¶„ì„ ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ì´ ìœ„ì¹˜í•œ ëª©ì°¨ë¥¼ í•˜ì´ë¼ì´íŠ¸ë¡œ ê°•ì¡°í•©ë‹ˆë‹¤. ìš°ì¸¡ í•˜ë‹¨ì˜ ê³ ì •ëœ ìœ„ì¹˜ì— ì´ë™ ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ë§¨ ìœ„ë¡œ ì´ë™, ë§¨ ì•„ë˜ë¡œ ì´ë™, ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ì„¸ë¡œë¡œ ë‚˜ì—´í•©ë‹ˆë‹¤. 1. ëª©ì°¨ ì˜†ì— êµ¬ë¶„ì„  ì¶”ê°€í•˜ê¸° # ë‹¨ìˆœíˆ ëª©ì°¨ ì˜ì—­ì— border ì†ì„±ì„ ì¶”ê°€í•˜ë©´ ë˜ì§€ë§Œ, ëª©ì°¨ ì˜ì—­ì„ ì–´ë””ê¹Œì§€ ë³¼ ê²ƒì¸ì§€ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.\nbook-toc í´ë˜ìŠ¤ê°€ ì ìš©ëœ ìš”ì†ŒëŠ” ëª©ì°¨ë¥¼ í¬í•¨í•œ ìš°ì¸¡ ì‚¬ì´ë“œë°” ì „ì²´ ì˜ì—­ì…ë‹ˆë‹¤. book-toc í´ë˜ìŠ¤ë¥¼ ëŒ€ìƒìœ¼ë¡œ border ì†ì„±ì„ ì¶”ê°€í•˜ë©´ ë³¸ë¬¸ê³¼ ëª©ì°¨ ì‚¬ì´ì— ëì—†ì´ ê¸´ ë¼ì¸ì´ ë§Œë“¤ì–´ì§ˆ ê²ƒì…ë‹ˆë‹¤.\nì œê°€ ì›í•˜ëŠ” ê²ƒì€ ëª©ì°¨ í…ìŠ¤íŠ¸ê°€ ìˆëŠ” ì˜ì—­ì—ë§Œ border ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\nBook í…Œë§ˆì˜ toc.html í…œí”Œë¦¿ë§Œ ë³´ì•˜ë‹¤ë©´ ì–´ë””ì— border ì†ì„±ì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ì§€ë§Œ, Hugo ê³µì‹ë¬¸ì„œ TableOfContentsë¥¼ í†µí•´ #TableOfContents ìš”ì†Œê°€ ëª©ì°¨ í…ìŠ¤íŠ¸ê°€ ìˆëŠ” ì˜ì—­ì´ë€ ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.\nì´ì œ assets/_main.scss íŒŒì¼ì— ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.\nCopy scss // assets/_main.scss #TableOfContents { margin-top: 2rem; padding-left: 1rem; border-left: 1px solid var(--toc-font-color); a { color: var(--toc-font-color); } } ë‹¨ìˆœíˆ border ì†ì„±ë§Œ ì¶”ê°€í•˜ë©´ êµ¬ë¶„ì„ ê³¼ ëª©ì°¨ í…ìŠ¤íŠ¸ê°€ ë”± ë¶™ì–´ë²„ë¦¬ê¸° ë•Œë¬¸ì— ì ë‹¹í•œ ì—¬ë°±ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\nì €ëŠ” êµ¬ë¶„ì„ ì˜ ìƒ‰ìƒì„ ë‚˜íƒ€ë‚´ëŠ” --toc-font-color ë³€ìˆ˜ì— ê²€ì€ìƒ‰(black)ì„ ì§€ì •í–ˆìŠµë‹ˆë‹¤. ì¶”ê°€ë¡œ, ëª©ì°¨ë¥¼ êµ¬ì„±í•˜ëŠ” \u0026lt;a\u0026gt; íƒœê·¸ê°€ ë§í¬ì™€ ë™ì¼í•œ íŒŒë€ìƒ‰ ê¸€ì”¨ìƒ‰ì„ ê°€ì ¸ì„œ ë³´ê¸° ì•ˆì¢‹ì•„ êµ¬ë¶„ì„ ê³¼ ë™ì¼í•œ ìƒ‰ìƒì„ ì ìš©í–ˆëŠ”ë°, ì´ ë¶€ë¶„ì€ ì·¨í–¥ì— ë§ê²Œ ìˆ˜ì •í•´ë³´ì‹œê¸° ë°”ëë‹ˆë‹¤.\nëª©ì°¨ ì˜ì—­ì„ ë‹ë³´ì´ê¸° ìœ„í•´ ì ì‹œ ë³¸ë¬¸ì˜ í—¤ë”©ì„ ëŠ˜ë ¸ìŠµë‹ˆë‹¤.\n2. ëª©ì°¨ í•˜ì´ë¼ì´íŠ¸ ì ìš©í•˜ê¸° # ë…ìì—ê²Œ ê²Œì‹œê¸€ì—ì„œ ìì‹ ì´ ì–´ë–¤ ìœ„ì¹˜ì— ìˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ê²ƒì€ ê°€ë…ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ, ì´ëŸ¬í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ëª°ë¼ ì½”íŒŒì¼ëŸ¿ì˜ Sonnet 4.5 ëª¨ë¸ì—ê²Œ ëª©ì°¨ í•˜ì´ë¼ì´íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ë¬¼ì–´ë³´ì•˜ìŠµë‹ˆë‹¤. í”„ë¡¬í”„íŠ¸ëŠ” íŠ¹ë³„íˆ ê¸¸ê²Œ ì“´ê±´ ì•„ë‹ˆë¼ì„œ ë”°ë¡œ ì €ì¥í•´ë‘ì§„ ì•Šì•˜ëŠ”ë°, ì—ì´ì „íŠ¸ ëª¨ë“œë¡œ Book í…Œë§ˆ ê²½ë¡œë¥¼ ì²¨ë¶€í•˜ì—¬ ë¬¸ë§¥ì„ ì œê³µí•˜ì˜€ê³  ì•„ë˜ì™€ ê°™ì€ ì½”ë“œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\nJavaScript Copy js // assets/toc-highlight.js document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, function() { const headings = document.querySelectorAll(\u0026#39;h2[id], h3[id]\u0026#39;); function getVisibleToc() { const bookToc = document.querySelector(\u0026#39;.book-toc\u0026#39;); if (bookToc) { const style = window.getComputedStyle(bookToc); if (style.visibility === \u0026#39;visible\u0026#39;) { return bookToc.querySelector(\u0026#39;#TableOfContents\u0026#39;); } } return document.querySelector(\u0026#39;#TableOfContents\u0026#39;); } const observer = new IntersectionObserver(entries =\u0026gt; { entries.forEach(entry =\u0026gt; { const id = entry.target.getAttribute(\u0026#39;id\u0026#39;); const toc = getVisibleToc() const tocLinks = toc.querySelectorAll(\u0026#39;a\u0026#39;); const correspondingTocLink = toc.querySelector(`a[href=\u0026#34;#${id}\u0026#34;]`); if (correspondingTocLink) { if (entry.isIntersecting) { tocLinks.forEach(link =\u0026gt; link.classList.remove(\u0026#39;active\u0026#39;)); correspondingTocLink.classList.add(\u0026#39;active\u0026#39;); } } }); }, { rootMargin: \u0026#39;0px 0px -70% 0px\u0026#39; }); headings.forEach(heading =\u0026gt; { observer.observe(heading); }); }); CSS Copy scss // assets/_main.scss #TableOfContents { // ... a.active { color: var(--toc-active-color); font-weight: bold; } } ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ê¸°ëŠ¥ì„ ì •ì˜í•˜ëŠ”ë° ìµìˆ™í•˜ì§€ëŠ” ì•Šì§€ë§Œ, í•¨ìˆ˜ëª… ë“±ìœ¼ë¡œ ìœ ì¶”í•´ë´¤ì„ ë•Œ getVisibleToc() í•¨ìˆ˜ì—ì„œ #TableOfContents ìš”ì†Œë¥¼ ê°€ì ¸ì™€ toc ìƒìˆ˜ì— í• ë‹¹í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³ , toc ìƒìˆ˜ë¡œë¶€í„° \u0026lt;a\u0026gt; íƒœê·¸ë“¤ì„ êº¼ë‚´ì„œ ìˆœíšŒí•˜ë©´ì„œ \u0026lt;a\u0026gt; íƒœê·¸ê°€ ê°€ë¦¬í‚¤ëŠ” í—¤ë”© ìš”ì†Œê°€ í™”ë©´ì— ë“¤ì–´ì˜¤ë©´ active í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤ê³  í•´ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCSS ìŠ¤íƒ€ì¼ì„ í†µí•´ active í´ë˜ìŠ¤ì¸ ìš”ì†Œì— ëŒ€í•´ì„œë§Œ í•˜ì´ë¼ì´íŠ¸ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤. --toc-active-color ë³€ìˆ˜ëŠ” ì œê°€ ì…ë§›ì— ë§ê²Œ ë°”ê¾¼ ìƒ‰ìƒì¸ë° ë¼ì´íŠ¸ ëª¨ë“œì—ì„œëŠ” ë‹¤ë¥¸ ëª©ì°¨ ê¸€ì”¨ ìƒ‰ìƒê³¼ ë™ì¼í•œ ê²€ì€ìƒ‰(black)ì´ë©°, font-weight: bold; ì†ì„±ìœ¼ë¡œ ê¸€ì”¨ë¥¼ êµµê²Œí•˜ëŠ” ê²ƒìœ¼ë¡œ í•˜ì´ë¼ì´íŠ¸ë¥¼ í‘œí˜„í–ˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œí•˜ë©´ ëª©ì°¨ í•˜ì´ë¼ì´íŠ¸ê°€ ì ìš©ë˜ì§€ë§Œ, assets/ ê²½ë¡œì— ìƒˆë¡œ ì¶”ê°€í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì€ layouts/_partials/docs/html-head.html í…œí”Œë¦¿ì—ì„œ í˜¸ì¶œí•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/html-head.html --\u0026gt; {{- $tocHighlightJS := resources.Get \u0026#34;toc-highlight.js\u0026#34; | resources.ExecuteAsTemplate \u0026#34;toc-highlightjs\u0026#34; . | resources.Minify | resources.Fingerprint }} \u0026lt;script defer src=\u0026#34;{{ partial \u0026#34;docs/links/resource-precache\u0026#34; $tocHighlightJS }}\u0026#34; {{ template \u0026#34;integrity\u0026#34; $tocHighlightJS }}\u0026gt;\u0026lt;/script\u0026gt; ì´ë ‡ê²Œ ì ìš©í•˜ë©´ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ í˜„ì¬ ë³´ê³  ìˆëŠ” í—¤ë”©ì´ ëª©ì°¨ì—ì„œ í•˜ì´ë¼ì´íŠ¸ë©ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ì„ í• ë§Œí¼ ë³¸ë¬¸ì´ ê¸¸ì§€ ì•Šì§€ë§Œ, ì´ë¯¸ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ \u0026quot;ì œëª© 2-3\u0026quot; í—¤ë”©ì„ í˜„ì¬ ë³´ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ì¸ì‹í•˜ì—¬ ëª©ì°¨ì—ì„œ \u0026quot;ì œëª© 2-3\u0026quot; í•­ëª©ì´ êµµì€ ê¸€ì”¨ë¡œ ê°•ì¡°ë˜ê³  ìˆìŠµë‹ˆë‹¤.\n3. ìŠ¤í¬ë¡¤ ì´ë™ ë²„íŠ¼ ì¶”ê°€í•˜ê¸° # ì œê°€ ê²½í—˜í•´ ë³¸ ì›¹ì‚¬ì´íŠ¸ ì¤‘ì—ì„œ ìš°ì¸¡ í•˜ë‹¨ì— ìŠ¤í¬ë¡¤ ì´ë™ ë²„íŠ¼ì„ ë†“ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆì—ˆìŠµë‹ˆë‹¤. PCì—ì„œëŠ” êµ³ì´ ì´ëŸ¬í•œ ë²„íŠ¼ì„ ì•ˆì¨ë„ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ë¡œ ì´ë™í•˜ê¸° ì‰½ì§€ë§Œ, ëª¨ë°”ì¼ì—ì„œëŠ” ê·¸ ê¸´ ìŠ¤í¬ë¡¤ì„ ì¼ì¼ì´ ë‚´ë¦¬ê¸° ë¶ˆí¸í•´ ìˆìœ¼ë©´ ë§¤ìš° í¸í•œ ê¸°ëŠ¥ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.\nê·¸ë ‡ë‹¤ë©´ ì´ ë²„íŠ¼ì„ ì–´ëŠ í…œí”Œë¦¿ì— ë„£ìœ¼ë©´ ì¢‹ì„ì§€ ìƒê°í•´ë´ì•¼ í•©ë‹ˆë‹¤.\nìƒˆë¡œìš´ í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ì„œ toc.html í…œí”Œë¦¿ì—ì„œ í˜¸ì¶œí•  ìˆ˜ë„ ìˆì§€ë§Œ, ì €ëŠ” layouts/_partials/docs/inject/ ê²½ë¡œì— ìˆëŠ” toc-after.html í…œí”Œë¦¿ì— ì¶”ê°€í•˜ëŠ”ê²Œ ì ì ˆí•˜ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\nì´ìœ ëŠ” toc.html í…œí”Œë¦¿ì—ì„œ ì´ë¯¸ í•´ë‹¹ í…œí”Œë¦¿ì„ í˜¸ì¶œí•˜ê³  ìˆê³ , toc-after.html í…œí”Œë¦¿ ìì²´ëŠ” ë¹„ì–´ìˆëŠ” íŒŒì¼ì´ë¼ ìƒˆë¡œìš´ í…œí”Œë¦¿ íŒŒì¼ì„ ë§Œë“œëŠ” ê²ƒê³¼ ë³„ ì°¨ì´ê°€ ì—†ë‹¤ê³  íŒë‹¨í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/toc.html --\u0026gt; {{ partial \u0026#34;docs/inject/toc-before\u0026#34; . }} {{ .TableOfContents }} {{ partial \u0026#34;docs/inject/toc-after\u0026#34; . }} toc-after.html ì— ë‹¤ìŒ 3ê°œì˜ ë²„íŠ¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. onclick ì´ë²¤íŠ¸ì— ëŒ€í•´ì„œ ìœ„ì—ì„œë¶€í„° ìŠ¤í¬ë¡¤ì„ ë§¨ ìœ„ë¡œ, ìŠ¤í¬ë¡¤ì„ ë§¨ ì•„ë˜ë¡œ, ê·¸ë¦¬ê³  ì´ì „ í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” 3ê°€ì§€ ê¸°ëŠ¥ì„ í•˜ëŠ” ë²„íŠ¼ì…ë‹ˆë‹¤.\nHTML Copy html \u0026lt;!-- layouts/_partials/docs/inject/toc-after.html --\u0026gt; \u0026lt;div class=\u0026#34;book-nav\u0026#34;\u0026gt; \u0026lt;button class=\u0026#34;book-nav-btn3\u0026#34; onclick=\u0026#34;window.scrollTo({top: 0, behavior: \u0026#39;smooth\u0026#39;})\u0026#34; title=\u0026#34;Go to top\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-chevron-up\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;book-nav-btn3\u0026#34; onclick=\u0026#34;window.scrollTo({top: document.body.scrollHeight, behavior: \u0026#39;smooth\u0026#39;})\u0026#34; title=\u0026#34;Go to bottom\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa fa-chevron-down\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;button class=\u0026#34;book-nav-btn3\u0026#34; onclick=\u0026#34;history.back()\u0026#34; title=\u0026#34;Go back\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;fa-solid fa-arrow-left\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; CSS Copy scss // assets/_main.scss .book-nav, .book-mobile-nav { position: fixed; bottom: 0; right: 0; margin-bottom: $padding-16; margin-right: $padding-16; display: flex; align-items: flex-end; flex-direction: column; .book-nav-btn3 { width: $font-size-40; height: $font-size-40; margin: $padding-4; border: 0px; border-radius: 50%; background: var(--gray-200); color: var(--body-font-color); cursor: pointer; i { font-size: $font-size-20; } } // ... } CSS ìŠ¤íƒ€ì¼ì—ì„œ ìŠ¤í¬ë¡¤ ì´ë™ ë²„íŠ¼ì„ í‘œí˜„í•˜ëŠ”ë° í•µì‹¬ì ì¸ ì†ì„±ì€ border-radius: 50%; ë° background: var(--gray-200); ì…ë‹ˆë‹¤. Font Awesomeì—ì„œ ê°€ì ¸ì˜¨ ë‹¨ìˆœí•œ í™”ì‚´í‘œ ì•„ì´ì½˜ì„ ë™ê·¸ë€ ë²„íŠ¼ì²˜ëŸ¼ ê°€ê³µí•´ ë³´ê¸° ì¢‹ì•„ì¡ŒìŠµë‹ˆë‹¤. ê·¸ëŸ°ë°, ì´ë ‡ê²Œ ì ìš©í–ˆì„ ë•Œ ìŠ¤í¬ë¡¤ ì´ë™ ë²„íŠ¼ì´ ìš°ì¸¡ ëì— ë„ˆë¬´ ë”± ë¶™ì–´ìˆì–´ì„œ book-toc ì˜ì—­ ì „ì²´ì— margin-right: $padding-48; ì†ì„±ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\nìŠ¤í¬ë¡¤ ì´ë™ ë²„íŠ¼ê¹Œì§€ ì¶”ê°€í•œ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. (í•˜ë‹¨ì— ìˆëŠ” ë²„íŠ¼ì´ ì˜ ë³´ì´ê¸° ìœ„í•´ ë¸Œë¼ìš°ì € ë†’ì´ë¥¼ 450px ì •ë„ë¡œ ì¤„ì˜€ìŠµë‹ˆë‹¤.)\nëª©ì°¨ ì˜ì—­ì€ ì—¬ê¸°ì„œ ì™„ì„±ì…ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë‹¤í¬ ëª¨ë“œë¥¼ ì ìš©í•  ë•Œ ì „ìš© ìƒ‰ìƒ ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•  ì¼ì´ ìˆì§€ë§Œ, ë” ì´ìƒ ëª©ì°¨ ì˜ì—­ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.\ní—¤ë” ì˜ì—­ ê°œì„ í•˜ê¸° # í—¤ë” ì˜ì—­ì€ ë¸Œë¼ìš°ì € ë„ˆë¹„ê°€ ì¼ì • í¬ê¸° ì´ìƒ ì¤„ì–´ë“¤ ë•Œë§Œ ë‚˜íƒ€ë‚˜ëŠ” ëª¨ë°”ì¼ ì „ìš© í—¤ë”ì…ë‹ˆë‹¤.\ní—¤ë” ì˜ì—­ì€ book-header í´ë˜ìŠ¤ê°€ ì ìš©ëœ ìš”ì†Œë¡œ ê°ì‹¸ì ¸ ìˆìœ¼ë©°, baseof.html íŒŒì¼ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ header í…œí”Œë¦¿ì„ í˜¸ì¶œí•©ë‹ˆë‹¤. book-header ì˜ ë°”ë¡œ ìœ„ë¥¼ ë³´ë©´ ë³¸ë¬¸ì„ ë‚˜íƒ€ë‚´ëŠ” book-page ìš”ì†Œì˜ í•˜ìœ„ì— í—¤ë” ì˜ì—­ì´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- baseof.html --\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;div class=\u0026#34;book-page\u0026#34;\u0026gt; \u0026lt;header class=\u0026#34;book-header\u0026#34;\u0026gt; {{ template \u0026#34;header\u0026#34; . }} \u0026lt;!-- Mobile layout header --\u0026gt; \u0026lt;/header\u0026gt; \u0026lt;!-- ... --\u0026gt; header.html í…œí”Œë¦¿ íŒŒì¼ì€ layouts/_partials/docs/ ê²½ë¡œì— ìˆëŠ”ë° ë‚´ìš©ì€ ì§ê´€ì ìœ¼ë¡œ ì½í™ë‹ˆë‹¤. ë©”ë‰´ ë²„íŠ¼ì„ ì˜ë¯¸í•˜ëŠ” menu-control ìš”ì†Œ, ì œëª©ì„ ê°€ë¦¬í‚¤ëŠ” \u0026lt;h3\u0026gt; íƒœê·¸, ê·¸ë¦¬ê³  ëª©ì°¨ ë²„íŠ¼ì„ ì˜ë¯¸í•˜ëŠ” toc-control ìš”ì†Œê°€ ìˆìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- layouts/_partials/docs/header.html --\u0026gt; \u0026lt;div class=\u0026#34;flex align-center justify-between\u0026#34;\u0026gt; \u0026lt;label for=\u0026#34;menu-control\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ partial \u0026#34;docs/icon\u0026#34; \u0026#34;menu\u0026#34; }}\u0026#34; class=\u0026#34;book-icon\u0026#34; alt=\u0026#34;{{ partial \u0026#34;docs/text/i18n\u0026#34; \u0026#34;Menu\u0026#34; }}\u0026#34; /\u0026gt; \u0026lt;/label\u0026gt; \u0026lt;h3\u0026gt;{{ partial \u0026#34;docs/title\u0026#34; . }}\u0026lt;/h3\u0026gt; \u0026lt;label for=\u0026#34;toc-control\u0026#34;\u0026gt; {{ if partial \u0026#34;docs/toc-show\u0026#34; . }} \u0026lt;img src=\u0026#34;{{ partial \u0026#34;docs/icon\u0026#34; \u0026#34;toc\u0026#34; }}\u0026#34; class=\u0026#34;book-icon\u0026#34; alt=\u0026#34;{{ partial \u0026#34;docs/text/i18n\u0026#34; \u0026#34;Table of Contents\u0026#34; }}\u0026#34; /\u0026gt; {{ end }} \u0026lt;/label\u0026gt; \u0026lt;/div\u0026gt; í—¤ë” ì˜ì—­ì—ì„œëŠ” ì–´ë–¤ ì ì„ í•´ê²°í•˜ë©´ ì¢‹ì„ì§€ ìƒê°í•´ë³´ê² ìŠµë‹ˆë‹¤.\ní—¤ë” ì˜ì—­ì˜ ê°€ìš´ë°ì—ëŠ” ë¸”ë¡œê·¸ ì œëª©ì„ í‘œì‹œí•˜ê³  í™ˆí˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë§í¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. í—¤ë” ì˜ì—­ì€ ë°˜íˆ¬ëª…í•œ ë°°ê²½ìƒ‰ì„ ê°€ì§€ê³  ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ê´€ê³„ì—†ì´ ê³ ì •ë©ë‹ˆë‹¤. í—¤ë” ì˜ì—­ì€ íŠ¹ë³„íˆ ìˆ˜ì •í• ê±´ ì—†ìŠµë‹ˆë‹¤.\në¨¼ì €, ì œëª©ì— í™ˆí˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë§í¬ë¥¼ ê±°ëŠ”ê±´ ì•„ë˜ì²˜ëŸ¼ ê°„ë‹¨í•©ë‹ˆë‹¤.\nCopy html \u0026lt;h3\u0026gt; \u0026lt;a href=\u0026#34;{{ .Site.BaseURL }}\u0026#34; class=\u0026#34;site-title\u0026#34;\u0026gt;{{ .Site.Title }}\u0026lt;/a\u0026gt; \u0026lt;/h3\u0026gt; ë‹¤ìŒìœ¼ë¡œ, í—¤ë”ì— ë°˜íˆ¬ëª…í•œ ë°°ê²½ìƒ‰ì„ ë„£ê³  ìƒë‹¨ì— ê³ ì •í•˜ëŠ”ê±´ ì•„ë˜ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ë©´ ë©ë‹ˆë‹¤.\nCopy scss // assets/_main.scss .book-header { display: block; position: sticky; opacity: 0.9; top: 0; background-color: var(--body-background); padding: 1rem; } ê¸°ì¡´ Book í…Œë§ˆì—ì„œëŠ” ëª¨ë°”ì¼ í™”ë©´ì—ì„œ ìŠ¤í¬ë¡¤í•˜ë©´ í—¤ë”ê°€ ì‚¬ë¼ì ¸ë²„ë ¤ ë©”ë‰´ ë° ëª©ì°¨ ë²„íŠ¼ì„ í´ë¦­í•˜ê¸° ìœ„í•´ ë§¤ë²ˆ ë§¨ ìœ„ë¡œ ì´ë™í•´ì•¼ í•˜ëŠ” ë¶ˆí¸í•¨ì´ ìˆì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ì„œ í—¤ë” ì˜ì—­ì„ ìƒë‹¨ì— ê³ ì •ì‹œì¼œ ë´¤ëŠ”ë°, ë¬¸ì œê°€ ì´ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìë™ìœ¼ë¡œ ë§¨ ìœ„ë¡œ ì˜¬ë¼ê°€ ë²„ë¦½ë‹ˆë‹¤. ê²°êµ­ ì˜ë„í–ˆë˜ ë™ì‘ì„ ìˆ˜í–‰í•˜ì§€ ëª»í•´ ì•„ì§ê¹Œì§€ í•´ê²°ì±…ì„ ì°¾ê³  ìˆëŠ”ë°, í•´ê²°ë˜ì—ˆë‹¤ë©´ í•´ë‹¹ ê²Œì‹œê¸€ì— ì—…ë°ì´íŠ¸ í•˜ê² ìŠµë‹ˆë‹¤.\nìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ë³´ë©´ í—¤ë”ê°€ ë°˜íˆ¬ëª…í•˜ê²Œ ë³´ì´ë©´ì„œ í—¤ë” ë°‘ì— ìˆëŠ” ë³¸ë¬¸ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në‹¤ìŒ ê²Œì‹œê¸€ì—ì„œëŠ” ì¹´í…Œê³ ë¦¬ì™€ íƒœê·¸ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³ , ê´€ë ¨ ê²Œì‹œê¸€ì„ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” í…œí”Œë¦¿ì„ ì‘ì„±í•˜ëŠ” ê³¼ì •ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ì™€ íƒœê·¸ ê¸°ëŠ¥ì€ íŠ¹íˆ ë‚´ìš©ì´ ê¸¸ì–´ì„œ ë‹¤ìŒ ê²Œì‹œê¸€ë¡œ ë¶„ë¦¬í•˜ê²Œ ë˜ì—ˆëŠ”ë°, ë‹¤ìŒ ê²Œì‹œê¸€ì—ì„œ ì´ë¥¼ í¬í•¨í•œ ë©”ë‰´ ì˜ì—­ì„ ì™„ì„±í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n"},{"id":3,"href":"/blog/hugo-blog-1/","title":"Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° (1) - í”„ë¡œì íŠ¸ êµ¬ì„±ê³¼ GitHub Pages ë°°í¬ (Submodule í™œìš©)","content":" ëŒ€ìƒ ë…ì\në§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆëŠ” ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì€ ë¶„ë“¤ ë¸”ë¡œê·¸ë¥¼ ê¸°ëŠ¥ì ìœ¼ë¡œ ë˜ëŠ” ì‹œê°ì ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ê³  ì‹¶ì€ ë¶„ë“¤ Github Pages ì„œë¹„ìŠ¤ë¥¼ í™œìš©í•œ ì›¹ í˜¸ìŠ¤íŒ…ì„ í•˜ê³  ì‹¶ì€ ë¶„ë“¤ Git Submodules ê¸°ëŠ¥ì„ í™œìš©í•œ í”„ë¡œì íŠ¸ êµ¬ì„± ë°©ì‹ì„ ì•Œê³  ì‹¶ì€ ë¶„ë“¤ ì£¼ìš” ë‚´ìš©\nê³¼ê±° ë‹¤ë¥¸ ë¸”ë¡œê·¸ í”Œë«í¼ì„ ì´ìš©í•˜ë©´ì„œ ê²ªì€ ê²½í—˜ ë° ì¥ë‹¨ì  (ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê²Œ ëœ ê³„ê¸°) ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ì— ì¶”ê°€í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ ëª©ë¡ì„ ì˜ì—­ ë³„ë¡œ ë‚˜ì—´ (ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ ê¸°íší•˜ê¸°) ê´€ì‹¬ìˆëŠ” Hugo í…Œë§ˆì— ëŒ€í•œ ì†Œê°œ (ê¸°ë³¸ í…Œë§ˆ ì„ ì •í•˜ê¸°) Hugo ì„¤ì¹˜ë¶€í„° Submodule í™œìš©ê¹Œì§€ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ê³  ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± (ë¸”ë¡œê·¸ í”„ë¡œì íŠ¸ êµ¬ì„±í•˜ê¸°) ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê²Œ ëœ ê³„ê¸° # ë¸”ë¡œê·¸ í”Œë«í¼ì„ ì„ íƒí•˜ëŠ”ë° ìˆì–´ í¸ì˜ ê¸°ëŠ¥, ì™¸ê´€, ì‘ì„± ë°©ì‹ ë“±ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nVelog, í‹°ìŠ¤í† ë¦¬ ë“±ì˜ ë¸”ë¡œê·¸ í”Œë«í¼ì„ ì´ìš©í•´ ë´¤ì§€ë§Œ ì›í•˜ëŠ” ìš”ì†Œë“¤ì„ ì „ë¶€ ì¶”ê°€í•˜ëŠ”ë°ëŠ” ì œì•½ì´ ë§ì•˜ìŠµë‹ˆë‹¤.\nVelog ì‚¬ìš© ê²½í—˜ # VelogëŠ” ê°œì¸ì ìœ¼ë¡œ ëŠë¼ê¸°ì— ë¸”ë¡œê·¸ í”Œë«í¼ë“¤ ì¤‘ì—ì„œ ë”°ë¡œ í…Œë§ˆë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ê¸°ë³¸ ìŠ¤íƒ€ì¼ì´ ë³´ê¸° ì¢‹ë‹¤ëŠ” ì¥ì ì´ ìˆì§€ë§Œ, ë‹¤í¬ëª¨ë“œ ON/OFF ë²„íŠ¼ ì¶”ê°€ ë˜ëŠ” ì½”ë“œ ë¸”ëŸ­ ìŠ¤íƒ€ì¼ ë³€ê²½ ë“±ì˜ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ ë¶ˆê°€ëŠ¥í•˜ê³ , ë¬´ì—‡ë³´ë‹¤ ì¹´í…Œê³ ë¦¬ ì—†ì´ íƒœê·¸ë¡œë§Œ ê²Œì‹œê¸€ì„ êµ¬ë³„í•´ì•¼ í•œë‹¤ëŠ”ê±¸ ê°€ì¥ í° ì œì•½ìœ¼ë¡œ ì¸ì‹í–ˆìŠµë‹ˆë‹¤.\ní‹°ìŠ¤í† ë¦¬ ì‚¬ìš© ê²½í—˜ # í‹°ìŠ¤í† ë¦¬ëŠ” í…Œë§ˆ ìˆ˜ì •ì€ ììœ ë¡œìš´ í¸ì´ì§€ë§Œ, í…Œë§ˆ í¸ì§‘ì´ë“  ë¸”ë¡œê·¸ ê²Œì‹œê¸€ ì‘ì„±ì´ë“  í‹°ìŠ¤í† ë¦¬ UIì—ì„œ í¸ì§‘ ê³¼ì •ì„ ê±°ì³ì•¼ ë°˜ì˜ë˜ëŠ” ì ì—ì„œ ì¦‰ê°ì ì¸ í”¼ë“œë°±ì´ ì–´ë µë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³ , ë¬´ì—‡ë³´ë‹¤ ê¸€ í¸ì§‘ì´ë‚˜ ë¸”ë¡œê·¸ ê´€ë¦¬ ë“±ì˜ ì„¤ì • ë©”ë‰´ì—ëŠ” ë‹¤í¬ëª¨ë“œê°€ ì ìš©ì´ ì•ˆë¼ì„œ ê°œì¸ì ìœ¼ë¡œ ì“°ê¸° ì‹«ì—ˆìŠµë‹ˆë‹¤.\nHugo ì‚¬ìš© ê²½í—˜ # 3ë…„ ì „ì— Hugoë¥¼ í™œìš©í•œ Github ë¸”ë¡œê·¸ë¥¼ ë§Œë“  ì ì´ ìˆì—ˆëŠ”ë°, ë‹¹ì‹œì—ëŠ” í…Œë§ˆë¥¼ ì›í•˜ëŠ”ëŒ€ë¡œ ìˆ˜ì •í•  ìˆ˜ ìˆì„ ë§Œí¼ì˜ ì „ë¬¸ ì§€ì‹ì´ ì—†ì–´ì„œ ë‹¤ë¥¸ ë¸”ë¡œê·¸ í”Œë«í¼ë“¤ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì ê¹ ì´ìš©í•˜ë‹¤ ë§ì•˜ì§€ë§Œ, AI ì—ì´ì „íŠ¸ì˜ ë„ì›€ì„ ë°›ìœ¼ë©´ ìì—°ì–´ í”„ë¡¬í”„íŠ¸ë¡œ ì›í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€í•´ë³¼ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œë¼ëŠ” ë§‰ì—°í•œ ìƒê°ì— ë‹¤ì‹œ Hugo ë¸”ë¡œê·¸ë¥¼ ë„ì „í•´ë³´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nHugo ë¸”ë¡œê·¸ì˜ ë‹¨ì ì´ë¼ê³  í•œë‹¤ë©´ ì›¹ í˜¸ìŠ¤íŒ…ì„ ì§ì ‘ í•´ì•¼í•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ê³¼ê±°ì— ë¸”ë¡œê·¸ë¥¼ ìš´ì˜í•  ë•ŒëŠ” Github Pages ê¸°ëŠ¥ì„ í™œìš©í•´ ë¬´ë£Œë¡œ ì›¹ í˜¸ìŠ¤íŒ…ì„ ì œê³µë°›ì•˜ìŠµë‹ˆë‹¤. ë¬¼ë¡ , ì´ë²ˆ ë¸”ë¡œê·¸ë„ ë™ì¼í•˜ê²Œ Github Pages ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\në˜ í•˜ë‚˜ì˜ ë‹¨ì ìœ¼ë¡œëŠ” ì´ë¯¸ì§€ ë“±ë¡í•˜ê¸° ì–´ë µë‹¤ëŠ” ì ì´ ìˆìŠµë‹ˆë‹¤. ê³¼ê±°ì—ëŠ” Githubì— ì´ë¯¸ì§€ë¥¼ ì˜¬ë ¤ì„œ ì°¸ì¡°í–ˆì§€ë§Œ, ì´ë¯¸ì§€ í¬í•¨í•œ ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹/í‘¸ì‰¬í•œ í›„ Github ì›¹ì‚¬ì´íŠ¸ì—ì„œ raw ì´ë¯¸ì§€ ë§í¬ë¥¼ ì°¾ì•„ì™€ì•¼ í•´ì„œ ë¹„íš¨ìœ¨ì ì´ì—ˆìŠµë‹ˆë‹¤.\nì´ë²ˆì— ìƒˆë¡œìš´ ë¸”ë¡œê·¸ë¥¼ ì¤€ë¹„í•˜ë©´ì„œ Dropboxë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•´ì„œ ì˜¬ë¦¬ê³  ê°„í¸í•˜ê²Œ ë§í¬ë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì–´ì„œ ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ…ì€ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ í˜¸ìŠ¤íŒ…ê³¼ ê´€ë ¨í•´ì„œëŠ” ë³„ë„ì˜ ê¸€ì„ ì‘ì„±í•  ì˜ˆì •ì…ë‹ˆë‹¤.\në‚˜ë§Œì˜ ë¸”ë¡œê·¸ ê¸°íší•˜ê¸° # ë‚˜ë§Œì˜ ë¸”ë¡œê·¸ì¸ë§Œí¼ ì›í•˜ëŠ” ì™¸í˜•ê³¼ ê¸°ëŠ¥ë“¤ì„ ì „ë¶€ ì§‘ì–´ë„£ì„ ìƒê°ì…ë‹ˆë‹¤.\në¬¼ë¡ , ê¸°íší•œ ë‚´ìš©ë“¤ì€ ì´ë¯¸ í˜„ì¬ ë¸”ë¡œê·¸ì— êµ¬í˜„ë˜ì–´ ìˆì–´ì„œ ì‹œê°ì ìœ¼ë¡œ ì°¸ê³ í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në ˆì´ì•„ì›ƒ # ë¸”ë¡œê·¸ì˜ ì „ì²´ì ì¸ êµ¬ì„±ì€ ê³¼ê±° í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ë¥¼ ì´ìš©í•  ë•Œ ì‚¬ìš©í–ˆë˜ hELLO í…Œë§ˆë¥¼ ì°¸ê³ í•©ë‹ˆë‹¤.\nì¢Œì¸¡ì—ëŠ” ë©”ë‰´ ì˜ì—­ì„ í‘œì‹œí•©ë‹ˆë‹¤. ìš°ì¸¡ì—ëŠ” ëª©ì°¨ ì˜ì—­ì„ í‘œì‹œí•©ë‹ˆë‹¤. ì¤‘ì•™ì—ëŠ” ë³¸ë¬¸ ì˜ì—­ì„ í‘œì‹œí•©ë‹ˆë‹¤. ë³¸ë¬¸ì˜ ìƒë‹¨ì—ëŠ” ê¸€ ì œëª©ì„ í‘œì‹œí•©ë‹ˆë‹¤. ë³¸ë¬¸ì˜ í•˜ë‹¨ì—ëŠ” ëŒ“ê¸€ ì˜ì—­ì„ í‘œì‹œí•©ë‹ˆë‹¤. ëª¨ë°”ì¼ í™”ë©´ì— ë§ì¶˜ ë°˜ì‘í˜• ë””ìì¸ì„ ê³ ë ¤í•©ë‹ˆë‹¤. ê¸°ëŠ¥ì€ ê° ì˜ì—­ ë³„ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤.\në©”ë‰´ ì˜ì—­ # ì¢Œì¸¡ ë©”ë‰´ ì˜ì—­ì˜ ê¸°ëŠ¥ë“¤ì„ ìœ„ì—ì„œë¶€í„° ìˆœì„œëŒ€ë¡œ ë‚˜ì—´í•©ë‹ˆë‹¤.\ní”„ë¡œí•„ ì‚¬ì§„ì„ í‘œì‹œí•©ë‹ˆë‹¤. í´ë¦­í•˜ë©´ ë¸”ë¡œê·¸ í™ˆí˜ì´ì§€ì™€ ì—°ê²°ë©ë‹ˆë‹¤. ì†Œì…œ ë§í¬ ë˜ëŠ” ê¸°ëŠ¥ì„± ë²„íŠ¼ì„ í‘œì‹œí•©ë‹ˆë‹¤. ì œëª©ì„ í‘œì‹œí•˜ê³ , ë‹¤ìŒìœ¼ë¡œ ê²€ìƒ‰ì°½ì„ í‘œì‹œí•©ë‹ˆë‹¤. ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ê³  ì—”í„° ë˜ëŠ” ê²€ìƒ‰ ì•„ì´ì½˜ì„ í´ë¦­í•˜ë©´ ê²€ìƒ‰ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ëŠ” ìµœëŒ€ 2ë‹¨ê³„ë¡œ í¼ì¹˜ê³  ì ‘ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìµœì‹ ê¸€ ëª©ë¡ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì‘ì„±ì¼ ìˆœìœ¼ë¡œ ìµœëŒ€ 5ê°œê¹Œì§€ í‘œì‹œí•©ë‹ˆë‹¤. ëª©ì°¨ ì˜ì—­ # ìš°ì¸¡ ëª©ì°¨ ì˜ì—­ì€ ìƒë‹¨ê³¼ í•˜ë‹¨ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.\nìš°ì¸¡ ìƒë‹¨ì˜ ê³ ì •ëœ ìœ„ì¹˜ì— ëª©ì°¨ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ëª©ì°¨ì™€ ë³¸ë¬¸ì˜ ì‚¬ì´ì— ëª©ì°¨ì˜ ê¸¸ì´ë§Œí¼ êµ¬ë¶„ì„ ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ì´ ìœ„ì¹˜í•œ ëª©ì°¨ë¥¼ í•˜ì´ë¼ì´íŠ¸ë¡œ ê°•ì¡°í•©ë‹ˆë‹¤. ëª©ì°¨ë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™í•˜ëŠ” ì•µì»¤ ë§í¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ìš°ì¸¡ í•˜ë‹¨ì˜ ê³ ì •ëœ ìœ„ì¹˜ì— ì´ë™ ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ë§¨ ìœ„ë¡œ ì´ë™, ë§¨ ì•„ë˜ë¡œ ì´ë™, ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ì„¸ë¡œë¡œ ë‚˜ì—´í•©ë‹ˆë‹¤. ë³¸ë¬¸ ì˜ì—­ # ì¤‘ì•™ì˜ ë³¸ë¬¸ ì˜ì—­ì€ ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œê°€ ë Œë”ë§ë˜ëŠ” ë¶€ë¶„ì´ë©°, ìƒë‹¨ê³¼ í•˜ë‹¨ì— ê¸°ëŠ¥ì´ ì¶”ê°€ë©ë‹ˆë‹¤.\në³¸ë¬¸ ìƒë‹¨ì—ëŠ” ì¹´í…Œê³ ë¦¬, ê¸€ ì œëª©, ì‘ì„±ì¼ì‹œë¥¼ ìˆœì„œëŒ€ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. ê¸€ í•˜ë‹¨ì—ëŠ” íƒœê·¸ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ ë˜ëŠ” íƒœê·¸ë¥¼ í´ë¦­í•˜ë©´ ê´€ë ¨ ê²Œì‹œê¸€ ëª©ë¡ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤. í—¤ë” ì˜ì—­ # í—¤ë” ì˜ì—­ì€ ë°˜ì‘í˜• ë””ìì¸ì˜ ì¼ë¶€ë¡œ, ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë‚˜íƒ€ë‚˜ì§€ ì•Šê³  ëª¨ë°”ì¼ ì‚¬ì´ì¦ˆì—ì„œë§Œ í‘œì‹œë©ë‹ˆë‹¤.\ní—¤ë” ì˜ì—­ì—ëŠ” ë©”ë‰´ ë˜ëŠ” ëª©ì°¨ë¥¼ í¼ì¹˜ê³  ì ‘ì„ ìˆ˜ ìˆëŠ” ë²„íŠ¼ì´ ì¢Œìš° ì–‘ëì— í‘œì‹œë©ë‹ˆë‹¤. ë¸Œë¼ìš°ì € ë„ˆë¹„ì— ë”°ë¼ ëª©ì°¨, ë©”ë‰´ ìˆœì„œë¡œ ìˆ¨ê¸°ê³  í•´ë‹¹ ì˜ì—­ì´ ìˆ¨ê²¨ì§ˆ ë•Œ ë²„íŠ¼ì´ í™œì„±í™”ë©ë‹ˆë‹¤. í—¤ë” ì˜ì—­ì˜ ê°€ìš´ë°ì—ëŠ” ë¸”ë¡œê·¸ ì œëª©ì„ í‘œì‹œí•˜ê³  í™ˆí˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë§í¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. í—¤ë” ì˜ì—­ì€ ë°˜íˆ¬ëª…í•œ ë°°ê²½ìƒ‰ì„ ê°€ì§€ê³  ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ê´€ê³„ì—†ì´ ê³ ì •ë©ë‹ˆë‹¤. í‘¸í„° ì˜ì—­ # í‘¸í„° ì˜ì—­ì€ ê²Œì‹œê¸€(post) ìœ í˜•ì˜ ë ˆì´ì•„ì›ƒì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë§Œ ì„¤ì •í•©ë‹ˆë‹¤.\në³¸ë¬¸ì— ì„¤ì •ëœ ì¹´í…Œê³ ë¦¬ ë‚´ ê²Œì‹œê¸€ ì¤‘ì—ì„œ ì‘ì„±ì¼ ìˆœìœ¼ë¡œ ì´ì „, ë‹¤ìŒ ê²Œì‹œê¸€ë¡œ ì´ë™í•˜ëŠ” ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ëŒ“ê¸€ ì˜ì—­ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì§ì ‘ ë§Œë“¤ì§„ ì•Šê³  ì™¸ë¶€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ê¸°íƒ€ ê¸°ëŠ¥ # Open Graph ì„¤ì • ë° ì™¸ë¶€ ë§í¬ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ë§ì¶° ìƒë‹¨ì— ì§„í–‰ë„ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë‹¤í¬ëª¨ë“œ ON/OFF ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ê¸°ë³¸ ì‹œìŠ¤í…œ ì„¤ì •ì„ ì¸ì‹í•˜ì—¬ ë¼ì´íŠ¸/ë‹¤í¬ëª¨ë“œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì½”ë“œ ë¸”ëŸ­ì„ ë§¥ í„°ë¯¸ë„ì²˜ëŸ¼ ë³´ì´ê²Œ ê¾¸ë°‰ë‹ˆë‹¤. ì½”ë“œ ë¸”ëŸ­ ìš°ì¸¡ ìƒë‹¨ì— ë³µì‚¬ ë²„íŠ¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì½”ë“œ ë¸”ëŸ­ ìš°ì¸¡ ìƒë‹¨ì— ì–¸ì–´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. í™ˆ í˜ì´ì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ë“±ë¡ì¼ ìˆœìœ¼ë¡œ ê²Œì‹œê¸€ì„ ì •ë ¬í•˜ì—¬ ëª©ë¡ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. íƒœê·¸ ì „ìš© í˜ì´ì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. íƒœê·¸ëŠ” Hugoì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•©ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ ì „ìš© ë ˆì´ì•„ì›ƒì„ ì¶”ê°€í•©ë‹ˆë‹¤. ìì‹ ì¹´í…Œê³ ë¦¬ë¥¼ ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ë¡œ ê·¸ë£¹í™”í•œ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ë¶€ëª¨/ìì‹ ì¹´í…Œê³ ë¦¬ í˜ì´ì§€ì—ì„œ ê°ê° í•˜ìœ„/ìƒìœ„ ì¹´í…Œê³ ë¦¬ë¡œ ì´ë™ì„ ì§€ì›í•©ë‹ˆë‹¤. ì „ì²´ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ë‚˜ì—´í•˜ëŠ” í˜ì´ì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. GA4ë¥¼ ì—°ê²°í•˜ê³  êµ¬ê¸€, ë„¤ì´ë²„ ê²€ìƒ‰ì—”ì§„ì— ë“±ë¡í•©ë‹ˆë‹¤. ì²˜ìŒë¶€í„° ìœ„ ëª©ë¡ì„ ì „ë¶€ ìƒê°í–ˆë˜ ê²ƒì€ ì•„ë‹ˆê³ , ë¸”ë¡œê·¸ í…Œë§ˆë¥¼ ë°œì „ì‹œì¼œ ë‚˜ê°€ë©´ì„œ ì ì§„ì ìœ¼ë¡œ ì¶”ê°€í•œ ê¸°ëŠ¥ë“¤ì„ ê°™ì´ ì •ë¦¬í•œ ê²ƒì…ë‹ˆë‹¤.\nê¸°ë³¸ í…Œë§ˆ ì„ ì •í•˜ê¸° # ë¹ˆ í”„ë¡œì íŠ¸ë¶€í„° ì‹œì‘í•˜ì§€ëŠ” ì•Šê³  ì˜ ë§Œë“¤ì–´ì§„ í…Œë§ˆì˜ ë ˆì´ì•„ì›ƒì„ ì°¸ê³ í•  ì˜ˆì •ì…ë‹ˆë‹¤.\nHugo í…Œë§ˆëŠ” ì•„ë˜ ê²½ë¡œì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nHugo Themes The worldâ€™s fastest framework for building websites themes.gohugo.io PaperMod í…Œë§ˆ ì‚¬ìš© ê²½í—˜ # ì²˜ìŒ Hugo ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ ë• PaperModë¼ëŠ” í…Œë§ˆë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\nPaperMod A fast, clean, responsive Hugo theme themes.gohugo.io ë‹¤í¬ëª¨ë“œ ON/OFF ë²„íŠ¼ ë° ì†Œì…œ ë§í¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê³  ë””ìì¸ì´ ë§ˆìŒì— ë“¤ì–´ ì´ˆê¸° í…Œë§ˆë¡œ ì‚¬ìš©ì„ í–ˆì§€ë§Œ Velogì—ì„œ ëŠê¼ˆë˜ ë‹¨ì ì¸, ì¹´í…Œê³ ë¦¬ë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¬¸ì œë¡œ ì¸í•´ ë¸”ë¡œê·¸ë¥¼ ì“°ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ê°ˆìˆ˜ë¡ ì¤„ì–´ë“¤ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë˜ë„ ë‹¹ì‹œì— ì¹´í…Œê³ ë¦¬ ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ ë³´ë ¤ê³  ì—¬ê¸°ì €ê¸° ì•Œì•„ë³´ë©´ì„œ, Tree-style category list page #24 ì´ìŠˆë¥¼ ì‘ì„±í•œ ë¶„ê»˜ ë©”ì¼ì„ ë³´ë‚´ HTML ì†ŒìŠ¤ íŒŒì¼ì„ ê³µìœ ë°›ê¸°ë„ í–ˆìŠµë‹ˆë‹¤. ì´ë•Œ ê³µìœ ë°›ì€ ì†ŒìŠ¤ ì½”ë“œëŠ” ë‹¹ì‹œì—ëŠ” ì‚¬ìš©í•˜ì§€ ëª»í–ˆì§€ë§Œ, ë³´ê´€í•´ë’€ë‹¤ê°€ í˜„ì¬ ë¸”ë¡œê·¸ì— ë…¹ì—¬ì„œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nBook í…Œë§ˆ ì„ ì • # ìµœê·¼ì— ë‹¤ì‹œ í…Œë§ˆë¥¼ ì°¾ì•„ë³´ë©´ì„œ ê°€ì¥ ë§ˆìŒì— ë“¤ì€ ê²ƒì€ Book í…Œë§ˆì…ë‹ˆë‹¤.\nBook Hugo documentation theme as simple as plain book themes.gohugo.io Book í…Œë§ˆëŠ” ì¢Œì¸¡ì˜ book-menu, ìš°ì¸¡ì˜ book-toc, ê·¸ë¦¬ê³  ì¤‘ì•™ì˜ ë³¸ë¬¸ì¸ book-page ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ ì§‘ë‹ˆë‹¤.\nbook-menu ì˜ì—­ì—ëŠ” ìƒë‹¨ì— ê²€ìƒ‰ì°½ì´ ìˆê³  ê·¸ ì•„ë˜ì— ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ í‘œì‹œí•©ë‹ˆë‹¤. ê²€ìƒ‰ì°½ì— í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ë©´ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ë°€ì–´ë‚´ê³  ê²€ìƒ‰ì°½ ë°”ë¡œ ì•„ë˜ì— ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ë”°ë¡œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í˜ì´ì§€ê°€ ì¡´ì¬í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\nbook-toc ì˜ì—­ì€ ì¼ë°˜ì ì¸ ëª©ì°¨(Table of Contents) ì˜ì—­ì´ë©°, ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ê´€ê³„ì—†ì´ ê³ ì •ëœ ìœ„ì¹˜ì— ìˆìŠµë‹ˆë‹¤. ê²Œì‹œê¸€ ë‚´ íŠ¹ì • ìœ„ì¹˜ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ì•µì»¤ ë§í¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ì•µì»¤ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ë¶€ë“œëŸ½ê²Œ ì´ë™í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ì´ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nbook-page ì˜ì—­ì€ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ì‘ì„±í•œ ë³¸ë¬¸ì´ ë Œë”ë§ë˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤. í•´ë‹¹ ì˜ì—­ì˜ ì•„ë˜ì— ìˆëŠ” book-footer ì˜ì—­ì—ëŠ” ì´ì „, ë‹¤ìŒ ê²Œì‹œê¸€ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ë§í¬ê°€ í‘œì‹œë©ë‹ˆë‹¤.\nì¶”ê°€ë¡œ ê´€ì‹¬ì„ ê°€ì ¸ë³¼ë§Œí•œ ê¸°ëŠ¥ì€, ë¸Œë¼ìš°ì €ê°€ ì •í•´ì§„ ëª¨ë°”ì¼ í¬ê¸°ë§Œí¼ ì¤„ì–´ë“¤ê²Œ ë˜ë©´ book-menu ë° book-toc ì˜ì—­ì„ ìˆ¨ê¸°ê³  book-header ì˜ì—­ì„ í‘œì‹œí•˜ëŠ” ë°˜ì‘í˜• ë””ìì¸ì…ë‹ˆë‹¤. book-header ì˜ì—­ì€ ë³¸ë¬¸ì— í‘œì‹œë˜ì§€ ì•ŠëŠ” ê²Œì‹œê¸€ ì œëª©ì„ ì¤‘ì•™ì— ë³´ì—¬ì£¼ê³  ì¢Œìš°ì— book-,enu ë° book-toc ì˜ì—­ì„ í¼ì¹˜ê³  ì ‘ì„ ìˆ˜ ìˆëŠ” ë²„íŠ¼ì„ ì œê³µí•©ë‹ˆë‹¤.\nê³¼ê±° í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ë¥¼ ì´ìš©í•  ë•Œ ì‚¬ìš©í–ˆë˜ hELLO í…Œë§ˆì™€ êµ¬ì„±ì´ ë¹„ìŠ·í•´ í•´ë‹¹ í…Œë§ˆë¥¼ ë³´ìë§ˆì ê¸°ë³¸ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ì¢‹ê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ë§ˆì¹¨ hELLO í…Œë§ˆì—ì„œ ê°€ì ¸ì˜¤ë ¤ëŠ” ê¸°ëŠ¥ë“¤ë„ ë§ì•„ì„œ í•´ë‹¹ í…Œë§ˆê°€ ì ì ˆí–ˆìŠµë‹ˆë‹¤.\në¸”ë¡œê·¸ í”„ë¡œì íŠ¸ êµ¬ì„±í•˜ê¸° # ë§ˆìŒì— ë“œëŠ” í…Œë§ˆë¥¼ ì„ ì •í–ˆë‹¤ë©´ ë³¸ê²©ì ìœ¼ë¡œ Hugo í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•˜ì—¬ í…Œë§ˆë¥¼ ì ìš©í•´ë³¼ ì°¨ë¡€ì…ë‹ˆë‹¤.\n1. Hugo ì„¤ì¹˜ # Mac ì‚¬ìš©ìë¼ë©´ Homebrewë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ Hugoë¥¼ ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash brew install hugo ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´, ë²„ì „ ì •ë³´ë¥¼ ì¶œë ¥í•´ì„œ ì •ìƒ ì„¤ì¹˜ ì—¬ë¶€ë¥¼ í™•ì¸í•´ ë´…ë‹ˆë‹¤.\nCopy bash % hugo version hugo v0.150.0+extended+withdeploy darwin/arm64 BuildDate=2025-09-08T13:01:12Z VendorInfo=brew 2. Hugo í”„ë¡œì íŠ¸ ìƒì„± # Hugo í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.\nCopy bash hugo new site \u0026lt;í”„ë¡œì íŠ¸ëª…\u0026gt; Hugo í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤.\nCopy bash . â”œâ”€â”€ archetypes/ â”‚Â â””â”€â”€ default.md â”œâ”€â”€ content/ â”œâ”€â”€ data/ â”œâ”€â”€ layouts/ â”œâ”€â”€ public/ â”œâ”€â”€ static/ â”œâ”€â”€ themes/ â””â”€â”€ hugo.toml ê° í´ë”ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì—­í•  ë˜ëŠ” ëª©ì ì´ ìˆìŠµë‹ˆë‹¤.\narchtypes/ : ê²Œì‹œê¸€ í…œí”Œë¦¿ì´ ìœ„ì¹˜í•œ í´ë”ì´ë©°, hugo new \u0026lt;íŒŒì¼ëª…\u0026gt; ëª…ë ¹ì–´ë¡œ í…œí”Œë¦¿ ë‚´ìš©ì„ ê°€ì§€ëŠ” ê²Œì‹œê¸€ íŒŒì¼ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. content/ : ê²Œì‹œê¸€ ëª©ë¡ì´ ìœ„ì¹˜í•œ í´ë”ì…ë‹ˆë‹¤. data/ : CSV, JSON, YAML ë“±ì˜ ë°ì´í„°ë“¤ì„ ê´€ë¦¬í•˜ëŠ” í´ë”ì…ë‹ˆë‹¤. layouts/ : ë¸”ë¡œê·¸ì— ì ìš©ë˜ëŠ” HTML í˜•ì‹ì„ ê´€ë¦¬í•˜ëŠ” í´ë”ì…ë‹ˆë‹¤. themes/ í´ë”ë³´ë‹¤ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§‘ë‹ˆë‹¤. public/ : ë¹Œë“œí•œ ê²°ê³¼, ì¦‰ ì •ì  HTML íŒŒì¼ë“¤ì´ ìƒì„±ë˜ëŠ” í´ë”ì…ë‹ˆë‹¤. static/ : ë¹Œë“œí•  ë•Œ í¬í•¨ì‹œí‚¬ ì´ë¯¸ì§€, JS, CSS ë“±ì˜ íŒŒì¼ë“¤ì´ ìœ„ì¹˜í•˜ëŠ” í´ë”ì…ë‹ˆë‹¤. themes/ : ë§Œë“¤ì–´ì§„ í…Œë§ˆë¥¼ ë¸”ë¡œê·¸ì— ì ìš©í•˜ê¸° ìœ„í•´ ìœ„ì¹˜ì‹œí‚¤ëŠ” í´ë”ì…ë‹ˆë‹¤. hugo.toml : ë¸”ë¡œê·¸ì— ëŒ€í•œ ì„¤ì •ì„ ìœ„í•œ íŒŒì¼ì…ë‹ˆë‹¤. YAML ë“± ë‹¤ë¥¸ í˜•ì‹ë„ ì§€ì›í•©ë‹ˆë‹¤. 3. Github ì €ì¥ì†Œ ìƒì„± # ë¸”ë¡œê·¸ë¥¼ ê°œë°œí•˜ë©´ì„œ ì§„í–‰ ê³¼ì •ì„ ê¸°ë¡í•´ë‘ë©´ ê³¼ê±°ì— ì–´ë–¤ ì‘ì—…ì„ í–ˆëŠ”ì§€, ê·¸ë¦¬ê³  ì‹¤ìˆ˜ë¡œ ëŒì´í‚¬ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•´ ì´ì „ ì‹œì ìœ¼ë¡œ ëŒì•„ê°€ê³  ì‹¶ì€ ê²½ìš°ì— ë²„ì „ ê´€ë¦¬ë¥¼ í•´ë‘ë©´ ì¢‹ìŠµë‹ˆë‹¤.\në¡œì»¬ì—ì„œ Gitì„ í†µí•´ ë²„ì „ ê´€ë¦¬ë¥¼ í•˜ë©´ì„œ ì»¤ë°‹í•œ ì´ë ¥ì„ Githubì— ì˜¬ë¦´ ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•œ Github ì €ì¥ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\në‹¨ìˆœíˆ ë²„ì „ ê´€ë¦¬ ëª©ì ìœ¼ë¡œ Githubì„ ì´ìš©í•œë‹¤ë©´ ì €ì¥ì†Œ ëª…ì¹­ì€ ì•„ë¬´ë ‡ê²Œë‚˜ í•´ë„ ê´œì°®ì§€ë§Œ, ì•„ë˜ì—ì„œ ì„¤ëª…í•  Github Pages ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ë ¤ë©´ \u0026lt;ì‚¬ìš©ìëª…\u0026gt;.github.io ëª…ì¹­ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\nGithub ì €ì¥ì†Œë¥¼ ìƒì„±í–ˆë‹¤ë©´ ì•ì—ì„œ ìƒì„±í•œ Hugo í”„ë¡œì íŠ¸ì™€ ì—°ë™í•©ë‹ˆë‹¤.\nCopy bash git init git add . git commit -m \u0026#34;feat: new site\u0026#34; git branch -M main git remote add origin https://github.com/\u0026lt;ì‚¬ìš©ìëª…\u0026gt;/\u0026lt;ì‚¬ìš©ìëª…\u0026gt;.github.io.git git push -u origin main Hugo í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ë©´ì„œ ë°œìƒí•œ ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•˜ê³  Github ì €ì¥ì†Œì˜ main ë¥¼ ì›ê²© ì €ì¥ì†Œë¡œ ë“±ë¡í•œ í›„ í‘¸ì‰¬í•©ë‹ˆë‹¤.\n4. Github Pages ì„¤ì • # ë¸”ë¡œê·¸ë¥¼ ì¸í„°ë„· ìƒì˜ ëª¨ë‘ì—ê²Œ ê³µê°œí•˜ê¸° ìœ„í•´ì„œëŠ” ì¼ë°˜ì ìœ¼ë¡œ í™ˆì„œë²„ êµ¬ì¶•, ë„ë©”ì¸ êµ¬ë§¤, DNS ì„¤ì • ë“± ì‹ ê²½ì¨ì•¼ í• ê²Œ ë§ì•„ì„œ í¸ë¦¬í•œ ì›¹ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•©ë‹ˆë‹¤. ì»´í“¨íŒ… ìì›ì„ ì œê³µí•˜ëŠ” ì›¹ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ë“¤ì€ ëŒ€ë¶€ë¶„ ìœ ë£Œë¡œ ì œê³µë˜ê¸° ë•Œë¬¸ì— ë¬´ë£Œë¡œ ê°„ë‹¨í•˜ê²Œ ì´ìš©í•  ìˆ˜ ìˆëŠ” Github Pages ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³ ì í•©ë‹ˆë‹¤.\nGithub ì €ì¥ì†Œì˜ ì„¤ì •(Settings) íƒ­ì— ì ‘ê·¼í•œ í›„, ì‚¬ì´ë“œë°”ì˜ Pages ë©”ë‰´ì—ì„œ Github Pagesë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nGithub Actionsë¥¼ ì‚¬ìš©í•´ ë¹Œë“œ ê³¼ì •ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆì§€ë§Œ, í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë‹¨ìˆœí•˜ê²Œ ë³„ë„ì˜ ë¸Œëœì¹˜ì— HTML ì†ŒìŠ¤ì½”ë“œë¥¼ ë‘ê³  í•´ë‹¹ ë¸Œëœì¹˜ì—ì„œ ë³€ê²½ì‚¬í•­ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ë¹Œë“œë˜ë„ë¡ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.\nSourceì— Deploy from a branch ë¥¼ ì„ íƒí•˜ê³  Branchì— ëŒ€ìƒ ë¸Œëœì¹˜ë¥¼ ì§€ì •í•˜ë©´ Github Pages ì„¤ì •ì´ ì™„ë£Œë˜ì§€ë§Œ, ë¸Œëœì¹˜ ì§€ì • ì‹œ ê³ ë ¤í•  ì‚¬í•­ì´ ìˆì–´ ìš°ì„  ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.\n5. Submodule êµ¬ì„± # Submoduleì€ Gitì—ì„œ ì™¸ë¶€ í”„ë¡œì íŠ¸ë¥¼ í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆê²Œ í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. Submoduleì´ ë¬´ì—‡ì¸ì§€ ì„¤ëª…í•˜ë ¤ë©´ ë„ˆë¬´ ê¸¸ì–´ì§€ê¸° ë•Œë¬¸ì— ìì„¸í•˜ê²Œ ì•Œê³  ì‹¶ë‹¤ë©´ ì €ì¥ì†Œ ì•ˆì— ì €ì¥ì†Œ - git submodule ì˜ìƒ ë“±ì„ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\nSubmoduleì€ ì™¸ë¶€ í”„ë¡œì íŠ¸ë¥¼ ì—°ê²°ì‹œí‚¤ëŠ” ì—­í• ì„ í•˜ì§€ë§Œ, ë°˜ëŒ€ë¡œ ì´ìš©í•˜ë©´ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ì¼ë¶€ë¥¼ ë…ë¦½ì ì¸ ì™¸ë¶€ í”„ë¡œì íŠ¸ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë‹¤ìŒ 2ê°€ì§€ ì‚¬ìœ ë¡œ Submoduleì„ ì´ìš©í•©ë‹ˆë‹¤.\nSubmoduleë¡œ ë¶„ë¦¬í•˜ë ¤ëŠ” í´ë”ëŠ” public/ ì…ë‹ˆë‹¤. í•´ë‹¹ í´ë”ëŠ” Hugo ë¹Œë“œí•œ ê²°ê³¼ê°€ ìƒì„±ë˜ëŠ” ê²½ë¡œì¸ë°, ì´ë•Œë§ˆë‹¤ ë§ì€ íŒŒì¼ë“¤ì´ ë³€ê²½ì‚¬í•­ì— í¬í•¨ë©ë‹ˆë‹¤. ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” íŒŒì¼ë“¤ì„ main ë¸Œëœì¹˜ì˜ ë³€ê²½ì‚¬í•­ì— í¬í•¨í•˜ê³  ì‹¶ì§€ ì•Šì•„ ë¶„ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\nì•ì—ì„œ Github Pagesë¥¼ ì„¤ì •í•  ë•Œ public/ ê²½ë¡œë¥¼ ì§€ì •í•˜ë ¤ê³  í–ˆëŠ”ë°, ì´ ë•Œ ê³ ë ¤í•  ì‚¬í•­ì´ ë¸Œëœì¹˜ì—ì„œ ë³€ê²½ì‚¬í•­ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ë¹Œë“œê°€ ì§„í–‰ëœë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ì»¤ë°‹ì„ í‘¸ì‰¬í•˜ë©´ì„œ ë¹Œë“œí•˜ê³  ì‹¶ì§€ ì•Šì€ ê²½ìš°ê°€ ìˆëŠ”ë° main ë¸Œëœì¹˜ë¥¼ Github Pages ëŒ€ìƒìœ¼ë¡œ ì§€ì •í•˜ê²Œ ë˜ë©´ ë¹Œë“œ ì‹œì ì„ ì œì–´í•  ìˆ˜ ì—†ì–´ ë…ë¦½ì ì¸ ë¸Œëœì¹˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.\në”°ë¼ì„œ, public/ í´ë”ë¥¼ ë…ë¦½ì ì¸ ë¸Œëœì¹˜ì˜ ë£¨íŠ¸ ê²½ë¡œë¡œ ì§€ì •í•˜ê³ , í•´ë‹¹ ë¸Œëœì¹˜ë¥¼ Submoduleë¡œ ë¶„ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤.\nìš°ì„ , ë¸Œëœì¹˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ë¸Œëœì¹˜ëª…ì€ ììœ ë¡­ê²Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©° í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” source ë¼ê³  ì§€ì •í–ˆìŠµë‹ˆë‹¤.\nCopy bash git branch source main git checkout source source ë¸Œëœì¹˜ëŠ” public/ í´ë”ë¥¼ ë£¨íŠ¸ ê²½ë¡œë¡œ ê°€ì§‘ë‹ˆë‹¤. ì¦‰, í˜„ì¬ public/ í´ë”ëŠ” ë¹„ì–´ìˆìœ¼ë¯€ë¡œ ëª¨ë“  íŒŒì¼ì„ ì‚­ì œí•˜ê³  ì›ê²© ì €ì¥ì†Œì— ì˜¬ë¦½ë‹ˆë‹¤. ì´ë•Œ, ëª¨ë“  íŒŒì¼ì„ ì‚­ì œí•œë‹¤ê³  .git í´ë”ê¹Œì§€ ì‚­ì œí•˜ë©´ ì•ˆë©ë‹ˆë‹¤.\nCopy bash find . -maxdepth 1 -not -name \u0026#39;.*\u0026#39; -exec rm -rf {} \\; git add . git commit -m \u0026#34;update: init source\u0026#34; git push origin source ì›ê²© ì €ì¥ì†Œì— ë¸Œëœì¹˜ë¥¼ ì¶”ê°€í–ˆìœ¼ë©´ ë‹¤ì‹œ main ë¸Œëœì¹˜ë¡œ ë˜ëŒì•„ê°€ì„œ ì›ê²©ì˜ source ë¸Œëœì¹˜ë¥¼ Submoduleë¡œ ì—°ê²°í•©ë‹ˆë‹¤.\nCopy bash git checkout main rm -rf public git submodule add -b source https://github.com/\u0026lt;ì‚¬ìš©ìëª…\u0026gt;/\u0026lt;ì‚¬ìš©ìëª…\u0026gt;.github.io public git commit -m \u0026#34;feat: add submodule for source\u0026#34; ê·¸ë¦¬ê³ , ë‹¤ì‹œ Github Pages ì„¤ì •ìœ¼ë¡œ ë˜ëŒì•„ê°€ì„œ source ë¸Œëœì¹˜ë¥¼ ì§€ì •í•˜ê³  ì„¤ì •ì„ ì €ì¥í•˜ë©´ ë©ë‹ˆë‹¤.\nì¶”ê°€ì ìœ¼ë¡œ, ê²Œì‹œê¸€ ëª©ë¡ì´ ìœ„ì¹˜í•˜ëŠ” content/ í´ë”ë„ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ì–´ì„œ Submoduleë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.\nsource ë¸Œëœì¹˜ì™€ ë™ì¼í•œ ê³¼ì •ìœ¼ë¡œ content ë¸Œëœì¹˜ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤.\nCopy bash git branch content main git checkout content find . -maxdepth 1 -not -name \u0026#39;.*\u0026#39; -exec rm -rf {} \\; git add . git commit -m \u0026#34;update: init content\u0026#34; git push origin content git checkout main rm -rf content git submodule add -b content https://github.com/\u0026lt;ì‚¬ìš©ìëª…\u0026gt;/\u0026lt;ì‚¬ìš©ìëª…\u0026gt;.github.io content git commit -m \u0026#34;feat: add submodule for content\u0026#34; 6. í…Œë§ˆ ì ìš©í•˜ê¸° # í•´ë‹¹ ë‹¨ê³„ì—ì„œë„ Submoduleì„ í™œìš©í•˜ì—¬ ë³„ë„ì˜ ì €ì¥ì†Œì— ìˆëŠ” í…Œë§ˆë¥¼ themes/ í´ë” ì•„ë˜ì— ì—°ê²°ì‹œí‚¬ ê²ƒì…ë‹ˆë‹¤.\në§Œë“¤ì–´ì§„ í…Œë§ˆë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ê²ƒì´ë¼ë©´ í•´ë‹¹ í…Œë§ˆì˜ Github ì €ì¥ì†Œë¥¼ Submoduleë¡œ ì—°ê²°í•©ë‹ˆë‹¤.\nHugo Book ì›ë³¸ í…Œë§ˆë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.\nBook ì€ Hugo ì„¤ì •ì—ì„œ ì§€ì •í•œ hugo-book ì— ëŒ€í•œ í…Œë§ˆëª…ì´ê³ , ë‹¤ë¥¸ í…Œë§ˆë¼ë©´ ëª…ì¹­ì„ ë³€ê²½í•©ë‹ˆë‹¤.\nCopy bash git submodule add https://github.com/alex-shpak/hugo-book themes/Book í…Œë§ˆë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ê²ƒì´ë¼ë©´ ì›ë³¸ í…Œë§ˆë¥¼ Forkí•œ ì €ì¥ì†Œë¥¼ Submoduleë¡œ ì—°ê²°í•©ë‹ˆë‹¤.\ní…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ìœ„í•´ ë§Œë“  hugo-book-custom ì €ì¥ì†Œë¥¼ ì—°ê²°í•˜ê²ŸìŠµë‹ˆë‹¤.\nCopy bash git submodule add https://github.com/minyeamer/hugo-book-custom themes/Book 7. ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±í•˜ê¸° # Hugo ë¹Œë“œëŠ” hugo -t \u0026lt;í…Œë§ˆëª…\u0026gt; ëª…ë ¹ì–´ë¥¼ í†µí•´ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³ , public/ ê²½ë¡œì— ìƒì„±ëœ HTML ì†ŒìŠ¤ì½”ë“œë¥¼ source ë¸Œëœì¹˜ì— í‘¸ì‰¬í•˜ì—¬ Github Pages ë°°í¬ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.\nì´ ê³¼ì •ì„ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nCopy bash #!/bin/bash echo -e \u0026#34;\\033[0;32mDeploying updates to GitHub***\\033[0m\u0026#34; # ëª¨ë“  ì„œë¸Œëª¨ë“ˆì˜ ë³€ê²½ì‚¬í•­ì„ ì—…ë°ì´íŠ¸ git submodule update --remote # `hugo -t \u0026lt;í…Œë§ˆëª…\u0026gt;` ëª…ë ¹ì–´ë¡œ Hugo ì •ì  í˜ì´ì§€ ë Œë”ë§ # `--gc` ì˜µì…˜ì€ `garbage collection` ì„ ì˜ë¯¸í•˜ë©° ë¶ˆí•„ìš”í•œ í˜ì´ì§€ë¥¼ ì‚­ì œ hugo -t Book --gc # `source` ë¸Œëœì¹˜ë¡œ ì´ë™ cd public git add . # ì¸ìê°€ ì—†ì„ ê²½ìš° í˜„ì¬ ì‹œê°„ì„ ì»¤ë°‹ ë©”ì‹œì§€ë¡œ ë“±ë¡ msg=\u0026#34;rebuild: $(date +\u0026#34;%Y-%m-%dT%H:%M:%S%z\u0026#34;)\u0026#34; if [ $# -eq 1 ] then msg=\u0026#34;$1\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; # ë¹Œë“œ ê²°ê³¼ë¥¼ `source` ë¸Œëœì¹˜ì— ë°˜ì˜ git push origin source # `main` ë¸Œëœì¹˜ë¡œ ì´ë™ cd .. # í˜„ì¬ê¹Œì§€ì˜ ë³€ê²½ì‚¬í•­ì„ `main` ë¸Œëœì¹˜ì— ë°˜ì˜ git add . if [ $# -eq 1 ] then msg=\u0026#34;$1\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; git push origin main í•´ë‹¹ ë‚´ìš©ì˜ deploy.sh ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ìƒì„±í•˜ê³  chmod 755 deploy.sh ëª…ë ¹ì–´ë¡œ ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•˜ì—¬ ë³µì¡í•œ ë°°í¬ ê³¼ì •ì„ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ í•˜ë‚˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒìœ¼ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.\nìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ Hugo í”„ë¡œì íŠ¸ë¥¼ HTML ì†ŒìŠ¤ì½”ë“œë¡œ ë¹Œë“œí•œ í›„ ì›ê²© ì €ì¥ì†Œì— í‘¸ì‰¬í•˜ì—¬ Github Pages ë°°í¬í•˜ê²Œ ë©ë‹ˆë‹¤. Github Actionsë¥¼ í™•ì¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ë°°í¬ê°€ ì§„í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nëª¨ë“  ê³¼ì •ì´ ì„±ê³µí•˜ë©´ https://\u0026lt;ì‚¬ìš©ìëª…\u0026gt;.github.io/ ì£¼ì†Œë¡œ ë°°í¬ëœ ë¸”ë¡œê·¸ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê¸°ë³¸ Hugo Book í…Œë§ˆë¥¼ ì‚¬ìš©í•  ê²½ìš° ë°°í¬í–ˆì„ ë•Œ ì¢Œì¸¡ ë©”ë‰´ì— ë¸”ë¡œê·¸ ì œëª©ê³¼ ê²€ìƒ‰ì°½ë§Œ ë©ê·¸ëŸ¬ë‹ˆ ë†“ì—¬ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì„ì‹œë¡œ ê²Œì‹œê¸€ì„ ìƒì„±í•˜ê³  ê²Œì‹œê¸€ ê²½ë¡œë¡œ ì§ì ‘ ì´ë™í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në‹¤ìŒ ê²Œì‹œê¸€ì—ì„œëŠ” ë³¸ê²©ì ìœ¼ë¡œ í…Œë§ˆë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ê³¼ì •ì„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.\n"},{"id":4,"href":"/blog/openup-handson/","title":"[OSSCA] 2025 ì˜¤í”ˆì†ŒìŠ¤ ì»¨íŠ¸ë¦¬ë·°ì…˜ ì•„ì¹´ë°ë¯¸ - PyTorch ë¬¸ì„œ í•œê¸€í™” ì°¸ì—¬ í›„ê¸°","content":" ì˜¤í”ˆì†ŒìŠ¤ ì»¨íŠ¸ë¦¬ë·°ì…˜ ì•„ì¹´ë°ë¯¸ ì†Œê°œ\nì˜¤í”ˆì†ŒìŠ¤ ì»¨íŠ¸ë¦¬ë·°ì…˜ ì•„ì¹´ë°ë¯¸ ì²´í—˜í˜• í”„ë¡œê·¸ë¨ì€ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì— ìµìˆ™í•˜ì§€ ì•Šì€ ì˜ˆë¹„ ê°œë°œìë¥¼ ìœ„í•œ 6ì£¼ ê°„ì˜ ì†ì„± ì»¨íŠ¸ë¦¬ë·°ì…˜ ì²´í—˜í˜• íŒ¨í‚¤ì§€ ì…ë‹ˆë‹¤. ì œê°€ ì°¸ì—¬í•œ PyTorch ë¬¸ì„œ í•œê¸€í™” í”„ë¡œì íŠ¸ëŠ” íŒŒì´í† ì¹˜ í•œêµ­ì–´ íŠœí† ë¦¬ì–¼ ë¬¸ì„œë¥¼ ë²ˆì—­í•˜ì—¬ PRì„ ì˜¬ë¦¬ê³  ë©˜í† /ë©˜í‹°ë¡œë¶€í„° ë¦¬ë·°ë¥¼ ë°›ëŠ” í™œë™ì„ í–ˆìŠµë‹ˆë‹¤. ì•„ì¹´ë°ë¯¸ í™œë™ì— ê´€ì‹¬ìˆë‹¤ë©´ í•´ë‹¹ ë§í¬ë¡œ ì´ë™í•˜ì—¬ í–¥í›„ ì¼ì •ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 25ë…„ 9ì›” 17ì¼ë¶€í„° 10ì›” 31ì¼ê¹Œì§€ 6ì£¼ê°„ OSSCAì— ë©˜í‹°ë¡œ ì°¸ì—¬í•˜ë©´ì„œ ê²½í—˜í•œ ê³¼ì •ì„ ê³µìœ ë“œë¦¬ê³ ì í•©ë‹ˆë‹¤.\nOSSCA ì°¸ê°€ ì‹ ì²­ # ì°¸ì—¬í•˜ê²Œ ëœ ê³„ê¸° # OSSCAë¼ëŠ” ê³¼ì •ì„ ì²˜ìŒ ì•Œê²Œ ëœ ê±´ 2025 íŒŒì´ì½˜ì˜ OpenUp ë¶€ìŠ¤ë¥¼ ì ‘í•˜ê²Œ ëœ ê²ƒì…ë‹ˆë‹¤.\ní‰ì†Œì— ì˜¤í”ˆì†ŒìŠ¤ì— ê¸°ì—¬í•˜ëŠ” í™œë™ì„ ë™ê²½í–ˆê³ , Githubì— ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì˜¬ë¦¬ë‹¤ ë³´ë©´ ì˜¤í”ˆì†ŒìŠ¤ ë‹¨ì²´ë¡œë¶€í„° ë©”ì¼ì„ ë°›ì•„ ë””ìŠ¤ì½”ë“œì— ì°¸ê°€í•˜ëŠ” ê²½ìš°ë„ ìˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, ì•„ì‰½ê²Œë„ Githubì´ë€ ë„êµ¬ë¥¼ í†µí•´ì„œ íŒ€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•œ ê²½í—˜ì´ ì—†ì—ˆê³ , PRì„ ì˜¬ë¦¬ëŠ” ë²•ë„ ëª°ë¼ ê°íˆ ê¸°ì—¬í•´ë³´ê² ë‹¤ëŠ” ìƒê°ì„ ê°–ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\nê·¸ë ‡ê²Œ ì†”ë¡œ ì½”ë”©ë§Œ í•´ì˜¤ë˜ ì €ì—ê²Œ OSSCA ê³¼ì •ì€ ì˜¤í”ˆì†ŒìŠ¤ë¼ëŠ” ì˜ì—­ì— ì²« ë°œì„ ë‚´ë”›ì„ ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ë  ê²ƒì´ë¼ ìƒê°í–ˆìŠµë‹ˆë‹¤. ë”ìš±ì´, ì²´í—˜í˜•ì€ ê¸°ê°„ë„ 6ì£¼ë¡œ ë¹„êµì  ì§§ê³  ì§ì¥ì¸ë„ ì°¸ì—¬í•  ìˆ˜ ìˆì–´ì„œ ë¶€ë‹´ì—†ì´ ì°¸ê°€ ì‹ ì²­í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ ì„ íƒ # ì´ë²ˆ ì²´í—˜í˜• í”„ë¡œê·¸ë¨ì—ëŠ” PyTorch, MDN, Ubuntu, Yocto, Braillify í”„ë¡œì íŠ¸ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë‚´ê°€ ì„ íƒí•œë‹¤ê³  í•©ê²©ì´ ë³´ì¥ë˜ëŠ” ê±´ ì•„ë‹ˆì§€ë§Œ, ê·¸ë˜ë„ ê°œì¸ì ìœ¼ë¡œëŠ” ê³¼ê±° ë”¥ëŸ¬ë‹ ëª¨ë¸ì„ í•™ìŠµí•˜ë©´ì„œ í™œìš©í•œ PyTorchê°€ ê°€ì¥ ìµìˆ™í–ˆê³ , ê·¸ ì™¸ì—” MDNê³¼ Ubuntuê°€ ì•„ëŠ” ê±°ë¼ ëˆˆì— ë„ì—ˆìŠµë‹ˆë‹¤.\nì°¸ê°€ ì‹ ì²­í•  ë•Œ ì•„ë§ˆ 2ì§€ë§ê¹Œì§€ ê³ ë¥¼ ìˆ˜ ìˆì—ˆë˜ ê±¸ë¡œ ê¸°ì–µí•˜ëŠ”ë°, 1ì§€ë§ìœ¼ë¡œ PyTorchë¥¼ ê³ ë¥´ê³  ë‹¤ìŒìœ¼ë¡œ MDNì„ ê³¨ëì„ ê²ƒì…ë‹ˆë‹¤. ë‹¤í–‰íˆ 1ì§€ë§ì¸ PyTorch í”„ë¡œì íŠ¸ì— í•©ê²©í•˜ì—¬ ì´ë²ˆ 6ì£¼ ê°„ì˜ ê³¼ì •ì„ ì™„ì£¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\në””ìŠ¤ì½”ë“œ ì°¸ì—¬ # ì•„ì‰½ê²Œë„ ì˜¤í”„ë¼ì¸ ë°œëŒ€ì‹ì—ëŠ” ê°œì¸ ì¼ì •ê³¼ ê²¹ì³ì„œ ì°¸ê°€í•˜ì§€ ëª»í–ˆê³ ,\ní•´ë‹¹ ì¼ì • ì „ì— OSSCA ë””ìŠ¤ì½”ë“œì— ì´ˆëŒ€ë°›ì•„ ì–´ë–¤ê±¸ í•˜ê²Œ ë ì§€ ë‘˜ëŸ¬ë³´ì•˜ìŠµë‹ˆë‹¤.\ní”„ë¡œì íŠ¸ ì‹œì‘ ì „ì— íŠ¹ë³„íˆ ë³¼ ê±´ ì—†ì—ˆê³  íŒ€ë³„ ì±„ë„ì—ì„œ ëŒ€í™”ë¥¼ ë‚˜ëˆ„ë©´ì„œ í–¥í›„ ì¼ì •ì„ ì „ë‹¬ë°›ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nì²˜ìŒ ë¯¸íŒ…ì€ ì˜¨ë¼ì¸ìœ¼ë¡œ ì§„í–‰í–ˆê³ , ì²« ë²ˆì§¸ ê³¼ì œë¡œ ë©˜í† ë‹˜ì˜ í…ŒìŠ¤íŠ¸ repoì—ì„œ ìƒ˜í”Œ ë²ˆì—­í•  ê²ƒì„ ì „ë‹¬ë°›ì•˜ìŠµë‹ˆë‹¤.\n1ì£¼ì°¨ - PyTorch ë¬¸ì„œ ìƒ˜í”Œ ë²ˆì—­ # PyTorch íŠœí† ë¦¬ì–¼ì—ëŠ” advanced, beginner, intermediate, recipes 4ê°€ì§€ í´ë”ê°€ ìˆëŠ”ë°, ê° ì¡°ë³„ë¡œ íŠ¹ì • í´ë”ì— í• ë‹¹ë˜ì–´ ê°œì¸ ë³„ë¡œ í´ë” ë‚´ ë¬¸ì„œ í•˜ë‚˜ë¥¼ ì„ íƒí•´ 3ì¤„ ì •ë„ì˜ ìƒ˜í”Œ ë²ˆì—­ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\nPR ì˜¬ë¦¬ê¸° # ë¡œì»¬ì—ì„œ ìƒ˜í”Œ ë²ˆì—­í•œ ê²°ê³¼ëŠ” í…ŒìŠ¤íŠ¸ repoì— PRì„ ì˜¬ë¦¬ê³  ì¡°ì›ë“¤ ê°„ì— PR ë¦¬ë·° ëŒ“ê¸€ì„ ë‹¬ì•˜ìŠµë‹ˆë‹¤.\nì €ëŠ” advanced/generic_join.rst ë¬¸ì„œë¥¼ ì„ íƒí–ˆê³  ì¡°ê¸ˆ ì˜ìš•ì´ ë“¤ì–´ 35ì¤„ ì •ë„ë¥¼ ë²ˆì—­í•´ì„œ ì˜¬ë ¸ìŠµë‹ˆë‹¤.\ní´ë¡œë“œë¡œ ë¬¸ì„œë¥¼ ì „ì²´ ë²ˆì—­í•œ í›„ì— ì§ì ‘ í•œ ì¤„ì”© ë‹¤ë“¬ëŠ” ë°©ì‹ìœ¼ë¡œ í•˜ë‹¤ë³´ë‹ˆ ì´ë•Œ ì´ë¯¸ ë²ˆì—­ ì´ˆì•ˆì€ ì™„ì„±ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ, ë§ˆì§€ë§‰ ì£¼ì°¨ì— ë¬¸ì„œ ì „ì²´ë¥¼ ë²ˆì—­í•˜ëŠ” ê³¼ì œì—ì„œ ë‹¤ì‹œ í•´ë‹¹ ë¬¸ì„œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\nìƒ˜í”Œ ë²ˆì—­ì„ ì§„í–‰í•œ í›„ì—” ë¡œì»¬ì—ì„œ ì „ì²´ íŠœí† ë¦¬ì–¼ì„ ë Œë”ë§í•˜ì—¬ ë‹¨ìˆœíˆ ë²ˆì—­ í€„ë¦¬í‹° ë¿ ì•„ë‹ˆë¼, reStructuredText ë¬¸ë²•ì´ ì˜ëª»ëœê²Œ ì—†ëŠ”ì§€ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í–ˆìŠµë‹ˆë‹¤.\nì´ìŠˆì‚¬í•­ (1) - RST ë¬¸ë²• # ì´ ê³¼ì •ì—ì„œ, ë§ˆí¬ë‹¤ìš´ë§Œ ì•Œë‹¤ê°€ RSTë¼ëŠ” í˜•ì‹ì„ ì‘ì„±í•˜ë‹¤ ë³´ë‹ˆ, ì¼ë¶€ ë¬¸ë²•ì˜ ì°¨ì´ì—ì„œ ì˜¤ëŠ” ì˜¤ë¥˜ë¥¼ ê²½í—˜í–ˆìŠµë‹ˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œ ì¸ë¼ì¸ ì½”ë“œë¸”ëŸ­ì„ ë§ˆí¬ë‹¤ìš´ì—ì„œëŠ” ë°±í‹±(`) í•˜ë‚˜ë¡œ ê°ì‹¸ì„œ í‘œí˜„í–ˆëŠ”ë°, RSTì—ì„œëŠ” ë°±í‹± 2ê°œë¡œ ê°ìŒŒìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³ , ë°±í‹±ê³¼ í•œê¸€ì´ ê²¹ì¹˜ë©´ ì™¸ë¶€ ë§í¬ê°€ í…ìŠ¤íŠ¸ë¡œ ë…¸ì¶œë˜ì–´ ë³´ê¸°ì— ì¢‹ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nì´ìŠˆì‚¬í•­ (2) - í•œêµ­ì–´ ë¬¸ë²• # ì˜¨ë¼ì¸ ë¯¸íŒ…ì—ì„œ PyTorchKorea ë²ˆì—­ ê°€ì´ë“œ ë° ë²ˆì—­ ëª¨ë²” ì‚¬ë¡€ë¥¼ ê³µìœ  ë°›ì•˜ëŠ”ë°, ì´ ì¤‘ì—ì„œ íŠ¹íˆ ì‹ ê²½ì¨ì•¼ í–ˆë˜ê²Œ ì½œë¡ (:)ì„ ë§ˆì¹¨í‘œ(.)ë¡œ ë³€í™˜í•˜ëŠ” ê·œì¹™ì´ì—ˆìŠµë‹ˆë‹¤. í‰ì†Œì— íŠ¹ìˆ˜ë¬¸ì ì‚¬ìš©ì— ì‹ ê²½ì„ ì“°ì§€ ì•Šì•˜ë‹¤ ë³´ë‹ˆ, ê·¸ë¦¬ê³  ê°œì¸ì ìœ¼ë¡œë„ ì˜ì–´ë¡œ ëœ ê³µì‹ ë¬¸ì„œë¥¼ ìì£¼ ì½ì–´ ì½œë¡  ì‚¬ìš©ì´ ìµìˆ™í•˜ë‹¤ ë³´ë‹ˆ ì²˜ìŒ ë²ˆì—­í•  ë•Œ ì´ëŸ¬í•œ í‘œí˜„ì„ ë†“ì¹˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ìŠµë‹ˆë‹¤.\nì´ìŠˆì‚¬í•­ (3) - ì½”ë“œ ë¸”ëŸ­ # ë§ˆì§€ë§‰ìœ¼ë¡œ ê²ªì—ˆë˜ ë¬¸ì œëŠ” ë¡œì»¬ì—ì„œ ë Œë”ë§í•  ë•Œ ì¸ë¼ì¸ ì½”ë“œë¸”ëŸ­ì´ ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ê³µë°± ë‹¨ìœ„ë¡œ ë¶„ë¦¬ë˜ì–´ ë³´ì˜€ìŠµë‹ˆë‹¤.\nì›ë¬¸ íŠœí† ë¦¬ì–¼ê³¼ ìƒ˜í”Œ ë²ˆì—­í•œ ë¬¸ì„œ ê°„ì— ì¸ë¼ì¸ ì½”ë“œë¸”ëŸ­ì„ í‘œí˜„í•˜ëŠ” ë¬¸ë²•ì— ì°¨ì´ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¡œì»¬ì—ì„œ ë Œë”ë§í•  ë•Œë§Œ ë°œìƒí•˜ëŠ” ë¬¸ì œê² ì§€ë§Œ ê·¸ë˜ë„ ê±°ìŠ¬ë ¤ì„œ í•´ê²°í•´ë³´ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\në‹¤í–‰íˆ í•´ë‹¹ ì‚¬ë¡€ì— ëŒ€í•œ í•´ê²°ë²•ì´ Stack Overflowì— ì˜¬ë¼ì™”ì—ˆê³ , ì´ë¥¼ ì°¸ê³ í•˜ì—¬ python ì½”ë“œ ë¸”ëŸ­ìœ¼ë¡œ ì¸ì‹í•˜ëŠ” Roleì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. Roleì— ëŒ€í•œ ì„¤ëª…ì€ Sphinx ê³µì‹ ë¬¸ì„œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nInline code highlighting in reStructuredText I know reStructuredText has this directive:\u0026amp;#xA;\u0026amp;#xA;.. code:: bash\u0026amp;#xA;\u0026amp;#xA; gedit pohl.m\u0026amp;#xA;which renders a code â€¦ Stack Overflow Copy python .. role:: python(code) :language: python - :python:`__init__(self, joinables: List[Joinable], enable: bool = True, throw_on_early_termination: bool = False)` ìœ„ì™€ ê°™ì´ ìˆ˜ì •í•˜ê³  ë‹¤ì‹œ ë Œë”ë§í•˜ë‹ˆ ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ë³´ê¸° ì¢‹ê²Œ ë‚˜íƒ€ë‚¬ìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ, ë§ˆì§€ë§‰ ì£¼ì°¨ì—ì„œ ë²ˆì—­í•  ë•Œ ì›ë¬¸ê³¼ í˜•ì‹ì„ ë§ì¶”ê¸° ìœ„í•´ í•´ë‹¹ í‘œí˜„ì€ ì œì™¸í–ˆìŠµë‹ˆë‹¤.\n2ì£¼ì°¨ - ê¸°ì¡´ ë¬¸ì„œ ì˜¤íƒˆì ìˆ˜ì • # 2ì£¼ì°¨ ê³¼ì œëŠ” (1) ê¸°ì¡´ ë¬¸ì„œ ë²ˆì—­ì„ ê°œì„ í•˜ê³  (2) ìš©ì–´ì§‘ì— ìƒˆ ìš©ì–´ë¥¼ ì¶”ê°€í•˜ëŠ” 2ê°œì˜ í™œë™ì„ ì „ë‹¬ë°›ì•˜ìŠµë‹ˆë‹¤.\në‘ ì‘ì—… ê°„ì— ìˆœì„œëŠ” ì—†ì§€ë§Œ, ì¤‘ê°„ì— ì¶”ì„ ì—°íœ´ê°€ ë¼ì–´ì„œ ì´ë²ˆ ê³¼ì œë¥¼ 3ì£¼ì°¨ê¹Œì§€ ì§„í–‰í–ˆê¸° ë•Œë¬¸ì— í¸ì˜ìƒ ê°ê°ì˜ ì£¼ì°¨ë¡œ ë‚˜ëˆ´ìŠµë‹ˆë‹¤.\në¬¸ë²• ì˜¤ë¥˜ ìˆ˜ì • # ê¸°ì¡´ ë¬¸ì„œ ë²ˆì—­ì„ ê°œì„ í•˜ëŠ” ê³¼ì œëŠ” advanced_source/rpc_ddp_tutorial.rst ë¬¸ì„œë¥¼ ëŒ€ìƒìœ¼ë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ë¶„ì‚° ëª¨ë¸ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ê²°í•©í•˜ì—¬ ê°„ë‹¨í•œ ëª¨ë¸ í•™ìŠµì‹œí‚¤ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•˜ëŠ” ë¬¸ì„œì¸ë°, ë²ˆì—­ í€„ë¦¬í‹°ë¥¼ ê°œì„ í• ë§Œí•œ ì ì€ ì°¾ì§€ ëª»í–ˆì§€ë§Œ ì´ìŠˆì‚¬í•­ (1) - RST ë¬¸ë²•ì— í•´ë‹¹í•˜ëŠ” ë§í¬ê°€ í…ìŠ¤íŠ¸ë¡œ ë…¸ì¶œë˜ëŠ” ì´ìŠˆ ì‚¬í•­ì„ í•´ê²°í–ˆìŠµë‹ˆë‹¤.\n#1010 PRì„ ì˜¬ë ¤ í˜„ì¬ëŠ” Merged ë˜ì—ˆìŠµë‹ˆë‹¤.\n3ì£¼ì°¨ - ìš©ì–´ì§‘ì— ìƒˆ ìš©ì–´ ì¶”ê°€ # ì˜¤íƒˆì ìˆ˜ì •ê³¼ ë™ì‹œì— ì§„í–‰í•œ ìš©ì–´ì§‘ ì¶”ê°€ ê³¼ì œëŠ” PyTorch íŠœí† ë¦¬ì–¼ ë²ˆì—­ ê°€ì´ë“œì— ì ì ˆí•œ ë‹¨ì–´ë¥¼ ë“±ë¡í•˜ëŠ” ê³¼ì œì…ë‹ˆë‹¤.\nìš©ì–´ ì„ ì • # OSSCA í”„ë¡œê·¸ë¨ ì°¸ê°€ìë“¤ ê°„ì— íˆ¬í‘œë¥¼ í†µí•´ ì¶”ê°€ë  ìš©ì–´ë¥¼ ì„ ì •í•˜ê¸° ë•Œë¬¸ì— (ì¦‰, ì¶©ë¶„í•œ íˆ¬í‘œë¥¼ ë°›ì§€ ì•Šìœ¼ë©´ ìš©ì–´ì§‘ì— ë“±ë¡ë  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—) ì•„ë¬´ ë‹¨ì–´ë‚˜ ê³ ë¥´ì§€ ì•Šê³  PyTorchë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë‘ê°€ ì•Œë§Œí•œ ë‹¨ì–´ë¥¼ ì°¾ìœ¼ë ¤ í–ˆìŠµë‹ˆë‹¤.\nì œê°€ ì„ ì •í•œ ë‹¨ì–´ëŠ” confusion matrix ì…ë‹ˆë‹¤. ì •í™•ë„, ì •ë°€ë„ ë“± ëª¨ë¸ì˜ ì„±ëŠ¥ í‰ê°€ ì‹œ ì‚¬ìš©ë˜ëŠ” ì„±ëŠ¥ ì§€í‘œë¥¼ ë„ì¶œí•  ë•Œ ë°”íƒ•ì´ ë˜ëŠ” ì°¸ ê¸ì •(TP), ê±°ì§“ ê¸ì •(FP) ìˆ˜ì¹˜ë¥¼ ë‚˜íƒ€ë‚¸ ì´ í–‰ë ¬ì€ PyTorchë¡œ ë”¥ëŸ¬ë‹ ëª¨ë¸ í•™ìŠµì„ í•´ë³¸ ì‚¬ëŒì´ë¼ë©´ ëˆ„êµ¬ë‚˜ ì•Œë§Œí•œ ê°œë…ì´ë¼ ìƒê°í–ˆìŠµë‹ˆë‹¤.\nì´ìŠˆ ì˜¬ë¦¬ê¸° # ë¬¼ë¡ , ì œ ìƒê°ë§Œì„ ì„¤ë“ì˜ ê·¼ê±°ë¡œ ì‚¬ìš©í•  ìˆœ ì—†ê¸° ë•Œë¬¸ì— ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ #978 ì´ìŠˆë¥¼ ì˜¬ë¦¬ë©´ì„œ ì‹¤ì œ ë²ˆì—­ ì‚¬ë¡€ë¥¼ ì œì‹œí–ˆìŠµë‹ˆë‹¤.\nconfusion matrix ëŠ” \u0026quot;ì˜¤ì°¨ í–‰ë ¬\u0026quot; ë˜ëŠ” \u0026quot;í˜¼ë™ í–‰ë ¬\u0026quot; ì´ë¼ê³  ë²ˆì—­ë˜ëŠ” ì‚¬ë¡€ê°€ ìˆëŠ”ë°, ë¹„êµì  ê³µì‹ ë ¥ ìˆëŠ” ë¬¸ì„œì—ì„œëŠ” \u0026quot;í˜¼ë™ í–‰ë ¬\u0026quot; ì´ë¼ê³  ë²ˆì—­ë˜ëŠ” ì‚¬ë¡€ê°€ ë§ì•„ì„œ í›„ìë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤. PyTorch íŠœí† ë¦¬ì–¼ì—ì„œ \u0026quot;ì˜¤ì°¨ í–‰ë ¬\u0026quot; ì´ë¼ê³  ë²ˆì—­ëœ ì‚¬ë¡€ê°€ ìˆì–´ ê³ ë¯¼í–ˆì§€ë§Œ, ê°œì¸ì´ ë²ˆì—­í•œ ë¬¸ì„œë³´ë‹¤ëŠ” ìœ„í‚¤ë‚˜ ë…¼ë¬¸ì—ì„œ ì‚¬ìš©ëœ ì‚¬ë¡€ê°€ ë” ê³µì‹ ë ¥ ìˆë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\nìš©ì–´ íˆ¬í‘œ # ì œì•ˆëœ ìš©ì–´ëŠ” ë””ìŠ¤ì½”ë“œ ì±„ë„ì—ì„œ ë¯¼ì£¼ì ìœ¼ë¡œ íˆ¬í‘œí•˜ì—¬ ì„ ì •í–ˆê³ , ì œê°€ ì œì•ˆí•œ confusion matrix ë„ ì±„íƒë˜ì—ˆìŠµë‹ˆë‹¤.\n#1009 PRì„ ì˜¬ë ¤ í˜„ì¬ Merged ë˜ì—ˆìœ¼ë©° PyTorch íŠœí† ë¦¬ì–¼ ë²ˆì—­ ê°€ì´ë“œì—ì„œ ì•„ë˜ í‘œì™€ ê°™ì´ ë³´ì—¬ì§€ê³  ìˆìŠµë‹ˆë‹¤.\nì˜ë¬¸ í•œê¸€ ì‘ì„±ì ì¶”ê°€ ì„¤ëª… ... ... ... ... CUDA CUDA ë°•ì§€ì€ ë²ˆì—­ì•ˆí•¨ confusion matrix í˜¼ë™ í–‰ë ¬ ê¹€ë¯¼ì—½ convolution í•©ì„±ê³± ê¹€í˜„ê¸¸ ... ... ... ... 4~6ì£¼ì°¨ - PyTorch ë¬¸ì„œ í†µë²ˆì—­ # ì•ì„  ê³¼ì œê°€ ëë‚˜ê³  ë‹¤ìŒ 2ì£¼ ë™ì•ˆì€ PyTorch íŠœí† ë¦¬ì–¼ì—ì„œ ì•„ì§ ë²ˆì—­ë˜ì§€ ì•Šì€ ë¬¸ì„œë¥¼ ì„ íƒí•´ í†µë²ˆì—­ì„ ì§„í–‰í•˜ëŠ” ê³¼ì œë¥¼ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.\në¬¼ë¡ , ì œ ì„ íƒì€ 1ì£¼ì°¨ì— ì§„í–‰í•œ advanced/generic_join.rst ë¬¸ì„œì…ë‹ˆë‹¤.\n2ì£¼ ë™ì•ˆ ì§„í–‰ë˜ëŠ” ê³¼ì œì˜€ì§€ë§Œ, ì´ë¯¸ 1ì£¼ì°¨ì— ë§Œë“¤ì–´ë‘” ë²ˆì—­ ì´ˆì•ˆì´ ìˆì–´ì„œ 1ì£¼ ë‚´ì— ëëƒˆìŠµë‹ˆë‹¤. ì—ë””í„°ì—ì„œ ì˜ì–´ ì›ë¬¸ê³¼ í´ë¡œë“œê°€ í•œê¸€ë¡œ ë²ˆì—­í•œ ë¬¸ì¥ì„ ë¹„êµí•´ ë³´ë©´ì„œ ì–´ìƒ‰í•œ í‘œí˜„ì„ ê³ ì¹˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ì´í›„ ë§ˆì§€ë§‰ ì£¼ì°¨ì—ëŠ” ë©˜í† ë¶„ë“¤ì´ PR ë¦¬ë·°ë¥¼ ë‹¬ì•„ì£¼ë©° ë²ˆì—­ ì¤‘ ë†“ì¹œ ë¶€ë¶„ë“¤ì„ ì¶”ê°€ë¡œ ê°œì„ í–ˆìŠµë‹ˆë‹¤.\nê³ ë ¤ì‚¬í•­ (1) - ê³ ìœ ëª…ì‚¬ êµ¬ë¶„ # ì´ë²ˆì— ë²ˆì—­í•œ ë¬¸ì„œëŠ” ë¶ˆê· ë“±í•œ ì…ë ¥ì´ ì£¼ì–´ì§€ëŠ” ìƒí™©ì—ì„œ ë¶„ì‚° í•™ìŠµì„ í•˜ê¸° ìœ„í•´ Join Context Manager ë¥¼ ì‚¬ìš©í•˜ëŠ” ì˜ˆì‹œë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ Context Manager ëŠ” ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ì ë¼ê³  ë²ˆì—­í•  ìˆ˜ ìˆëŠ”ë°, Join ì€ í•´ë‹¹ ë¬¸ì„œì—ì„œ ì„¤ëª…í•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ìë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê³ ìœ ëª…ì‚¬ë¡œ ê°•ì¡°í•´ì•¼ í•œë‹¤ê³  íŒë‹¨í•´ (ê·¸ë¦¬ê³  ì´ì— ëŒ€í•œ ë²ˆì—­ ì‚¬ë¡€ë„ ì—†ì–´ì„œ) ì˜ë¬¸ìœ¼ë¡œ í‘œê¸°í–ˆìŠµë‹ˆë‹¤.\në˜í•œ, ë²ˆì—­ì„ í•˜ë©´ í• ìˆ˜ë¡ ë¬¸ì„œ ì „ë°˜ì ìœ¼ë¡œ Join ì„ ì–¸ê¸‰í•˜ëŠ” ê²½ìš°ê°€ ë§ê³ , ì˜ˆì œì˜ í´ë˜ìŠ¤ëª…ì´ë‚˜ ë©”ì„œë“œëª…ìœ¼ë¡œë„ ì‚¬ìš©ë˜ì–´ ë”ë”ìš± ì˜ë¬¸ í‘œê¸°ê°€ ë§ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.\nì¤‘ê°„ì— ì•„ë˜ì˜ ë¬¸ì¥ì²˜ëŸ¼ join ì„ ë™ì‚¬ë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ ìˆì—ˆëŠ”ë° ì•„ë˜ í•œê¸€ ë¬¸ì¥ì²˜ëŸ¼ ë²ˆì—­í–ˆìŠµë‹ˆë‹¤.\n``Join`` is a context manager ... The context manager allows the ranks that exhaust their inputs early (i.e. *join* early) to shadow the collective communications performed by those that have not yet joined.\n``Join`` ì€ ... ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ìì…ë‹ˆë‹¤. ì…ë ¥ì´ ë¨¼ì € ëë‚œ (ì¦‰, ë¨¼ì € *join* ëœ) ë­í¬ëŠ” ì•„ì§ *join* ë˜ì§€ ì•Šì€ ë­í¬ê°€ ìˆ˜í–‰í•˜ëŠ” ì§‘í•©í†µì‹ ì„ ëª¨ë°©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\nì›ë¬¸ì—ì„œ join ë™ì‚¬ë¥¼ ì´íƒ¤ë¦­ì²´ë¡œ ê°•ì¡°í•˜ê¸°ë„ í–ˆê³ , ìœ„ì™€ ê°™ì€ ë§¥ë½ì—ì„œ í•œê¸€ë¡œ ë²ˆì—­í•´ë²„ë¦¬ë©´ (ìœ„ ì˜ˆì‹œì—ì„œ \u0026quot;*join* early\u0026quot; ë¥¼ \u0026quot;ë¨¼ì € ì°¸ê°€ëœ\u0026quot; ìœ¼ë¡œ ë²ˆì—­í•˜ë©´) ë¬¸ì„œì—ì„œ ì„¤ëª…í•˜ëŠ” ê³ ìœ ëª…ì‚¬ Join ê³¼ì˜ ê´€ë ¨ì„±ì„ ìƒì–´ë²„ë¦´ ê²ƒ ê°™ì•„ ì˜ë¬¸ìœ¼ë¡œ í‘œê¸°í–ˆìŠµë‹ˆë‹¤. ëŒ€ì‹ , ëª…ì‚¬ì²˜ëŸ¼ ì¸ë¼ì¸ ì½”ë“œë¸”ëŸ­ìœ¼ë¡œ í‘œí˜„í•˜ì§€ ì•Šê³  ì›ë¬¸ê³¼ ë™ì¼í•œ ì´íƒ¤ë¦­ì²´ë¡œ ë‚˜íƒ€ëƒˆìŠµë‹ˆë‹¤.\nê³ ë ¤ì‚¬í•­ (2) - ë§í¬ ê²€ì¦ # ë¬¸ì„œë¥¼ ë²ˆì—­í•  ë•Œ ë‹¤ë¥¸ ë¬¸ì„œì™€ ì—°ê²°ëœ ë§í¬ë„ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í–ˆìŠµë‹ˆë‹¤.\nì—°ê²°ëœ í˜ì´ì§€ê°€ ì˜ëª»ëœ ê²½ìš°ëŠ” ì—†ì—ˆì§€ë§Œ, í•œê¸€ë¡œ ë²ˆì—­ëœ í˜ì´ì§€ê°€ ìˆìŒì—ë„ ì›ë¬¸ìœ¼ë¡œ ì—°ê²°ë˜ëŠ” ê²½ìš° [1] ì™€, ì˜ë¬¸ í˜ì´ì§€ì˜ íŠ¹ì • ë¬¸ë‹¨ìœ¼ë¡œ í–¥í•˜ëŠ” ì•µì»¤ë¥¼ í•œê¸€ë¡œ ë²ˆì—­ëœ í˜ì´ì§€ ëŒ€ìƒìœ¼ë¡œ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì—¬ ì•µì»¤ê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²½ìš° [2] ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\në‘ ê°€ì§€ ê²½ìš°ë¥¼ ëª¨ë‘ ì¶©ì¡±í•˜ëŠ” ì‚¬ë¡€ê°€ ì•„ë˜ ë¬¸ì¥ì…ë‹ˆë‹¤.\nIn `Getting Started with Distributed Data Parallel - Basic Use Case`, you saw the general skeleton for using `DistributedDataParallel` to perform data parallel training. This implicitly schedules all-reduces in each backward pass to synchronize gradients across ranks.\në¶„ì‚° ë°ì´í„° ë³‘ë ¬ ì²˜ë¦¬ ì‹œì‘í•˜ê¸° - ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²• \u0026lt;https://tutorials.pytorch.kr/intermediate/ddp_tutorial.html#id3\u0026gt;`_ ì—ì„œ, `DistributedDataParallel`_ ì„ ì‚¬ìš©í•œ ë°ì´í„° ë³‘ë ¬ í•™ìŠµì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.\në¬¸ì¥ ë„ì…ë¶€ì— Getting Started... ë§í¬ëŠ” ë Œë”ë§ë˜ë©´ì„œ https://tutorials.pytorch.kr/intermediate/ddp_tutorial.html#basic-use-case ë¡œ ì—°ê²°ë˜ëŠ”ë°, ì›ë¬¸ì˜ Basic Use Case ëª©ì°¨ê°€ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²• ì´ë¼ê³  ë²ˆì—­ë˜ë©´ì„œ #basic-use-case ì•µì»¤ê°€ #id3 ë¡œ ë³€í™˜ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, ë§í¬ì— ëŒ€í•œ í‘œì‹œ í…ìŠ¤íŠ¸ë¥¼ í•œê¸€ë¡œ ë²ˆì—­í•˜ëŠ” ê¹€ì— ì•µì»¤ë„ í•œê¸€ë¡œ ë²ˆì—­ëœ ë¬¸ì„œì— ë§ê²Œ ì§ì ‘ ì§€ì •í–ˆìŠµë‹ˆë‹¤.\nPR ì˜¬ë¦¬ê¸° ë° ë¦¬ë·° ë°˜ì˜ # íŒŒì´ì¬ ì½”ë“œë¥¼ í¬í•¨í•´ 450ì¤„ ë¶„ëŸ‰ì„ ë²ˆì—­í–ˆëŠ”ë° ì‘ì—…ëŸ‰ì´ ë§ë‹¤ë³´ë‹ˆ ë†“ì¹˜ëŠ” ë¶€ë¶„ë„ ìˆì—ˆìŠµë‹ˆë‹¤.\n#1009 PRì„ ì˜¬ë¦° í›„ì— ë©˜í‹°ì™€ ë©˜í† ë“¤ë¡œë¶€í„° ë¦¬ë·°ë¥¼ ë°›ì•„ ì¶”ê°€ë¡œ ë°˜ì˜í–ˆìŠµë‹ˆë‹¤.\nì˜ˆë¥¼ ë“¤ì–´, ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ë¬¸ì¥ ëì— ë§ˆì¹¨í‘œë¥¼ ë¹¼ë¨¹ì–´ ì¶”ê°€í•´ì•¼ í•¨ì„ ìš”ì²­ ë°›ì€ ê²½ìš°ë„ ìˆê³ , ìš©ì–´ì§‘ê³¼ ë‹¤ë¥¸ ë‹¨ì–´ë¥¼ ì‚¬ìš©í•œ ê²½ìš°ë‚˜ ì›ë¬¸ì˜ í˜•ì‹(ê³µë°± ë“±)ì„ ìœ ì§€í•˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ì§€ì ë°›ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.\në¦¬ë·°ë¡œ ì œì•ˆëœ ì‚¬í•­ì„ ë°˜ì˜í•œ í›„ ë¦¬ë·°ë¥¼ ë‚¨ê¸´ ë©˜í† ë‹˜ë“¤ì—ê²Œ ì»¤ë°‹ í•´ì‹œë¥¼ í¬í•¨í•œ ë‹µë³€ì„ ë‚¨ê²¼ìŠµë‹ˆë‹¤. ì»¤ë°‹ í•´ì‹œë¥¼ ì ìœ¼ë©´ Githubì—ì„œ ì»¤ë°‹ì— ëŒ€í•œ ë³€ê²½ì‚¬í•­ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ë¡œ ë§í¬ë¥¼ ë‹¬ì•„ì¤˜ì„œ í¸í–ˆìŠµë‹ˆë‹¤.\nìš”ì²­ì£¼ì‹  ë³€ê²½ì‚¬í•­ì€ ìƒˆë¡œìš´ ì»¤ë°‹(564104a)ì„ í†µí•´ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤!\ní™œë™ì„ ëŒì•„ë³´ë©° # PyTorch íŒ€ì—ì„œ íŠœí† ë¦¬ì–¼ ë¬¸ì„œ ë²ˆì—­ì„ í†µí•´ ì˜¤í”ˆì†ŒìŠ¤ì— ê¸°ì—¬í•˜ëŠ” í™œë™ì„ í•´ë³´ë©°, PR ë“± ì˜¤í”ˆì†ŒìŠ¤ì— ê¸°ì—¬í•˜ëŠ” ë°©ì‹ì„ ìµíˆê³  ë¬¸ì„œ ë²ˆì—­ ì‹œì— ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­ë“¤ì„ ë°°ì› ìŠµë‹ˆë‹¤. ì˜¤í”„ë¼ì¸ ëª¨ì„ì—ì„œ ì§ì¥ì¸, ëŒ€í•™ìƒ ë¶„ë“¤ê³¼ ì‚¬ì†Œí•œ ê°œë°œ í† í¬ë¥¼ ë‚˜ëˆ„ë©° ë„¤íŠ¸ì›Œí‚¹ë„ í•´ë³´ê³ , ë§¤ì£¼ë§ˆë‹¤ ì£¼ì–´ì§„ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ì„±ì·¨ê°ì„ ëŠë‚„ ìˆ˜ ìˆì–´ì„œ ë§¤ìš° ë³´ëŒì°¼ìŠµë‹ˆë‹¤.\nì•ìœ¼ë¡œëŠ” OSSCAì™€ ë§ˆì°¬ê°€ì§€ë¡œ 2025 íŒŒì´ì½˜ì—ì„œ ì•Œê²Œ ëœ Airflow í•œêµ­ ì‚¬ìš©ì ëª¨ì„ì—ì„œ í™œë™í•˜ë©° PyTorchì™€ ê°™ì€ ì˜¤í”ˆì†ŒìŠ¤ì¸ Airflowì˜ ê¸°ëŠ¥ì  ê°œì„ ì— ê¸°ì—¬í•´ë³´ë ¤ í•©ë‹ˆë‹¤. OSSCA ê³¼ì •ì€ ì œê°€ ì˜¤í”ˆì†ŒìŠ¤ì— ê¸°ì—¬í•˜ê¸° ìœ„í•œ ì²« ê²½í—˜ì„ ì œê³µí•´ì£¼ì—ˆê³  ì´ ê²½í—˜ì€ ì•ìœ¼ë¡œë„ ìŠì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.\n"},{"id":5,"href":"/blog/uv-project/","title":"[Python] uvë¡œ í”„ë¡œì íŠ¸ êµ¬ì„±í•˜ê³  PyPI ë°°í¬í•˜ê¸° - Rust ê¸°ë°˜ ê³ ì† íŒ¨í‚¤ì§€ ê´€ë¦¬","content":"Pythonìœ¼ë¡œ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ë ¤ê³  í•˜ëŠ”ë° uvê°€ í”„ë¡œì íŠ¸ ê´€ë¦¬ì— ì¢‹ë‹¤ëŠ” ì–˜ê¸°ë¥¼ ë“¤ì–´ì„œ ì–´ë–»ê²Œ í™œìš©í•  ìˆ˜ ìˆì„ì§€ ì°¾ì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ë‹¨ìˆœíˆ í”„ë¡œì íŠ¸ ì˜ì¡´ì„±ì„ ë¹ ë¥´ê²Œ ì„¤ì¹˜í•´ì¤„ ë¿ ì•„ë‹ˆë¼ ê°€ìƒí™˜ê²½ê³¼ PyPI ë°°í¬ê¹Œì§€ ì§€ì›í•´ì¤˜ì„œ ì‚¬ìš©í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.\nuv # GitHub - astral-sh/uv: An extremely fast Python package and project manager, â€¦ An extremely fast Python package and project manager, written in Rust. - astral-sh/uv GitHub uvëŠ” Rustë¡œ ì‘ì„±ëœ ë§¤ìš° ë¹ ë¥¸ Python íŒ¨í‚¤ì§€ ë° í”„ë¡œì íŠ¸ ê´€ë¦¬ìë¼ê³  ì„¤ëª…í•©ë‹ˆë‹¤. Rust ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ì„œ ê·¸ëŸ°ì§€ pip ë‚˜ poetry ì™€ ë¹„êµí–ˆì„ ë•Œ êµ‰ì¥íˆ ë¹ ë¥¸ ì†ë„ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.\nì„¤ì¹˜í•˜ê¸° # ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‚´ë ¤ë°›ì•„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash # macOS ë˜ëŠ” Linux curl -LsSf https://astral.sh/uv/install.sh | sh Copy bash # Windows powershell -ExecutionPolicy ByPass -c \u0026#34;irm https://astral.sh/uv/install.ps1 | iex\u0026#34; ë˜ëŠ”, ê°„ë‹¨í•˜ê²Œ PyPIë¥¼ í†µí•˜ê±°ë‚˜ ë§¥ì—ì„œëŠ” brewë¥¼ í†µí•´ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash pip install uv Copy bash brew install uv ì„¤ì¹˜í•œ í›„ ë²„ì „ì„ ì¡°íšŒí•˜ì—¬ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash % uv --version uv 0.8.0 (Homebrew 2025-07-17) í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸° # uv init ëª…ë ¹ì–´ë¥¼ í†µí•´ ê¸°ë³¸ì ì¸ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ëª…ì€ \u0026quot;linkmerce\u0026quot;, íŒŒì´ì¬ ë²„ì „ì€ 3.10ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.\nCopy bash % uv init linkmerce --python 3.10 Initialized project `linkmerce` at `{$root}/linkmerce` uv init ëª…ë ¹ì–´ë¥¼ í†µí•´ ìƒì„±ë˜ëŠ” í”„ë¡œì íŠ¸ êµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nCopy text ./ â”œâ”€â”€ .git/ â”œâ”€â”€ .gitignore â”œâ”€â”€ .python-version â”œâ”€â”€ main.py â”œâ”€â”€ README.md â””â”€â”€ pyproject.toml ì´ ì¤‘ì—ì„œ pyproject.toml íŒŒì¼ì€ í”„ë¡œì íŠ¸ëª… ë˜ëŠ” íŒ¨í‚¤ì§€ ì˜ì¡´ì„±ê³¼ ê°™ì€ ë©”íƒ€ë°ì´í„°ë¥¼ ëª…ì‹œí•˜ëŠ” ì„¤ì • íŒŒì¼ì…ë‹ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ë©´ì„œ ë§Œë“¤ì–´ì§„ pyproject.toml ì˜ ë‚´ìš©ì„ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.\nCopy text [project] name = \u0026#34;linkmerce\u0026#34; version = \u0026#34;0.1.0\u0026#34; description = \u0026#34;Add your description here\u0026#34; readme = \u0026#34;README.md\u0026#34; requires-python = \u0026#34;\u0026gt;=3.10\u0026#34; dependencies = [] ì´ˆê¸° ë²„ì „ì€ \u0026quot;0.1.0\u0026quot;ìœ¼ë¡œ ê¶Œì¥í•˜ê³ , ì•ì—ì„œ ì„¤ì •í•œ íŒŒì´ì¬ 3.10 ë²„ì „ì´ ìµœì†Œ ìš”êµ¬ì‚¬í•­ìœ¼ë¡œ ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nê°€ìƒí™˜ê²½ ìƒì„±í•˜ê¸° # uv venv ëª…ë ¹ì–´ë¥¼ í†µí•´ .venv/ ìœ„ì¹˜ì— ê°€ìƒí™˜ê²½ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. --name ì˜µì…˜ì„ ì£¼ì–´ ê°€ìƒí™˜ê²½ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash % uv venv --python 3.10 Using CPython 3.10.18 Creating virtual environment at: .venv Activate with: source .venv/bin/activate ê°€ìƒí™˜ê²½ ì‹¤í–‰ì€ ì¶œë ¥ ê²°ê³¼ì—ì„œ ì„¤ëª…í•˜ë“¯ì´ source .venv/bin/activate ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.\nì˜ì¡´ì„± ì¶”ê°€í•˜ê¸° # uv add ëª…ë ¹ì–´ë¥¼ í†µí•´ íŒ¨í‚¤ì§€ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°œë°œí•  ë•Œë§Œ ì‚¬ìš©í•˜ê³  ë°°í¬í•  ë•ŒëŠ” í™œìš©í•˜ì§€ ì•Šì„ ê²½ìš° --dev ì˜µì…˜ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì˜ì¡´ì„±ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ê°€ìƒí™˜ê²½ì—ë§Œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  ì‹¶ì€ ê²½ìš°ì—” uv pip install ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash % uv add requests Using CPython 3.10.18 Creating virtual environment at: .venv Resolved 6 packages in 158ms Prepared 5 packages in 101ms Installed 5 packages in 5ms + certifi==2025.7.14 + charset-normalizer==3.4.2 + idna==3.10 + requests==2.32.4 + urllib3==2.5.0 ê°€ë²¼ìš´ íŒ¨í‚¤ì§€ì´ê¸´ í•˜ì§€ë§Œ pip ë¡œ ì„¤ì¹˜í–ˆì„ ë•Œ ëŒ€ë¹„í•´ì„œ í›¨ì”¬ ë¹ ë¥¸ ì†ë„ë¥¼ ì²´ê°í•©ë‹ˆë‹¤. uv add ëª…ë ¹ì–´ë¡œ íŒ¨í‚¤ì§€ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ë©´ pyproject.toml ì„¤ì • íŒŒì¼ì— ìë™ìœ¼ë¡œ ì˜ì¡´ì„±ì´ ì¶”ê°€ë©ë‹ˆë‹¤.\nCopy bash [project] name = \u0026#34;linkmerce\u0026#34; version = \u0026#34;0.1.0\u0026#34; description = \u0026#34;Add your description here\u0026#34; readme = \u0026#34;README.md\u0026#34; requires-python = \u0026#34;\u0026gt;=3.10\u0026#34; dependencies = [ \u0026#34;requests\u0026gt;=2.32.4\u0026#34;, ] ë˜í•œ, ë™ì‹œì— ìƒì„±ë˜ëŠ” uv.lock íŒŒì¼ì—ëŠ” íŒ¨í‚¤ì§€ ì˜ì¡´ì„±ì— ëŒ€í•œ ë°”ì´ë„ˆë¦¬ ê²½ë¡œê°€ ì¶”ê°€ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì˜ì¡´ì„±ì˜ ë²„ì „ì„ ì •í™•íˆ ì ê°€ë²„ë¦¬ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í™˜ê²½ì—ì„œë„ ì¼ê´€ëœ ê°œë°œ ë° ë°°í¬ í™˜ê²½ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash version = 1 revision = 2 requires-python = \u0026#34;\u0026gt;=3.10\u0026#34; ... [[package]] name = \u0026#34;linkmerce\u0026#34; version = \u0026#34;0.1.0\u0026#34; source = { virtual = \u0026#34;.\u0026#34; } dependencies = [ { name = \u0026#34;requests\u0026#34; }, ] [package.metadata] requires-dist = [{ name = \u0026#34;requests\u0026#34;, specifier = \u0026#34;\u0026gt;=2.32.4\u0026#34; }] [[package]] name = \u0026#34;requests\u0026#34; version = \u0026#34;2.32.4\u0026#34; source = { registry = \u0026#34;https://pypi.org/simple\u0026#34; } dependencies = [ { name = \u0026#34;certifi\u0026#34; }, { name = \u0026#34;charset-normalizer\u0026#34; }, { name = \u0026#34;idna\u0026#34; }, { name = \u0026#34;urllib3\u0026#34; }, ] sdist = { url = \u0026#34;https://files.pythonhosted.org/packages/e1/0a/929373653770d8a0d7ea76c37de6e41f11eb07559b103b1c02cafb3f7cf8/requests-2.32.4.tar.gz\u0026#34;, hash = \u0026#34;sha256:27d0316682c8a29834d3264820024b62a36942083d52caf2f14c0591336d3422\u0026#34;, size = 135258, upload-time = \u0026#34;2025-06-09T16:43:07.34Z\u0026#34; } wheels = [ { url = \u0026#34;https://files.pythonhosted.org/packages/7c/e4/56027c4a6b4ae70ca9de302488c5ca95ad4a39e190093d6c1a8ace08341b/requests-2.32.4-py3-none-any.whl\u0026#34;, hash = \u0026#34;sha256:27babd3cda2a6d50b30443204ee89830707d396671944c998b5975b031ac2b2c\u0026#34;, size = 64847, upload-time = \u0026#34;2025-06-09T16:43:05.728Z\u0026#34; }, ] íŒ¨í‚¤ì§€ ë°°í¬í•˜ê¸° # í”„ë¡œì íŠ¸ êµ¬ì„±í•˜ê¸° # íŒ¨í‚¤ì§€ë¥¼ ë°°í¬í•˜ê¸°ì— ì•ì„œ í”„ë¡œì íŠ¸ì™€ ê´€ë ¨ëœ í´ë”ë¥¼ ìƒì„±í•˜ê³  ê°„ë‹¨í•œ ëª¨ë“ˆì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\nCopy bash ./ â”œâ”€â”€ .git/ â”œâ”€â”€ src/ â”‚Â â””â”€â”€ linkmerce/ â”‚Â â”œâ”€â”€ auth/ â”‚Â â”œâ”€â”€ collect/ â”‚Â â”œâ”€â”€ parse/ â”‚Â â””â”€â”€ utils/ â”œâ”€â”€ .gitignore â”œâ”€â”€ .python-version â”œâ”€â”€ main.py â”œâ”€â”€ README.md â”œâ”€â”€ pyproject.toml â””â”€â”€ uv.lock íŒ¨í‚¤ì§€ ë¹Œë“œí•˜ê¸° # twine ìœ¼ë¡œ íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œí•  ë•ŒëŠ” íŒ¨í‚¤ì§€ ë£¨íŠ¸ ê²½ë¡œë¥¼ ë³€ê²½í•˜ëŠ” ê¸°ëŠ¥ì´ ì—†ì–´ì„œ í”„ë¡œì íŠ¸ ëª…ì¹­ì˜ í´ë” ì•„ë˜ì— íŒ¨í‚¤ì§€ë¥¼ ë†“ì•„ì•¼ í–ˆë˜ ê²ƒìœ¼ë¡œ ê¸°ì–µí•©ë‹ˆë‹¤.\nuv build ëª…ë ¹ì–´ë¡œ íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œí•  ë•ŒëŠ” pyproject.toml ì„¤ì • íŒŒì¼ì—ì„œ module-root ê°’ì— ë£¨íŠ¸ ê²½ë¡œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê°’ì„ ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ë£¨íŠ¸ ê²½ë¡œë¡œ src/ ê°€ ì ìš©ë˜ê³  ì´ëŠ” uvì—ì„œ ê¶Œì¥í•˜ëŠ” ì‚¬í•­ì…ë‹ˆë‹¤.\nCopy bash [build-system] requires = [\u0026#34;uv_build\u0026gt;=0.8.0,\u0026lt;0.9.0\u0026#34;] build-backend = \u0026#34;uv_build\u0026#34; [tool.uv.build-backend] module-name = \u0026#34;linkmerce\u0026#34; module-root = \u0026#34;src\u0026#34; uv build ì™€ ê´€ë ¨í•œ ìì„¸í•œ ë‚´ìš©ì€ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nuv build ëª…ë ¹ì–´ë¡œ íŒ¨í‚¤ì§€ë¥¼ ë¹Œë“œí•˜ë©´ dist/ ê²½ë¡œì— .whl íŒŒì¼ì´ ìƒì„±ë©ë‹ˆë‹¤.\nCopy bash % uv build Building source distribution (uv build backend)... Building wheel from source distribution (uv build backend)... Successfully built dist/linkmerce-0.1.0.tar.gz Successfully built dist/linkmerce-0.1.0-py3-none-any.whl PyPIì— ë°°í¬í•˜ê¸° # PyPIì— ë°°í¬í•˜ê¸° ì „ì— ë¨¼ì € API í† í°ì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ì•ˆë‚´ ë¬¸ì„œë¥¼ ì°¸ê³ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nê³¼ê±°ì— ì•„ë˜ì™€ ê°™ì´ PyPIì— íŒ¨í‚¤ì§€ë¥¼ ë“±ë¡í•œ ì ì´ ìˆëŠ”ë°, ì´ë²ˆì— ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ë¥¼ ë“±ë¡í•´ë´…ë‹ˆë‹¤.\nAccount settings í˜ì´ì§€ì˜ API tokens í•­ëª©ì—ì„œ API í† í°ì„ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nAPI í† í°ì€ pypi-* í˜•ì‹ì„ ê°€ì§€ëŠ”ë°, í•´ë‹¹ í† í° ê°’ì„ uv publish ëª…ë ¹ì–´ë¡œ ë°°í¬í•  ë•Œ ì¶”ê°€í•˜ë©´ PyPI ì¸ì¦ì„ ì²˜ë¦¬í•˜ê³  PyPIì— íŒ¨í‚¤ì§€ë¥¼ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash % uv publish --token pypi-* Publishing 2 files https://upload.pypi.org/legacy/ Uploading linkmerce-0.1.0-py3-none-any.whl (7.8KiB) Uploading linkmerce-0.1.0.tar.gz (5.5KiB) PyPI í”„ë¡œì íŠ¸ í˜ì´ì§€ë¥¼ í™•ì¸í•´ë³´ë©´ ë°©ê¸ˆ ë°°í¬í•œ íŒ¨í‚¤ì§€ê°€ ì˜¬ë¼ì˜¨ ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në§¤ë²ˆ uv publish ëª…ë ¹ì–´ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì€ ë¶ˆí¸í•˜ê¸° ë•Œë¬¸ì— dist.sh ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ë¡œ ëª…ë ¹ì–´ë¥¼ ë‚´ë³´ë‚´ì„œ ê°„ë‹¨í•˜ê²Œ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash echo \u0026#34;uv publish --token pypi-*\u0026#34; \u0026gt;\u0026gt; dist.sh chmod 755 dist.sh Copy bash # ë‹¤ìŒì— ë°°í¬í•  ë–„ëŠ” ê°„ë‹¨í•˜ê²Œ uv publish ëª…ë ¹ì–´ í˜¸ì¶œ ./dist.sh "},{"id":6,"href":"/blog/spark-study-8/","title":"Apache Spark - ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜(UDF)ì™€ ê³ ì°¨ í•¨ìˆ˜ í™œìš©í•˜ê¸°","content":"User-Defined Functions # ìŠ¤íŒŒí¬ëŠ” ìì‹ ì˜ ê¸°ëŠ¥ì„ ì •ì˜í•  ìˆ˜ ìˆëŠ” ìœ ì—°ì„±ì„ ì œê³µí•œë‹¤. ì´ë¥¼ ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜(User-Defined Function, UDF)ë¼ê³  í•œë‹¤.\nUDFë¥¼ ìƒì„±í•˜ëŠ” ì´ì ì€ ìŠ¤íŒŒí¬ SQL ì•ˆì—ì„œ ì´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.\nSpark SQL UDF í™œìš© # ë‹¤ìŒì€ ìŠ¤íŒŒí¬ SQL UDFë¥¼ ë§Œë“œëŠ” ì˜ˆì‹œë¡œ, ì¸ìˆ˜ë¥¼ ì„¸ì œê³±í•˜ëŠ” í•¨ìˆ˜ cubed() ë¥¼ ìƒì„±í•œë‹¤.\nCopy python from pyspark.sql.types import LongType # íë¸Œ í•¨ìˆ˜ ìƒì„± def cubed(s): return s * s * s # UDFë¡œ ë“±ë¡ spark.udf.register(\u0026#34;cubed\u0026#34;, cubed, LongType()) ìŠ¤íŒŒí¬ SQLì„ ì‚¬ìš©í•˜ì—¬ cubed() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nCopy python # ì„ì‹œ ë·° ìƒì„± spark.range(1, 9).createOrReplaceTempView(\u0026#34;udf_test\u0026#34;) # íë¸Œ UDFë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ spark.sql(\u0026#34;SELECT id, cubed(id) AS id_cubed FROM udf_test\u0026#34;).show() Copy bash +---+--------+ | id|id_cubed| +---+--------+ | 1| 1| | 2| 8| | 3| 27| | 4| 64| | 5| 125| | 6| 216| | 7| 343| | 8| 512| +---+--------+ ìŠ¤íŒŒí¬ SQL í‰ê°€ ìˆœì„œ # ìŠ¤íŒŒí¬ SQLì€ í•˜ìœ„ í‘œí˜„ì‹ì˜ í‰ê°€ ìˆœì„œë¥¼ ë³´ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒ ì¿¼ë¦¬ì—ì„œ s IS NOT NULL ì ˆì´ strlen(s) \u0026gt; 1 ì ˆ ì´ì „ì— ì‹¤í–‰ëœë‹¤ëŠ” ê²ƒì„ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤.\nCopy python spark.sql(\u0026#34;SELECT s FROM test1 WHERE s IS NOT NULL AND strlen(s) \u0026gt; 1\u0026#34;) ë”°ë¼ì„œ, ë‹¤ìŒ ë‘ ê°€ì§€ null ê²€ì‚¬ ë°©ì‹ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nUDF ì•ˆì—ì„œ null ì„ ì¸ì‹í•˜ê³  null ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•  í•„ìš”ê°€ ìˆë‹¤. SQLë¬¸ì—ì„œ IF ë˜ëŠ” CASE WHEN ì‹ì„ ì‚¬ìš©í•˜ì—¬ null ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ê³  ì¡°ê±´ì— ë§ìœ¼ë©´ UDFë¥¼ í˜¸ì¶œí•œë‹¤. Pandas UDF # PySpark UDFëŠ” JVMê³¼ íŒŒì´ì¬ ì‚¬ì´ì˜ ë°ì´í„° ì´ë™ì„ í•„ìš”ë¡œ í•´ì„œ Scala UDFë³´ë‹¤ ì„±ëŠ¥ì´ ëŠë ¸ë‹¤.\nì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Pandas UDFê°€ ìŠ¤íŒŒí¬ 2.3 ë²„ì „ë¶€í„° ë„ì…ë˜ì—ˆë‹¤. Pandas UDFëŠ” Apache Arrowë¥¼ ì‚¬ìš©í•˜ì—¬ Pandas UDFë¥¼ ì •ì˜í•˜ê±°ë‚˜ í•¨ìˆ˜ ìì²´ë¥¼ ë˜í•‘í•  ìˆ˜ ìˆë‹¤. Apache Arrow í˜•ì‹ì— í¬í•¨ëœ ë°ì´í„°ë¼ë©´ ë”ì´ìƒ JVMìœ¼ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸° ìœ„í•´ ì§ë ¬í™”ë‚˜ í”¼í´í•  í•„ìš”ê°€ ì—†ë‹¤.\nPandas UDFëŠ” pandas.Series, pandas.DataFrame ê³¼ ê°™ì€ íŒŒì´ì¬ ìœ í˜• íŒíŠ¸ë¡œ ìœ ì¶”í•œë‹¤. ì˜ˆì‹œë¡œ, ì•ì—ì„œ ì •ì˜í•œ íë¸Œ í•¨ìˆ˜ë¥¼ Pandas UDFë¡œ ë§Œë“¤ë©´ ì•„ë˜ì™€ ê°™ë‹¤.\nCopy python import pandas as pd from pyspark.sql.functions import col, pandas_udf from pyspark.sql.types import LongType # íë¸Œ í•¨ìˆ˜ ìƒì„± def cubed(a: pd.Series) -\u0026gt; pd.Series: return a * a * a # íë¸Œ í•¨ìˆ˜ì— ëŒ€í•œ Pandas UDF ìƒì„± cubed_udf = pandas_udf(cubed, returnType=LongType()) Pandas UDFëŠ” ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nCopy python # ìŠ¤íŒŒí¬ ë°ì´í„°í”„ë ˆì„ ìƒì„± df = spark.range(1, 4) # Pandas UDFë¥¼ ì‹¤í–‰ df.select(\u0026#34;id\u0026#34;, cubed_udf(col(\u0026#34;id\u0026#34;))).show() Copy bash +---+---------+ | id|cubed(id)| +---+---------+ | 1| 1| | 2| 8| | 3| 27| +---+---------+ ìŠ¤íŒŒí¬ UIì—ì„œ ì‹œê°í™”ëœ pandas_udf í•¨ìˆ˜ì˜ ì‹¤í–‰ ë‹¨ê³„ì— ëŒ€í•œ DAGì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. Stage 0ì—ì„œ ArrowEvalPython ì—°ì‚°ì´ Pandas UDFë¥¼ í‰ê°€í•˜ëŠ” ë‹¨ê³„ì´ë‹¤.\nê³ ì°¨ í•¨ìˆ˜ # ë³µì¡í•œ ë°ì´í„° ìœ í˜•ì€ ë‹¨ìˆœí•œ ë°ì´í„° ìœ í˜•ì˜ ê²°í•©ì´ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì´ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤.\nì¤‘ì²©ëœ êµ¬ì¡°ë¥¼ ê°œë³„ í–‰ìœ¼ë¡œ ë¶„í•´í•˜ê³  ê°ê°ì— í•¨ìˆ˜ë¥¼ ì ìš©í•œ í›„ ì¤‘ì²©ëœ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ë§Œë“œëŠ” ë°©ë²• ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²• í•˜ì§€ë§Œ ë°°ì—´ê³¼ ê°™ì€ ì¤‘ì²©ëœ êµ¬ì¡°ë¥¼ ë¶„í•´í•˜ê³  ë‹¤ì‹œ ë§Œë“ ë‹¤ê³  ê°€ì •í•  ë•Œ, ì…”í”Œ ì‘ì—…ì´ ë°œìƒí•´ ê²°ê³¼ ë°°ì—´ì˜ ìˆœì„œê°€ ì›ë˜ ë°°ì—´ì˜ ìˆœì„œì™€ ë™ì¼í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\nì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²½ìš°ì—ëŠ” ì •ë ¬ ë¬¸ì œëŠ” í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, ì§ë ¬í™” ë° ì—­ì§ë ¬í™” ê³¼ì •ì„ ê±°ì¹˜ë©´ì„œ ë°œìƒí•˜ëŠ” ë¹„ìš©ì´ í¬ë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\në‚´ì¥ í•¨ìˆ˜ # ë³µì¡í•œ ë°ì´í„° ìœ í˜•ì— ëŒ€í•´ ìŠ¤íŒŒí¬ 2.4 ì´ìƒ ë²„ì „ì— í¬í•¨ëœ ë‚´ì¥ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìì„¸í•œ ê±´ ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ë³¼ ìˆ˜ ìˆëŠ”ë°, ê·¸ ì¤‘ì—ì„œ ë°°ì—´ê³¼ ë§µì— ëŒ€í•´ì„œ ì¼ë¶€ë¥¼ ì•Œì•„ë³¸ë‹¤.\në°°ì—´ê³¼ ê´€ë ¨ëœ í•¨ìˆ˜ëŠ” ê³µì‹ ë¬¸ì„œì—ì„œ array ë¬¸ë‹¨ë¶€í„° ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ë“¤ì„ ì°¸ê³ í•˜ë©´ ëœë‹¤. ëŒ€í‘œì ìœ¼ë¡œ array_distinct í•¨ìˆ˜ëŠ” ë°°ì—´ ë‚´ ì¤‘ë³µì„ ì œê±°í•˜ê³ , array_sort í•¨ìˆ˜ëŠ” ë°°ì—´ì„ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤. arrayë¡œ ì‹œì‘í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ ì¤‘ì—ì„œë„ concat í•¨ìˆ˜ëŠ” ë³µìˆ˜ ê°œì˜ ë°°ì—´ì„ ë°›ì•„ í•˜ë‚˜ì˜ ë°°ì—´ë¡œ í•©ì³ì£¼ê³ , flatten í•¨ìˆ˜ëŠ” 2ì°¨ì› ì´ìƒ ì¤‘ì²©ëœ ë°°ì—´ì„ ë‹¨ì¼ ë°°ì—´ë¡œ í”Œë«í™”í•œë‹¤. sequence í•¨ìˆ˜ë¡œ ì‹œì‘ê³¼ ëì— ëŒ€í•œ ë°°ì—´ì„ ìƒì„±í•  ìˆ˜ ìˆê³ , slice í•¨ìˆ˜ë¡œ ë°°ì—´ì˜ íŠ¹ì • ë¶€ë¶„ë§Œ ì˜ë¼ë‚¼ ìˆ˜ë„ ìˆë‹¤.\në§µê³¼ ê´€ë ¨ëœ í•¨ìˆ˜ëŠ” ê³µì‹ ë¬¸ì„œì—ì„œ map ë¬¸ë‹¨ë¶€í„° ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ë“¤ì„ ì°¸ê³ í•˜ë©´ ëœë‹¤. ëŒ€í‘œì ìœ¼ë¡œ map_concat í•¨ìˆ˜ëŠ” ë³µìˆ˜ ê°œì˜ ë§µì„ í•˜ë‚˜ì˜ ë§µìœ¼ë¡œ í•©ì³ì£¼ê³ , map_keys í•¨ìˆ˜ë¡œ ë§µì—ì„œ í‚¤ ë°°ì—´ë§Œ ì¶”ì¶œí•  ìˆ˜ë„ ìˆë‹¤. mapìœ¼ë¡œ ì‹œì‘í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ ì¤‘ì—ì„œë„ element_at í•¨ìˆ˜ëŠ” ì£¼ì–´ì§„ í‚¤ì— ëŒ€í•œ ê°’ì„ ë°˜í™˜í•˜ê³ , cardinality í•¨ìˆ˜ëŠ” ë§µì˜ í¬ê¸°ë¥¼ ë°˜í™˜í•œë‹¤.\ntransform() # ë‚´ì¥ í•¨ìˆ˜ ì™¸ì—ë„ ìµëª… ëŒë‹¤ í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì‚¬ìš©í•˜ëŠ” ê³ ì°¨ í•¨ìˆ˜ transform() ì´ ìˆë‹¤.\nê³ ì°¨ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ë³´ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ìƒ˜í”Œ ë°ì´í„° tC ë¥¼ ë§Œë“¤ì–´ë³¸ë‹¤.\nCopy python from pyspark.sql.types import * schema = StructType([StructField(\u0026#34;celsius\u0026#34;, ArrayType(IntegerType()))]) t_list = [[35, 36, 32, 30, 40, 42, 38]], [[31, 32, 34, 55, 56]] t_c = spark.createDataFrame(t_list, schema) t_c.createOrReplaceTempView(\u0026#34;tC\u0026#34;) t_c.show() Copy bash +--------------------+ | celsius| +--------------------+ |[35, 36, 32, 30, ...| |[31, 32, 34, 55, 56]| +--------------------+ Celsius ë‹¨ìœ„ë¥¼ Fahrenheit ë‹¨ìœ„ë¡œ ë°”ê¾¸ëŠ” transform() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´, celsius ì—´ë¡œë¶€í„° fahrenheit ì—´ì„ ê³„ì‚°í–ˆë‹¤. ì¶œë ¥ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nCopy python spark.sql(\u0026#34;\u0026#34;\u0026#34; SELECT celsius, transform(celsius, t -\u0026gt; ((t * 9) div 5) + 32) AS fahrenheit FROM tc \u0026#34;\u0026#34;\u0026#34;).show() Copy bash +--------------------+--------------------+ | celsius| fahrenheit| +--------------------+--------------------+ |[35, 36, 32, 30, ...|[95, 96, 89, 86, ...| |[31, 32, 34, 55, 56]|[87, 89, 93, 131,...| +--------------------+--------------------+ filter() # filter() í•¨ìˆ˜ëŠ” ì…ë ¥í•œ ë°°ì—´ì˜ ìš”ì†Œ ì¤‘ ë¶€ìš¸ í•¨ìˆ˜ê°€ ì°¸ì¸ ìš”ì†Œë§Œìœ¼ë¡œ êµ¬ì„±ëœ ë°°ì—´ì„ ìƒì„±í•œë‹¤.\nCopy python spark.sql(\u0026#34;\u0026#34;\u0026#34; SELECT celsius, filter(celsius, t -\u0026gt; t \u0026gt; 38) AS high FROM tc \u0026#34;\u0026#34;\u0026#34;).show() Copy bash +--------------------+--------+ | celsius| high| +--------------------+--------+ |[35, 36, 32, 30, ...|[40, 42]| |[31, 32, 34, 55, 56]|[55, 56]| +--------------------+--------+ exists() # exists() í•¨ìˆ˜ëŠ” ì…ë ¥í•œ ë°°ì—´ì˜ ìš”ì†Œ ì¤‘ ë¶ˆë¦° í•¨ìˆ˜ë¥¼ ë§Œì¡±ì‹œí‚¤ëŠ” ê²ƒì´ ì¡´ì¬í•  ë•Œ ì°¸ì„ ë°˜í™˜í•œë‹¤.\nCopy python spark.sql(\u0026#34;\u0026#34;\u0026#34; SELECT celsius, exists(celsius, t -\u0026gt; t = 38) AS threshold FROM tc \u0026#34;\u0026#34;\u0026#34;).show() Copy bash +--------------------+---------+ | celsius|threshold| +--------------------+---------+ |[35, 36, 32, 30, ...| true| |[31, 32, 34, 55, 56]| false| +--------------------+---------+ ìŠ¤íŒŒí¬ SQL ì‘ì—… # ìŠ¤íŒŒí¬ SQLì˜ ê¸°ëŠ¥ ì¤‘ ì¼ë¶€ëŠ” DataFrameì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì—ì„œ ìœ ë˜ëœë‹¤. ì´ìš©ê°€ëŠ¥í•œ ì‘ì—…ì—ëŠ” ì§‘ê³„ í•¨ìˆ˜, ìˆ˜ì§‘ í•¨ìˆ˜, ë‚ ì§œ í•¨ìˆ˜, ìˆ˜í•™ í•¨ìˆ˜, ì •ë ¬ í•¨ìˆ˜, ë¬¸ìì—´ í•¨ìˆ˜, ìœˆë„ìš° í•¨ìˆ˜ ë“± ë§¤ìš° ê´‘ë²”ìœ„í•˜ë‹¤.\nUnion # Unionì€ ë™ì¼í•œ ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì§„ ë‘ ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ DataFrameì„ í•˜ë‚˜ë¡œ í•©ì¹˜ëŠ” ì‘ì—…ì´ë‹¤.\nSQLë¬¸ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy sql (SELECT * FROM first_half) UNION ALL (SELECT * FROM second_half); íŒŒì´ì¬ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy python result = first_half.union(second_half) Join # Joinì€ ë‘ ê°œ ì´ìƒì˜ DataFrameì„ íŠ¹ì • ì¡°ê±´ì„ ê¸°ì¤€ìœ¼ë¡œ ê²°í•©í•˜ì—¬ í•˜ë‚˜ë¡œ í•©ì¹˜ëŠ” ì‘ì—…ì´ë‹¤.\nSQLë¬¸ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy sql SELECT p.id AS productId, p.storeId, s.name AS storeName, p.name AS productName FROM product AS p LEFT JOIN store AS s ON p.storeId = s.id; íŒŒì´ì¬ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy python from pyspark.sql.functions import col product.join( store, product.storeId == store.id, how = \u0026#34;left\u0026#34; ).select( col(\u0026#34;p.id\u0026#34;).alias(\u0026#34;productId\u0026#34;), \u0026#34;p.storeId\u0026#34;, col(\u0026#34;s.name\u0026#34;).alias(\u0026#34;storeName\u0026#34;), col(\u0026#34;p.name\u0026#34;).alias(\u0026#34;productName\u0026#34;) ).show() ìœˆë„ìš° # ìœˆë„ìš° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ì…ë ¥ í–‰ì— ëŒ€í•´ ë‹¨ì¼ê°’ì„ ë°˜í™˜í•˜ë©´ì„œ í–‰ ê·¸ë£¹ì— ëŒ€í•´ ì‘ì—…í•  ìˆ˜ ìˆë‹¤.\nìˆœìœ„ë¥¼ ë§¤ê¸°ëŠ” ì‘ì—…ê³¼ ê´€ë ¨í•´ì„œëŠ” RANK, DENSE_RANK, PERCENT_RANK, NTILE, ROW_NUMBER í•¨ìˆ˜ê°€ ìˆê³ , ì§‘ê³„ì™€ ê´€ë ¨í•´ì„œëŠ” MAX, MIN, COUNT, SUM, AVG ë“±ì˜ í•¨ìˆ˜ê°€ ìˆë‹¤.\nSQLë¬¸ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy sql SELECT name, dept, salary, RANK() OVER (PARTITION BY dept ORDER BY salary) AS rank FROM employees; íŒŒì´ì¬ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy python from pyspark.sql.functions import rank from pyspark.sql import Window window = rank().over(Window.partitionBy(\u0026#34;dept\u0026#34;).orderBy(\u0026#34;salary\u0026#34;)).alias(\u0026#34;rank\u0026#34;) employees.select(\u0026#34;name\u0026#34;, \u0026#34;dept\u0026#34;, \u0026#34;salary\u0026#34;, window).show() ìˆ˜ì • # DataFrame ìì²´ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ì§€ë§Œ, ì—´ì„ ê°€ê³µí•˜ì—¬ ìƒˆë¡œìš´ DataFrameì„ ë§Œë“œëŠ” ê²ƒê³¼ ê°™ì€ ì‘ì—…ì„ í†µí•´ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.\níŒŒì´ì¬ìœ¼ë¡œ í™œìš© ê°€ëŠ¥í•œ ë‹¤ìŒê³¼ ê°™ì€ ì˜ˆì‹œê°€ ìˆë‹¤.\nCopy python from pyspark.sql.functions import expr # ì—´ ì¶”ê°€ foo2 = foo.withColumn( \u0026#34;status\u0026#34;, expr(\u0026#34;CASE WHEN delay \u0026lt;= 10 THEN \u0026#39;On-time\u0026#39; ELSE \u0026#39;Delayed\u0026#39; END\u0026#34;)) # ì—´ ì‚­ì œ foo3 = foo2.drop(\u0026#34;delay\u0026#34;) # ì¹¼ëŸ¼ëª… ë°”ê¾¸ê¸° foo4 = foo3.withColumnRenamed(\u0026#34;status\u0026#34;, \u0026#34;flight_status\u0026#34;) í”¼ë²— # ë¡œìš°ì™€ ì¹¼ëŸ¼ì„ ë°”ê¿”ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì´ ê²½ìš°ì— pivot í•¨ìˆ˜ë¥¼ ì§€ì›í•œë‹¤.\ní”¼ë²—ì„ ì‹¤í–‰í•´ë³´ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ìƒ˜í”Œ ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ë³¸ë‹¤.\nCopy python from pyspark.sql import Row df1 = spark.createDataFrame([ Row(course=\u0026#34;dotNET\u0026#34;, year=2012, earnings=10000), Row(course=\u0026#34;Java\u0026#34;, year=2012, earnings=20000), Row(course=\u0026#34;dotNET\u0026#34;, year=2012, earnings=5000), Row(course=\u0026#34;dotNET\u0026#34;, year=2013, earnings=48000), Row(course=\u0026#34;Java\u0026#34;, year=2013, earnings=30000),]) df1.show() Copy bash +------+----+--------+ |course|year|earnings| +------+----+--------+ |dotNET|2012| 10000| | Java|2012| 20000| |dotNET|2012| 5000| |dotNET|2013| 48000| | Java|2013| 30000| +------+----+--------+ ìœ„ ë°ì´í„°ì—ì„œ course ë¥¼ ì—´ë¡œ, year ë¥¼ í–‰ìœ¼ë¡œ, earnings ë¥¼ ê°’ìœ¼ë¡œ sum ì§‘ê³„í•´ êµ¬ì„±í•œ í”¼ë²— í…Œì´ë¸”ì„ ì•„ë˜ì™€ ê°™ì´ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nCopy python df1.groupBy(\u0026#34;year\u0026#34;).pivot( \u0026#34;course\u0026#34;, [\u0026#34;dotNET\u0026#34;, \u0026#34;Java\u0026#34;]).sum(\u0026#34;earnings\u0026#34;).sort(\u0026#34;year\u0026#34;).show() Copy bash +----+------+-----+ |year|dotNET| Java| +----+------+-----+ |2012| 15000|20000| |2013| 48000|30000| +----+------+-----+ References # https://spark.apache.org/docs/latest/sql-ref-functions-udf-scalar.html https://books.japila.pl/pyspark-internals/sql/ArrowEvalPython/#evalType https://spark.apache.org/docs/latest/api/sql/index.html https://docs.databricks.com/aws/en/semi-structured/higher-order-functions https://spark.apache.org/docs/latest/api/python/reference/pyspark.sql/api/pyspark.sql.functions.rank.html https://spark.apache.org/docs/latest/api/python/reference/pyspark.sql/api/pyspark.sql.GroupedData.pivot.html "},{"id":7,"href":"/blog/kube-installtion/","title":"ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° êµ¬ì¶•í•˜ê¸° - Ubuntu 24.04ì—ì„œ kubeadmìœ¼ë¡œ ë©€í‹°ë…¸ë“œ ì„¤ì¹˜","content":"ì‹¤ìŠµ ê°œìš” # ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œ ì¤‘ ì‹œì‘í•˜ê¸° í•­ëª©ì— ìˆëŠ” ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ê³¼ kubeadm ì„¤ì¹˜í•˜ê¸° ë¥¼ ë”°ë¦…ë‹ˆë‹¤.\nOS ì„ ì • # ê´€ë ¨í•œ ë¸”ë¡œê·¸ ê²Œì‹œê¸€ ì¤‘ì—ëŠ” Rocky Linux OSë¥¼ ì‚¬ìš©í•œ ì‚¬ë¡€ê°€ ë§ì•˜ëŠ”ë°, ì´ë¯¸ ê³¼ê±°ì— Macì— Ubuntu Server 24.04 ì„¤ì¹˜í•˜ê¸° (UTM) ë¼ëŠ” ê²Œì‹œê¸€ë¡œ Ubuntu Server ê°€ìƒë¨¸ì‹ ì„ ìƒì„±í•œ ì´ë ¥ì´ ìˆì–´ì„œ Rocky Linux ëŒ€ì‹ ì— Ubuntu Serverë¥¼ ì‚¬ìš©í•  ê²ƒì…ë‹ˆë‹¤.\nUbuntu Serverë¥¼ ì„ íƒí•œ ë˜ ë‹¤ë¥¸ ì´ìœ ëŠ”, Rocky Linuxì˜ ì›ë³¸ì¸ RHEL 8ë²„ì „ê³¼ Ubuntu Serverì˜ ê³µì‹ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ìµœì†Œì‚¬ì–‘ì„ ë¹„êµí•œë° ìˆìŠµë‹ˆë‹¤. ì„œë¹„ìŠ¤ ìš´ì˜ í™˜ê²½ìœ¼ë¡œ ì‚¬ìš©í•  ê²ƒì´ ì•„ë‹ˆë¼ì„œ ë‹¨ìˆœíˆ ìˆ«ìë§Œ ë†“ê³  ë´¤ì„ ë•Œ Ubuntu Serverê°€ ë” ê°€ë²¼ì›Œì„œ ì‹¤ìŠµ í™˜ê²½ìœ¼ë¡œ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\ní•˜ë“œì›¨ì–´ Ubuntu Server 24.04.2 LTS RHEL 8 CPU 1GHz ì´ìƒ 64ë¹„íŠ¸ 1.5GHz ì´ìƒ 64ë¹„íŠ¸, 2ì½”ì–´ ê¶Œì¥ RAM ìµœì†Œ 1.5GB (ISO), ê¶Œì¥ 3GB ì´ìƒ ìµœì†Œ 1.5GiB~3GiB, ê¶Œì¥ 1GB/CPU ì €ì¥ê³µê°„ ìµœì†Œ 5GB, ê¶Œì¥ 25GB ì´ìƒ ìµœì†Œ 10GiB, ê¶Œì¥ 20GiB ì´ìƒ Apple Silicon í™˜ê²½ì—ì„œ ë¦¬ëˆ…ìŠ¤ ê°€ìƒë¨¸ì‹ ì„ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì—, OSì™€ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ë“±ì€ ëª¨ë‘ arm64 í˜¸í™˜ ë²„ì „ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\nì‹¤ìŠµ í™˜ê²½ # UTM ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì‚¬ìš©í•´ Ubuntu Server ê°€ìƒë¨¸ì‹ ì´ ë§Œë“¤ì–´ì¡ŒìŒì„ ê°€ì •í•˜ê³  ì§„í–‰í•©ë‹ˆë‹¤. ê°€ìƒë¨¸ì‹  ìƒì„±ì´ í•„ìš”í•œ ê²½ìš° ì´ì „ ê²Œì‹œê¸€ì„ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê°€ìš© ìì› # M4 Mac Mini í•œ ëŒ€ì˜ ìì›ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nM4 Mac mini\nMemory : 16GB CPU : 10ì½”ì–´ IP Address : 192.168.50.227/24\nì‹¤ìŠµ ìì› # ë§ˆìŠ¤í„° ë…¸ë“œ 1ëŒ€ì™€ ì›Œì»¤ ë…¸ë“œ 2ëŒ€ë¡œ êµ¬ì„±ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.\nk8s-master\nMemory : 4GB CPU : 4ì½”ì–´ IP Address : 192.168.50.13/24\nk8s-worker1\nMemory : 4GB CPU : 4ì½”ì–´ IP Address : 192.168.50.14/24\nk8s-worker2\nMemory : 4GB CPU : 4ì½”ì–´ IP Address : 192.168.50.15/24\në„¤íŠ¸ì›Œí¬ # í†µì‹  í¸ì˜ì„±ì„ ìœ„í•´ ê°€ìƒë¨¸ì‹  ë„¤íŠ¸ì›Œí¬ëŠ” ë¸Œë¦¿ì§€ ëª¨ë“œë¡œ ì„¤ì •í•©ë‹ˆë‹¤. Ubuntu Server ì„¤ì¹˜ ì‹œ ê¸°ë³¸ ì„¤ì •ì¸ DHCP ëŒ€ì‹ ì— Static IP ì£¼ì†Œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.\nì‹¤ìŠµ ì¤‘ minyeamer í˜¸ìŠ¤íŠ¸ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œë¡œ SSH ì—°ê²°í•˜ì—¬ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œëŠ” ì—­í• ì„ ëª…ì‹œí•˜ê¸° ìœ„í•´ k8s-master, k8s-worker1, k8s-worker2 í˜¸ìŠ¤íŠ¸ë¡œ ì •ì˜í•©ë‹ˆë‹¤. k8s-master ê°€ ë§ˆìŠ¤í„° ë…¸ë“œ ì—­í• ì„ í•˜ê³ , ë‚˜ë¨¸ì§€ê°€ ì›Œì»¤ ë…¸ë“œ ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.\nì„¤ì¹˜í•˜ê¸° (ê³µí†µ) # ìš°ì„ , ë§ˆìŠ¤í„° ë…¸ë“œì™€ ì›Œì»¤ ë…¸ë“œì—ì„œ ê³µí†µì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.\n1. Ubuntu Server ê¸°ë³¸ ì„¤ì • # Copy bash echo \u0026#39;===== [1] Ubuntu Server ê¸°ë³¸ ì„¤ì • =====\u0026#39; echo \u0026#39;===== [1-1] íƒ€ì„ì¡´ ì„¤ì • =====\u0026#39; sudo timedatectl set-timezone Asia/Seoul echo \u0026#39;===== [1-2] hosts ì„¤ì • =====\u0026#39; cat \u0026lt;\u0026lt; EOF | sudo tee -a /etc/hosts 192.168.50.13 k8s-master 192.168.50.14 k8s-worker1 192.168.50.15 k8s-worker2 EOF ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œ ê°„ í˜¸ìŠ¤íŠ¸ëª…ìœ¼ë¡œ í†µì‹ í•˜ê¸° ìœ„í•´ /etc/hosts ì— í˜¸ìŠ¤íŠ¸ëª…ê³¼ IP ì£¼ì†Œë¥¼ ë§µí•‘í•©ë‹ˆë‹¤. ë§¥ì—ì„œë„ ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œì— SSHë¡œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ í¸ì˜ìƒ /etc/hosts ë¥¼ ë™ì¼í•˜ê²Œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.\n2. kubeadm ì„¤ì¹˜ ì „ ì‚¬ì „ì‘ì—… # ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œ kubeadm ì„¤ì¹˜í•˜ê¸° ì— ë”°ë¥´ë©´ ì‹œì‘í•˜ê¸° ì „ì—,\nì»´í“¨í„°ì˜ íŠ¹ì • í¬íŠ¸ë“¤ ê°œë°©. ìì„¸í•œ ë‚´ìš©ì€ ì—¬ê¸° ë¥¼ ì°¸ê³ í•œë‹¤. ìŠ¤ì™‘ì˜ ë¹„í™œì„±í™”. kubeletì´ ì œëŒ€ë¡œ ì‘ë™í•˜ê²Œ í•˜ë ¤ë©´ ë°˜ë“œì‹œ ìŠ¤ì™‘ì„ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•œë‹¤. ìœ„ ì‚¬í•­ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤ê³  ì•Œë ¤ì¤ë‹ˆë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ê°„ ë‹¤ì–‘í•œ í¬íŠ¸ë¥¼ í†µí•´ í†µì‹ ì´ ì´ë£¨ì–´ì§€ëŠ”ë°, ë°©í™”ë²½ ì„¤ì •ì— ì˜í•´ í†µì‹ ì´ ì°¨ë‹¨ë˜ì–´ í´ëŸ¬ìŠ¤í„° êµ¬ì„±ì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ API ì„œë²„ê°€ 6443 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³ , íŒŒë“œ ë„¤íŠ¸ì›Œí¬ í”ŒëŸ¬ê·¸ì¸ë§ˆë‹¤ ë˜ í•„ìš”í•œ í¬íŠ¸ê°€ ìˆìŠµë‹ˆë‹¤. ì‹¤ìŠµ í™˜ê²½ì—ì„  ë°©í™”ë²½ ìì²´ë¥¼ í•´ì œí•©ë‹ˆë‹¤.\në˜í•œ, ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ êµ¬ì„±ìš”ì†Œì¸ Kubeletì€ ë©”ëª¨ë¦¬ í• ë‹¹ ë° ê´€ë¦¬ë¥¼ ìœ„í•´ ì„¤ê³„ë˜ì—ˆëŠ”ë°, Swapì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ì„±ëŠ¥ ì €í•˜ë‚˜ ë¶ˆì•ˆì •ì„±ì„ ì´ˆë˜í•  ìˆ˜ ìˆì–´ Swapì„ í•´ì œí•´ì•¼ í•©ë‹ˆë‹¤.\nì´ëŸ¬í•œ ê³¼ì •ì„ ì•„ë˜ì™€ ê°™ì€ ëª…ë ¹ì–´ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash echo \u0026#39;===== [2] kubeadm ì„¤ì¹˜ ì „ ì‚¬ì „ì‘ì—… =====\u0026#39; echo \u0026#39;===== [2-1] ë°©í™”ë²½ í•´ì œ =====\u0026#39; sudo systemctl stop ufw sudo systemctl disable ufw sudo ufw disable echo \u0026#39;===== [2-2] Swap ë¹„í™œì„±í™” =====\u0026#39; sudo swapoff -a sudo sed -i \u0026#39;/ swap / s/^/#/\u0026#39; /etc/fstab echo \u0026#39;===== [2-3] í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ =====\u0026#39; sudo apt-get update sudo apt-get install -y apt-transport-https ca-certificates curl gpg iproute2 ì¶”ê°€ë¡œ, ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ ì „ í•„ìš”í•œ í•„ìˆ˜ íŒ¨í‚¤ì§€ë¥¼ ë¯¸ë¦¬ ì„¤ì¹˜í•©ë‹ˆë‹¤.\n3. ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì„¤ì¹˜ ì „ ì‚¬ì „ì‘ì—… # ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ ê´€ë ¨ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œì˜ IPv4ë¥¼ í¬ì›Œë”©í•˜ì—¬ iptablesê°€ ë¸Œë¦¬ì§€ëœ íŠ¸ë˜í”½ì„ ë³´ê²Œ í•˜ê¸° ë¬¸ë‹¨ì— ë”°ë¼ íŒ¨í‚· í¬ì›Œë”© ë“±ì˜ ê¸°ëŠ¥ ì œê³µì„ ìœ„í•´ iptables ì„¤ì •ì„ í•©ë‹ˆë‹¤.\ní•´ë‹¹ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ì´ ê³µì‹ë¬¸ì„œì—ì„œ ì œê³µë©ë‹ˆë‹¤.\nCopy bash echo \u0026#39;===== [3] ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì„¤ì¹˜ ì „ ì‚¬ì „ì‘ì—… =====\u0026#39; echo \u0026#39;===== [3-1] í•„ìš”í•œ ëª¨ë“ˆ ë¡œë“œ =====\u0026#39; cat \u0026lt;\u0026lt;EOF | sudo tee /etc/modules-load.d/containerd.conf overlay br_netfilter EOF sudo modprobe overlay sudo modprobe br_netfilter echo \u0026#39;===== [3-2] iptables ì„¸íŒ… =====\u0026#39; sudo tee /etc/sysctl.d/kubernetes.conf \u0026lt;\u0026lt;EOF net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 net.ipv4.ip_forward = 1 EOF echo \u0026#39;===== [3-3] ì„¤ì •ê°’ ì ìš© =====\u0026#39; sudo sysctl --system 4. ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì„¤ì¹˜ # ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì€ Docker ê³µì‹ë¬¸ì„œ Install Docker Engine on Ubuntu ì— ë”°ë¼ ë„ì»¤ ì—”ì§„ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. ë„ì»¤ ì—”ì§„ì„ ì„¤ì¹˜í•˜ê³  ê·¸ ì•ˆì— í¬í•¨ë˜ëŠ” containerd ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\ní•´ë‹¹ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ì´ ê³µì‹ë¬¸ì„œì—ì„œ ì œê³µë©ë‹ˆë‹¤.\nì°¸ê³ ë¡œ, containerd ì„¤ì¹˜ ì‹œ amd64ì™€ arm64 ì•„í‚¤í…ì²˜ ì¤‘ í•˜ë‚˜ë¥¼ ì§€ì •í•´ì•¼ í•˜ëŠ”ë°, $(dpkg --print-architecture) ëª…ë ¹ì–´ë¡œ í˜„ì¬ í™˜ê²½ì˜ ì•„í‚¤í…ì²˜ë¥¼ ì¶œë ¥í•˜ì—¬ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.\nCopy bash echo \u0026#39;===== [4] ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì„¤ì¹˜ =====\u0026#39; echo \u0026#39;===== [4-1] ë„ì»¤ ê³µì‹ GPG í‚¤ ì¶”ê°€ =====\u0026#39; sudo apt-get update sudo install -m 0755 -d /etc/apt/keyrings sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc sudo chmod a+r /etc/apt/keyrings/docker.asc echo \u0026#39;===== [4-2] ë„ì»¤ Apt ì €ì¥ì†Œ ì¶”ê°€ =====\u0026#39; echo \\ \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\ $(. /etc/os-release \u0026amp;\u0026amp; echo \u0026#34;${UBUNTU_CODENAME:-$VERSION_CODENAME}\u0026#34;) stable\u0026#34; | \\ sudo tee /etc/apt/sources.list.d/docker.list \u0026gt; /dev/null echo \u0026#39;===== [4-3] containerd ì„¤ì¹˜ =====\u0026#39; sudo apt-get update sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin echo \u0026#39;===== [4-4] CRI í™œì„±í™” =====\u0026#39; sudo mkdir -p /etc/containerd sudo containerd config default | sudo tee /etc/containerd/config.toml sudo sed -i \u0026#39;s/SystemdCgroup = false/SystemdCgroup = true/g\u0026#39; /etc/containerd/config.toml sudo systemctl restart containerd ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ ê´€ë ¨ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œì˜ containerd ë¬¸ë‹¨ì„ ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ì°¸ê³ ì‚¬í•­ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.\në§Œì•½ containerd ë¥¼ íŒ¨í‚¤ì§€(RPM, .deb ë“±)ë¥¼ í†µí•´ ì„¤ì¹˜í•˜ì˜€ë‹¤ë©´, CRI integration í”ŒëŸ¬ê·¸ì¸ì€ ê¸°ë³¸ì ìœ¼ë¡œ ë¹„í™œì„±í™”ë˜ì–´ ìˆë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ containerdë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” CRI supportê°€ í™œì„±í™”ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. criê°€ /etc/containerd/config.toml íŒŒì¼ ì•ˆì— ìˆëŠ” disabled_plugins ëª©ë¡ì— í¬í•¨ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì. ë§Œì•½ í•´ë‹¹ íŒŒì¼ì„ ë³€ê²½í•˜ì˜€ë‹¤ë©´, containerd ë¥¼ ë‹¤ì‹œ ì‹œì‘í•œë‹¤.\në”°ë¼ì„œ, containerd ì„¤ì¹˜ í›„ CRIë¥¼ ì§ì ‘ í™œì„±í™”í•©ë‹ˆë‹¤.\nì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì„ ì„¤ì¹˜í•œ í›„ containerd ë²„ì „ì„ í™•ì¸í•´ë³´ë‹ˆ 1.2.27 ë²„ì „ì´ ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤.\nCopy bash $ containerd --version containerd containerd.io 1.7.27 05044ec0a9a75232cad458027ca83437aae3f4da 5. ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ # ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œì˜ kubeadm, kubelet ë° kubectl ì„¤ì¹˜ ë¬¸ë‹¨ì— ë”°ë¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ìš´ì˜ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. ê° íŒ¨í‚¤ì§€ì— ëŒ€í•´ ì•„ë˜ì™€ ê°™ì€ ì„¤ëª…ì„ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nkubeadm : í´ëŸ¬ìŠ¤í„°ë¥¼ ë¶€íŠ¸ìŠ¤íŠ¸ë©í•˜ëŠ” ëª…ë ¹ì´ë‹¤. kubelet : í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  ë¨¸ì‹ ì—ì„œ ì‹¤í–‰ë˜ëŠ” íŒŒë“œì™€ ì»¨í…Œì´ë„ˆ ì‹œì‘ê³¼ ê°™ì€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤. kubectl : í´ëŸ¬ìŠ¤í„°ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ ì»¤ë§¨ë“œ ë¼ì¸ ìœ í‹¸ë¦¬í‹°ì´ë‹¤. í•´ë‹¹ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ì´ ê³µì‹ë¬¸ì„œì—ì„œ ì œê³µë©ë‹ˆë‹¤.\nCopy bash echo \u0026#39;===== [5] kubeadm ì„¤ì¹˜ =====\u0026#39; echo \u0026#39;===== [5-1] ì¿ ë²„ë„¤í‹°ìŠ¤ íŒ¨í‚¤ì§€ ì €ì¥ì†Œì˜ ê³µê°œí‚¤ ë‹¤ìš´ë¡œë“œ =====\u0026#39; curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.33/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg echo \u0026#39;===== [5-2] ì¿ ë²„ë„¤í‹°ìŠ¤ Apt ì €ì¥ì†Œ ì¶”ê°€ =====\u0026#39; # sudo mkdir -p -m 755 /etc/apt/keyrings \u0026lt;\u0026lt; Ubuntu 22.04 ì´ì „ ë²„ì „ echo \\ \u0026#34;deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.33/deb/ /\u0026#34; | \\ sudo tee /etc/apt/sources.list.d/kubernetes.list echo \u0026#39;===== [5-3] kubelet, kubeadm, kubectl ì„¤ì¹˜ =====\u0026#39; sudo apt-get update sudo apt-get install -y kubelet kubeadm kubectl sudo apt-mark hold kubelet kubeadm kubectl echo \u0026#39;===== [5-4] kubelet ì„œë¹„ìŠ¤ í™œì„±í™” =====\u0026#39; sudo systemctl enable --now kubelet ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì„¤ì¹˜í•œ í›„ kubeadm, kubelet, kubectl ë²„ì „ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ëª¨ë‘ ë™ì¼í•˜ê²Œ 1.33.2 ë²„ì „ì´ ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤.\nCopy bash $ kubeadm version kubeadm version: \u0026amp;version.Info{ Major:\u0026#34;1\u0026#34;, Minor:\u0026#34;33\u0026#34;, EmulationMajor:\u0026#34;\u0026#34;, EmulationMinor:\u0026#34;\u0026#34;, MinCompatibilityMajor:\u0026#34;\u0026#34;, MinCompatibilityMinor:\u0026#34;\u0026#34;, GitVersion:\u0026#34;v1.33.2\u0026#34;, GitCommit:\u0026#34;a57b6f7709f6c2722b92f07b8b4c48210a51fc40\u0026#34;, GitTreeState:\u0026#34;clean\u0026#34;, BuildDate:\u0026#34;2025-06-17T18:39:42Z\u0026#34;, GoVersion:\u0026#34;go1.24.4\u0026#34;, Compiler:\u0026#34;gc\u0026#34;, Platform:\u0026#34;linux/arm64\u0026#34;} Copy bash $ kubelet --version Kubernetes v1.33.2 Copy bash $ kubectl version Client Version: v1.33.2 Kustomize Version: v5.6.0 Server Version: v1.33.2 ì„¤ì •í•˜ê¸° (ë§ˆìŠ¤í„° ë…¸ë“œ) # ë§ˆìŠ¤í„° ë…¸ë“œì—ì„œ ìš°ì„  í´ëŸ¬ìŠ¤í„° ì„¤ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤.\n6. ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ì„¤ì • # ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì´ˆê¸°í™”í•˜ë©´ ë‹¤ì–‘í•œ ì¿ ë²„ë„¤í‹°ìŠ¤ ì»´í¬ë„ŒíŠ¸ë“¤ì´ íŒŒë“œë¡œ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. ë˜í•œ, ì‹¤ìŠµ ê³¼ì •ì—ì„œ ìƒˆë¡œìš´ íŒŒë“œë¥¼ ìƒì„±í•˜ê²Œ ë©ë‹ˆë‹¤.\nì»¨í…Œì´ë„ˆë“¤ ê°„ í†µì‹ ì„ ìœ„í•´ CNI(Container Network Interface)ë¼ëŠ” í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Kubelet ì´ë¼ëŠ” ìì²´ì ì¸ CNI í”ŒëŸ¬ê·¸ì¸ì„ ì œê³µí•˜ì§€ë§Œ ë„¤íŠ¸ì›Œí¬ ê¸°ëŠ¥ì´ ë§¤ìš° ì œí•œì ì¸ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.\nê·¸ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´, ì„œë“œíŒŒí‹° í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ Flannel, Calico ë“±ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì´ ì¤‘ì—ì„œ Calico ë„¤íŠ¸ì›Œí¬ ì •ì±… ë° ë³´ì•ˆ, í™•ì¥ì„±, ì„±ëŠ¥ ì¸¡ë©´ì—ì„œ ë›°ì–´ë‚˜ê¸° ë•Œë¬¸ì— ì‹¤ì „ í™˜ê²½ì—ì„œ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\nCalicoë¥¼ ê°œë°œí•˜ê³  ê´€ë¦¬í•˜ëŠ” Tigeraì—ì„œ ì œê³µí•˜ëŠ” ê³µì‹ë¬¸ì„œ Install Calico networking and network policy for on-premises deployments ë¥¼ ì°¸ê³ í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ Calicoë¥¼ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.\nCopy bash echo \u0026#39;===== [6] ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ì„¤ì • =====\u0026#39; echo \u0026#39;===== [6-1] í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™” =====\u0026#39; sudo kubeadm init --pod-network-cidr=10.244.0.0/16 --apiserver-advertise-address 192.168.50.13 echo \u0026#39;===== [6-2] kubectl ì„¤ì • =====\u0026#39; mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config echo \u0026#39;===== [6-3] Pod Network ì„¤ì¹˜ (Calico) =====\u0026#39; kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/operator-crds.yaml kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/tigera-operator.yaml echo \u0026#39;===== [6-4] ì‚¬ìš©ì ì •ì˜ ë¦¬ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ =====\u0026#39; curl https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/custom-resources.yaml -O sed -i \u0026#39;s/192.168.0.0/10.244.0.0/g\u0026#39; custom-resources.yaml echo \u0026#39;===== [6-5] Calicoë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•œ manifest ìƒì„± =====\u0026#39; kubectl create -f custom-resources.yaml ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ calico-system ì´ë¼ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì•„ë˜ì— calico-node ë“±ì˜ íŒŒë“œê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤. í•˜ì§€ë§Œ, ìœ„ ëª…ë ¹ì–´ ì¤‘ ì‚¬ìš©ì ì •ì˜ ë¦¬ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ ë¶€ë¶„ì— calico-node ë¥¼ ì •ì˜í•˜ëŠ” custom-resources.yaml íŒŒì¼ì˜ ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì´ 192.168.0.0/16 ëŒ€ì—­ìœ¼ë¡œ ì‘ì„±ë˜ì–´ ìˆì–´ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\ncustom-resources.yaml íŒŒì¼ ë‚´ìš©ì—ì„œ ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ í´ëŸ¬ìŠ¤í„° ì´ˆê¸°í™” ì‹œì— ì…ë ¥í•œ pod-network-cidr ëŒ€ì—­ 10.244.0.0/16 ìœ¼ë¡œ ë³€ê²½í•´ì¤ë‹ˆë‹¤.\nCopy bash $ kubectl get pods -n calico-system NAME READY STATUS RESTARTS AGE calico-kube-controllers-6565cb8dfb-dfb6m 1/1 Running 1 (23h ago) 3d calico-node-2xznr 1/1 Running 0 3d calico-node-7zlgx 1/1 Running 0 3d calico-node-jgddh 0/1 Running 1 (23h ago) 3d calico-typha-6fd8bff95d-k2bgm 1/1 Running 0 3d csi-node-driver-2llx6 2/2 Running 0 3d csi-node-driver-mj8js 2/2 Running 0 3d csi-node-driver-nzr55 2/2 Running 2 (23h ago) 3d goldmane-5f56496f4c-5szmn 1/1 Running 1 (23h ago) 3d whisker-78db647586-dpsdl 2/2 Terminating 0 3d whisker-78db647586-tmbnp 2/2 Running 0 31m ì„¤ì •í•˜ê¸° (ì›Œì»¤ ë…¸ë“œ) # ì›Œì»¤ ë…¸ë“œì—ì„œ ë§ˆìŠ¤í„° ë…¸ë“œì— ì—°ê²°í•˜ëŠ” ì„¤ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤.\n7. ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ì—°ê²° # ë§ˆìŠ¤í„° ë…¸ë“œì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì´ˆê¸°í™”í•˜ê³  ìƒˆ ë…¸ë“œê°€ í´ëŸ¬ìŠ¤í„°ì— í•©ë¥˜í•  ìˆ˜ ìˆë„ë¡ ì•„ë˜ì™€ ê°™ì´ í† í°ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash k8s-master$ sudo kubeadm token create --print-join-command \u0026gt; ~/join.sh k8s-master$ cat join.sh kubeadm join 192.168.50.13:6443 --token ... ë§ˆìŠ¤í„° ë…¸ë“œì—ì„œ kubeadm token create ì˜ ì¶œë ¥ ê²°ê³¼ë¥¼ ë³µì‚¬í•´ì„œ ì›Œì»¤ ë…¸ë“œì—ì„œ ì‹¤í–‰í•  ìˆ˜ë„ ìˆì§€ë§Œ, í–¥í›„ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ ê³¼ì •ì„ Ansible ë“±ì„ ì‚¬ìš©í•´ ìë™í™”í•  ê³„íšì´ ìˆì–´ì„œ GUIë¥¼ ê±°ì¹˜ì§€ ì•Šê³  SSH í†µì‹ ì„ í†µí•´ ì¶œë ¥ ê²°ê³¼ë¥¼ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤.\nCopy bash k8s-master$ scp ~/join.sh minyeamer@k8s-worker1:/home/minyeamer/ k8s-worker1$ sudo ./join.sh k8s-master$ scp ~/join.sh minyeamer@k8s-worker2:/home/minyeamer/ k8s-worker2$ sudo ./join.sh ë§ˆìŠ¤í„° ë…¸ë“œë¡œë¶€í„° ì „ë‹¬ë°›ì€ join.sh íŒŒì¼, ì¦‰ kubeadm join ëª…ë ¹ì–´ë¥¼ ì›Œì»¤ ë…¸ë“œì—ì„œ ì‹¤í–‰í•˜ê³  ê¸°ë‹¤ë¦¬ë©´ ëª¨ë“  ë…¸ë“œê°€ í™œì„±í™”ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash k8s-master$ kubectl get nodes NAME STATUS ROLES AGE VERSION k8s-master Ready control-plane 29m v1.33.2 k8s-worker1 NotReady \u0026lt;none\u0026gt; 16m v1.33.2 k8s-worker2 NotReady \u0026lt;none\u0026gt; 15m v1.33.2 Copy bash k8s-master$ kubectl get nodes NAME STATUS ROLES AGE VERSION k8s-master Ready control-plane 30m v1.33.2 k8s-worker1 Ready \u0026lt;none\u0026gt; 16m v1.33.2 k8s-worker2 Ready \u0026lt;none\u0026gt; 16m v1.33.2 ì„¤ì •í•˜ê¸° (ê¸°íƒ€) # kubectl ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ëŠ” ë§ˆìŠ¤í„° ë…¸ë“œì—ì„œ í¸ì˜ë¥¼ ìœ„í•œ ì„¤ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤.\n8. ì¿ ë²„ë„¤í‹°ìŠ¤ í¸ì˜ê¸°ëŠ¥ ì„¤ì¹˜ # ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œ ì¤‘ kubectl ì¹˜íŠ¸ ì‹œíŠ¸ ì— ë”°ë¼ kubectl ëª…ë ¹ì–´ë¥¼ k ë¡œ ë‹¨ì¶•í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ìë™ì™„ì„± ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash sudo apt-get update sudo apt-get install bash-completion echo \u0026#39;source \u0026lt;(kubectl completion bash)\u0026#39; \u0026gt;\u0026gt; ~/.bashrc echo \u0026#39;alias k=kubectl\u0026#39; \u0026gt;\u0026gt; ~/.bashrc echo \u0026#39;complete -o default -F __start_kubectl k\u0026#39; \u0026gt;\u0026gt; ~/.bashrc source ~/.bashrc 9. ì¿ ë²„ë„¤í‹°ìŠ¤ ëŒ€ì‹œë³´ë“œ ë°°í¬ # ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µì‹ë¬¸ì„œ ì¤‘ ì¿ ë²„ë„¤í‹°ìŠ¤ ëŒ€ì‹œë³´ë“œë¥¼ ë°°í¬í•˜ê³  ì ‘ì†í•˜ê¸° ì— ë”°ë¥´ë©´ ì•„ë˜ì™€ ê°™ì€ ì›¹ UI(ì¿ ë²„ë„¤í‹°ìŠ¤ ëŒ€ì‹œë³´ë“œ)ë¥¼ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì¿ ë²„ë„¤í‹°ìŠ¤ ëŒ€ì‹œë³´ë“œ ì›¹ UIì— ëŒ€í•œ íŒŒë“œë¥¼ ìƒì„±í•˜ê³ , íŒŒë“œì˜ 443 í¬íŠ¸ë¥¼ í˜¸ìŠ¤íŠ¸ì˜ í¬íŠ¸(8443 ë“±)ì— í¬ì›Œë”©í•˜ì—¬ ì›¹ UIì— ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê³¼ì •ì€ ì•„ë˜ì—ì„œ ì œì‹œí•©ë‹ˆë‹¤.\nCopy bash kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.6.1/aio/deploy/recommended.yaml kubectl create serviceaccount admin-user -n kubernetes-dashboard kubectl create clusterrolebinding admin-user \\ --clusterrole=cluster-admin \\ --serviceaccount=kubernetes-dashboard:admin-user kubectl create token admin-user -n kubernetes-dashboard \u0026gt; ~/admin-token kubectl -n kubernetes-dashboard port-forward svc/kubernetes-dashboard 8443:443 \u0026amp; ì´ì œ ë§‰ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì„¤ì¹˜í•œ ì§í›„ë¼ ê·¸ëŸ°ì§€, ì•„ë‹ˆë©´ ì‚¬ìš©ëŸ‰ì´ ì˜¬ë°”ë¥´ê²Œ ìˆ˜ì§‘ë˜ì§€ ì•Šì•„ì„œì¸ì§„ ëª¨ë¥´ê² ì§€ë§Œ ì•„ë¬´ëŸ° ë‚´ìš©ë„ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì¶©ë¶„íˆ ì‹¤ìŠµí•˜ê³  ë‚˜ì„œ ëŒ€ì‹œë³´ë“œì— ëŒ€í•´ ë‹¤ì‹œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\nReferences # https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/ https://kubernetes.io/ko/docs/setup/production-environment/container-runtimes/ https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises https://www.inflearn.com/course/ì¿ ë²„ë„¤í‹°ìŠ¤-ì–´ë‚˜ë”-í´ë˜ìŠ¤-ì§€ìƒí¸-sprint1 https://cafe.naver.com/kubeops/91 https://captcha.tistory.com/78 https://kubernetes.io/ko/docs/reference/kubectl/cheatsheet/ https://kubernetes.io/ko/docs/tasks/access-application-cluster/web-ui-dashboard/ "},{"id":8,"href":"/blog/container-history/","title":"ì»¨í…Œì´ë„ˆì˜ ì—­ì‚¬ì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ ë“±ì¥ ë°°ê²½ - LXCì—ì„œ containerdê¹Œì§€","content":"Study Overview # ì¿ ë²„ë„¤í‹°ìŠ¤ ì–´ë‚˜ë” í´ë˜ìŠ¤ (ì§€ìƒí¸) - Sprint 1, 2 ê³¼ì •ì„ ë”°ë¦…ë‹ˆë‹¤. [ë”°ë°°ì¿ ] ì¿ ë²„ë„¤í‹°ìŠ¤ ì‹œë¦¬ì¦ˆ ê³¼ì •(ìœ íŠœë¸Œ ê³µê°œ ì˜ìƒ)ì„ ë”°ë¦…ë‹ˆë‹¤. ëª©ì  # ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ë¬´ì—‡ì´ê³ , ì¿ ë²„ë„¤í‹°ìŠ¤ë¡œ ì–´ë–¤ ê²ƒì„ í•  ìˆ˜ ìˆëŠ”ì§€ ì•Œê¸° ìœ„í•´ í•™ìŠµí•©ë‹ˆë‹¤. ë‘ ê°€ì§€ ì»¤ë¦¬í˜ëŸ¼ì„ ì°¸ê³ í•˜ì§€ë§Œ, ê·¸ëŒ€ë¡œ ë”°ë¼í•˜ì§€ ì•Šê³  ê°œë°œ í™˜ê²½ì— ë§ì¶°ì„œ ì„¤ì¹˜ ë²„ì „ ë“±ì„ ë³€ê²½í•©ë‹ˆë‹¤. ì´ë¡ ë³´ë‹¤ëŠ” ì‹¤ìŠµ ìœ„ì£¼ë¡œ ì§ì ‘ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  ê²°ê³¼ë¥¼ ë³´ë©´ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ìµí™ë‹ˆë‹¤. Container History # LXC # ì»¨í…Œì´ë„ˆì˜ ì—­ì‚¬ëŠ” chroot ë¥¼ ë°œí‘œí•œ ê²ƒìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤. chroot ëŠ” \u0026quot;change root\u0026quot;ì˜ ì•½ìë¡œ, í”„ë¡œì„¸ìŠ¤ì˜ root ë””ë ‰í„°ë¦¬ë¥¼ ë³€ê²½í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ê°€ ì§€ì •ëœ ë””ë ‰í„°ë¦¬ ì´í•˜ë¡œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ê²©ë¦¬ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ncgroup ì€ \u0026quot;control group\u0026quot;ì˜ ì•½ìë¡œ, í”„ë¡œì„¸ìŠ¤ì˜ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰(CPU, ë©”ëª¨ë¦¬ ë“±)ì„ ì œí•œ ë˜ëŠ” ê²©ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œ ê´€ë¦¬ìëŠ” cgroup ì„ í†µí•´ íŠ¹ì • í”„ë¡œì„¸ìŠ¤ ê·¸ë£¹ì— í• ë‹¹í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ì˜ ì–‘ì„ ì œí•œí•˜ê±°ë‚˜, ìš°ì„ ìˆœìœ„ë¥¼ ì§€ì •í•˜ê³ , ë¦¬ì†ŒìŠ¤ ì‚¬ìš© í˜„í™©ì„ ëª¨ë‹ˆí„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë  ë•Œ ê° ì»¨í…Œì´ë„ˆë³„ë¡œ ìì›ì„ ë¶„ë¦¬í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë° í•µì‹¬ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\nnamespace ëŠ” ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤(í”„ë¡œì„¸ìŠ¤, ë„¤íŠ¸ì›Œí¬ ë“±)ë¥¼ ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“­ë‹ˆë‹¤. ì»¨í…Œì´ë„ˆ ê¸°ìˆ ì˜ í•µì‹¬ ê¸°ë°˜ìœ¼ë¡œ, ê°ê°ì˜ ì»¨í…Œì´ë„ˆê°€ ë…ë¦½ëœ í™˜ê²½ì²˜ëŸ¼ ë™ì‘í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.\nLXC ë˜ëŠ” ë¦¬ëˆ…ìŠ¤ ì»¨í…Œì´ë„ˆëŠ” cgroup, namesapce ì™€ ê°™ì€ ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì˜ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ í•˜ë‚˜ì˜ ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì—ì„œ ì—¬ëŸ¬ ê°œì˜ ê²©ë¦¬ëœ ë¦¬ëˆ…ìŠ¤ í™˜ê²½(ì»¨í…Œì´ë„ˆ)ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ìš´ì˜ì²´ì œ ìˆ˜ì¤€ì˜ ê°€ìƒí™” ê¸°ìˆ ì…ë‹ˆë‹¤.\nRed Hatì˜ í† í”½ Linux ì»¨í…Œì´ë„ˆë€? ì— ë”°ë¥´ë©´, LXC ì´ì „ì— FreeBSD Jail ì´ë¼ê³ , FreeBSD ì‹œìŠ¤í…œì—ì„œ ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ í™˜ê²½ì„ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì»¨í…Œì´ë„ˆì˜ ì‹œì´ˆê°€ ìˆì—ˆë‹¤ê³  í•©ë‹ˆë‹¤. ì´í›„ì— VServer í”„ë¡œì íŠ¸ë¥¼ í†µí•´ Linuxì— ê²©ë¦¬ëœ í™˜ê²½ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.\nDocker # Docker ëŠ” LXC ì—ì„œ ì¶œë°œí•œ ìƒìœ„ ë ˆë²¨ì˜ ì»¨í…Œì´ë„ˆ ê¸°ìˆ ë¡œ, ê°„í¸í•œ CLIì™€ ì„œë²„ ë°ëª¬, ì‚¬ì „ ì¿ ì¶•ëœ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì„œë²„ì˜ ê°œë… ë“± ì—¬ëŸ¬ ê°€ì§€ì˜ ìƒˆë¡œìš´ ê°œë…ê³¼ íˆ´ì„ ì„ ë³´ì˜€ìŠµë‹ˆë‹¤.\nrkt ëŠ” Docker ì´í›„ì— ë“±ì¥í•œ, ë³´ì•ˆê³¼ í‘œì¤€ ì¤€ìˆ˜ë¥¼ ì¤‘ì‹œí•œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì…ë‹ˆë‹¤. rkt ëŠ” CoreOSì—ì„œ ê°œë°œí•œ ì˜¤í”ˆì†ŒìŠ¤ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì´ì—ˆëŠ”ë°, CoreOSê°€ Red Hatì— ì¸ìˆ˜ë˜ë©´ì„œ Fedora CoreOSë¡œ ì´ë¦„ì´ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤. Red Hatì˜ í† í”½ rktë€ ë¬´ì—‡ì¼ê¹Œìš”? ì— ë”°ë¥´ë©´, rkt ì˜ í•µì‹¬ ì‹¤í–‰ ë‹¨ìœ„ê°€ pod ì¸ë°, ê³µìœ  ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ë˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì• í”Œë¦¬ì¼€ì´ì…˜(ì»¨í…Œì´ë„ˆ) ì§‘í•©ì„ ì˜ë¯¸í•˜ë©°, ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ìµœì†Œ ë°°í¬ ë‹¨ìœ„ë¡œ ì‚¬ìš©ë˜ëŠ” ê°œë…ì…ë‹ˆë‹¤.\nKubernetes # Docker ê°€ ë‚˜ì˜¨ ì´í›„ Kubernetes, Docker Swarm ë“± ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì´ë¼ëŠ” ì»¨í…Œì´ë„ˆì˜ ë°°í¬, ê´€ë¦¬, í™•ì¥ ë° ë„¤íŠ¸ì›Œí‚¹ì„ ìë™í™”í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤. í˜„ì¬ëŠ” Kubernetes ê°€ ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.\në”°ë¼ì„œ, Kubernetes ì™€ í˜¸í™˜ì„±ì´ ì¢‹ì€ì§€ê°€ ì»¨í…Œì´ë„ˆë¥¼ ì„ íƒí•˜ëŠ” ì¤‘ìš”í•œ ê²°ì •ìš”ì†Œê°€ ë˜ì—ˆëŠ”ë°, Docker ëŠ” ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ë¿ ì•„ë‹ˆë¼ ë¹Œë“œ, CLI, ë°ëª¬ ë“± ì—¬ëŸ¬ êµ¬ì„±ìš”ì†Œë¥¼ í¬í•¨í•´ Kubernetes ì˜ ëŸ°íƒ€ì„ìœ¼ë¡œ Docker ë¥¼ ì‚¬ìš©í•  ë•Œ ë¶ˆí•„ìš”í•œ ì˜¤ë²„í—¤ë“œì™€ ë³µì¡ì„±ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\nKubernetes ëŠ” ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ì˜ í˜¸í™˜ì„ ìœ„í•´ CRI(Container Runtime Interface)ë¼ëŠ” í‘œì¤€ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤. Docker ëŠ” CRIë¥¼ ì¤€ìˆ˜í•˜ì§€ ì•Šì•„ Dockershim ì´ë¼ëŠ” ë³„ë„ì˜ ê³„ì¸µì„ ë§Œë“¤ì–´ì•¼ í–ˆìŠµë‹ˆë‹¤.\ncontainerd # containerd ëŠ” Docker ì—ì„œ ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ì„ ì œê±°í•œ ê²½ëŸ‰ ëŸ°íƒ€ì„ìœ¼ë¡œ, ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì´ ì ê³  ì„±ëŠ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤. ë”°ë¼ì„œ, Docker ë¥¼ ëŸ°íƒ€ì„ìœ¼ë¡œ ì“¸ ë–„ë³´ë‹¤ CPUë‚˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì¤„ê³  ê´€ë¦¬ í¬ì¸íŠ¸ê°€ ë‹¨ìˆœí™”ë©ë‹ˆë‹¤. container ëŠ” CNCF(Cloud Native Computing Foundation)ì— ê¸°ë¶€ë˜ì–´ ê´€ë¦¬ë˜ë©°, OCI(Open Container Initiative) í‘œì¤€ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤. Kubernetes ë‚´ë¶€ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” ì—”ì§„ìœ¼ë¡œ containerd ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.\nKubernetes ì™€ Docker ì˜ ê´€ê³„ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ ë¸”ë¡œê·¸ì˜ ê²Œì‹œê¸€ ë‹¹í™©í•˜ì§€ ë§ˆì„¸ìš”. ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ë„ì»¤ ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCRI-O ëŠ” CNCFì—ì„œ ê´€ë¦¬ë˜ëŠ” containerd ì™€ ë‹¬ë¦¬, Red Hat ë“±ì´ ê´€ë¦¬í•˜ë©° ì—”í„°í”„ë¼ì´ì¦ˆ Kubernetes í™˜ê²½ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë©ë‹ˆë‹¤. ë²”ìš© ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ëª©ì ì˜ containerd ì™€ ë‹¤ë¥´ê²Œ, CRI-O ëŠ” Kubernetes ì™€ì˜ í†µí•©ë§Œì„ ëª©ì ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ì„ ë°°ì œí•œ ìµœì†Œí•œì˜ ëŸ°íƒ€ì„ì…ë‹ˆë‹¤.\nCRI-O ì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì€ Red Hatì˜ ê³µì‹ë¬¸ì„œ CRI-O Runtime ì„ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nKubernetes History # Docker # LXC ëŠ” ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì˜ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ë§Œë“  Low Level ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì…ë‹ˆë‹¤. Docker ëŠ” LXC ë¥¼ ê¸°ë°˜ìœ¼ë¡œ libcontainer ë¼ëŠ” Low Level ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. Docker ëŠ” libcontainer ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ì ì¹œí™”ì ìœ¼ë¡œ ë§Œë“  High Level ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì…ë‹ˆë‹¤.\nDocker ì—ëŠ” CLI, ë¡œê·¸ ê´€ë¦¬, ì €ì¥ê³µê°„, ë„¤íŠ¸ì›Œí¬ ë“±ì˜ ë¶€ê°€ ê¸°ëŠ¥ì´ ë§ì•„ ì‚¬ìš©ì í¸ì˜ê°€ ì¢‹ì§€ë§Œ, ì´ ì¤‘ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“œëŠ” ì—­í• ì€ containder ê°€ ë‹´ë‹¹í•˜ë©° libcontainer ë¥¼ ì´ìš©í•©ë‹ˆë‹¤.\nkubelet # Kubernetes ëŠ” kube-apiserver ì™€ kubelet ì´ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ìˆìŠµë‹ˆë‹¤. Kubernetes ì—ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“œëŠ” ëª…ë ¹ì–´ëŠ” ì—†ì§€ë§Œ, Pod ì•ˆì— ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ ì´ìƒ ëª…ì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nkube-apiserver ê°€ Podë¥¼ ìƒì„±í•´ë‹¬ë¼ëŠ” í˜¸ì¶œì„ ë°›ìœ¼ë©´ kubelet ì—ê²Œ ì „ë‹¬í•˜ê³ , kubelet ì€ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„í•œí…Œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•´ë‹¬ë¼ëŠ” ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤. ê·¸ëŸ¬ë©´, ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì´ ì§ì ‘ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nkubelet ì€ Podì˜ ìƒì„±ë¶€í„° ì‹¤í–‰, ìƒíƒœ ê´€ë¦¬, ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. kubelet ì´ ì¤‘ë‹¨ë˜ë©´ í•´ë‹¹ ë…¸ë“œì—ì„œ Podì˜ ìƒì„± ë° ê´€ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•´ì ¸, í´ëŸ¬ìŠ¤í„°ì˜ ì •ìƒ ìš´ì˜ì— í° ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.\nCRI # kubelet ì€ Docker ë˜ëŠ” ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì— ì•Œë§ì€ APIë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, containerd ê°€ ë¶„ë¦¬ë˜ê³  CRI-O ê°€ ì¶”ê°€ë˜ëŠ” ë“± ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì´ ëŠ˜ì–´ë‚˜ê²Œ ë˜ë©´ì„œ ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ í†µì‹ í•˜ê¸° ìœ„í•œ í‘œì¤€ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.\nCRIëŠ” ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ í‘œì¤€í™”ëœ ë°©ì‹ìœ¼ë¡œ í†µì‹ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í•µì‹¬ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤. CRIëŠ” gRPC í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ kubelet ê³¼ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì´ íš¨ìœ¨ì ìœ¼ë¡œ ëª…ë ¹ê³¼ ìƒíƒœ ì •ë³´ë¥¼ ì£¼ê³ ë°›ë„ë¡ í•©ë‹ˆë‹¤. CRIë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì¢…ë¥˜ì— ê´€ê³„ì—†ì´ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì™€ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nOCI # ì»¨í…Œì´ë„ˆì˜ ì¢…ë¥˜ê°€ ë§ì•„ì§€ë©´ì„œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ ê´€ë ¨ ì—…ê³„ ê°œë°©í˜• í‘œì¤€ì„ ë§Œë“¤ê¸° ìœ„í•´ Red Hatê³¼ Docker ë“± ì—¬ëŸ¬ ê¸°ì—…ì— ì˜í•´ ì„¤ë¦½ëœ ë‹¨ì²´ê°€ OCIì…ë‹ˆë‹¤. OCIëŠ” ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ê³¼ ì´ë¯¸ì§€ í¬ë§·ì˜ ì—…ê³„ í‘œì¤€ì„ ì •ì˜í•˜ì—¬, ë‹¤ì–‘í•œ í”Œë«í¼ê³¼ ë„êµ¬ ê°„ì˜ í˜¸í™˜ì„±ì„ ë§ˆë ¨í•˜ëŠ” ê²ƒì´ í•µì‹¬ ëª©ì ì…ë‹ˆë‹¤.\nDocker ëŠ” OCI ê·œê²©ì„ ë§ì¶”ê¸° ìœ„í•´ Low Levelë¡œ runC ë¥¼ ë§Œë“¤ê³  containerd ì—ì„œë„ runC ë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤. runC ê°€ ê¸°ì¡´ libcontainer ì™€ì˜ ì°¨ì´ì ì€ LXC ë¥¼ ì´ìš©í•˜ì§€ ì•Šê³  ë°”ë¡œ ì»¤ë„ ë ˆë²¨ì˜ ê°€ìƒí™” ê¸°ìˆ ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\nCRI-Plugin # Docker ì™€ ê°™ì€ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ì— ìƒˆ ê¸°ëŠ¥ì´ ìƒê¸°ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ë„ ê°™ì´ íŒ¨ì¹˜ë¥¼ í•´ì•¼í•©ë‹ˆë‹¤. ì´ë•Œë§ˆë‹¤ CRIë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ íŒ¨ì¹˜í•´ì•¼ í•˜ëŠ” êµ¬ì¡°ë¥¼, kubelet ì—ì„œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ìœ¼ë¡œ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆê²Œ êµ¬ì¡°ë¥¼ ë°”ê¿‰ë‹ˆë‹¤.\nì´ëŸ° êµ¬ì¡°ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ containerd ì—ì„œëŠ” CRI-Plugin ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. CRI-Plugin ì€ kubelet ê³¼ ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì‚¬ì´ì˜ í‘œì¤€ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ í˜•íƒœì˜ êµ¬í˜„ì²´ë¡œ, CRI ëª…ì„¸ë¥¼ ì‹¤ì œë¡œ êµ¬í˜„í•œ ëª¨ë“ˆì…ë‹ˆë‹¤.\ní•´ë‹¹ ê³¼ì •ì—ì„œ Docker ë¥¼ ì§€ì›í•˜ë˜ dockershim ì€ ê´€ë¦¬ê°€ ì˜ ì•ˆë˜ëŠ” ë¬¸ì œë¡œ 1.24 ë²„ì „ë¶€í„° ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. 1.24 ë²„ì „ë¶€í„°ëŠ” Mirantisê°€ Docker ë¥¼ ì¸ìˆ˜í•˜ì—¬ cri-dockerd ë¼ëŠ” ì–´ëŒ‘í„°ë¥¼ ë§Œë“¤ê³  Mirantis Container Runtimeì´ë€ ì´ë¦„ìœ¼ë¡œ Docker ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.\nReferences # https://www.inflearn.com/course/ì¿ ë²„ë„¤í‹°ìŠ¤-ì–´ë‚˜ë”-í´ë˜ìŠ¤-ì§€ìƒí¸-sprint1 https://www.redhat.com/ko/topics/containers/linux-keonteineolan https://www.redhat.com/ko/topics/containers/what-is-rkt https://kubernetes.io/ko/blog/2020/12/02/dont-panic-kubernetes-and-docker/ https://docs.redhat.com/en/documentation/openshift_container_platform/3.11/html-single/cri-o_runtime/index "},{"id":9,"href":"/blog/spark-study-7/","title":"Apache Spark - ì™¸ë¶€ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ (PostgreSQL, MySQL)","content":"Spark SQL CLI # ìŠ¤íŒŒí¬ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ì‰¬ìš´ ë°©ë²•ì€ spark-sql CLIì´ë‹¤. ìŠ¤íŒŒí¬ SQL CLIëŠ” Hive ë©”íƒ€ìŠ¤í† ì–´ì™€ ì„œë¹„ìŠ¤ì™€ í†µì‹ í•˜ëŠ” ëŒ€ì‹  Thrift JDBC ì„œë²„ì™€ í†µì‹ í•  ìˆ˜ ì—†ë‹¤.\nHive ì„¤ì¹˜ # ì§„í–‰í•˜ê¸° ì „ì— Hiveê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šì•„ì„œ ì„¤ì¹˜í•´ì•¼ í–ˆë‹¤.\nì„¤ì¹˜ ê³¼ì •ì€ [Hive] virtual box linux [ubuntu 18.04]ì— í•˜ì´ë¸Œ ì„¤ì¹˜,ë‹¤ìš´ë¡œë“œ 4.ubuntu ì— Hive(í•˜ì´ë¸Œ) ë‹¤ìš´ë¡œë“œ ê²Œì‹œê¸€ì„ ì°¸ê³ í–ˆë‹¤.\në¸Œë¼ìš°ì € ë˜ëŠ” curl, wget ë“± ëª…ë ¹ì–´ë¥¼ í†µí•´ ì••ì¶• íŒŒì¼ì„ ë‚´ë ¤ë°›ëŠ”ë‹¤. Copy bash wget https://dlcdn.apache.org/hive/hive-4.0.1/apache-hive-4.0.1-bin.tar.gz ì••ì¶• í•´ì œ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê±°ë‚˜, í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì••ì¶• í•´ì œí•œë‹¤. Copy bash tar zxvf apache-hive-4.0.1-bin.tar.gz Hive ê²½ë¡œì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ~/.zshrc ì— í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤. Copy bash export HIVE_HOME=/Users/{username}/hive-4.0.1 export PATH=$PATH:$HIVE_HOME/bin ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ê¸° ìœ„í•´ í„°ë¯¸ë„ì„ ì¬ì‹œì‘í•˜ê±°ë‚˜ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. Copy bash source ~/.zshrc $HIVE_HOME/bin/hive-config.sh íŒŒì¼ì— HDFS ê²½ë¡œë¥¼ ì¶”ê°€í•œë‹¤. Copy bash export HADOOP_HOME=/Users/{username}/hadoop-3.4.0 HDFSì— Hive ë””ë ‰í„°ë¦¬ë¥¼ ìƒì„±í•œë‹¤. Copy bash $HADOOP_HOME/sbin/start-all.sh Copy bash hdfs dfs -mkdir /tmp hdfs dfs -chmod g+w /tmp Copy bash hdfs dfs -mkdir -p /user/hive/warehouse hdfs dfs -chmod g+w /user/hive/warehouse Copy bash % hdfs dfs -ls / drwxrwxr-x - user supergroup 0 2025-07-12 10:08 /tmp drwxr-xr-x - user supergroup 0 2025-07-12 10:08 /user $HIVE_HOME/conf/hive-site.xml íŒŒì¼ì— ì•„ë˜ ì†ì„±ì„ ë§¨ ìœ—ë¶€ë¶„ì— ì¶”ê°€í•œë‹¤. íŒŒì¼ì´ ì—†ì„ ê²½ìš° ë™ì¼í•œ ê²½ë¡œì˜ hive-default.xml.template íŒŒì¼ì„ hive-site.xml ì´ë¦„ì˜ íŒŒì¼ë¡œ ë³µì‚¬í•œë‹¤. Copy xml \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;system:java.io.tmpdir\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;/tmp/hive/java\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;system:user.name\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;${user.name}\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; Derby DBë¥¼ ì‹œì‘í•œë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²½ìš° ì°¸ê³ í•œ ê²Œì‹œê¸€ì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤. Copy bash $HIVE_HOME/bin/schematool -initSchema -dbType derby Copy bash Initializing the schema to: 4.0.0 Metastore connection URL:\tjdbc:derby:;databaseName=metastore_db;create=true Metastore connection Driver :\torg.apache.derby.jdbc.EmbeddedDriver Metastore connection User:\tAPP Starting metastore schema initialization to 4.0.0 Initialization script hive-schema-4.0.0.derby.sql ... Initialization script completed Hive CLIë¥¼ ì‹œì‘í•´ë³¸ë‹¤. Copy bash $HIVE_HOME/bin/hive Copy bash Beeline version 4.0.1 by Apache Hive beeline\u0026gt; Hive ë©”íƒ€ìŠ¤í† ì–´ ì„œë²„ë¥¼ ì‹¤í–‰í•œë‹¤. Copy bash hive --service metastore \u0026amp; hive-site.xml í¸ì§‘í•˜ê¸° # Hive Tables ê³µì‹ë¬¸ì„œì— ë”°ë¥´ë©´, Spark SQLë¡œ Hiveì— ì €ì¥ëœ ë°ì´í„°ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ë©´ hive-site.xml, core-site.xml, hdfs-site.xml íŒŒì¼ë“¤ì„ $SPARK_HOME/conf/ ê²½ë¡œì— ë°°ì¹˜í•´ì•¼ í•œë‹¤.\nê·¸ëŸ°ë° ìœ„ íŒŒì¼ë“¤ì„ ë³µì‚¬í•œ í›„ spark-sql ì„ ì‹¤í–‰í•˜ë‹ˆê¹Œ WARN HiveConf ë©”ì‹œì§€ê°€ 460ì¤„ì´ë‚˜ ë°œìƒí–ˆë‹¤.\nCopy bash 25/07/12 11:00:36 WARN HiveConf: HiveConf of name hive.repl.dump.metadata.only.for.external.table does not exist 25/07/12 11:00:36 WARN HiveConf: HiveConf of name hive.druid.rollup does not exist 25/07/12 11:00:36 WARN HiveConf: HiveConf of name hive.repl.retain.prev.dump.dir does not exist ... ë‹¨ìˆœíˆ Hive ê²½ë¡œì—ì„œ $SPARK_HOME/conf/ ê²½ë¡œë¡œ hive-site.xml íŒŒì¼ì„ ë³µì‚¬í–ˆëŠ”ë°, Sparkê°€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì†ì„±ë“¤ì´ ë“¤ì–´ìˆì–´ì„œ ì´ëŸ¬í•œ ë©”ì‹œì§€ê°€ ë°œìƒí–ˆë‹¤.\nì‹¤ì œ ë™ì‘ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•Šì§€ë§Œ spark-sql ì„ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì´ëŸ° ë©”ì‹œì§€ë¥¼ ë³¼ ìˆ˜ëŠ” ì—†ì–´ì„œ hive-site.xml íŒŒì¼ì—ì„œ ë¬¸ì œë˜ëŠ” ì†ì„±ë“¤ì„ ì „ë¶€ ì‚­ì œí–ˆë‹¤.\nì†ì„±ì„ í•˜ë‚˜ì”© ì‚­ì œí•˜ê¸°ì—ëŠ” ë„ˆë¬´ ë§ì•„ì„œ íŒŒì´ì¬ ì½”ë“œë¥¼ ì‚¬ìš©í•´ hive-site.xml íŒŒì¼ì„ ìˆ˜ì •í–ˆë‹¤. properties ë³€ìˆ˜ì— ë¬¸ì œë˜ëŠ” ì†ì„±ì˜ ì´ë¦„ì— ëŒ€í•œ ë¬¸ìì—´ ë¦¬ìŠ¤íŠ¸ë¥¼ í• ë‹¹í•˜ê³  ì½”ë“œë¥¼ ì‹¤í–‰í•œë‹¤.\nCopy python import xml.etree.ElementTree as ET import os SPARK_HOME = os.environ.get(\u0026#34;SPARK_HOME\u0026#34;) properties = [] # ì œê±°í•˜ê³  ì‹¶ì€ ì†ì„± ì´ë¦„ ë¦¬ìŠ¤íŠ¸ tree = ET.parse(f\u0026#34;{SPARK_HOME}/conf/hive-site.xml\u0026#34;) root = tree.getroot() targets = [] # ì‚­ì œ ëŒ€ìƒ property ìˆ˜ì§‘ for prop in root.findall(\u0026#34;property\u0026#34;): name = prop.find(\u0026#34;name\u0026#34;) if (name is not None) and (name.text in properties): targets.append(prop) for prop in targets: root.remove(prop) # ì†ì„± ì‚­ì œ tree.write(f\u0026#34;{SPARK_HOME}/conf/hive-site.cleaned.xml\u0026#34;, encoding=\u0026#34;utf-8\u0026#34;, xml_declaration=True) ìƒì„±ëœ hive-site.cleaned.xml ë‚´ìš©ì„ í™•ì¸í•˜ê³  hive-site.xml ë¡œ ë°”ê¿”ì¤€ë‹¤.\nspark-sql # $SPARK_HOME/bin/spark-sql ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•´ ìŠ¤íŒŒí¬ SQL CLIë¥¼ ì‹œì‘í•œë‹¤.\nCopy bash $SPARK_HOME/bin/spark-sql ì…¸ì„ ì‹œì‘í•˜ë©´ ìŠ¤íŒŒí¬ SQL ì¿¼ë¦¬ë¥¼ ëŒ€í™” í˜•ì‹ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. --help ì˜µì…˜ì„ í†µí•´ ì•„ë˜ì™€ ê°™ì€ CLI ì˜µì…˜ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nCopy text CLI options: -d,--define \u0026lt;key=value\u0026gt; Hive ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜(key)ì™€ ê°’(value)ì„ ì§€ì • --database \u0026lt;databasename\u0026gt; ì‚¬ìš©í•  ë°ì´í„°ë² ì´ìŠ¤ ì§€ì • -e \u0026lt;quoted-query-string\u0026gt; ëª…ë ¹ì–´ ì…ë ¥ì°½ì—ì„œ ì§ì ‘ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ ì‚¬ìš© -f \u0026lt;filename\u0026gt; SQL ì¿¼ë¦¬ê°€ ì‘ì„±ëœ íŒŒì¼ì„ ì‹¤í–‰í•  ë•Œ ì‚¬ìš© -H,--help ë„ì›€ë§ ì œê³µ --hiveconf \u0026lt;property=value\u0026gt; Hive ì„¤ì •ê°’ì„ ì§€ì •í•  ë•Œ ì‚¬ìš© --hivevar \u0026lt;key=value\u0026gt; Hive ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©í•  ë³€ìˆ˜(key)ì™€ ê°’(value)ì„ ì§€ì • -i \u0026lt;filename\u0026gt; CLI ì‹¤í–‰ ì‹œ ë¨¼ì € ì‹¤í–‰ë  ì¿¼ë¦¬ íŒŒì¼ ì œê³µ -S,--silent ëŒ€í™”í˜• ì…¸ì—ì„œ ê²°ê³¼ë§Œ ì¶œë ¥í•˜ê³  ê¸°íƒ€ ì •ë³´ëŠ” ë¬´ì‹œ -v,--verbose SQL ì¿¼ë¦¬ë¬¸ì„ ì½˜ì†”ì— ì¶œë ¥ ìŠ¤íŒŒí¬ SQL í…Œì´ë¸”ì„ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤.\nCopy bash spark-sql (default)\u0026gt; CREATE TABLE people (name STRING, age INT); Time taken: 0.685 seconds í…Œì´ë¸”ì´ ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.\nCopy bash spark-sql (default)\u0026gt; SHOW TABLES; people Time taken: 0.239 seconds, Fetched 1 row(s) í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì‚½ì…í•œë‹¤.\nCopy bash spark-sql (default)\u0026gt; INSERT INTO people VALUES (\u0026#34;Michael\u0026#34;, NULL); Time taken: 1.728 seconds spark-sql (default)\u0026gt; INSERT INTO people VALUES (\u0026#34;Andy\u0026#34;, 30); Time taken: 0.601 seconds spark-sql (default)\u0026gt; INSERT INTO people VALUES (\u0026#34;Samantha\u0026#34;, 19); Time taken: 0.149 seconds í…Œì´ë¸”ì—ì„œ 20ì„¸ ë¯¸ë§Œì˜ ì‚¬ëŒë“¤ì´ ëª‡ ëª…ì¸ì§€ í™•ì¸í•´ë³¸ë‹¤.\nCopy bash spark-sql (default)\u0026gt; SELECT * FROM people WHERE age \u0026lt; 20; Samantha\t19 Time taken: 0.285 seconds, Fetched 1 row(s) ë¹„ë¼ì¸ ì‘ì—… # ë¹„ë¼ì¸ì€ SQLLine CLIë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” JDBC í´ë¼ì´ì–¸íŠ¸ë‹¤. ë™ì¼í•œ ìœ í‹¸ë¦¬í‹°ë¥¼ ì‚¬ìš©í•´ ìŠ¤íŒŒí¬ ì“°ë¦¬í”„íŠ¸ ì„œë²„ì— ëŒ€í•´ ìŠ¤íŒŒí¬ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nìŠ¤íŒŒí¬ ì“°ë¦¬í”„íŠ¸ JDBC/ODBC ì„œë²„ë¥¼ ì‹œì‘í•˜ë ¤ë©´ $SPARK_HOME/sbin/start-thriftserver.sh ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤.\nCopy bash $SPARK_HOME/sbin/start-thriftserver.sh ë¹„ë¼ì¸ì„ ì‚¬ìš©í•˜ì—¬ ì“°ë¦¬í”„íŠ¸ JDBC/ODBC ì„œë²„ë¥¼ í…ŒìŠ¤íŠ¸í•œë‹¤.\nCopy bash $SPARK_HOME/bin/beeline ë¹„ë¼ì¸ì„ êµ¬ì„±í•˜ì—¬ ë¡œì»¬ ì“°ë¦¬í”„íŠ¸ ì„œë²„ì— ì—°ê²°í•œë‹¤. ì‚¬ìš©ì ì´ë¦„ì€ ë¡œê·¸ì¸ ê³„ì •ì„ ì…ë ¥í•˜ê³  ë¹„ë°€ë²ˆí˜¸ëŠ” ë¹„ì–´ ìˆë‹¤.\nCopy bash beeline\u0026gt; !connect jdbc:hive2://localhost:10000 Connecting to jdbc:hive2://localhost:10000 Enter username for jdbc:hive2://localhost:10000: user Enter password for jdbc:hive2://localhost:10000: Connected to: Spark SQL (version 4.0.0) Driver: Hive JDBC (version 2.3.10) Transaction isolation: TRANSACTION_REPEATABLE_READ 0: jdbc:hive2://localhost:10000\u0026gt; ë¹„ë¼ì¸ì—ì„œ ìŠ¤íŒŒí¬ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nCopy bash 0: jdbc:hive2://localhost:10000\u0026gt; SHOW TABLES; +------------+------------+--------------+ | namespace | tableName | isTemporary | +------------+------------+--------------+ | default | people | false | +------------+------------+--------------+ 1 row selected (0.297 seconds) Copy bash 0: jdbc:hive2://localhost:10000\u0026gt; SELECT * FROM people; +-----------+-------+ | name | age | +-----------+-------+ | Samantha | 19 | | Andy | 30 | | Michael | NULL | +-----------+-------+ 3 rows selected (1.44 seconds) ì“°ë¦¬í”„íŠ¸ ì„œë²„ë¥¼ ì¤‘ì§€í•  ë•ŒëŠ” stop-thriftserver.sh ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤.\nCopy bash $SPARK_HOME/sbin/stop-thriftserver.sh ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ # JDBC # ìŠ¤íŒŒí¬ SQLì—ëŠ” JDBCë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” ë°ì´í„° ì†ŒìŠ¤ APIê°€ í¬í•¨ë˜ì–´ ìˆë‹¤. ìŠ¤íŒŒí¬ SQLì˜ ì´ì ì„ í™œìš©í•˜ì—¬ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ DataFrameìœ¼ë¡œ ë°˜í™˜ë°›ì„ ìˆ˜ ìˆë‹¤.\nJDBC ë°ì´í„° ì†ŒìŠ¤ì— ì—°ê²°í•˜ë ¤ë©´ JDBC ë“œë¼ì´ë²„ë¥¼ ì§€ì •í•´ì•¼ í•œë‹¤. spark-shell ì„ ì‹¤í–‰í•  ë•Œ í´ë˜ìŠ¤ ê²½ë¡œë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. í´ë˜ìŠ¤ ê²½ë¡œì— íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ìš© JDBC ë“œë¼ì´ë²„ë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤.\nCopy bash $SPARK_HOME/bin/spark-shell --driver-class-path $database.jar --jars $database.jar ë°ì´í„° ì†ŒìŠ¤ ì˜µì…˜ # ì‚¬ìš©ìëŠ” ë°ì´í„° ì†ŒìŠ¤ ì˜µì…˜ì—ì„œ JDBC ì—°ê²° ì†ì„±ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì¼ë°˜ì ì¸ ì—°ê²° ì†ì„±ì„ ì œê³µí•œë‹¤.\nuser, password : ë°ì´í„° ì†ŒìŠ¤ì— ë¡œê·¸ì¸í•˜ê¸° ìœ„í•œ ê³„ì • ì •ë³´ url : JDBC ì—°ê²° URL, jdbc:subprotocol:subname ì™€ ê°™ì€ í˜•ì‹ dbtable : ì½ê±°ë‚˜ ì“¸ JDBC í…Œì´ë¸”, query ì˜µì…˜ê³¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ë‹¤. query : ìŠ¤íŒŒí¬ë¡œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬, dbtable ì˜µì…˜ê³¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ë‹¤. driver : ì§€ì •í•œ URLì— ì—°ê²°í•˜ëŠ” ë° ì‚¬ìš©í•  JDBC ë“œë¼ì´ë²„ì˜ í´ë˜ìŠ¤ ì´ë¦„ ìŠ¤íŒŒí¬ SQLê³¼ JDBC ì™¸ë¶€ ì†ŒìŠ¤ ê°„ì— ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ì „ì†¡í•  ë•Œ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ë¶„í• í•  í•„ìš”ê°€ ìˆë‹¤. ëŒ€ê·œëª¨ ì‘ì—…ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì†ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nnumPartitions : í…Œì´ë¸” ì½ê¸° ë° ì“°ê¸°ì—ì„œ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìµœëŒ€ íŒŒí‹°ì…˜ ìˆ˜, ë˜ëŠ” ìµœëŒ€ ë™ì‹œ JDBC ì—°ê²° ìˆ˜ partitionColumn : ì™¸ë¶€ ì†ŒìŠ¤ë¥¼ ì½ì„ ë•Œ íŒŒí‹°ì…˜ì„ ê²°ì •í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì¹¼ëŸ¼ (ìˆ«ì, ë‚ ì§œ, ë˜ëŠ” íƒ€ì„ìŠ¤íƒ¬í”„) lowerBound : íŒŒí‹°ì…˜ í¬ê¸°ì— ëŒ€í•œ íŒŒí‹°ì…˜ ì—´ì˜ ìµœì†Ÿê°’ upperBound : íŒŒí‹°ì…˜ í¬ê¸°ì— ëŒ€í•œ íŒŒí‹°ì…˜ ì—´ì˜ ìµœëŒ“ê°’ numPartitions ëŠ” ìŠ¤íŒŒí¬ ì›Œì»¤ ìˆ˜ì˜ ë°°ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì§€ë§Œ, ì†ŒìŠ¤ ì‹œìŠ¤í…œì´ ì½ì´ ìš”ì²­ì„ ì–¼ë§ˆë‚˜ ì˜ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤.\npartitionColumn ì€ ë°ì´í„° ìŠ¤íë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ê· ì¼í•˜ê²Œ ë¶„ì‚°ë  ìˆ˜ ìˆëŠ” ì—´ì„ ì„ íƒí•´ì•¼ í•œë‹¤.\nì˜ˆë¥¼ ë“¤ì–´, {numPartitions : 10, lowerBound : 1000, upperBound : 10000} ì„ ì„ íƒí–ˆì§€ë§Œ ëŒ€ë¶€ë¶„ì´ 2000ì—ì„œ 3000 ì‚¬ì´ì˜ ê°’ì„ ìš”ì²­í•˜ëŠ” ê²½ìš° ë‹¤ë¥¸ partitionColumn ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ìƒˆ í•­ëª©ì„ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\nPostgreSQL # PostgreSQL ì‹¤í–‰ # PostgreSQLì€ ë”°ë¡œ ì„¤ì¹˜í•˜ì§€ ì•Šê³  Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í–ˆë‹¤.\nCopy bash % docker run --name postgres13 -d -p 5432:5432 postgres:13 % docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 6d3a827005a6 postgres:13 \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 1 seconds ago Up 2 seconds 0.0.0.0:5432-\u0026gt;5432/tcp, [::]:5432-\u0026gt;5432/tcp postgres13 postgres13 ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ë©´ì„œ PostgreSQL í”„ë¡¬í”„íŠ¸ì— ì§„ì…í•œë‹¤.\nCopy bash % docker exec -it postgres13 psql -U postgres psql (13.21 (Debian 13.21-1.pgdg120+1)) Type \u0026#34;help\u0026#34; for help. postgres=# SparkSessionì—ì„œ ì ‘ì†í•´ë³´ê¸° ìœ„í•´ ì„ì‹œë¡œ ì‚¬ìš©ì, ìŠ¤í‚¤ë§ˆ, í…Œì´ë¸”ì„ ìƒì„±í–ˆë‹¤.\nCopy sql CREATE USER spark WITH PASSWORD \u0026#39;spark\u0026#39;; CREATE SCHEMA spark_schema AUTHORIZATION spark; CREATE TABLE spark_schema.users ( id SERIAL PRIMARY KEY, name VARCHAR(100) NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); GRANT ALL PRIVILEGES ON SCHEMA spark_schema TO spark; GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA spark_schema TO spark; 3ê°œ í–‰ë§Œ ì¶”ê°€í•´ë³´ê³  ë‚´ìš©ì„ í™•ì¸í•´ë´¤ë‹¤.\nCopy sql INSERT INTO spark_schema.users (name) VALUES (\u0026#39;ê¹€ë¯¼ìˆ˜\u0026#39;); INSERT INTO spark_schema.users (name) VALUES (\u0026#39;ì´ë¯¼ìˆ˜\u0026#39;); INSERT INTO spark_schema.users (name) VALUES (\u0026#39;ë°•ë¯¼ìˆ˜\u0026#39;); Copy sql postgres=# SELECT * FROM spark_schema.users; id | name | created_at ----+--------+---------------------------- 1 | ê¹€ë¯¼ìˆ˜ | 2025-07-12 11:29:42.40485 2 | ì´ë¯¼ìˆ˜ | 2025-07-12 11:29:47.036362 3 | ë°•ë¯¼ìˆ˜ | 2025-07-12 11:29:50.087099 (3 rows) PostgreSQL ë“œë¼ì´ë²„ ë‹¤ìš´ë¡œë“œ # PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ë ¤ë©´ JDBC ë“œë¼ì´ë²„ íŒŒì¼ì„ í´ë˜ìŠ¤ ê²½ë¡œì— ì¶”ê°€í•œë‹¤.\nì´ë¯¸ì§€ ë§í¬ë¡œ ì—°ê²°ëœ ìœ„ ì›¹ì‚¬ì´íŠ¸ì—ì„œ Java ë²„ì „ì— ë§ëŠ” íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆëŠ”ë° Java 8 ì´ìƒì¸ ê²½ìš° ì•„ë˜ URLì„ í†µí•´ ì§ì ‘ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ë„ ìˆë‹¤.\nCopy bash wget https://jdbc.postgresql.org/download/postgresql-42.7.7.jar PostgreSQL ë°ì´í„° ì½ê¸° # SparkSessionì„ ìƒì„±í•  ë•Œ ì•ë‹¨ê³„ì—ì„œ ë‚´ë ¤ë°›ì€ JDBC ë“œë¼ì´ë²„ íŒŒì¼ì˜ ê²½ë¡œë¥¼ spark.driver.extraClassPath ì„¤ì •ê°’ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.\nCopy python from pyspark.sql import SparkSession import os SPARK_HOME = os.environ.get(\u0026#34;SPARK_HOME\u0026#34;) spark = (SparkSession .builder .config(\u0026#34;spark.driver.extraClassPath\u0026#34;, f\u0026#34;{SPARK_HOME}/jars/postgresql-42.7.7.jar\u0026#34;) \\ .appName(\u0026#34;PostgresExample\u0026#34;) .getOrCreate()) postgres ë°ì´í„°ë² ì´ìŠ¤ì˜ spark_schema.users í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ë°ì´í„°ë¥¼ ì¶œë ¥í•´ë³´ë©´ ì•ì—ì„œ ì¶”ê°€í•œ 3ê°œ í–‰ì´ ë°˜í™˜ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\nCopy python df = spark.read.format(\u0026#34;jdbc\u0026#34;) \\ .option(\u0026#34;url\u0026#34;, \u0026#34;jdbc:postgresql://localhost:5432/postgres\u0026#34;) \\ .option(\u0026#34;dbtable\u0026#34;, \u0026#34;spark_schema.users\u0026#34;) \\ .option(\u0026#34;user\u0026#34;, \u0026#34;spark\u0026#34;) \\ .option(\u0026#34;password\u0026#34;, \u0026#34;spark\u0026#34;) \\ .load() df.show() Copy sql +---+------+--------------------+ | id| name| created_at| +---+------+--------------------+ | 1|ê¹€ë¯¼ìˆ˜|2025-07-12 11:29:...| | 2|ì´ë¯¼ìˆ˜|2025-07-12 11:29:...| | 3|ë°•ë¯¼ìˆ˜|2025-07-12 11:29:...| +---+------+--------------------+ PostgreSQL ë°ì´í„° ì“°ê¸° # ë°˜ëŒ€ë¡œ DataFrameì„ PostgreSQLì— ìƒˆë¡œìš´ í…Œì´ë¸”ë¡œ ì €ì¥í•  ìˆ˜ë„ ìˆë‹¤.\nCopy python df.write.format(\u0026#34;jdbc\u0026#34;) \\ .option(\u0026#34;url\u0026#34;, \u0026#34;jdbc:postgresql://localhost:5432/postgres\u0026#34;) \\ .option(\u0026#34;dbtable\u0026#34;, \u0026#34;spark_schema.new_users\u0026#34;) \\ .option(\u0026#34;user\u0026#34;, \u0026#34;spark\u0026#34;) \\ .option(\u0026#34;password\u0026#34;, \u0026#34;spark\u0026#34;) \\ .save() PostgreSQLì—ì„œ ìƒˆë¡œìš´ í…Œì´ë¸”ì„ ì¡°íšŒí–ˆì„ ë•Œ ë™ì¼í•œ ë°ì´í„°ê°€ ì €ì¥ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\nCopy sql postgres=# SELECT * FROM spark_schema.new_users; id | name | created_at ----+--------+------------------------------- 1 | ê¹€ë¯¼ìˆ˜ | 2025-07-12 02:29:42.40485+00 2 | ì´ë¯¼ìˆ˜ | 2025-07-12 02:29:47.036362+00 3 | ë°•ë¯¼ìˆ˜ | 2025-07-12 02:29:50.087099+00 (3 rows) ë˜í•œ, ê¸°ì¡´ í…Œì´ë¸”ì— ìƒˆë¡œìš´ í–‰ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤.\nCopy python df.select(\u0026#34;name\u0026#34;).write.format(\u0026#34;jdbc\u0026#34;) \\ .option(\u0026#34;url\u0026#34;, \u0026#34;jdbc:postgresql://localhost:5432/postgres\u0026#34;) \\ .option(\u0026#34;dbtable\u0026#34;, \u0026#34;spark_schema.users\u0026#34;) \\ .option(\u0026#34;user\u0026#34;, \u0026#34;spark\u0026#34;) \\ .option(\u0026#34;password\u0026#34;, \u0026#34;spark\u0026#34;) \\ .mode(\u0026#34;append\u0026#34;) \\ .save() spark_schema.users í…Œì´ë¸”ì˜ id ì—´ì´ SERIAL íƒ€ì…ì¸ë°, ì‹œí€€ìŠ¤ì— ëŒ€í•œ ê¶Œí•œì´ ì—†ì–´ì„œ ìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤. ê·¸ë˜ì„œ PostgreSQLì—ì„œ spark ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ë¶€ì—¬í–ˆë‹¤.\nCopy sql GRANT USAGE, SELECT ON SEQUENCE spark_schema.users_id_seq TO spark; ìŠ¤íŒŒí¬ì˜ DataFrameWriterë¥¼ í†µí•´ spark_schema.users í…Œì´ë¸”ì— ìƒˆë¡œìš´ í–‰ì„ ì¶”ê°€í•˜ê³  ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ ì•„ë˜ì™€ ê°™ì´ 3ê°œì˜ í–‰ì´ ë” ì¶”ê°€ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\nCopy sql postgres=# SELECT * FROM spark_schema.users; id | name | created_at ----+--------+---------------------------- 1 | ê¹€ë¯¼ìˆ˜ | 2025-07-12 11:29:42.40485 2 | ì´ë¯¼ìˆ˜ | 2025-07-12 11:29:47.036362 3 | ë°•ë¯¼ìˆ˜ | 2025-07-12 11:29:50.087099 4 | ê¹€ë¯¼ìˆ˜ | 2025-07-12 20:42:51.519473 5 | ì´ë¯¼ìˆ˜ | 2025-07-12 20:42:51.519473 6 | ë°•ë¯¼ìˆ˜ | 2025-07-12 20:42:51.519473 (6 rows) ë¹„ìŠ·í•œ ì‹œê°„ì— ë°ì´í„°ë¥¼ ì¶”ê°€í–ˆëŠ”ë° ì»¨í…Œì´ë„ˆëŠ” UTC ì‹œê°„ëŒ€ê³  SparkSessionì€ KST ì‹œê°„ëŒ€ì— ìˆì–´ì„œ created_at ì´ 9ì‹œê°„ ì°¨ì´ê°€ ë‚˜ëŠ” ê²ƒ ê°™ë‹¤.\nMySQL # MySQL ì‹¤í–‰ # ë§ˆì°¬ê°€ì§€ë¡œ MySQL ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•œë‹¤.\nCopy bash % docker run --name mysql8 -e MYSQL_ROOT_PASSWORD=root -d -p 3306:3306 mysql:8 % docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 48d3c4f28fd6 mysql:8 \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 11 seconds ago Up 10 seconds 0.0.0.0:3306-\u0026gt;3306/tcp, [::]:3306-\u0026gt;3306/tcp mysql8 6d3a827005a6 postgres:13 \u0026#34;docker-entrypoint.sâ€¦\u0026#34; About an hour ago Up About an hour 0.0.0.0:5432-\u0026gt;5432/tcp, [::]:5432-\u0026gt;5432/tcp postgres13 mysql8 ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ë©´ì„œ MySQL í”„ë¡¬í”„íŠ¸ì— ì§„ì…í•œë‹¤.\nCopy bash % docker exec -it mysql8 mysql -u root -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 9 Server version: 8.4.5 MySQL Community Server - GPL ... mysql\u0026gt; SparkSessionì—ì„œ ì ‘ì†í•´ë³´ê¸° ìœ„í•´ ì„ì‹œë¡œ ì‚¬ìš©ì, ìŠ¤í‚¤ë§ˆ, í…Œì´ë¸”ì„ ìƒì„±í–ˆë‹¤.\nCopy sql CREATE USER \u0026#39;spark\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;spark\u0026#39;; CREATE DATABASE spark_db; USE spark_db; CREATE TABLE users ( id INT AUTO_INCREMENT PRIMARY KEY, name VARCHAR(100) NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); GRANT ALL PRIVILEGES ON spark_db.* TO \u0026#39;spark\u0026#39;@\u0026#39;%\u0026#39;; FLUSH PRIVILEGES; 3ê°œ í–‰ë§Œ ì¶”ê°€í•´ë³´ê³  ë‚´ìš©ì„ í™•ì¸í•´ë´¤ë‹¤.\nCopy sql INSERT INTO users (name) VALUES (\u0026#39;kim\u0026#39;); INSERT INTO users (name) VALUES (\u0026#39;lee\u0026#39;); INSERT INTO users (name) VALUES (\u0026#39;park\u0026#39;); Copy sql mysql\u0026gt; SELECT * FROM users; +----+------+---------------------+ | id | name | created_at | +----+------+---------------------+ | 1 | kim | 2025-07-12 12:08:41 | | 2 | lee | 2025-07-12 12:08:45 | | 3 | park | 2025-07-12 12:08:48 | +----+------+---------------------+ 3 rows in set (0.01 sec) MySQL ë“œë¼ì´ë²„ ë‹¤ìš´ë¡œë“œ # MySQL ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ë ¤ë©´ JDBC ë“œë¼ì´ë²„ íŒŒì¼ì„ í´ë˜ìŠ¤ ê²½ë¡œì— ì¶”ê°€í•œë‹¤.\nì´ë¯¸ì§€ ë§í¬ë¡œ ì—°ê²°ëœ ìœ„ ì›¹ì‚¬ì´íŠ¸ ë˜ëŠ” ì•„ë˜ì™€ ê°™ì€ curl, wget ëª…ë ¹ì–´ ë“±ìœ¼ë¡œ ë²„ì „ì— ë§ëŠ” ì••ì¶• íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆë‹¤.\nCopy bash wget https://downloads.mysql.com/archives/get/p/3/file/mysql-connector-j-8.4.0.tar.gz ì••ì¶• íŒŒì¼ì„ í•´ì œí•˜ë©´ JDBC ë“œë¼ì´ë²„ íŒŒì¼ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nCopy bash % tar zxvf mysql-connector-j-8.4.0.tar.gz % ls -la mysql-connector-j-8.4.0 total 5888 drwxr-xr-x@ 10 user staff 320 Mar 13 2024 . drwx------@ 49 user staff 1568 Jul 12 21:12 .. -rw-r--r--@ 1 user staff 282811 Mar 13 2024 CHANGES -rw-r--r--@ 1 user staff 188 Mar 13 2024 INFO_BIN -rw-r--r--@ 1 user staff 134 Mar 13 2024 INFO_SRC -rw-r--r--@ 1 user staff 82896 Mar 13 2024 LICENSE -rw-r--r--@ 1 user staff 1624 Mar 13 2024 README -rw-r--r--@ 1 user staff 91633 Mar 13 2024 build.xml -rw-r--r--@ 1 user staff 2533399 Mar 13 2024 mysql-connector-j-8.4.0.jar drwxr-xr-x@ 8 user staff 256 Mar 13 2024 src MySQL ë°ì´í„° ì½ê¸° # SparkSessionì„ ìƒì„±í•  ë•Œ MySQL JDBC ë“œë¼ì´ë²„ íŒŒì¼ì˜ ê²½ë¡œë¥¼ spark.driver.extraClassPath ì„¤ì •ê°’ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.\nCopy python from pyspark.sql import SparkSession import os SPARK_HOME = os.environ.get(\u0026#34;SPARK_HOME\u0026#34;) spark = (SparkSession .builder .config(\u0026#34;spark.driver.extraClassPath\u0026#34;, f\u0026#34;{SPARK_HOME}/jars/mysql-connector-j-8.4.0.jar\u0026#34;) \\ .appName(\u0026#34;MySQLExample\u0026#34;) .getOrCreate()) spark_db ë°ì´í„°ë² ì´ìŠ¤ì˜ users í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ë°ì´í„°ë¥¼ ì¶œë ¥í•´ë³´ë©´ ì•ì—ì„œ ì¶”ê°€í•œ 3ê°œ í–‰ì´ ë°˜í™˜ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\nCopy python df = spark.read.format(\u0026#34;jdbc\u0026#34;) \\ .option(\u0026#34;url\u0026#34;, \u0026#34;jdbc:mysql://localhost:3306/spark_db\u0026#34;) \\ .option(\u0026#34;dbtable\u0026#34;, \u0026#34;users\u0026#34;) \\ .option(\u0026#34;user\u0026#34;, \u0026#34;spark\u0026#34;) \\ .option(\u0026#34;password\u0026#34;, \u0026#34;spark\u0026#34;) \\ .load() df.show() Copy sql +---+----+-------------------+ | id|name| created_at| +---+----+-------------------+ | 1| kim|2025-07-12 12:08:41| | 2| lee|2025-07-12 12:08:45| | 3|park|2025-07-12 12:08:48| +---+----+-------------------+ MySQL ë°ì´í„° ì“°ê¸° # ë°˜ëŒ€ë¡œ DataFrameì„ MySQLì— ìƒˆë¡œìš´ í…Œì´ë¸”ë¡œ ì €ì¥í•  ìˆ˜ë„ ìˆë‹¤.\nCopy python df.write.format(\u0026#34;jdbc\u0026#34;) \\ .option(\u0026#34;url\u0026#34;, \u0026#34;jdbc:mysql://localhost:3306/spark_db\u0026#34;) \\ .option(\u0026#34;dbtable\u0026#34;, \u0026#34;new_users\u0026#34;) \\ .option(\u0026#34;user\u0026#34;, \u0026#34;spark\u0026#34;) \\ .option(\u0026#34;password\u0026#34;, \u0026#34;spark\u0026#34;) \\ .save() MySQLì—ì„œ ìƒˆë¡œìš´ í…Œì´ë¸”ì„ ì¡°íšŒí–ˆì„ ë•Œ ë™ì¼í•œ ë°ì´í„°ê°€ ì €ì¥ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\nCopy sql mysql\u0026gt; SELECT * FROM new_users; +------+------+---------------------+ | id | name | created_at | +------+------+---------------------+ | 1 | kim | 2025-07-12 12:08:41 | | 2 | lee | 2025-07-12 12:08:45 | | 3 | park | 2025-07-12 12:08:48 | +------+------+---------------------+ 3 rows in set (0.00 sec) ë˜í•œ, ê¸°ì¡´ í…Œì´ë¸”ì— ìƒˆë¡œìš´ í–‰ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤.\nCopy python df.select(\u0026#34;name\u0026#34;).write.format(\u0026#34;jdbc\u0026#34;) \\ .option(\u0026#34;url\u0026#34;, \u0026#34;jdbc:mysql://localhost:3306/spark_db\u0026#34;) \\ .option(\u0026#34;dbtable\u0026#34;, \u0026#34;users\u0026#34;) \\ .option(\u0026#34;user\u0026#34;, \u0026#34;spark\u0026#34;) \\ .option(\u0026#34;password\u0026#34;, \u0026#34;spark\u0026#34;) \\ .mode(\u0026#34;append\u0026#34;) \\ .save() ìŠ¤íŒŒí¬ì˜ DataFrameWriterë¥¼ í†µí•´ users í…Œì´ë¸”ì— ìƒˆë¡œìš´ í–‰ì„ ì¶”ê°€í•˜ê³  ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ ì•„ë˜ì™€ ê°™ì´ 3ê°œì˜ í–‰ì´ ë” ì¶”ê°€ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.\nCopy sql mysql\u0026gt; SELECT * FROM users; +----+------+---------------------+ | id | name | created_at | +----+------+---------------------+ | 1 | kim | 2025-07-12 12:08:41 | | 2 | lee | 2025-07-12 12:08:45 | | 3 | park | 2025-07-12 12:08:48 | | 4 | kim | 2025-07-12 12:24:29 | | 5 | lee | 2025-07-12 12:24:29 | | 6 | park | 2025-07-12 12:24:29 | +----+------+---------------------+ 6 rows in set (0.00 sec) References # https://spark.apache.org/docs/latest/sql-distributed-sql-engine-spark-sql-cli.html https://spark.apache.org/docs/latest/sql-data-sources-hive-tables.html https://spidyweb.tistory.com/215 https://dlcdn.apache.org/hive/hive-4.0.1/ https://kevin717.tistory.com/50 https://spark.apache.org/docs/latest/sql-data-sources-jdbc.html https://jdbc.postgresql.org/download/ https://downloads.mysql.com/archives/c-j/ "},{"id":10,"href":"/blog/spark-study-6/","title":"Apache Spark - ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ ì½ê¸°/ì“°ê¸° (Parquet, JSON, CSV, Avro)","content":"Data Source API # DataFrameReader # DataFrameReaderëŠ” ë°ì´í„° ì†ŒìŠ¤ì—ì„œ DataFrameìœ¼ë¡œ ë°ì´í„°ë¥¼ ì½ëŠ” ë°©ì‹ì´ë‹¤. ì•„ë˜ì™€ ê°™ì´ ê¶Œì¥ë˜ëŠ” ì‚¬ìš© íŒ¨í„´ì´ ìˆë‹¤.\nCopy python DataFrameReader .format(args) # ë°ì´í„° ì†ŒìŠ¤ í˜•ì‹ .option(\u0026#34;key\u0026#34;, \u0026#34;value\u0026#34;) # í‚¤/ê°’ ìŒìœ¼ë¡œ ì—°ê²°ë˜ëŠ” ì˜µì…˜ .schema(args) # DDL ë¬¸ìì—´ ë˜ëŠ” StructType .load() # ë°ì´í„° ì†ŒìŠ¤ì˜ ê²½ë¡œ ë°ì´í„° ì†ŒìŠ¤ í˜•ì‹ì—ëŠ” ì¸ìˆ˜ë¡œ \u0026quot;parquet\u0026quot;, \u0026quot;csv\u0026quot;, \u0026quot;txt\u0026quot;, \u0026quot;json\u0026quot;, \u0026quot;jdbc\u0026quot;, \u0026quot;orc\u0026quot;, \u0026quot;avro\u0026quot; ë“±ì´ ì „ë‹¬ëœë‹¤. ê¸°ë³¸ê°’ì€ \u0026quot;parquet\u0026quot; ë˜ëŠ” spark.sql.sources.default ì— ì§€ì •ëœ í•­ëª©ì´ ì„¤ì •ëœë‹¤.\nJSONì´ë‚˜ CSV í˜•ì‹ì€ option() í•¨ìˆ˜ì—ì„œ ìŠ¤í‚¤ë§ˆë¥¼ ìœ ì¶”í•˜ëŠ” inferSchema ì˜µì…˜ì„ ì ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ìŠ¤í‚¤ë§ˆë¥¼ ì œê³µí•˜ë©´ ë¡œë“œ ì†ë„ê°€ ë¹¨ë¼ì§„ë‹¤.\nSparkSession ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ì„œ DataFrameì— ì•¡ì„¸ìŠ¤í•  ê²½ìš° read() ë˜ëŠ” readStream() ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. read() ëŠ” ì •ì  ë°ì´í„° ì†ŒìŠ¤ì—ì„œ DataFrameì„ ì½ì–´ ì˜¤ë©°, readStream() ì€ ìŠ¤íŠ¸ë¦¬ë° ì†ŒìŠ¤ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.\nDataFrameWriter # DataFrameWriterëŠ” ë°ì´í„° ì†ŒìŠ¤ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ì“°ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ê¶Œì¥ë˜ëŠ” ì‚¬ìš© í˜•ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.\nCopy python DataFrameWriter .format(args) # ë°ì´í„° ì†ŒìŠ¤ í˜•ì‹ .option(args) # í‚¤/ê°’ ìŒìœ¼ë¡œ ì—°ê²°ë˜ëŠ” ì˜µì…˜ .bucketBy(args) # ë²„í‚· ê°œìˆ˜ ë° ë²„í‚· ê¸°ì¤€ ì¹¼ëŸ¼ ì´ë¦„ .partitionBy(args) # ë°ì´í„° ì†ŒìŠ¤ì˜ ê²½ë¡œ .save(path) # ì €ì¥í•  í…Œì´ë¸” DataFrameì—ì„œ ì¸ìŠ¤í„´ìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ê²½ìš° write() ë˜ëŠ” writeStream() ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nData Sources # Parquet # ìŠ¤íŒŒí¬ì˜ ê¸°ë³¸ ë°ì´í„° ì†ŒìŠ¤ì¸ ParquetëŠ” ë‹¤ì–‘í•œ I/O ìµœì í™”ë¥¼ ì œê³µí•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ì¹¼ëŸ¼ ê¸°ë°˜ íŒŒì¼ í˜•ì‹ì´ë‹¤. ì••ì¶•ì„ í†µí•´ ì €ì¥ ê³µê°„ì„ ì ˆì•½í•˜ê³  ë°ì´í„° ì¹¼ëŸ¼ì— ëŒ€í•œ ë¹ ë¥¸ ì•¡ì„¸ìŠ¤ë¥¼ í—ˆìš©í•œë‹¤.\nParquet íŒŒì¼ì€ ë°ì´í„° íŒŒì¼, ë©”íƒ€ë°ì´í„°, ì—¬ëŸ¬ ì••ì¶• íŒŒì¼ ë° ì¼ë¶€ ìƒíƒœ íŒŒì¼ì´ í¬í•¨ëœ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ê°€ ì €ì¥ëœë‹¤. ë©”íƒ€ë°ì´í„°ì—ëŠ” íŒŒì¼ í˜•ì‹ì˜ ë²„ì „, ìŠ¤í‚¤ë§ˆ, ê²½ë¡œ ë“±ì˜ ì¹¼ëŸ¼ ë°ì´í„°ê°€ í¬í•¨ëœë‹¤.\ndatabricks/LearningSparkV2ì˜ databricks-datasets/learning-spark-v2/flights/summary-data/parquet ê²½ë¡œì—ì„œ 2010-summary.parquet/ ë””ë ‰í„°ë¦¬ë¥¼ ê°€ì ¸ì˜¨ë‹¤.\nParquet íŒŒì¼ì˜ ë””ë ‰í„°ë¦¬ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŒŒì¼ ì§‘í•©ì´ í¬í•¨ëœë‹¤.\nCopy bash % ls -la data/flights/summary-data/parquet/2010-summary.parquet/ -rwxr-xr-x@ ... 0 ... _SUCCESS -rwxr-xr-x@ ... 3921 ... part-r-00000-1a9822ba-b8fb-4d8e-844a-ea30d0801b9e.gz.parquet Parquet íŒŒì¼ì„ DataFrameìœ¼ë¡œ ì½ìœ¼ë ¤ë©´ í˜•ì‹ê³¼ ê²½ë¡œë¥¼ ì§€ì •í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤. spark.sql.sources.default ì„¤ì •ì„ í•˜ì§€ ì•Šì•˜ë‹¤ë©´ .format(\u0026quot;parquet\u0026quot;) í•¨ìˆ˜ëŠ” ìƒëµí•´ë„ ëœë‹¤.\nCopy python file = \u0026#34;data/flights/summary-data/parquet/2010-summary.parquet\u0026#34; df = spark.read.format(\u0026#34;parquet\u0026#34;).load(file) df.show(5) Copy bash +-----------------+-------------------+-----+ |DEST_COUNTRY_NAME|ORIGIN_COUNTRY_NAME|count| +-----------------+-------------------+-----+ | United States| Romania| 1| | United States| Ireland| 264| | United States| India| 69| | Egypt| United States| 24| |Equatorial Guinea| United States| 1| +-----------------+-------------------+-----+ Parquet íŒŒì¼ì„ Spark SQL í…Œì´ë¸”ë¡œ ì½ìœ¼ë ¤ë©´ ì•„ë˜ì™€ ê°™ì€ ìŠ¤íŒŒí¬ SQLì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nCopy sql CREATE OR REPLACE TEMPORARY VIEW delay_flights USING parquet OPTIONS ( path \u0026#34;data/flights/summary-data/parquet/2010-summary.parquet\u0026#34;) ë©”íƒ€ë°ì´í„°ê°€ ê¶ê¸ˆí•´ì„œ parquet-tools ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ê³ , inspect ëª…ë ¹ì–´ë¡œ part-XXXX ì••ì¶• íŒŒì¼ì„ ì¡°íšŒí–ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë˜ì—ˆëŠ”ë°, 3ê°œì˜ ì¹¼ëŸ¼ DEST_COUNTRY_NAME, ORIGIN_COUNTRY_NAME, count ì— ëŒ€í•œ ë°ì´í„° íƒ€ì… ë“±ì˜ ì •ë³´ê°€ ìƒì„¸íˆ ì í˜€ ìˆë‹¤. ìŠ¤íŒŒí¬ëŠ” í•´ë‹¹ ë°ì´í„° íƒ€ì…ì„ ì½ê¸° ë•Œë¬¸ì—, ìœ„ DataFrameì— printSchema() ì¶œë ¥í•œ ê²°ê³¼ëŠ” ì•„ë˜ ì¹¼ëŸ¼ë³„ ë°ì´í„° íƒ€ì…ê³¼ ê°™ë‹¤.\nCopy bash % parquet-tools inspect data/flights/summary-data/parquet/2010-summary.parquet/part-r-00000-1a9822ba-b8fb-4d8e-844a-ea30d0801b9e.gz.parquet ############ file meta data ############ created_by: parquet-mr (build 32c46643845ea8a705c35d4ec8fc654cc8ff816d) num_columns: 3 num_rows: 255 num_row_groups: 1 format_version: 1.0 serialized_size: 658 ############ Columns ############ DEST_COUNTRY_NAME ORIGIN_COUNTRY_NAME count ############ Column(DEST_COUNTRY_NAME) ############ name: DEST_COUNTRY_NAME path: DEST_COUNTRY_NAME max_definition_level: 1 max_repetition_level: 0 physical_type: BYTE_ARRAY logical_type: String converted_type (legacy): UTF8 compression: GZIP (space_saved: 37%) ############ Column(ORIGIN_COUNTRY_NAME) ############ name: ORIGIN_COUNTRY_NAME path: ORIGIN_COUNTRY_NAME max_definition_level: 1 max_repetition_level: 0 physical_type: BYTE_ARRAY logical_type: String converted_type (legacy): UTF8 compression: GZIP (space_saved: 39%) ############ Column(count) ############ name: count path: count max_definition_level: 1 max_repetition_level: 0 physical_type: INT64 logical_type: None converted_type (legacy): NONE compression: GZIP (space_saved: 53%) DataFrameì„ DataFrameWriterë¥¼ ì‚¬ìš©í•´ Parquet íŒŒì¼ë¡œ ì €ì¥í•  ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nCopy python (df.write.format(\u0026#34;parquet\u0026#34;) .mode(\u0026#34;overwrite\u0026#34;) .option(\u0026#34;compression\u0026#34;, \u0026#34;snappy\u0026#34;) .save(\u0026#34;/tmp/data/parquet/df_parquet\u0026#34;)) ì••ì¶• ë°©ì‹ìœ¼ë¡œ snappy ë¥¼ ì‚¬ìš©í•˜ì—¬ snappy ì••ì¶• íŒŒì¼ì´ ìƒì„±ëœë‹¤. DataFrameì„ ì§ì ‘ ì €ì¥í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ íŒŒì¼ì´ ìƒì„±ëœë‹¤.\nCopy bash % ls -la /tmp/data/parquet/df_parquet/ -rw-r--r--@ ... 8 ... ._SUCCESS.crc -rw-r--r--@ ... 52 ... .part-00000-9828b287-9956-40cb-9c33-d59bea52e5be-c000.snappy.parquet.crc -rw-r--r--@ ... 0 ... _SUCCESS -rw-r--r--@ ... 5442 ... part-00000-9828b287-9956-40cb-9c33-d59bea52e5be-c000.snappy.parquet JSON # JSON ë°ì´í„° í˜•ì‹ì€ XMLì— ë¹„í•´ ì½ê¸° ì‰½ê³ , êµ¬ë¬¸ì„ ë¶„ì„í•˜ê¸° ì‰¬ìš´ í˜•ì‹ì´ë‹¤. ë‹¨ì¼ ë¼ì¸ ëª¨ë“œì™€ ë‹¤ì¤‘ ë¼ì¸ ëª¨ë“œë¥¼ ëª¨ë‘ ì§€ì›í•œë‹¤. ë‹¨ì¼ ë¼ì¸ ëª¨ë“œì—ì„œëŠ” ê° ë¼ì¸ì´ ë‹¨ì¼ JSON ê°œì²´ë¥¼ ë‚˜íƒ€ë‚´ì§€ë§Œ, ë‹¤ì¤‘ ë¼ì¸ ëª¨ë“œì—ì„œëŠ” ì „ì²´ ë¼ì¸ ê°ì²´ê°€ ë‹¨ì¼ JSON ê°œì²´ë¥¼ êµ¬ì„±í•œë‹¤. option() í•¨ìˆ˜ì—ì„œ multiLine ì˜µì…˜ì— ture ë˜ëŠ” false ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\në‹¨ì¼ ë¼ì¸ ëª¨ë“œì˜ JSON ë°ì´í„°ëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±ëœë‹¤.\nCopy bash % head -n 5 data/flights/summary-data/json/2010-summary.json {\u0026#34;ORIGIN_COUNTRY_NAME\u0026#34;:\u0026#34;Romania\u0026#34;,\u0026#34;DEST_COUNTRY_NAME\u0026#34;:\u0026#34;United States\u0026#34;,\u0026#34;count\u0026#34;:1} {\u0026#34;ORIGIN_COUNTRY_NAME\u0026#34;:\u0026#34;Ireland\u0026#34;,\u0026#34;DEST_COUNTRY_NAME\u0026#34;:\u0026#34;United States\u0026#34;,\u0026#34;count\u0026#34;:264} {\u0026#34;ORIGIN_COUNTRY_NAME\u0026#34;:\u0026#34;India\u0026#34;,\u0026#34;DEST_COUNTRY_NAME\u0026#34;:\u0026#34;United States\u0026#34;,\u0026#34;count\u0026#34;:69} {\u0026#34;ORIGIN_COUNTRY_NAME\u0026#34;:\u0026#34;United States\u0026#34;,\u0026#34;DEST_COUNTRY_NAME\u0026#34;:\u0026#34;Egypt\u0026#34;,\u0026#34;count\u0026#34;:24} {\u0026#34;ORIGIN_COUNTRY_NAME\u0026#34;:\u0026#34;United States\u0026#34;,\u0026#34;DEST_COUNTRY_NAME\u0026#34;:\u0026#34;Equatorial Guinea\u0026#34;,\u0026#34;count\u0026#34;:1} JSON íŒŒì¼ì„ DataFrameìœ¼ë¡œ ì½ìœ¼ë ¤ë©´ ì•„ë˜ì²˜ëŸ¼ .format(\u0026quot;json\u0026quot;) ì„ ì§€ì •í•œë‹¤.\nCopy python file = \u0026#34;data/flights/summary-data/json/*\u0026#34; df = spark.read.format(\u0026#34;json\u0026#34;).load(file) df.show(5) Copy bash +-----------------+-------------------+-----+ |DEST_COUNTRY_NAME|ORIGIN_COUNTRY_NAME|count| +-----------------+-------------------+-----+ | United States| Romania| 15| | United States| Croatia| 1| | United States| Ireland| 344| | Egypt| United States| 15| | United States| India| 62| +-----------------+-------------------+-----+ JSON ë°ì´í„° ì†ŒìŠ¤ì— ëŒ€í•´ DataFrameReader ë° DataFrameWriter ì— ëŒ€í•œ ì¼ë°˜ì ì¸ ì˜µì…˜ì€ ì•„ë˜ì™€ ê°™ë‹¤.\ncompression : ì••ì¶• ì½”ë±ì„ ì“°ê¸° ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. bzip2, gzip, snappy ë“±ì´ ê°’ìœ¼ë¡œ ì „ë‹¬ëœë‹¤. dateFormat : Javaì˜ DateTimeFormatterì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  í˜•ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (yyyy-MM-dd ë“±) multiLine : true ë¥¼ ì§€ì •í•˜ë©´ ë‹¤ì¤‘ ë¼ì¸ ëª¨ë“œë¥¼ ì‚¬ìš©í•œë‹¤. ê¸°ë³¸ê°’ì€ false ì´ë‹¤. allowUnquotedFileNames : ë”°ì˜´í‘œë¡œ ë¬¶ì´ì§€ ì•Šì€ JSON í•„ë“œ ì´ë¦„ì„ í—ˆìš©í•œë‹¤. ê¸°ë³¸ê°’ì€ false ì´ë‹¤. CSV # ì‰¼í‘œë¡œ ê° ë°ì´í„° ë˜ëŠ” í•„ë“œë¥¼ êµ¬ë¶„í•˜ë©°, ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ê° ì¤„ì€ ë ˆì½”ë“œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì‰¼í‘œê°€ ë°ì´í„°ì˜ ì¼ë¶€ì¸ ê²½ìš°, ê°’ì„ ìŒë”°ì˜´í‘œë¡œ ê°ì‹¸ì£¼ê±°ë‚˜, ë‹¤ë¥¸ êµ¬ë¶„ ê¸°í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ë“œë¥¼ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.\nì¼ë°˜ì ì¸ CSV ë°ì´í„°ëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ì„±ëœë‹¤.\nCopy bash % head -n 5 data/flights/summary-data/csv/2010-summary.csv DEST_COUNTRY_NAME,ORIGIN_COUNTRY_NAME,count United States,Romania,1 United States,Ireland,264 United States,India,69 Egypt,United States,24 CSV íŒŒì¼ì„ DataFrameìœ¼ë¡œ ì½ìœ¼ë ¤ë©´ ì•„ë˜ì²˜ëŸ¼ .format(\u0026quot;csv\u0026quot;) ì„ ì§€ì •í•œë‹¤. ìœ„ íŒŒì¼ê³¼ ê°™ì´ í—¤ë”ê°€ ìˆëŠ” ê²½ìš° header ì˜µì…˜ì— true ë¥¼ ì„¤ì •í•œë‹¤. nullValue ì˜µì…˜ì„ ì‚¬ìš©í•´ null ë°ì´í„°ë¥¼ íŠ¹ì • ê°’ìœ¼ë¡œ êµì²´í•  ìˆ˜ ìˆë‹¤.\nCopy python file = \u0026#34;data/flights/summary-data/csv/*\u0026#34; df = spark.read.format(\u0026#34;csv\u0026#34;).option(\u0026#34;header\u0026#34;, \u0026#34;true\u0026#34;).load(file) df.show(5) Copy bash +-----------------+-------------------+-----+ |DEST_COUNTRY_NAME|ORIGIN_COUNTRY_NAME|count| +-----------------+-------------------+-----+ | United States| Romania| 1| | United States| Ireland| 264| | United States| India| 69| | Egypt| United States| 24| |Equatorial Guinea| United States| 1| +-----------------+-------------------+-----+ CSV ë°ì´í„° ì†ŒìŠ¤ì— ëŒ€í•´ DataFrameReader ë° DataFrameWriter ì— ëŒ€í•œ ì¼ë°˜ì ì¸ ì˜µì…˜ì€ ì•„ë˜ì™€ ê°™ë‹¤.\ncompression : ì••ì¶• ì½”ë±ì„ ì“°ê¸° ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. bzip2, gzip, snappy ë“±ì´ ê°’ìœ¼ë¡œ ì „ë‹¬ëœë‹¤. dateFormat : Javaì˜ DateTimeFormatterì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  í˜•ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (yyyy-MM-dd ë“±) multiLine : true ë¥¼ ì§€ì •í•˜ë©´ ë‹¤ì¤‘ ë¼ì¸ ëª¨ë“œë¥¼ ì‚¬ìš©í•œë‹¤. ê¸°ë³¸ê°’ì€ false ì´ë‹¤. interSchema : true ë¥¼ ì§€ì •í•˜ë©´ ìŠ¤íŒŒí¬ê°€ ì¹¼ëŸ¼ ë°ì´í„° ìœ í˜•ì„ ê²°ì •í•œë‹¤. ê¸°ë³¸ê°’ì€ false ì´ë‹¤. sep : ì¹¼ëŸ¼ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ë¬¸ìì´ë©°, ê¸°ë³¸ êµ¬ë¶„ ê¸°í˜¸ëŠ” ì‰¼í‘œ(,)ë‹¤. escape : ë”°ì˜´í‘œë¥¼ ì´ìŠ¤ì¼€ì´í”„í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¬¸ìì´ë©°, ê¸°ë³¸ê°’ì€ / ë‹¤. header : ì²« ë²ˆì§¸ ì¤„ì´ ì¹¼ëŸ¼ëª…ì„ ë‚˜íƒ€ë‚´ëŠ” í—¤ë”ì¼ ê²½ìš° true ë¥¼ ì§€ì •í•˜ê³ , ê¸°ë³¸ê°’ì€ false ì´ë‹¤. Avro # ìŠ¤íŒŒí¬ 2.4ì— ë‚´ì¥ëœ ë°ì´í„° ì†ŒìŠ¤ì¸ Avro í˜•ì‹ì€ íŠ¹íˆ ì•„íŒŒì¹˜ ì¹´í”„ì¹´ì—ì„œ ë©”ì‹œì§€ë¥¼ ì§ë ¬í™” ë° ì—­ì§ë ¬í™”í•  ë•Œ ì‚¬ìš©ëœë‹¤. JSONì— ëŒ€í•œ ì§ì ‘ ë§¤í•‘, ì†ë„ì™€ íš¨ìœ¨ì„± ë“± ë§ì€ ì´ì ì„ ì œê³µí•œë‹¤.\nìŠ¤íŒŒí¬ ê³µì‹ ë¬¸ì„œì˜ Apache Avro Data Source Guideì— ë”°ë¥´ë©´, spark-avro ëª¨ë“ˆì€ ì™¸ë¶€ ëª¨ë“ˆë¡œ spark-submit ë˜ëŠ” spark-shell ì— í¬í•¨ë˜ì–´ ìˆì§€ ì•Šë‹¤. ë”°ë¼ì„œ, ì•„ë˜ì™€ ê°™ì´ --packages ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¢…ì†ì„±ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\nCopy bash ./bin/spark-shell --packages org.apache.spark:spark-avro_2.13:4.0.0 ... SparkSession ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•  ê²½ìš°, spark.jars.packages ì„¤ì •ì— spark-avro_2.13 ì¢…ì†ì„±ì„ ì¶”ê°€í•œë‹¤.\nCopy python from pyspark.sql import SparkSession spark = (SparkSession .builder .appName(\u0026#34;SparkAvroExampleApp\u0026#34;) .config(\u0026#34;spark.jars.packages\u0026#34;, \u0026#34;org.apache.spark:spark-avro_2.13:4.0.0\u0026#34;) .getOrCreate()) Avro íŒŒì¼ì„ DataFrameìœ¼ë¡œ ì½ìœ¼ë ¤ë©´ ì•„ë˜ì²˜ëŸ¼ .format(\u0026quot;avro\u0026quot;) ì„ ì§€ì •í•œë‹¤.\nCopy python file = \u0026#34;data/flights/summary-data/avro/*\u0026#34; df = spark.read.format(\u0026#34;avro\u0026#34;).load(file) df.show(5) Copy bash +-----------------+-------------------+-----+ |DEST_COUNTRY_NAME|ORIGIN_COUNTRY_NAME|count| +-----------------+-------------------+-----+ | United States| Romania| 1| | United States| Ireland| 264| | United States| India| 69| | Egypt| United States| 24| |Equatorial Guinea| United States| 1| +-----------------+-------------------+-----+ Avro ë°ì´í„° ì†ŒìŠ¤ì— ëŒ€í•´ DataFrameReader ë° DataFrameWriter ì— ëŒ€í•œ ì¼ë°˜ì ì¸ ì˜µì…˜ì€ ì•„ë˜ì™€ ê°™ë‹¤.\navroSchema : JSON í˜•ì‹ìœ¼ë¡œ ì œê³µí•  ìˆ˜ ìˆëŠ” Avro ìŠ¤í‚¤ë§ˆì´ë‹¤. Avro ë°ì´í„°ë‚˜ ì¹´íƒˆë¦¬ìŠ¤íŠ¸ ë°ì´í„°ì™€ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ì½ê¸°/ì“°ê¸° ì‘ì—…ì´ ì‹¤íŒ¨í•œë‹¤. recordName : Avro ì‚¬ì–‘ì— í•„ìš”í•œ ì“°ê¸° ê²°ê³¼ì˜ ìµœìƒìœ„ ë ˆì½”ë“œëª…ì´ë‹¤. recrodNamespace : ì“°ê¸° ê²°ê³¼ì— ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ê¸°ë¡í•œë‹¤. ignoreExtension : í™•ì¥ìê°€ .avro ì¸ì§€ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ëª¨ë“  íŒŒì¼ì„ ì½ì–´ë“¤ì¸ë‹¤. compression : ì“°ê¸°ì— ì‚¬ìš©í•  ì••ì¶• ì½”ë±ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. Image # ìŠ¤íŒŒí¬ 2.4ì—ì„œ ë¨¸ì‹ ëŸ¬ë‹ í”„ë ˆì„ì›Œí¬ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ ìƒˆë¡œìš´ ë°ì´í„° ì†ŒìŠ¤ì¸ ì´ë¯¸ì§€ íŒŒì¼ì„ ë„ì…í–ˆë‹¤.\ndatabricks/LearningSparkV2ì˜ databricks-datasets/learning-spark-v2 ê²½ë¡œì—ì„œ cctvVideos/ ë””ë ‰í„°ë¦¬ë¥¼ ê°€ì ¸ì˜¨ë‹¤. í•´ë‹¹ ë””ë ‰í„°ë¦¬ì˜ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\nCopy text cctvVideos/ â”œâ”€â”€ README.md â””â”€â”€ train_images/ â”œâ”€â”€ label=0/ â”‚ â”œâ”€â”€ Browse2frame0000.jpg â”‚ â”œâ”€â”€ Browse2frame0001.jpg â”‚ â”œâ”€â”€ Browse2frame0002.jpg â”‚ â”œâ”€â”€ ... | â””â”€â”€ Walk2frame0042.jpg â””â”€â”€ label=1/ â”œâ”€â”€ Fight_Chaseframe0012.jpg â”œâ”€â”€ Fight_Chaseframe0013.jpg â”œâ”€â”€ Fight_Chaseframe0014.jpg â”œâ”€â”€ ... â””â”€â”€ Rest_WiggleOnFloorframe0050.jpg ì´ë¯¸ì§€ íŒŒì¼ì€ ì•„ë˜ì™€ ê°™ì´ DataFrameReader í•¨ìˆ˜ë¡œ ì½ì„ ìˆ˜ ìˆë‹¤. ì´ë¯¸ì§€ íŒŒì¼ì„ ì½ì„ ë•Œ numpy ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ë‹¤.\nCopy python from pyspark.ml import image image_dir = \u0026#34;data/cctvVideos/train_images\u0026#34; images_df = spark.read.format(\u0026#34;image\u0026#34;).load(image_dir) images_df.printSchema() Copy bash root |-- image: struct (nullable = true) | |-- origin: string (nullable = true) | |-- height: integer (nullable = true) | |-- width: integer (nullable = true) | |-- nChannels: integer (nullable = true) | |-- mode: integer (nullable = true) | |-- data: binary (nullable = true) |-- label: integer (nullable = true) ì´ë¯¸ì§€ì˜ ë†’ì´ ë° ë„ˆë¹„ì™€ ê°™ì€ ì •ë³´ëŠ” ì•„ë˜ì™€ ê°™ì´ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.\nCopy python images_df.select(\u0026#34;image.height\u0026#34;, \u0026#34;image.width\u0026#34;, \u0026#34;image.nChannels\u0026#34;, \u0026#34;image.mode\u0026#34;, \u0026#34;label\u0026#34;).show(5) Copy bash +------+-----+---------+----+-----+ |height|width|nChannels|mode|label| +------+-----+---------+----+-----+ | 288| 384| 3| 16| 0| | 288| 384| 3| 16| 1| | 288| 384| 3| 16| 0| | 288| 384| 3| 16| 0| | 288| 384| 3| 16| 0| +------+-----+---------+----+-----+ Binary File # ì´ì§„ íŒŒì¼ì„ ì½ìœ¼ë ¤ë©´ ë°ì´í„° ì†ŒìŠ¤ í˜•ì‹ì„ binaryFile ë¡œ ì§€ì •í•´ì•¼ í•œë‹¤. DataFrameReaderëŠ” ì´ì§„ íŒŒì¼ì„ ì›ë³¸ ë‚´ìš©ê³¼ ë©”íƒ€ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ” ë‹¨ì¼ DataFrame í–‰ìœ¼ë¡œ ë³€í™˜í•œë‹¤.\npathGlobFilter ë¥¼ ì‚¬ìš©í•˜ë©´ ì§€ì •ëœ ì „ì—­ íŒ¨í„´ê³¼ ì¼ì¹˜í•˜ëŠ” ê²½ë¡œë¡œ íŒŒì¼ì„ ë¡œë“œí•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” ë””ë ‰í„°ë¦¬ì—ì„œ ëª¨ë“  .jpg íŒŒì¼ì„ ì½ëŠ”ë‹¤.\nCopy python path = \u0026#34;data/cctvVideos/train_images\u0026#34; binary_files_df = spark.read.format(\u0026#34;binaryFile\u0026#34;).option(\u0026#34;pathGlobFilter\u0026#34;, \u0026#34;*.jpg\u0026#34;).load(path) binary_files_df.show(5) Copy bash +--------------------+-------------------+------+--------------------+-----+ | path| modificationTime|length| content|label| +--------------------+-------------------+------+--------------------+-----+ |file:/Users/cuz/D...|2025-01-28 13:30:40| 55037|[FF D8 FF E0 00 1...| 0| |file:/Users/cuz/D...|2025-01-28 13:30:40| 54634|[FF D8 FF E0 00 1...| 1| |file:/Users/cuz/D...|2025-01-28 13:30:40| 54624|[FF D8 FF E0 00 1...| 0| |file:/Users/cuz/D...|2025-01-28 13:30:40| 54505|[FF D8 FF E0 00 1...| 0| |file:/Users/cuz/D...|2025-01-28 13:30:40| 54475|[FF D8 FF E0 00 1...| 0| +--------------------+-------------------+------+--------------------+-----+ References # https://www.oreilly.com/library/view/learning-spark-2nd/9781492050032/ https://github.com/databricks/LearningSparkV2/tree/master/databricks-datasets/learning-spark-v2/flights/summary-data https://spark.apache.org/docs/latest/api/python/tutorial/sql/python_data_source.html https://spark.apache.org/docs/latest/sql-data-sources.html https://spark.apache.org/docs/latest/sql-data-sources-avro.html "},{"id":11,"href":"/blog/install-ubuntu-server/","title":"Macì—ì„œ UTMìœ¼ë¡œ Ubuntu Server 24.04 ì„¤ì¹˜í•˜ê¸°","content":"ë¦¬ëˆ…ìŠ¤ ê°œë°œ í™˜ê²½ì´ í•„ìš”í•´ì¡ŒëŠ”ë° ë‹¨ìˆœ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ìƒˆë¡œìš´ PCë¥¼ ì‚¬ê±°ë‚˜ ê¸°ì¡´ì— ì‚¬ìš©í•˜ëŠ” Macì— ì§ì ‘ ì„¤ì¹˜í•˜ëŠ”ê±´ ë¹„ìš©ì´ë‚˜ ë¦¬ìŠ¤í¬ê°€ ìˆì–´ ê°„ë‹¨í•˜ê²Œ ê°€ìƒí™˜ê²½ì„ ì´ìš©í•˜ë ¤ í•©ë‹ˆë‹¤.\nMacì—ì„œ ë¬´ë£Œë¡œ ì´ìš©í•  ìˆ˜ ìˆëŠ” ê°€ìƒí™” ì†Œí”„íŠ¸ì›¨ì–´ì¸ UTMì„ ì‚¬ìš©í•´ ìš°ë¶„íˆ¬ ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ëŠ” ê³¼ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤.\n1. Ubuntu ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ # Ubuntu Server 24.04.2 LTS ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤. (ì´ë¯¸ì§€ í´ë¦­ ì‹œ ë‹¤ìš´ë¡œë“œ ê²½ë¡œë¡œ ì´ë™)\nì£¼ì˜í•  ì ì€, ê¸°ë³¸ ë‹¤ìš´ë¡œë“œ ê²½ë¡œì¸ https://ubuntu.com/download/serverë¡œ ì ‘ì†í•˜ë©´ x86 ì•„í‚¤í…ì²˜ì™€ í˜¸í™˜ë˜ëŠ” amd64 ì´ë¯¸ì§€ë¡œ ì—°ê²°ë˜ê¸° ë•Œë¬¸ì—, ì• í”Œ ì‹¤ë¦¬ì½˜ ê¸°ë°˜ì˜ Macì´ë¼ë©´ ë‹¤ìš´ë¡œë“œ ë°›ëŠ” íŒŒì¼ì´ arm64 ì´ë¯¸ì§€ì¸ì§€ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\në˜ëŠ” í„°ë¯¸ë„ì—ì„œ ë‚´ë ¤ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nCopy bash curl -O -L https://cdimage.ubuntu.com/releases/24.04/release/ubuntu-24.04.2-live-server-arm64.iso Copy bash % ls -la ubuntu-24.04.2-live-server-arm64.iso -rw-r--r--@ 1 user group 2922393600 Jul 6 11:29 ubuntu-24.04.2-live-server-arm64.iso 2. UTM ì„¤ì¹˜í•˜ê¸° # UTM ìµœì‹  ë²„ì „(ì‘ì„±ì¼ ê¸°ì¤€ 4.6.5)ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. (ì´ë¯¸ì§€ í´ë¦­ ì‹œ ë‹¤ìš´ë¡œë“œ ê²½ë¡œë¡œ ì´ë™)\nì•±ìŠ¤í† ì–´ì—ì„œë„ ì„¤ì¹˜í•  ìˆ˜ ìˆëŠ”ë° $9.99ë¥¼ ì§€ë¶ˆí•´ì•¼ í•©ë‹ˆë‹¤.\nUTMì„ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\n3. ê°€ìƒë¨¸ì‹  ìƒì„±í•˜ê¸° # ìƒˆ ê°€ìƒë¨¸ì‹  ë§Œë“¤ê¸°ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\nStart í™”ë©´ì—ì„œ Virtualizeë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\nìš´ì˜ì²´ì œëŠ” Linuxë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\nì´ë¯¸ì§€ íŒŒì¼ ì¶”ê°€ # Boot ISO Imageì— ì•ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ì•˜ë˜ Ubuntu ì´ë¯¸ì§€ íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤.\ní•˜ë“œì›¨ì–´ ì„¤ì • # ë©”ëª¨ë¦¬ì™€ CPU í¬ê¸°ëŠ” ëª©ì ì— ë§ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.\nì €ì¥ê³µê°„ë„ ëª©ì ì— ë§ê²Œ ì„¤ì •í•©ë‹ˆë‹¤.\nê°€ìƒë¨¸ì‹  ì´ë¦„ ì„¤ì • # ì €ì¥ê³µê°„ ì„¤ì • í›„ì— ë‚˜ì˜¤ëŠ” ê³µìœ í´ë” ì„¤ì •ì€ ë¬´ì‹œí•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ìš”ì•½ í™”ë©´ì´ ë‚˜ì˜¤ëŠ”ë° ê°€ìƒë¨¸ì‹  ì´ë¦„ì„ ì„¤ì •í•©ë‹ˆë‹¤.\nì €ì¥ì„ ëˆ„ë¥´ë©´ ê°€ìƒë¨¸ì‹ ì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê°€ìƒë¨¸ì‹  ë„¤íŠ¸ì›Œí¬ ì„¤ì • # ì¶”ê°€ë¡œ, Ubuntuë¥¼ ì„¤ì¹˜í•˜ê¸° ì „ì— ê°€ìƒë¨¸ì‹ ì—ì„œ ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤. í–¥í›„ ì—¬ëŸ¬ ëŒ€ì˜ ê°€ìƒë¨¸ì‹ ê³¼ Mac ê°„ì˜ í†µì‹ ì„ ì›í™œíˆ í•˜ê¸° ìœ„í•´ ë¸Œë¦¿ì§€ ëª¨ë“œë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ê¸°ë³¸ ì„¤ì •ì¸ Shared Network(NAT) ëª¨ë“œë¥¼ ì‚¬ìš©í•´ë„ ë©ë‹ˆë‹¤.\n4. Ubuntu ì„¤ì¹˜í•˜ê¸° # ì•ì—ì„œ ìƒì„±í•œ ê°€ìƒë¨¸ì‹ ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. \u0026quot;Try or Install Ubuntu Server\u0026quot; ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\nì–¸ì–´ ë° ì„¤ì¹˜ ìœ í˜• # ì–¸ì–´ ë° í‚¤ë³´ë“œ ë ˆì´ì•„ì›ƒì€ ê¸°ë³¸ê°’ì¸ \u0026quot;English\u0026quot; ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\nì„¤ì¹˜ ìœ í˜•ì€ ê¸°ë³¸ê°’ì¸ \u0026quot;Ubuntu Server\u0026quot; ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.\në„¤íŠ¸ì›Œí¬ ì„¤ì • # ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì—ì„  ê¸°ë³¸ì ìœ¼ë¡œ DHCPë¥¼ í†µí•œ ë™ì  IP ì£¼ì†Œê°€ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\ní–¥í›„ ì—¬ëŸ¬ ê°€ìƒë¨¸ì‹  ê°„ ê³ ì •ëœ IP ì£¼ì†Œë¥¼ ê°€ì§€ê³  í†µì‹ í•  í•„ìš”ê°€ ìˆê¸° ë•Œë¬¸ì— ì •ì ìœ¼ë¡œ IP ì£¼ì†Œë¥¼ ì§€ì •í•˜ê² ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ DHCPë¥¼ ìœ ì§€í•œì±„ ë„˜ì–´ê°€ë„ ë¬´ë°©í•©ë‹ˆë‹¤.\nê°€ìƒë¨¸ì‹ ì„ ì‹¤í–‰í•˜ê¸° ì „ì— ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì—ì„œ ë¸Œë¦¿ì§€ ëª¨ë“œë¡œ ë³€ê²½í–ˆê¸° ë•Œë¬¸ì— ë§¥ì˜ ë„¤íŠ¸ì›Œí¬ì™€ ë™ì¼í•œ ëŒ€ì—­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. NAT ëª¨ë“œë¡œ ê°€ìƒë¨¸ì‹ ì„ ì‹¤í–‰ ì¤‘ì´ë¼ë©´ DHCPë¥¼ í†µí•´ ë°°ì •ëœ IP ì£¼ì†Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ëŒ€ì—­ì„ ì¶”ì •í•´ IP ì£¼ì†Œë¥¼ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.\nì •ì  IP ì£¼ì†Œë¥¼ í• ë‹¹í–ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ static ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.\ní”„ë¡ì‹œ ë° ë¯¸ëŸ¬ ì„œë²„ ì„¤ì • # í”„ë¡ì‹œ ì„œë²„ëŠ” ê¸°ë³¸ê°’ìœ¼ë¡œ ë¬´ì‹œí•©ë‹ˆë‹¤.\në¯¸ëŸ¬ ì„œë²„ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ëŠ” ê³µì‹ ì„œë²„ì˜ ë³µì œë³¸ì…ë‹ˆë‹¤. ë³´í†µ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì„ ë•Œ ë¯¸ëŸ¬ ì„œë²„ë¥¼ í†µí•´ ë°›ìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’ìœ¼ë¡œëŠ” \u0026quot;kr.ports.ubuntu.com/ubuntu-ports\u0026quot; ë¡œ ì§€ì •ë˜ì–´ ìˆëŠ”ë°, ì†ë„ê°€ ë” ë¹ ë¥¸ ì¹´ì¹´ì˜¤ ë¯¸ëŸ¬ ì„œë²„ \u0026quot;mirror.kakao.com\u0026quot; ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.\nì €ì¥ê³µê°„ ì„¤ì • # ì €ì¥ê³µê°„ë„ ê¸°ë³¸ ì„¤ì •ì¸ \u0026quot;Use an entire disk\u0026quot; ë¥¼ ì ìš©í•©ë‹ˆë‹¤. ëª©ì ì— ë”°ë¼ íŒŒí‹°ì…˜ì„ ë¶„ë¦¬í•  ìˆ˜ë„ ìˆì§€ë§Œ, í˜„ì¬ëŠ” íŒŒí‹°ì…˜ì„ ë‚˜ëˆŒ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.\nì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ë©´ ë””ìŠ¤í¬ í¬ë§·ì„ í†µí•´ ì €ì¥ëœ ë°ì´í„°ê°€ ì‚­ì œë  ìˆ˜ ìˆë‹¤ê³  ê²½ê³ í•˜ëŠ”ë° ê·¸ëŒ€ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.\ní”„ë¡œí•„ ì„¤ì • # ì‚¬ìš©ì ì´ë¦„, ì„œë²„ ì´ë¦„ ë“±ì„ ì„¤ì •í•©ë‹ˆë‹¤.\nYour name : ì´ë¦„ ì •ë³´ (ì„œë²„ ìš´ì˜ê³¼ ë¬´ê´€) Your server's name : ì„œë²„ í˜¸ìŠ¤íŠ¸ëª… Pick a username : ë¡œê·¸ì¸ ì‚¬ìš©ì ì´ë¦„ Choose a password : ë¡œê·¸ì¸ ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ Confirm your password : ë¡œê·¸ì¸ ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ê¸°íƒ€ ì„¤ì • ë° ì„¤ì¹˜ # Ubuntu Pro ì—…ê·¸ë ˆì´ë“œ ì—¬ë¶€ë¥¼ ë¬»ëŠ”ë° ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.\nOpenSSH ì„œë²„ ì„¤ì¹˜ë¥¼ ë¬»ëŠ”ë° SSH ì„œë²„ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì²´í¬í•©ë‹ˆë‹¤.\nì„¤ì¹˜ íŒ¨í‚¤ì§€ ì„ íƒì°½ì´ ë‚˜ì˜¤ëŠ”ë° í•„ìš”í•œê±´ ì§ì ‘ ì„¤ì¹˜í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.\nì„¤ì¹˜ê°€ ì§„í–‰ë˜ê³ , ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ \u0026quot;Reboot Now\u0026quot; ì„ íƒì§€ê°€ ìƒê¹ë‹ˆë‹¤. ì¬ë¶€íŒ…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\n5. Ubuntu ì ‘ì† # ìµœì´ˆ ì„¤ì¹˜ í›„ ì¬ë¶€íŒ…í•˜ë©´ ë”ì´ìƒ ì§„í–‰ë˜ì§€ ì•Šê³  ì»¤ì„œë§Œ ê¹œë¹¡ì´ëŠ”ë°, ì¼ë‹¨ ì¢…ë£Œí•˜ê³  UTM í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤. ê°€ìƒë¨¸ì‹ ì—ì„œ ë¶€íŒ…ìš© ì´ë¯¸ì§€ íŒŒì¼ì„ ì´ˆê¸°í™”í•œ í›„ ë‹¤ì‹œ ì‹¤í–‰í•©ë‹ˆë‹¤.\nê°€ìƒë¨¸ì‹ ì„ ì‹¤í–‰í•˜ë©´ ë¡œê·¸ì¸ í™”ë©´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. í”„ë¡œí•„ ì„¤ì •ì— ì§€ì •í•œ ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.\nì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì¸ë˜ì—ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆëŠ” í”„ë¡¬í”„íŠ¸ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.\nì°¸ê³  ìë£Œ # https://ubuntu.com/download/server/arm https://mac.getutm.app/ https://gymdev.tistory.com/75 https://moneymentors.tistory.com/entry/ìš°ë¶„íˆ¬Ubuntu-22042-LTS-ì„œë²„-ì„¤ì¹˜-ë°©ë²• https://mirror.kakao.com/ "},{"id":12,"href":"/blog/spark-study-5/","title":"Apache Spark - ìŠ¤íŒŒí¬ SQLê³¼ í…Œì´ë¸”/ë·° ê´€ë¦¬","content":"Spark SQL # ìŠ¤íŒŒí¬ SQLì€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°–ëŠ”ë‹¤.\nì •í˜•í™” APIê°€ ì—”ì§„ìœ¼ë¡œ ì œê³µí•œë‹¤. ë‹¤ì–‘í•œ ì •í˜• ë°ì´í„°(Parquet ë“±)ë¥¼ ì½ê±°ë‚˜ ì“¸ ìˆ˜ ìˆë‹¤. ì™¸ë¶€ BI íˆ´(íƒœë¸”ë¡œ ë“±)ì˜ ë°ì´í„° ì†ŒìŠ¤ë‚˜ RDBMS(MySQL ë“±)ì˜ ë°ì´í„°ë¥¼ ì¿¼ë¦¬í•  ìˆ˜ ìˆë‹¤. ì •í˜• ë°ì´í„°ì— ëŒ€í•´ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ëŒ€í™”í˜• ì‰˜ì„ ì œê³µí•œë‹¤. Spark SQL ì‚¬ìš©ë²• # Copy python spark.sql(\u0026#34;SELECT * FROM table\u0026#34;) SparkSession ê°ì²´ì— sql() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤. ì¿¼ë¦¬ ê²°ê³¼ë¡œëŠ” DataFrame ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.\nSpark SQL í™œìš© (Python) # databricks/LearningSparkV2ì˜ databricks-datasets/learning-spark-v2/flights ê²½ë¡œì—ì„œ ë¯¸êµ­ í•­ê³µí¸ ìš´í•­ ì§€ì—° ë°ì´í„°ì„¸íŠ¸ departuredelays.csv ë¥¼ ê°€ì ¸ì˜¨ë‹¤. í•´ë‹¹ ë°ì´í„°ë¥¼ í™œìš©í•´ ì•„ë˜ì™€ ê°™ì´ ì„ì‹œë·°ë¥¼ ìƒì„±í•œë‹¤.\nCopy python from pyspark.sql import SparkSession spark = (SparkSession .builder .appName(\u0026#34;SparkSQLExampleApp\u0026#34;) .getOrCreate()) # ë°ì´í„° ê²½ë¡œ csv_file = \u0026#34;data/flights/departuredelays.csv\u0026#34; # ìŠ¤í‚¤ë§ˆë¥¼ ì¶”ë¡ í•˜ì—¬ ë°ì´í„°ë¥¼ ì½ê¸° df = (spark.read.format(\u0026#34;csv\u0026#34;) .option(\u0026#34;inferSchema\u0026#34;, \u0026#34;true\u0026#34;) .option(\u0026#34;header\u0026#34;, \u0026#34;true\u0026#34;) .load(csv_file)) # ë°ì´í„°ë¡œë¶€í„° ì„ì‹œë·°ë¥¼ ìƒì„± df.createOrReplaceTempView(\u0026#34;delay_flights\u0026#34;) ìŠ¤íŒŒí¬ SQLì„ ì‚¬ìš©í•´ ì„ì‹œë·°ì— ëŒ€í•´ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ìŠ¤íŒŒí¬ SQLì€ ANSI:2003ê³¼ í˜¸í™˜ë˜ëŠ” SQl ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤.\nCopy python spark.sql(\u0026#34;\u0026#34;\u0026#34; SELECT distance, origin, destination FROM delay_flights WHERE distance \u0026gt; 1000 ORDER BY distance DESC;\u0026#34;\u0026#34;\u0026#34;).show(10) Copy bash +--------+------+-----------+ |distance|origin|destination| +--------+------+-----------+ | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| | 4330| HNL| JFK| +--------+------+-----------+ only showing top 10 rows ìœ„ì˜ ì¿¼ë¦¬ëŠ” ì•„ë˜ íŒŒì´ì¬ ì˜ˆì œì™€ ê°™ì´ ë™ë“±í•œ DataFrame APIë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy python from pyspark.sql.functions import col, desc (df.select(\u0026#34;distance\u0026#34;, \u0026#34;origin\u0026#34;, \u0026#34;destination\u0026#34;) .where(col(\u0026#34;distance\u0026#34;) \u0026gt; 1000) .orderBy(desc(\u0026#34;distance\u0026#34;))).show(10) SQL ì¿¼ë¦¬ë¡œ ë‹¨ìˆœ SELECT ì¡°íšŒë¿ ì•„ë‹ˆë¼ í˜„ì¬ ìƒì„±ëœ ì„ì‹œë·° ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ë„ ìˆë‹¤.\nCopy python spark.sql(\u0026#34;SHOW TABLES;\u0026#34;).show() Copy bash +---------+-------------+-----------+ |namespace| tableName|isTemporary| +---------+-------------+-----------+ | |delay_flights| true| +---------+-------------+-----------+ ì•ì—ì„œ ìŠ¤í‚¤ë§ˆë¥¼ ì¶”ë¡ í•˜ì—¬ DataFrameì„ ì½ì—ˆëŠ”ë°, SQL ì¿¼ë¦¬ë¡œ ì–´ë–¤ ìŠ¤í‚¤ë§ˆë¡œ ì¸ì‹ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ ë³´ì•˜ë‹¤. DataFrame ê°ì²´ì˜ ìŠ¤í‚¤ë§ˆ df.schema ì˜ ì¶œë ¥ ê²°ê³¼ì™€ ë™ì¼í•˜ë‹¤.\nCopy python spark.sql(\u0026#34;DESC delay_flights;\u0026#34;).show() Copy bash +-----------+---------+-------+ | col_name|data_type|comment| +-----------+---------+-------+ | date| int| NULL| | delay| int| NULL| | distance| int| NULL| | origin| string| NULL| |destination| string| NULL| +-----------+---------+-------+ Table \u0026amp; View # ìŠ¤íŒŒí¬ëŠ” í…Œì´ë¸”ì„ ìœ„í•œ ë³„ë„ ë©”íƒ€ìŠ¤í† ì–´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ê¸°ë³¸ì ìœ¼ë¡œ /user/hive/warehouse ê²½ë¡œì— ìˆëŠ” ì•„íŒŒì¹˜ í•˜ì´ë¸Œ ë©”íƒ€ìŠ¤í† ì–´ë¥¼ ì‚¬ìš©í•´ í…Œì´ë¸”ì— ëŒ€í•œ ëª¨ë“  ë©”íƒ€ë°ì´í„°ë¥¼ ìœ ì§€í•œë‹¤.\nìŠ¤íŒŒí¬ëŠ” ê´€ë¦¬í˜•ê³¼ ë¹„ê´€ë¦¬í˜•ì´ë¼ëŠ” ë‘ ê°€ì§€ ìœ í˜•ì˜ í…Œì´ë¸”ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nê´€ë¦¬í˜• í…Œì´ë¸”ì€ ìŠ¤íŒŒí¬ê°€ ë©”íƒ€ë°ì´í„°ì™€ íŒŒì¼ ì €ì¥ì†Œì˜ ë°ì´í„°ë¥¼ ëª¨ë‘ ê´€ë¦¬í•œë‹¤. ë”°ë¼ì„œ, DROP TABLE ê³¼ ê°™ì€ SQL ëª…ë ¹ì— ëŒ€í•´ ë©”íƒ€ë°ì´í„°ì™€ ì‹¤ì œ ë°ì´í„°ë¥¼ ëª¨ë‘ ì‚­ì œí•œë‹¤.\në°˜ë©´ì— ë¹„ê´€ë¦¬í˜• í…Œì´ë¸”ì€ ìŠ¤íŒŒí¬ê°€ ë©”íƒ€ë°ì´í„°ë§Œ ê´€ë¦¬í•˜ê³  ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì§ì ‘ ê´€ë¦¬í•œë‹¤. ê·¸ë˜ì„œ, DROP TABLE ëª…ë ¹ì—ë„ ì‹¤ì œ ë°ì´í„°ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³  ë©”íƒ€ë°ì´í„°ë§Œ ì‚­ì œí•œë‹¤.\ní…Œì´ë¸” ìƒì„±í•˜ê¸° # ìŠ¤íŒŒí¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ default ë°ì´í„°ë² ì´ìŠ¤ ì•ˆì— í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤. SparkSessionì„ ì—´ê³  í˜„ì¬ ì ‘ì†í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•˜ë©´ ì•Œ ìˆ˜ ìˆë‹¤.\nCopy python spark.sql(\u0026#34;SELECT current_database();\u0026#34;).show() Copy bash +----------------+ |current_schema()| +----------------+ | default| +----------------+ ìš°ì„ , SQL ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ learn_spark_db ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ìƒì„±í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ë‹¤ì‹œ í˜„ì¬ ì ‘ì†í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™•ì¸í•´ ë³´ì•˜ë‹¤.\nCopy python spark.sql(\u0026#34;CREATE DATABASE learn_spark_db;\u0026#34;) spark.sql(\u0026#34;USE learn_spark_db;\u0026#34;) spark.sql(\u0026#34;SELECT current_database();\u0026#34;).show() Copy bash +----------------+ |current_schema()| +----------------+ | learn_spark_db| +----------------+ ê´€ë¦¬í˜• í…Œì´ë¸” ìƒì„±í•˜ê¸° # CREATE ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ ì•ˆì— ê´€ë¦¬í˜• í…Œì´ë¸”ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\nCopy python table = \u0026#34;managed_delay_flights\u0026#34; schema = \u0026#34;date STRING, delay INT, distaince INT, origin STRING, destination STRING\u0026#34; spark.sql(\u0026#34;CREATE TABLE {} ({});\u0026#34;.format(table, schema)) ìœ„ SQL ì¿¼ë¦¬ëŠ” ë§ˆì°¬ê°€ì§€ë¡œ ì•„ë˜ì²˜ëŸ¼ DataFrame APIë¡œ í‘œí˜„í•  ìˆ˜ë„ ìˆë‹¤. ì´ë¯¸ í…Œì´ë¸”ì„ ë§Œë“¤ì—ˆì„ ê²½ìš°, ì•„ë˜ íŒŒì´ì¬ ì˜ˆì œë¥¼ ê·¸ëŒ€ë¡œ ì‹¤í–‰í•˜ë©´ TABLE_OR_VIEW_ALREADY_EXISTS ì—ëŸ¬ê°€ ë°œìƒí•˜ë¯€ë¡œ mode=\u0026quot;overwrite\u0026quot; ì˜µì…˜ì„ ë„£ì–´ì£¼ì–´ ê¸°ì¡´ í…Œì´ë¸”ì„ ë®ì–´ì“´ë‹¤.\nCopy python csv_file = \u0026#34;data/flights/departuredelays.csv\u0026#34; flights_df = spark.read.csv(csv_file, schema=schema) flights_df.write.saveAsTable(table, mode=\u0026#34;overwrite\u0026#34;) í…Œì´ë¸”ì„ ìƒì„±í•˜ê²Œ ë˜ë©´ í˜„ì¬ ìœ„ì¹˜ ì•„ë˜ì˜ spark-warehouse/{{DBëª…}}.db/{{í…Œì´ë¸”ëª…}} ê²½ë¡œì— .parquet íŒŒì¼ë“¤ì´ ìƒì„±ëœë‹¤. ìŠ¤íŒŒí¬ ê³µì‹ë¬¸ì„œ ì¤‘ Hive Tableì„ ì°¸ê³ í•˜ë©´, ê¸°ë³¸ ë””ë ‰í† ë¦¬ì¸ spark-warehouse ëŠ” SparkSessionì„ ì‹¤í–‰í•  ë•Œ spark.sql.warehouse.dir ì„¤ì •ì„ í†µí•´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.\nCopy python warehouse_location = abspath(\u0026#39;spark-warehouse\u0026#39;) spark = SparkSession \\ .builder \\ .appName(\u0026#34;Python Spark SQL Hive integration example\u0026#34;) \\ .config(\u0026#34;spark.sql.warehouse.dir\u0026#34;, warehouse_location) \\ .enableHiveSupport() \\ .getOrCreate() ì •ì  ì„¤ì •ì´ë¼ ì„¸ì…˜ ì‹¤í–‰ ì¤‘ì—ëŠ” ë³€ê²½í•  ìˆ˜ ì—†ì–´ì„œ ì„¸ì…˜ì„ ì¢…ë£Œí•˜ê³  ë‹¤ì‹œ ì‹¤í–‰í–ˆë‹¤. saved ê²½ë¡œë¡œ ë³€ê²½í•˜ê³  ë‹¤ì‹œ ê´€ë¦¬í˜• í…Œì´ë¸”ì„ ìƒì„±í•´ë³´ë‹ˆ í•´ë‹¹ ìœ„ì¹˜ì— Parquet íŒŒì¼ë“¤ì´ ë§Œë“¤ì–´ì¡Œë‹¤.\nCopy python from pyspark.sql import SparkSession from pathlib import Path warehouse_location = Path(\u0026#34;saved\u0026#34;) warehouse_location.mkdir(exist_ok=True) spark = (SparkSession .builder .appName(\u0026#34;SparkSQLExampleApp\u0026#34;) .config(\u0026#34;spark.sql.warehouse.dir\u0026#34;, str(warehouse_location.absolute())) .getOrCreate()) ë¹„ê´€ë¦¬í˜• í…Œì´ë¸” ìƒì„±í•˜ê¸° # ê¸°ì¡´ CREATE ë¬¸ì„ ì‚¬ìš©í•˜ëŠ” SQL ì¿¼ë¦¬ì—ì„œ ë’¤ì— USING í‚¤ì›Œë“œë¡œ ì‹œì‘í•˜ëŠ” CSV íŒŒì¼ ê²½ë¡œë¥¼ ë¶™ì—¬ì£¼ì–´ ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ë¡œë¶€í„° ë¹„ê´€ë¦¬í˜• í…Œì´ë¸”ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\nCopy python import os table = \u0026#34;unmanaged_delay_flights\u0026#34; schema = \u0026#34;date STRING, delay INT, distaince INT, origin STRING, destination STRING\u0026#34; csv_file = os.path.join(os.getcwd(), \u0026#34;data/flights/departuredelays.csv\u0026#34;) spark.sql(\u0026#34;CREATE TABLE {} ({}) USING csv OPTIONS (PATH \u0026#39;{}\u0026#39;);\u0026#34;.format(table, schema, csv_file)) CSV íŒŒì¼ì˜ ìƒëŒ€ê²½ë¡œë¡œ SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ë³´ë‹ˆê¹Œ FileStreamSink: Assume no metadata directory. ê²½ê³  ë©”ì‹œì§€ê°€ ë°œìƒí–ˆëŠ”ë° ì ˆëŒ€ê²½ë¡œë¡œ ë°”ê¿”ì£¼ë‹ˆê¹Œ í•´ê²°ë˜ì—ˆë‹¤.\nSQL ì¿¼ë¦¬ë¥¼ DataFrame APIë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤. ê´€ë¦¬í˜• í…Œì´ë¸”ì„ ë§Œë“œëŠ” êµ¬ë¬¸ì´ë‘ ê±°ì˜ ë¹„ìŠ·í•œë°, path ì˜µì…˜ìœ¼ë¡œ /tmp ê²½ë¡œë¥¼ ì§€ì •í•˜ëŠ”ë° ì°¨ì´ê°€ ìˆë‹¤.\nCopy python (flights_df .write .option(\u0026#34;path\u0026#34;, \u0026#34;/tmp/data/delay_flights\u0026#34;) .saveAsTable(table, mode=\u0026#34;overwrite\u0026#34;)) ë·° ìƒì„±í•˜ê¸° # ê¸°ì¡´ í…Œì´ë¸”ì„ í† ëŒ€ë¡œ ë·°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì „ì—­(ëª¨ë“  SparkSession) ë˜ëŠ” ì„¸ì…˜ ë²”ìœ„ì—ì„œ ìƒì„±í•  ìˆ˜ ìˆê³ , Spark Applicationì´ ì¢…ë£Œë˜ë©´ ë·°ëŠ” ì‚¬ë¼ì§„ë‹¤.\nì „ì—­ ì„ì‹œ ë·°ëŠ” SQL ì¿¼ë¦¬ì—ì„œëŠ” GLOBAL TEMP VIEW í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•˜ê³ , íŒŒì´ì¬ì—ì„œëŠ” createOrReplaceGlobalTempView() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒì„±í•  ìˆ˜ ìˆë‹¤.\nCopy python table = \u0026#34;us_origin_airport_SFO\u0026#34; spark.sql(\u0026#34;\u0026#34;\u0026#34; CREATE OR REPLACE GLOBAL TEMP VIEW {} AS SELECT date, delay, origin, destination FROM delay_flights WHERE origin = \u0026#39;SFO\u0026#39;; \u0026#34;\u0026#34;\u0026#34;.format(table)) Copy python from pyspark.sql.functions import col table = \u0026#34;us_origin_airport_SFO\u0026#34; (df.select(\u0026#34;date\u0026#34;, \u0026#34;delay\u0026#34;, \u0026#34;origin\u0026#34;, \u0026#34;destination\u0026#34;) .where(col(\u0026#34;origin\u0026#34;) == \u0026#34;SFO\u0026#34;) .createOrReplaceGlobalTempView(table)) ì „ì—­ ì„ì‹œ ë·°ëŠ” global_temp ë¼ëŠ” ì „ì—­ ì„ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— ìƒì„±ë˜ë©°, global_temp.\u0026lt;view_name\u0026gt; ì²˜ëŸ¼ ëª…ì‹œí•˜ì—¬ ë·° í…Œì´ë¸”ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ì¼ë°˜ ì„ì‹œ ë·°ëŠ” í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ì— ìƒì„±ë˜ë¯€ë¡œ global_temp ì ‘ë‘ì‚¬ë¥¼ ë¶™ì¼ í•„ìš”ê°€ ì—†ë‹¤.\nCopy python spark.sql(\u0026#34;SELECT * FROM global_temp.{};\u0026#34;.format(table)).show(5) ë©”íƒ€ë°ì´í„° ë³´ê¸° # ìŠ¤íŒŒí¬ëŠ” ê´€ë¦¬í˜• ë° ë¹„ê´€ë¦¬í˜• í…Œì´ë¸”ì— ëŒ€í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ê´€ë¦¬í•œë‹¤. ë©”íƒ€ë°ì´í„°ëŠ” ìŠ¤íŒŒí¬ SQLì˜ ìƒìœ„ ì¶”ìƒí™” ëª¨ë“ˆì¸ ì¹´íƒˆë¡œê·¸ì— ì €ì¥ëœë‹¤. ì¹´íƒˆë¡œê·¸ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ë² ì´ìŠ¤, í…Œì´ë¸”, ì¹¼ëŸ¼ ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.\nCopy python \u0026gt;\u0026gt;\u0026gt; spark.catalog.listDatabases() [Database(name=\u0026#39;default\u0026#39;, catalog=\u0026#39;spark_catalog\u0026#39;, description=\u0026#39;default database\u0026#39;, locationUri=\u0026#39;file:/Users/cuz/Documents/Github/study/spark/saved\u0026#39;)] Copy python \u0026gt;\u0026gt;\u0026gt; spark.catalog.listTables() [Table(name=\u0026#39;delay_flights\u0026#39;, catalog=None, namespace=[], description=None, tableType=\u0026#39;TEMPORARY\u0026#39;, isTemporary=True)] Copy python \u0026gt;\u0026gt;\u0026gt; spark.catalog.listColumns(\u0026#34;delay_flights\u0026#34;) [Column(name=\u0026#39;date\u0026#39;, description=None, dataType=\u0026#39;int\u0026#39;, nullable=True, isPartition=False, isBucket=False, isCluster=False), Column(name=\u0026#39;delay\u0026#39;, description=None, dataType=\u0026#39;int\u0026#39;, nullable=True, isPartition=False, isBucket=False, isCluster=False), Column(name=\u0026#39;distance\u0026#39;, description=None, dataType=\u0026#39;int\u0026#39;, nullable=True, isPartition=False, isBucket=False, isCluster=False), Column(name=\u0026#39;origin\u0026#39;, description=None, dataType=\u0026#39;string\u0026#39;, nullable=True, isPartition=False, isBucket=False, isCluster=False), Column(name=\u0026#39;destination\u0026#39;, description=None, dataType=\u0026#39;string\u0026#39;, nullable=True, isPartition=False, isBucket=False, isCluster=False)] SQL í…Œì´ë¸” ìºì‹±í•˜ê¸° # ìŠ¤íŒŒí¬ ê³µì‹ë¬¸ì„œ ì¤‘ CACHE TABLEì„ ì°¸ê³ í•˜ë©´, CACHE TABLE ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ì‹œ ë·°ë¥¼ ìºì‹±í•  ìˆ˜ ìˆë‹¤. CACHE LAZY TABLE ê³¼ ê°™ì´ LAZY íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í•˜ë©´ í…Œì´ë¸”ì´ ì‚¬ìš©ë˜ëŠ” ì‹œì ê¹Œì§€ ìºì‹±ì„ ë¯¸ë£° ìˆ˜ ìˆë‹¤.\nCopy python spark.sql(\u0026#34;CACHE TABLE delay_flights;\u0026#34;) í…Œì´ë¸” ìºì‹œê°€ í™œì„±í™” ìƒíƒœì¸ì§€ ë³´ë ¤ë©´ ì¹´íƒˆë¡œê·¸ê°€ ê°€ì§„ isCached í•¨ìˆ˜ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆë‹¤. ìºì‹œê°€ í™œì„±í™”ë˜ì—ˆë‹¤ë©´ True, ì•„ë‹ˆë©´ False ë¥¼ ë°˜í™˜í•œë‹¤.\nCopy python \u0026gt;\u0026gt;\u0026gt; spark.catalog.isCached(\u0026#34;delay_flights\u0026#34;) True Copy python \u0026gt;\u0026gt;\u0026gt; spark.catalog.isCached(\u0026#34;global_temp.us_origin_airport_sfo\u0026#34;) False í…Œì´ë¸” ìºì‹œë¥¼ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´ UNCACHE TABLE ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤.\nCopy python \u0026gt;\u0026gt;\u0026gt; spark.sql(\u0026#34;UNCACHE TABLE delay_flights;\u0026#34;) \u0026gt;\u0026gt;\u0026gt; spark.catalog.isCached(\u0026#34;delay_flights\u0026#34;) False í…Œì´ë¸”ì„ DataFrameìœ¼ë¡œ ë³€í™˜í•˜ê¸° # SQL ì¿¼ë¦¬ë¡œ í…Œì´ë¸” ì „ì²´ë¥¼ ì½ì„ ìˆ˜ë„ ìˆì§€ë§Œ, table() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.\nCopy python spark.sql(\u0026#34;SELECT * FROM delay_flights;\u0026#34;) Copy python spark.table(\u0026#34;delay_flights\u0026#34;) sql() ê³¼ table() ëª¨ë‘ DataFrame ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.\nReferences # https://www.oreilly.com/library/view/learning-spark-2nd/9781492050032/ https://github.com/databricks/LearningSparkV2/tree/master/databricks-datasets/learning-spark-v2/flights https://spark.apache.org/docs/latest/sql-data-sources-hive-tables.html https://spark.apache.org/docs/latest/sql-ref-syntax-aux-cache-cache-table.html https://spark.apache.org/docs/latest/sql-ref-syntax-aux-cache-uncache-table.html "},{"id":13,"href":"/blog/programmers-sql-4-5/","title":"í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ SQL Lv.4, 5 ì™„ì „ ì •ë³µ - 20ë¬¸ì œ ìƒì„¸ í’€ì´ (JOIN, GROUP BY, ìœˆë„ìš° í•¨ìˆ˜)","content":"ì´ì§ ì¤€ë¹„ë¥¼ í•˜ë©´ì„œ ì˜¤ëœë§Œì— ì½”ë”©í…ŒìŠ¤íŠ¸ë¥¼ ë³´ê²Œë˜ì—ˆëŠ”ë°, SQL ì½”ë”©í…ŒìŠ¤íŠ¸ëŠ” ì–´ë–»ê²Œ ë‚˜ì˜¤ë‚˜ ê¶ê¸ˆí•´ì„œ í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ Lv.4, 5 ìˆ˜ì¤€ì˜ ë¬¸ì œë¥¼ ëª¨ë‘ í’€ì–´ë³´ì•˜ìŠµë‹ˆë‹¤.\nëª¨ë“  ë¬¸ì œ # í‘œì—ì„œ IDë¥¼ í´ë¦­í•˜ë©´ í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ë¬¸ì œ í’€ì´ë¡œ ì´ë™í•©ë‹ˆë‹¤. ë¬¸ì œëŠ” ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆëŠ”ë° í’€ì´ ìˆœì„œëŠ” í‘œì—ì„œ ì—­ìˆœìœ¼ë¡œ, ì¦‰ ì˜¤ë˜ëœìˆœìœ¼ë¡œ ë‚˜ì—´í•©ë‹ˆë‹¤.\në¬¸ì œë¥¼ ìˆœì„œëŒ€ë¡œ í’€ì–´ë³´ë©´ ìœ ì‚¬í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ìˆì–´ ë¹„ìŠ·í•œê±´ í° ì œëª©ìœ¼ë¡œ ë¬¶ì—ˆìŠµë‹ˆë‹¤. í…Œì´ë¸” êµ¬ì¡°ëŠ” ìƒëµí•˜ê³  ë¬¸ì œ ìš”ì•½ \u0026gt; ë¬¸ì œ í•´ì„ + í’€ì´ \u0026gt; SQLë¬¸ ìˆœì„œë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.\nIDì œëª©ìœ í˜•ë‚œì´ë„ì •ë‹µë¥ ë¬¸ì œí’€ê¸°í’€ì´ë³´ê¸° 301651ë©¸ì¢…ìœ„ê¸°ì˜ ëŒ€ì¥ê·  ì°¾ê¸°SELECTLv.521%ë§í¬ë§í¬301650íŠ¹ì • ì„¸ëŒ€ì˜ ëŒ€ì¥ê·  ì°¾ê¸°SELECTLv.461%ë§í¬ë§í¬284528ì—°ê°„ í‰ê°€ì ìˆ˜ì— í•´ë‹¹í•˜ëŠ” í‰ê°€ ë“±ê¸‰ ë° ì„±ê³¼ê¸ˆ ì¡°íšŒí•˜ê¸°GROUP BYLv.472%ë§í¬ë§í¬276036ì–¸ì–´ë³„ ê°œë°œì ë¶„ë¥˜í•˜ê¸°GROUP BYLv.441%ë§í¬ë§í¬276035FrontEnd ê°œë°œì ì°¾ê¸°JOINLv.451%ë§í¬ë§í¬157339íŠ¹ì • ê¸°ê°„ë™ì•ˆ ëŒ€ì—¬ ê°€ëŠ¥í•œ ìë™ì°¨ë“¤ì˜ ëŒ€ì—¬ë¹„ìš© êµ¬í•˜ê¸°JOINLv.449%ë§í¬ë§í¬151141ìë™ì°¨ ëŒ€ì—¬ ê¸°ë¡ ë³„ ëŒ€ì—¬ ê¸ˆì•¡ êµ¬í•˜ê¸°String, DateLv.451%ë§í¬ë§í¬144856ì €ì ë³„ ì¹´í…Œê³ ë¦¬ ë³„ ë§¤ì¶œì•¡ ì§‘ê³„í•˜ê¸°GROUP BYLv.476%ë§í¬ë§í¬133027ì£¼ë¬¸ëŸ‰ì´ ë§ì€ ì•„ì´ìŠ¤í¬ë¦¼ë“¤ ì¡°íšŒí•˜ê¸°JOINLv.474%ë§í¬ë§í¬132204ì·¨ì†Œë˜ì§€ ì•Šì€ ì§„ë£Œ ì˜ˆì•½ ì¡°íšŒí•˜ê¸°String, DateLv.479%ë§í¬ë§í¬131537ì˜¤í”„ë¼ì¸/ì˜¨ë¼ì¸ íŒë§¤ ë°ì´í„° í†µí•©í•˜ê¸°SELECTLv.467%ë§í¬ë§í¬131534ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì› ë¹„ìœ¨ êµ¬í•˜ê¸°JOINLv.546%ë§í¬ë§í¬131532ë…„, ì›”, ì„±ë³„ ë³„ ìƒí’ˆ êµ¬ë§¤ íšŒì› ìˆ˜ êµ¬í•˜ê¸°GROUP BYLv.475%ë§í¬ë§í¬131124ê·¸ë£¹ë³„ ì¡°ê±´ì— ë§ëŠ” ì‹ë‹¹ ëª©ë¡ ì¶œë ¥í•˜ê¸°JOINLv.471%ë§í¬ë§í¬131118ì„œìš¸ì— ìœ„ì¹˜í•œ ì‹ë‹¹ ëª©ë¡ ì¶œë ¥í•˜ê¸°SELECTLv.475%ë§í¬ë§í¬1311175ì›” ì‹í’ˆë“¤ì˜ ì´ë§¤ì¶œ ì¡°íšŒí•˜ê¸°JOINLv.484%ë§í¬ë§í¬131116ì‹í’ˆë¶„ë¥˜ë³„ ê°€ì¥ ë¹„ì‹¼ ì‹í’ˆì˜ ì •ë³´ ì¡°íšŒí•˜ê¸°GROUP BYLv.485%ë§í¬ë§í¬62284ìš°ìœ ì™€ ìš”ê±°íŠ¸ê°€ ë‹´ê¸´ ì¥ë°”êµ¬ë‹ˆGROUP BYLv.474%ë§í¬ë§í¬59413ì…ì–‘ ì‹œê° êµ¬í•˜ê¸°(2)GROUP BYLv.461%ë§í¬ë§í¬59045ë³´í˜¸ì†Œì—ì„œ ì¤‘ì„±í™”í•œ ë™ë¬¼JOINLv.485%ë§í¬ë§í¬ ë™ë¬¼ ì…ì–‘ í…Œì´ë¸” # ë³´í˜¸ì†Œì—ì„œ ì¤‘ì„±í™”í•œ ë™ë¬¼ # ANIMAL_INS í…Œì´ë¸”ì€ ë™ë¬¼ ë³´í˜¸ì†Œì— ë“¤ì–´ì˜¨ ë™ë¬¼ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. ANIMAL_OUTS í…Œì´ë¸”ì€ ë™ë¬¼ ë³´í˜¸ì†Œì—ì„œ ì…ì–‘ ë³´ë‚¸ ë™ë¬¼ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\në³´í˜¸ì†Œì—ì„œ ì¤‘ì„±í™” ìˆ˜ìˆ ì„ ê±°ì¹œ ë™ë¬¼ ì •ë³´ë¥¼ ì•Œì•„ë³´ë ¤ í•©ë‹ˆë‹¤. ë³´í˜¸ì†Œì— ë“¤ì–´ì˜¬ ë‹¹ì‹œì—ëŠ” ì¤‘ì„±í™”ë˜ì§€ ì•Šì•˜ì§€ë§Œ, ë³´í˜¸ì†Œë¥¼ ë‚˜ê°ˆ ë‹¹ì‹œì—ëŠ” ì¤‘ì„±í™”ëœ ë™ë¬¼ì˜ ì•„ì´ë””ì™€ ìƒë¬¼ ì¢…, ì´ë¦„ì„ ì¡°íšŒí•˜ëŠ” ì•„ì´ë”” ìˆœìœ¼ë¡œ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.\në³´í˜¸ì†Œì— ë“¤ì–´ì˜¬ ë‹¹ì‹œì— ëŒ€í•œ í…Œì´ë¸” ANIMAL_INS ì—ì„œ íŠ¹ì • ì¡°ê±´ë§Œ ì„ íƒí•˜ê³ , ë³´í˜¸ì†Œë¥¼ ë‚˜ê°ˆ ë‹¹ì‹œì— ëŒ€í•œ í…Œì´ë¸” ANIMAL_OUTS ì—ì„œ íŠ¹ì • ì¡°ê±´ë§Œ ì„ íƒí•´ì„œ, ë‘ í…Œì´ë¸”ì„ INNER JOIN í•˜ì—¬ ë‘ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê²½ìš°ë§Œ ì„ íƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nANIMAL_INS í…Œì´ë¸”ì—ì„œëŠ” ì¤‘ì„±í™”ë˜ì§€ ì•Šì€ ì¡°ê±´ì¸, ì„±ë³„ ë° ì¤‘ì„±í™” ì—¬ë¶€(SEX_UPON_INTAKE)ì— \u0026quot;Intact\u0026quot; ë‹¨ì–´ê°€ í¬í•¨ëœ ê²½ìš°ë¥¼ ì„ íƒí•˜ë©´ ë©ë‹ˆë‹¤. ì¤‘ì„±í™” ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë‹¨ì–´ëŠ” ì•ì— ìˆê¸° ë•Œë¬¸ì— LIKE 'Intact%' ì¡°ê±´ì‹ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\nANIMAL_OUTS í…Œì´ë¸”ì—ì„œëŠ” ì¤‘ì„±í™”ëœ ì¡°ê±´ì¸, ì„±ë³„ ë° ì¤‘ì„±í™” ì—¬ë¶€(SEX_UPON_INTAKE)ì— \u0026quot;Spayed\u0026quot; ë˜ëŠ” \u0026quot;Neutered\u0026quot; ë‹¨ì–´ê°€ í¬í•¨ëœ ê²½ìš°ë¥¼ ì„ íƒí•˜ë©´ ë©ë‹ˆë‹¤. ë„ˆë¬´ ê¸¸ê²Œ ì“°ëŠ”ê±´ ì¢‹ì•„í•˜ì§€ ì•Šì•„ì„œ ì •ê·œí‘œí˜„ì‹ì„ í™œìš©í•˜ì—¬ REGEXP '^Spayed|Neutered' ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤.\nCopy sql SELECT INS.ANIMAL_ID, INS.ANIMAL_TYPE, INS.NAME FROM ANIMAL_INS AS INS INNER JOIN ANIMAL_OUTS AS OUTS ON INS.ANIMAL_ID = OUTS.ANIMAL_ID WHERE INS.SEX_UPON_INTAKE LIKE \u0026#39;Intact%\u0026#39; AND OUTS.SEX_UPON_OUTCOME REGEXP \u0026#39;^Spayed|Neutered\u0026#39; ORDER BY ANIMAL_ID; ì…ì–‘ ì‹œê° êµ¬í•˜ê¸°(2) # ANIMAL_OUTS í…Œì´ë¸”ì€ ë™ë¬¼ ë³´í˜¸ì†Œì—ì„œ ì…ì–‘ ë³´ë‚¸ ë™ë¬¼ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\në³´í˜¸ì†Œì—ì„œëŠ” ëª‡ ì‹œì— ì…ì–‘ì´ ê°€ì¥ í™œë°œí•˜ê²Œ ì¼ì–´ë‚˜ëŠ”ì§€ ì•Œì•„ë³´ë ¤ í•©ë‹ˆë‹¤. 0ì‹œë¶€í„° 23ì‹œê¹Œì§€, ê° ì‹œê°„ëŒ€ë³„ë¡œ ì…ì–‘ì´ ëª‡ ê±´ì´ë‚˜ ë°œìƒí–ˆëŠ”ì§€ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ê²°ê³¼ëŠ” ì‹œê°„ëŒ€ ìˆœìœ¼ë¡œ ì •ë ¬í•´ì•¼ í•©ë‹ˆë‹¤.\nì…ì–‘ì¼(DATETIME)ì—ì„œ ì‹œê°„ë§Œ ì¶”ì¶œí•˜ê³ , ì¶”ì¶œí•œ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ COUNT ì§‘ê³„í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nì£¼ì˜í•  ì ì€, 0ì‹œë¶€í„° 23ì‹œê¹Œì§€ ëª¨ë“  í–‰ì´ ì¡´ì¬í•´ì•¼ í•©ë‹ˆë‹¤. ANIMAL_OUTS í…Œì´ë¸”ì— ëª¨ë“  ì‹œê°„ëŒ€ê°€ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— 0ì‹œë¶€í„° 23ì‹œê¹Œì§€ ê°’ì„ ê°€ì§€ëŠ” í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.\nì˜ ì•ˆì¨ë³¸ êµ¬ë¬¸ì´ë¼ ì°¾ì•„ë´¤ëŠ”ë° RECURSIVE ë¼ëŠ” ì¬ê·€ì  ì¿¼ë¦¬ë¥¼ í™œìš©í•˜ë©´ ê°„ë‹¨í•˜ê²Œ í•´ê²°ë  ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤. ì¬ê·€ì  ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•œ HOURS ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ê³ , ì—¬ê¸°ì— ANIMAL_OUTS í…Œì´ë¸”ì„ COUNT ì§‘ê³„í•œ COUNTS ì„ì‹œ í…Œì´ë¸”ì„ LEFT JOIN ìœ¼ë¡œ ë¶™ì—¬ì„œ ëª¨ë“  ì‹œê°„ëŒ€ë¥¼ í‘œì‹œí–ˆìŠµë‹ˆë‹¤.\nCopy sql WITH RECURSIVE HOURS AS ( SELECT 0 AS HOUR UNION ALL SELECT HOUR + 1 FROM HOURS WHERE HOUR \u0026lt; 23 ), COUNTS AS ( SELECT HOUR(DATETIME) AS HOUR, COUNT(ANIMAL_ID) AS COUNT FROM ANIMAL_OUTS GROUP BY HOUR ) SELECT HR.HOUR, COALESCE(CNT.COUNT, 0) AS COUNT FROM HOURS AS HR LEFT JOIN COUNTS AS CNT ON HR.HOUR = CNT.HOUR ORDER BY HOUR; ì‹í’ˆ í…Œì´ë¸” # ìš°ìœ ì™€ ìš”ê±°íŠ¸ê°€ ë‹´ê¸´ ì¥ë°”êµ¬ë‹ˆ # CART_PRODUCTS í…Œì´ë¸”ì€ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸´ ìƒí’ˆ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\në°ì´í„° ë¶„ì„ íŒ€ì—ì„œëŠ” ìš°ìœ (Milk)ì™€ ìš”ê±°íŠ¸(Yogurt)ë¥¼ ë™ì‹œì— êµ¬ì…í•œ ì¥ë°”êµ¬ë‹ˆê°€ ìˆëŠ”ì§€ ì•Œì•„ë³´ë ¤ í•©ë‹ˆë‹¤. ìš°ìœ ì™€ ìš”ê±°íŠ¸ë¥¼ ë™ì‹œì— êµ¬ì…í•œ ì¥ë°”êµ¬ë‹ˆì˜ ì•„ì´ë””ë¥¼ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ê²°ê³¼ëŠ” ì¥ë°”êµ¬ë‹ˆì˜ ì•„ì´ë”” ìˆœìœ¼ë¡œ ë‚˜ì™€ì•¼ í•©ë‹ˆë‹¤.\nì¥ë°”êµ¬ë‹ˆì˜ ì•„ì´ë””(CART_ID) ê·¸ë£¹ìœ¼ë¡œ ì§‘ê³„í•˜ë©´ì„œ, ìƒí’ˆ ì¢…ë¥˜(NAME) ì— \u0026quot;Milk\u0026quot;ê°€ ìˆëŠ” ê²½ìš°ì™€ \u0026quot;Yogurt\u0026quot;ê°€ ìˆëŠ” ê²½ìš°ë¥¼ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ì•„ì´ë””ë§Œ ì„ íƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nìì£¼ ì“°ëŠ” Pythonì—ì„œëŠ” Boolean íƒ€ì…ì˜ True / False ë¥¼ ê°ê° ì •ìˆ˜ 1ê³¼ 0ìœ¼ë¡œ ì¸ì‹í•  ìˆ˜ ìˆëŠ”ë°, SQLë„ ê·¸ë ‡ì§€ ì•Šì„ê¹Œ ì‹¶ì–´ì„œ SUM ì§‘ê³„í•´ë´¤ìŠµë‹ˆë‹¤. ë‘ ê°€ì§€ ì¡°ê±´ì— ëŒ€í•´ SUM ì§‘ê³„ ê²°ê³¼ê°€ 1 ì´ìƒì¸ ê²½ìš°ë§Œ ì„ íƒí•´ì„œ ì•„ì´ë””ë§Œ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤.\nCopy sql WITH COUNTS AS ( SELECT CART_ID, SUM(NAME = \u0026#34;Milk\u0026#34;) AS MILK_COUNT, SUM(NAME = \u0026#34;Yogurt\u0026#34;) AS YOG_COUNT FROM CART_PRODUCTS GROUP BY CART_ID ) SELECT CART_ID FROM COUNTS WHERE MILK_COUNT \u0026gt; 0 AND YOG_COUNT \u0026gt; 0 ORDER BY CART_ID; ì‹í’ˆë¶„ë¥˜ë³„ ê°€ì¥ ë¹„ì‹¼ ì‹í’ˆì˜ ì •ë³´ ì¡°íšŒí•˜ê¸° # FOOD_PRODUCT í…Œì´ë¸”ì€ ì‹í’ˆì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nFOOD_PRODUCT í…Œì´ë¸”ì—ì„œ ì‹í’ˆë¶„ë¥˜ë³„ë¡œ ê°€ê²©ì´ ì œì¼ ë¹„ì‹¼ ì‹í’ˆì˜ ë¶„ë¥˜, ê°€ê²©, ì´ë¦„ì„ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ì‹í’ˆë¶„ë¥˜ê°€ 'ê³¼ì', 'êµ­', 'ê¹€ì¹˜', 'ì‹ìš©ìœ 'ì¸ ê²½ìš°ë§Œ ì¶œë ¥ì‹œì¼œ ì£¼ì‹œê³  ê²°ê³¼ëŠ” ì‹í’ˆ ê°€ê²©ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nì‹í’ˆë¶„ë¥˜(CATEGORY) ê·¸ë£¹ì—ì„œ ê°€ê²©(PRICE)ì´ ê°€ì¥ í° í•­ëª©ë§Œ ì„ íƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nê°€ê²©(PRICE)ì´ MAX ì§‘ê³„ ê²°ê³¼ì™€ ë™ì¼í•œ í•­ëª©ë§Œ ì„ íƒí•˜ëŠ” ê²½ìš°ë„ ìˆì§€ë§Œ, ë” ê°„ë‹¨í•˜ê²Œ WINDOW í•¨ìˆ˜ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ì‹í’ˆë¶„ë¥˜(CATEGORY) íŒŒí‹°ì…˜ì— ëŒ€í•´ ê°€ê²©(PRICE)ì„ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œ ìˆœë²ˆ(ROW_NUMBER)ì´ 1ì¸ ê²½ìš°ë§Œ ì„ íƒí•˜ë©´ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy sql WITH HIGHEST AS ( SELECT PRODUCT_ID, ROW_NUMBER() OVER (PARTITION BY CATEGORY ORDER BY PRICE DESC) AS SEQ FROM FOOD_PRODUCT WHERE CATEGORY IN (\u0026#34;ê³¼ì\u0026#34;,\u0026#34;êµ­\u0026#34;,\u0026#34;ê¹€ì¹˜\u0026#34;,\u0026#34;ì‹ìš©ìœ \u0026#34;) ) SELECT PRD.CATEGORY, PRD.PRICE AS MAX_PRICE, PRD.PRODUCT_NAME FROM FOOD_PRODUCT AS PRD INNER JOIN (SELECT * FROM HIGHEST WHERE SEQ = 1) AS HGT ON PRD.PRODUCT_ID = HGT.PRODUCT_ID ORDER BY MAX_PRICE DESC; 5ì›” ì‹í’ˆë“¤ì˜ ì´ë§¤ì¶œ ì¡°íšŒí•˜ê¸° # FOOD_PRODUCT í…Œì´ë¸”ì€ ì‹í’ˆì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. FOOD_ORDER í…Œì´ë¸”ì€ ì‹í’ˆì˜ ì£¼ë¬¸ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nFOOD_PRODUCT ì™€ FOOD_ORDER í…Œì´ë¸”ì—ì„œ ìƒì‚°ì¼ìê°€ 2022ë…„ 5ì›”ì¸ ì‹í’ˆë“¤ì˜ ì‹í’ˆ ID, ì‹í’ˆ ì´ë¦„, ì´ë§¤ì¶œì„ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ê²°ê³¼ëŠ” ì´ë§¤ì¶œì„ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì‹œê³  ì´ë§¤ì¶œì´ ê°™ë‹¤ë©´ ì‹í’ˆ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nì‹í’ˆ ID(PRODUCT_ID) ê·¸ë£¹ì— ëŒ€í•´ ì´ë§¤ì¶œ(SUM(AMOUNT * PRICE))ì„ ê³„ì‚°í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nJOIN ì„ ë¨¼ì €í•´ì„œ ë§¤ì¶œ(AMOUNT * PRICE)ì„ ê³„ì‚°í•˜ê³  SUM ì§‘ê³„í•˜ëŠ” ê²½ìš°ë„ ê°€ëŠ¥í•œë°, ê°œì¸ì ìœ¼ë¡œëŠ” GROUP BY ì‹œì— ì‹í’ˆ ì´ë¦„(PRODUCT_NAME)ê³¼ ê°™ì€ ê¸´ ë¬¸ìì—´ì„ í¬í•¨í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì…ê³ ì¼(PRODUCE_DATE)ì— ë”°ë¼ ê°€ê²©(PRICE)ì´ ë°”ë€ŒëŠ” ê²ƒë„ ì•„ë‹ˆê¸° ë•Œë¬¸ì— JOIN ê³¼ GROUP BY ì˜ ìˆœì„œë¥¼ ì‹ ê²½ì“¸ í•„ìš”ë„ ì—†ìŠµë‹ˆë‹¤. ë¬¼ë¡ , FOOD_PRODUCT í…Œì´ë¸”ì—ì„œ ì‹í’ˆ ID(PRODUCT_ID)ì— ì¤‘ë³µì´ ì—†ìŒì„ ì „ì œë¡œ í•©ë‹ˆë‹¤.\në”°ë¼ì„œ, ì‹í’ˆ ID(PRODUCT_ID)ì— ëŒ€í•´ì„œ ë¨¼ì € GROUP BY í•˜ì—¬ ì´ì£¼ë¬¸ëŸ‰(SUM(AMOUNT))ì„ ê³„ì‚°í•˜ê³ , ê°€ê²©(PRICE)ì„ ë‚˜ì¤‘ì— ê³±í•´ ì´ë§¤ì¶œ(SUM(AMOUNT) * PRICE)ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\nCopy sql WITH AMOUNTS AS ( SELECT PRODUCT_ID, SUM(AMOUNT) AS TOTAL_AMOUNT FROM FOOD_ORDER WHERE PRODUCE_DATE BETWEEN \u0026#39;2022-05-01\u0026#39; AND \u0026#39;2022-05-31\u0026#39; GROUP BY PRODUCT_ID ) SELECT AMT.PRODUCT_ID, PRD.PRODUCT_NAME, (AMT.TOTAL_AMOUNT * PRD.PRICE) AS TOTAL_SALES FROM AMOUNTS AS AMT INNER JOIN FOOD_PRODUCT AS PRD ON AMT.PRODUCT_ID = PRD.PRODUCT_ID ORDER BY TOTAL_SALES DESC, PRODUCT_ID ASC; ì‹ë‹¹ í…Œì´ë¸” # ì„œìš¸ì— ìœ„ì¹˜í•œ ì‹ë‹¹ ëª©ë¡ ì¶œë ¥í•˜ê¸° # REST_INFO í…Œì´ë¸”ì€ ì‹ë‹¹ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. REST_REVIEW í…Œì´ë¸”ì€ ì‹ë‹¹ì˜ ë¦¬ë·° ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nREST_INFO ì™€ REST_REVIEW í…Œì´ë¸”ì—ì„œ ì„œìš¸ì— ìœ„ì¹˜í•œ ì‹ë‹¹ë“¤ì˜ ì‹ë‹¹ ID, ì‹ë‹¹ ì´ë¦„, ìŒì‹ ì¢…ë¥˜, ì¦ê²¨ì°¾ê¸°ìˆ˜, ì£¼ì†Œ, ë¦¬ë·° í‰ê·  ì ìˆ˜ë¥¼ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ë¦¬ë·° í‰ê· ì ìˆ˜ëŠ” ì†Œìˆ˜ì  ì„¸ ë²ˆì§¸ ìë¦¬ì—ì„œ ë°˜ì˜¬ë¦¼ í•´ì£¼ì‹œê³  ê²°ê³¼ëŠ” í‰ê· ì ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì‹œê³ , í‰ê· ì ìˆ˜ê°€ ê°™ë‹¤ë©´ ì¦ê²¨ì°¾ê¸°ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nREST_REVIEW í…Œì´ë¸”ì—ì„œ ì‹ë‹¹ ID(REST_ID) ê·¸ë£¹ì— ëŒ€í•´ ë¦¬ë·° í‰ê·  ì ìˆ˜(AVG(REVIEW_SCORE))ë¥¼ ê³„ì‚°í•˜ê³ , REST_INFO í…Œì´ë¸”ì— ê³„ì‚° ê²°ê³¼ë¥¼ ê²°í•©í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nREST_INFO í…Œì´ë¸”ì„ ì¡°íšŒí•˜ë©´ ì„œìš¸ì— ìˆëŠ” ì‹ë‹¹ì€ ì „ë¶€ ì£¼ì†Œ(ADDRESS)ê°€ \u0026quot;ì„œìš¸\u0026quot;ë¡œ ì‹œì‘í•©ë‹ˆë‹¤. ì •ë ¬ ê¸°ì¤€ë§Œ ë§ì¶°ì„œ ì¡°íšŒí•˜ë©´ ì •ë‹µì„ ë„ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy sql WITH REVIEWS AS ( SELECT REST_ID, ROUND(AVG(REVIEW_SCORE),2) AS SCORE FROM REST_REVIEW GROUP BY REST_ID ) SELECT INFO.REST_ID, INFO.REST_NAME, INFO.FOOD_TYPE, INFO.FAVORITES, INFO.ADDRESS, RVW.SCORE FROM REST_INFO AS INFO INNER JOIN REVIEWS AS RVW ON INFO.REST_ID = RVW.REST_ID WHERE INFO.ADDRESS LIKE \u0026#34;ì„œìš¸%\u0026#34; ORDER BY SCORE DESC, FAVORITES DESC; ê·¸ë£¹ë³„ ì¡°ê±´ì— ë§ëŠ” ì‹ë‹¹ ëª©ë¡ ì¶œë ¥í•˜ê¸° # MEMBER_PROFILE í…Œì´ë¸”ì€ ê³ ê°ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. REST_REVIEW í…Œì´ë¸”ì€ ì‹ë‹¹ì˜ ë¦¬ë·° ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nMEMBER_PROFILE ì™€ REST_REVIEW í…Œì´ë¸”ì—ì„œ ë¦¬ë·°ë¥¼ ê°€ì¥ ë§ì´ ì‘ì„±í•œ íšŒì›ì˜ ë¦¬ë·°ë“¤ì„ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. íšŒì› ì´ë¦„, ë¦¬ë·° í…ìŠ¤íŠ¸, ë¦¬ë·° ì‘ì„±ì¼ì´ ì¶œë ¥ë˜ë„ë¡ ì‘ì„±í•´ì£¼ì‹œê³ , ê²°ê³¼ëŠ” ë¦¬ë·° ì‘ì„±ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ, ë¦¬ë·° ì‘ì„±ì¼ì´ ê°™ë‹¤ë©´ ë¦¬ë·° í…ìŠ¤íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nREST_REVIEW í…Œì´ë¸”ì—ì„œ ë¦¬ë·° ìˆ˜(COUNT(REVIEW_ID))ê°€ ê°€ì¥ í° íšŒì› ID(MEMBER_ID)ì— ëŒ€í•œ ë¦¬ë·° ëª©ë¡ì„ ì¡°íšŒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\níšŒì› ID(MEMBER_ID) ê·¸ë£¹ë³„ ë¦¬ë·° ìˆ˜(COUNT(REVIEW_ID))ë¥¼ ê³„ì‚°í•˜ê³ , ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•˜ì—¬ ì²« ë²ˆì§¸ í•­ëª©ë§Œ ì¡°íšŒí•˜ì—¬ ë¦¬ë·°ë¥¼ ê°€ì¥ ë§ì´ ì‘ì„±í•œ íšŒì›ì„ êµ¬í•©ë‹ˆë‹¤.\ní•´ë‹¹ íšŒì› ID(MEMBER_ID)ì— ëŒ€í•œ REST_REVIEW í•­ëª©ì„ ëª¨ë‘ ì¡°íšŒí•˜ë©´ì„œ, MEMBER_PROFILE í…Œì´ë¸”ì„ ê²°í•©í•´ íšŒì› ì´ë¦„(MEMBER_NAME)ì„ ê°™ì´ í‘œì‹œí•©ë‹ˆë‹¤. DATE íƒ€ì…ì˜ ë¦¬ë·° ì‘ì„±ì¼(REVIEW_DATE)ì€ ê·¸ëŒ€ë¡œ ì¶œë ¥í•˜ë©´ ì•ˆë˜ê³  %Y-%m-%d ë‚ ì§œ í¬ë§·íŒ…ì„ í•´ì•¼í•©ë‹ˆë‹¤.\nCopy sql WITH BEST_MEMBER AS ( SELECT MEMBER_ID, COUNT(REVIEW_ID) AS REVIEW_COUNT FROM REST_REVIEW GROUP BY MEMBER_ID ORDER BY REVIEW_COUNT DESC LIMIT 1 ) SELECT MEM.MEMBER_NAME, RVW.REVIEW_TEXT, DATE_FORMAT(RVW.REVIEW_DATE, \u0026#39;%Y-%m-%d\u0026#39;) AS REVIEW_DATE FROM REST_REVIEW AS RVW INNER JOIN BEST_MEMBER AS BST ON RVW.MEMBER_ID = BST.MEMBER_ID INNER JOIN MEMBER_PROFILE AS MEM ON RVW.MEMBER_ID = MEM.MEMBER_ID ORDER BY REVIEW_DATE; ì‡¼í•‘ëª° í…Œì´ë¸” # ë…„, ì›”, ì„±ë³„ ë³„ ìƒí’ˆ êµ¬ë§¤ íšŒì› ìˆ˜ êµ¬í•˜ê¸° # USER_INFO í…Œì´ë¸”ì€ ì˜ë¥˜ ì‡¼í•‘ëª°ì— ê°€ì…í•œ íšŒì› ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. ONLINE_SALE í…Œì´ë¸”ì€ ì˜¨ë¼ì¸ ìƒí’ˆ íŒë§¤ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nUSER_INFO í…Œì´ë¸”ê³¼ ONLINE_SALE í…Œì´ë¸”ì—ì„œ ë…„, ì›”, ì„±ë³„ ë³„ë¡œ ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì›ìˆ˜ë¥¼ ì§‘ê³„í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ë…„, ì›”, ì„±ë³„ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”. ì´ë•Œ, ì„±ë³„ ì •ë³´ê°€ ì—†ëŠ” ê²½ìš° ê²°ê³¼ì—ì„œ ì œì™¸í•´ì£¼ì„¸ìš”.\në‘ í…Œì´ë¸”ì„ INNER JOIN í•˜ë©´ì„œ ì„±ë³„(GENDER)ì´ ìˆëŠ”(IS NOT NULL) ê²½ìš°ë§Œ ì„ íƒí•©ë‹ˆë‹¤.\níŒë§¤ì¼(SALES_DATE)ì—ì„œ ê°ê° ì—°ë„(YEAR), ì›”(MONTH)ì„ ì¶”ì¶œí•˜ê³ , ì„±ë³„(GENDER)ê³¼ í•¨ê»˜ ì„¸ ê°€ì§€ ê¸°ì¤€ì— ëŒ€í•´ GROUP BY í•©ë‹ˆë‹¤. ê·¸ë£¹ ë‚´ì—ì„œ ì¤‘ë³µ ì—†ëŠ” íšŒì› ID(DISTINCT USER_ID)ë¥¼ COUNT ì§‘ê³„í•´ íšŒì›ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.\nCopy sql SELECT EXTRACT(YEAR FROM SALES.SALES_DATE) AS YEAR, EXTRACT(MONTH FROM SALES.SALES_DATE) AS MONTH, USR.GENDER, COUNT(DISTINCT SALES.USER_ID) AS USERS FROM ONLINE_SALE AS SALES INNER JOIN USER_INFO AS USR ON SALES.USER_ID = USR.USER_ID WHERE USR.GENDER IS NOT NULL GROUP BY YEAR, MONTH, GENDER ORDER BY YEAR, MONTH, GENDER; ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì› ë¹„ìœ¨ êµ¬í•˜ê¸° # USER_INFO í…Œì´ë¸”ì€ ì˜ë¥˜ ì‡¼í•‘ëª°ì— ê°€ì…í•œ íšŒì› ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. ONLINE_SALE í…Œì´ë¸”ì€ ì˜¨ë¼ì¸ ìƒí’ˆ íŒë§¤ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nUSER_INFO í…Œì´ë¸”ê³¼ ONLINE_SALE í…Œì´ë¸”ì—ì„œ 2021ë…„ì— ê°€ì…í•œ ì „ì²´ íšŒì›ë“¤ ì¤‘ ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì›ìˆ˜ì™€ ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì›ì˜ ë¹„ìœ¨(=2021ë…„ì— ê°€ì…í•œ íšŒì› ì¤‘ ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì›ìˆ˜ / 2021ë…„ì— ê°€ì…í•œ ì „ì²´ íšŒì› ìˆ˜)ì„ ë…„, ì›” ë³„ë¡œ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì›ì˜ ë¹„ìœ¨ì€ ì†Œìˆ˜ì  ë‘ë²ˆì§¸ìë¦¬ì—ì„œ ë°˜ì˜¬ë¦¼í•˜ê³ , ì „ì²´ ê²°ê³¼ëŠ” ë…„ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì‹œê³  ë…„ì´ ê°™ë‹¤ë©´ ì›”ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\n2021ë…„ì— ê°€ì…í•œ íšŒì›ìˆ˜ì™€, ê·¸ì¤‘ì—ì„œ ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì›ìˆ˜ë¥¼ ì§‘ê³„í•´ ê·¸ ë¹„ìœ¨ì„ ê³„ì‚°í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nìš°ì„ , ëŒ€ìƒì„ 2021ë…„ì— ê°€ì…í•œ íšŒì›ìœ¼ë¡œ ì¢íˆê¸° ìœ„í•´ USER_INFO ì—ì„œ ê°€ì…ì¼(JOINED)ì˜ ì—°ë„ê°€ 2021ì¸ í•­ëª©ë§Œ ì„ íƒí•œ TARGET_USERS ì„ì‹œ í…Œì´ë¸” ê²°ê³¼ë¥¼ ONLINE_SALE ì— INNER JOIN ìœ¼ë¡œ ì—°ê²°í•©ë‹ˆë‹¤.\nê°€ì…ì¼(JOINED)ì—ì„œ ì—°ë„(YEAR) ì™€ ì›”(MONTH)ì„ ì¶”ì¶œí•˜ê³ , ë‘ ê°€ì§€ ê¸°ì¤€ì— ëŒ€í•´ GROUP BY í•©ë‹ˆë‹¤. ê·¸ë£¹ ë‚´ì—ì„œ ì¤‘ë³µ ì—†ëŠ” íšŒì› ID(DISTINCT USER_ID)ë¥¼ COUNT ì§‘ê³„í•´ íšŒì›ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ”ë°, ì´ë•Œ íŒë§¤ëŸ‰(SALES_AMOUNT)ì´ 1 ì´ìƒì¸, ì¦‰ ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì› IDë§Œ ê³ ë ¤í•©ë‹ˆë‹¤. ì¡°ê±´ì— ë§ì§€ ì•ŠëŠ” íšŒì› IDëŠ” NULL ë¡œ ë°”ê¿”ì„œ COUNT ì§‘ê³„ì—ì„œ ì œì™¸í–ˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ ê³„ì‚°í•œ PURCHASED_USERS ê°’ì„ ë¶„ìë¡œ, íšŒì› ID(USER_ID)ë¥¼ COUNT ì§‘ê³„í•œ ê°’ì„ ë¶„ëª¨ë¡œ í•˜ì—¬ ìƒí’ˆì„ êµ¬ë§¤í•œ íšŒì›ì˜ ë¹„ìœ¨(PURCHASED_RATIO)ì„ ê³„ì‚°í•©ë‹ˆë‹¤.\nCopy sql WITH TARGET_USERS AS ( SELECT DISTINCT USER_ID FROM USER_INFO WHERE EXTRACT(YEAR FROM JOINED) = 2021 ), PURCHASED AS ( SELECT EXTRACT(YEAR FROM SALES.SALES_DATE) AS YEAR, EXTRACT(MONTH FROM SALES.SALES_DATE) AS MONTH, COUNT(DISTINCT IF(SALES.SALES_AMOUNT \u0026gt; 0, USERS.USER_ID, NULL)) AS PURCHASED_USERS FROM ONLINE_SALE AS SALES INNER JOIN TARGET_USERS AS USERS ON SALES.USER_ID = USERS.USER_ID GROUP BY YEAR, MONTH ) SELECT YEAR, MONTH, PURCHASED_USERS, ROUND(PURCHASED_USERS / (SELECT COUNT(USER_ID) FROM TARGET_USERS), 1) AS PUCHASED_RATIO FROM PURCHASED ORDER BY YEAR, MONTH; ì˜¤í”„ë¼ì¸/ì˜¨ë¼ì¸ íŒë§¤ ë°ì´í„° í†µí•©í•˜ê¸° # ONLINE_SALE í…Œì´ë¸”ì€ ì˜¨ë¼ì¸ ìƒí’ˆ íŒë§¤ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. ONLINE_SALE í…Œì´ë¸”ì€ ì˜¨ë¼ì¸ ìƒí’ˆ íŒë§¤ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nONLINE_SALE í…Œì´ë¸”ê³¼ OFFLINE_SALE í…Œì´ë¸”ì—ì„œ 2022ë…„ 3ì›”ì˜ ì˜¤í”„ë¼ì¸/ì˜¨ë¼ì¸ ìƒí’ˆ íŒë§¤ ë°ì´í„°ì˜ íŒë§¤ ë‚ ì§œ, ìƒí’ˆID, ìœ ì €ID, íŒë§¤ëŸ‰ì„ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. OFFLINE_SALE í…Œì´ë¸”ì˜ íŒë§¤ ë°ì´í„°ì˜ USER_ID ê°’ì€ NULL ë¡œ í‘œì‹œí•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” íŒë§¤ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì‹œê³  íŒë§¤ì¼ì´ ê°™ë‹¤ë©´ ìƒí’ˆ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ, ìƒí’ˆIDê¹Œì§€ ê°™ë‹¤ë©´ ìœ ì € IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\në‘ í…Œì´ë¸”ì„ ê²°ê³¼ë¥¼ ì„¸ë¡œë¡œ ê²°í•©í•˜ê³  ì •ë ¬í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nONLINE_SALE í…Œì´ë¸”ì€ íŒë§¤ì¼(SALES_DATE), ìƒí’ˆ ID(PRODUCT_ID), íšŒì› ID(USER_ID) ê·¸ë£¹ë³„ë¡œ íŒë§¤ëŸ‰(SALES_AMOUNT)ì„ SUM ì§‘ê³„í–ˆìŠµë‹ˆë‹¤. GROUP BY í•˜ë¼ëŠ” ì§€ë¬¸ì´ ì—†ì–´ ì•ˆí•´ë„ ë˜ì—ˆë˜ ê²ƒ ê°™ì€ë° ê°œì¸ì ìœ¼ë¡œ íŒë§¤ ë°ì´í„°ë¥¼ ë³´ë©´ ë²„ë¦‡ì²˜ëŸ¼ GROUP BY í•˜ê²Œ ë©ë‹ˆë‹¤.\nOFFLINE_SALE í…Œì´ë¸”ì€ íšŒì› ID(USER_ID)ê°€ ì—†ì§€ë§Œ, UNION ALL ì—°ì‚°ì„ ìœ„í•´ ONLINE_SALE í…Œì´ë¸”ê³¼ êµ¬ì„±ì„ ë§ì¶°ì¤„ ëª©ì ìœ¼ë¡œ NULL ê°’ì„ ê°€ì§€ëŠ” USER_ID ì—´ì„ ì¶”ê°€í•©ë‹ˆë‹¤.\nDATE íƒ€ì…ì˜ íŒë§¤ì¼(REVIEW_DATE)ì€ ê·¸ëŒ€ë¡œ ì¶œë ¥í•˜ë©´ ì•ˆë˜ê³  %Y-%m-%d ë‚ ì§œ í¬ë§·íŒ…ì„ í•´ì•¼í•©ë‹ˆë‹¤.\nCopy sql SELECT DATE_FORMAT(TOTAL.SALES_DATE, \u0026#39;%Y-%m-%d\u0026#39;) AS SALES_DATE, TOTAL.PRODUCT_ID, TOTAL.USER_ID, TOTAL.SALES_AMOUNT FROM ( SELECT SALES_DATE, PRODUCT_ID, USER_ID, SUM(SALES_AMOUNT) AS SALES_AMOUNT FROM ONLINE_SALE WHERE SALES_DATE BETWEEN \u0026#39;2022-03-01\u0026#39; AND \u0026#39;2022-03-31\u0026#39; GROUP BY SALES_DATE, PRODUCT_ID, USER_ID UNION ALL SELECT SALES_DATE, PRODUCT_ID, NULL AS USER_ID, SUM(SALES_AMOUNT) AS SALES_AMOUNT FROM OFFLINE_SALE WHERE SALES_DATE BETWEEN \u0026#39;2022-03-01\u0026#39; AND \u0026#39;2022-03-31\u0026#39; GROUP BY SALES_DATE, PRODUCT_ID ) AS TOTAL ORDER BY SALES_DATE, PRODUCT_ID, USER_ID; ì§„ë£Œ í…Œì´ë¸” # ì·¨ì†Œë˜ì§€ ì•Šì€ ì§„ë£Œ ì˜ˆì•½ ì¡°íšŒí•˜ê¸° # PATIENT í…Œì´ë¸”ì€ í™˜ì ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. DOCTOR í…Œì´ë¸”ì€ ì˜ì‚¬ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. APPOINTMENT í…Œì´ë¸”ì€ ì§„ë£Œ ì˜ˆì•½ëª©ë¡ì„ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nPATIENT, DOCTOR ê·¸ë¦¬ê³  APPOINTMENT í…Œì´ë¸”ì—ì„œ 2022ë…„ 4ì›” 13ì¼ ì·¨ì†Œë˜ì§€ ì•Šì€ í‰ë¶€ì™¸ê³¼(CS) ì§„ë£Œ ì˜ˆì•½ ë‚´ì—­ì„ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì§„ë£Œì˜ˆì•½ë²ˆí˜¸, í™˜ìì´ë¦„, í™˜ìë²ˆí˜¸, ì§„ë£Œê³¼ì½”ë“œ, ì˜ì‚¬ì´ë¦„, ì§„ë£Œì˜ˆì•½ì¼ì‹œ í•­ëª©ì´ ì¶œë ¥ë˜ë„ë¡ ì‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ì§„ë£Œì˜ˆì•½ì¼ì‹œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nì„¸ ê°œì˜ í…Œì´ë¸”ì—ì„œ ì¡°ê±´ì— ë§ëŠ” í•­ëª©ë“¤ë§Œ ì„ íƒí•´ ê²°í•©í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nAPPOINTMENT í…Œì´ë¸”ì—ì„œëŠ” ì§„ë£Œ ì˜ˆì•½ì¼ì‹œ(APNT_YMD)ê°€ '2022-04-13' ê³¼ ë™ì¼í•˜ê³  ì˜ˆì•½ì·¨ì†Œì—¬ë¶€(APNT_CNCL_YN)ê°€ 'N'ì— í•´ë‹¹í•˜ëŠ” ê²½ìš°ë§Œ ì„ íƒí•©ë‹ˆë‹¤.\nDOCTOR í…Œì´ë¸”ì—ì„œëŠ” ì§„ë£Œê³¼ì½”ë“œ(MCDP_CD)ê°€ 'CS'ì— í•´ë‹¹í•˜ëŠ” ê²½ìš°ë§Œ ì„ íƒí•©ë‹ˆë‹¤.\nPATIENT í…Œì´ë¸”ì€ í™˜ìì´ë¦„(PT_NAME)ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ëª©ì ì´ë©° ë”°ë¡œ ì¡°ê±´ì€ ì—†ìŠµë‹ˆë‹¤.\nì„¸ ê°œì˜ í…Œì´ë¸”ì„ INNER JOIN í•˜ì—¬ ì¡°ê±´ì„ ê²°í•©í•˜ê³  í•„ìš”í•œ í•­ëª©ë“¤ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\nCopy sql SELECT APP.APNT_NO, PAT.PT_NAME, APP.PT_NO, APP.MCDP_CD, DOC.DR_NAME, APP.APNT_YMD FROM APPOINTMENT AS APP INNER JOIN DOCTOR AS DOC ON APP.MDDR_ID = DOC.DR_ID INNER JOIN PATIENT AS PAT ON APP.PT_NO = PAT.PT_NO WHERE DATE_FORMAT(APP.APNT_YMD, \u0026#39;%Y-%m-%d\u0026#39;) = \u0026#39;2022-04-13\u0026#39; AND APP.APNT_CNCL_YN = \u0026#39;N\u0026#39; AND DOC.MCDP_CD = \u0026#39;CS\u0026#39; ORDER BY APNT_YMD íŒë§¤ í…Œì´ë¸” # ì£¼ë¬¸ëŸ‰ì´ ë§ì€ ì•„ì´ìŠ¤í¬ë¦¼ë“¤ ì¡°íšŒí•˜ê¸° # FIRST_HALF í…Œì´ë¸”ì€ ì•„ì´ìŠ¤í¬ë¦¼ ê°€ê²Œì˜ ìƒë°˜ê¸° ì£¼ë¬¸ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. JULY í…Œì´ë¸”ì€ 7ì›”ì˜ ì•„ì´ìŠ¤í¬ë¦¼ ì£¼ë¬¸ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\n7ì›” ì•„ì´ìŠ¤í¬ë¦¼ ì´ ì£¼ë¬¸ëŸ‰ê³¼ ìƒë°˜ê¸°ì˜ ì•„ì´ìŠ¤í¬ë¦¼ ì´ ì£¼ë¬¸ëŸ‰ì„ ë”í•œ ê°’ì´ í° ìˆœì„œëŒ€ë¡œ ìƒìœ„ 3ê°œì˜ ë§›ì„ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.\nì•„ì´ìŠ¤í¬ë¦¼ ì´ì£¼ë¬¸ëŸ‰(TOTAL_ORDER)ì„ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•˜ì—¬ ìƒìœ„ 3ê°œ í•­ëª©ë§Œ ì¡°íšŒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nêµ¬ì„±ì´ ë™ì¼í•œ FIRST_HALF í…Œì´ë¸”ê³¼ JULY í…Œì´ë¸”ì„ UNION ALL ê²°í•©í•˜ê³  ì•„ì´ìŠ¤í¬ë¦¼ ë§›(FLAVOR) ê·¸ë£¹ë³„ë¡œ ì•„ì´ìŠ¤í¬ë¦¼ ì´ì£¼ë¬¸ëŸ‰(TOTAL_ORDER)ì„ SUM ì§‘ê³„í•©ë‹ˆë‹¤.\nì´ë•Œ, ì§‘ê³„í•œ ê°’ì„ ì¶œë ¥í•  í•„ìš”ëŠ” ì—†ê¸° ë•Œë¬¸ì— êµ³ì´ SELECT í•˜ì§€ëŠ” ì•Šê³  ORDER BY êµ¬ë¬¸ì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì§‘ê³„í•œ ê°’ì„ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•œ í›„ LIMIT 3 ìœ¼ë¡œ ìƒìœ„ 3ê°œ í•­ëª©ë§Œ ì¡°íšŒí•©ë‹ˆë‹¤.\nCopy sql SELECT FLAVOR FROM ( SELECT * FROM FIRST_HALF UNION ALL SELECT * FROM JULY ) AS TOTAL GROUP BY FLAVOR ORDER BY SUM(TOTAL_ORDER) DESC LIMIT 3 ì €ì ë³„ ì¹´í…Œê³ ë¦¬ ë³„ ë§¤ì¶œì•¡ ì§‘ê³„í•˜ê¸° # BOOK í…Œì´ë¸”ì€ ê° ë„ì„œì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. AUTHOR í…Œì´ë¸”ì€ ë„ì„œì˜ ì €ìì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. BOOK_SALES í…Œì´ë¸”ì€ ê° ë„ì„œì˜ ë‚ ì§œ ë³„ íŒë§¤ëŸ‰ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\n2022ë…„ 1ì›”ì˜ ë„ì„œ íŒë§¤ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì €ì ë³„, ì¹´í…Œê³ ë¦¬ ë³„ ë§¤ì¶œì•¡(TOTAL_SALES = íŒë§¤ëŸ‰ * íŒë§¤ê°€) ì„ êµ¬í•˜ì—¬, ì €ì ID(AUTHOR_ID), ì €ìëª…(AUTHOR_NAME), ì¹´í…Œê³ ë¦¬(CATEGORY), ë§¤ì¶œì•¡(SALES) ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ì €ì IDë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ, ì €ì IDê°€ ê°™ë‹¤ë©´ ì¹´í…Œê³ ë¦¬ë¥¼ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nì„¸ ê°œì˜ í…Œì´ë¸”ì„ ê²°í•©í•˜ê³  ì œì‹œëœ ê·¸ë£¹ë³„ ë§¤ì¶œì•¡ì„ ê³„ì‚°í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nBOOK_SALES í…Œì´ë¸”ì—ì„œ BOOK_ID, AUTHOR_ID ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°ê° BOOK, AUTHOR í…Œì´ë¸”ê³¼ INNER JOIN í•©ë‹ˆë‹¤. BOOK_SALES í…Œì´ë¸”ì˜ íŒë§¤ëŸ‰(SALES)ê³¼ BOOK í…Œì´ë¸”ì˜ íŒë§¤ê°€(PRICE)ë¥¼ ê³±í•œ ë§¤ì¶œì•¡ì„ SUM ì§‘ê³„í•˜ì—¬ ì´ë§¤ì¶œì•¡(TOTAL_SALES)ì„ ê³„ì‚°í•©ë‹ˆë‹¤.\nCopy sql SELECT BK.AUTHOR_ID, AU.AUTHOR_NAME, BK.CATEGORY, SUM(SALES.SALES * BK.PRICE) AS TOTAL_SALES FROM BOOK_SALES AS SALES INNER JOIN BOOK AS BK ON SALES.BOOK_ID = BK.BOOK_ID INNER JOIN AUTHOR AS AU ON BK.AUTHOR_ID = AU.AUTHOR_ID WHERE SALES.SALES_DATE BETWEEN \u0026#39;2022-01-01\u0026#39; AND \u0026#39;2022-01-31\u0026#39; GROUP BY AUTHOR_ID, AUTHOR_NAME, CATEGORY ORDER BY AUTHOR_ID, CATEGORY DESC; ìë™ì°¨ ëŒ€ì—¬ í…Œì´ë¸” # ìë™ì°¨ ëŒ€ì—¬ ê¸°ë¡ ë³„ ëŒ€ì—¬ ê¸ˆì•¡ êµ¬í•˜ê¸° # CAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ì€ ëŒ€ì—¬ ì¤‘ì¸ ìë™ì°¨ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. CAR_RENTAL_COMPANY_RENTAL_HISTORY í…Œì´ë¸”ì€ ìë™ì°¨ ëŒ€ì—¬ ê¸°ë¡ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. CAR_RENTAL_COMPANY_DISCOUNT_PLAN í…Œì´ë¸”ì€ ìë™ì°¨ ì¢…ë¥˜ ë³„ ëŒ€ì—¬ ê¸°ê°„ ì¢…ë¥˜ ë³„ í• ì¸ ì •ì±… ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸” ì…ë‹ˆë‹¤.\nCAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ê³¼ CAR_RENTAL_COMPANY_RENTAL_HISTORY í…Œì´ë¸”ê³¼ CAR_RENTAL_COMPANY_DISCOUNT_PLAN í…Œì´ë¸”ì—ì„œ ìë™ì°¨ ì¢…ë¥˜ê°€ 'íŠ¸ëŸ­'ì¸ ìë™ì°¨ì˜ ëŒ€ì—¬ ê¸°ë¡ì— ëŒ€í•´ì„œ ëŒ€ì—¬ ê¸°ë¡ ë³„ë¡œ ëŒ€ì—¬ ê¸ˆì•¡(ì»¬ëŸ¼ëª…: FEE)ì„ êµ¬í•˜ì—¬ ëŒ€ì—¬ ê¸°ë¡ IDì™€ ëŒ€ì—¬ ê¸ˆì•¡ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ëŒ€ì—¬ ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•˜ê³ , ëŒ€ì—¬ ê¸ˆì•¡ì´ ê°™ì€ ê²½ìš° ëŒ€ì—¬ ê¸°ë¡ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nì„¸ ê°œì˜ í…Œì´ë¸”ì„ ê²°í•©í•˜ëŠ”ë°, ìš°ì„  ëŒ€ì—¬ ì‹œì‘ì¼(START_DATE)ê³¼ ëŒ€ì—¬ ì¢…ë£Œì¼(END_DATE) ê¸°ê°„ì— ëŒ€í•œ ë‚ ì§œìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í• ì¸ìœ¨ ì ìš© ê¸°ì¤€ì„ ë¶„ë¥˜í•©ë‹ˆë‹¤. í• ì¸ìœ¨ ì ìš© ê¸°ì¤€ì„ í†µí•´ í• ì¸ìœ¨(DISCOUNT_RATE) ìˆ˜ì¹˜ë¥¼ ë„ì¶œí•˜ì—¬ ëŒ€ì—¬ ê¸ˆì•¡(FEE)ì— í• ì¸ ì ìš©ì„ í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nì¼ìˆ˜(DAYS)ë¥¼ ê³„ì‚°í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ DATEDIFF í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì‹œì‘ì¼ê³¼ ì¢…ë£Œì¼ë„ ê¸°ê°„ì— í¬í•¨ë˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ì˜ ê²°ê³¼ì— +1 ì„ ë”í•©ë‹ˆë‹¤. ì¼ìˆ˜(DAYS)ì— ëŒ€í•´ CASE ì¡°ê±´ë¬¸ì„ í†µí•´ ëŒ€ì—¬ ê¸°ê°„ ì¢…ë¥˜(DURATION_TYPE)ì— í•´ë‹¹í•˜ëŠ” 4ê°€ì§€ ë¶„ë¥˜ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤. ëŒ€ì—¬ ê¸°ê°„ ì¢…ë¥˜(DURATION_TYPE)ëŠ” ê·¸ëŒ€ë¡œ LEFT JOIN ì˜ ê¸°ì¤€ìœ¼ë¡œì¨, CAR_RENTAL_COMPANY_DISCOUNT_PLAN í…Œì´ë¸”ë¡œë¶€í„° í• ì¸ìœ¨(DISCOUNT_RATE)ì„ ë„ì¶œí•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.\nëŒ€ì—¬ ê¸ˆì•¡(FEE)ì€ ì¼ì¼ ëŒ€ì—¬ ìš”ê¸ˆ(DAILY_FEE)ì— ì•ì—ì„œ êµ¬í•œ ì¼ìˆ˜(DAYS)ì™€ í• ì¸ìœ¨(DISCOUNT_RATE)ì„ ê³±í•œ ê²°ê³¼ì…ë‹ˆë‹¤. ì´ë•Œ, ì •ìˆ˜ íƒ€ì…ì¸ í• ì¸ìœ¨(DISCOUNT_RATE)ì€ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê³ , 1.0 - (í• ì¸ìœ¨ / 100) ê³„ì‚°ì‹ì— ë„£ì–´ ë°°ìœ¨ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.\nCopy sql WITH HISTORY AS ( SELECT *, (DATEDIFF(END_DATE, START_DATE) + 1) AS DAYS FROM CAR_RENTAL_COMPANY_RENTAL_HISTORY ) SELECT HIST.HISTORY_ID, ROUND(CAR.DAILY_FEE * HIST.DAYS * (1.0 - (IFNULL(DIS.DISCOUNT_RATE, 0) / 100))) AS FEE FROM HISTORY AS HIST INNER JOIN CAR_RENTAL_COMPANY_CAR AS CAR ON HIST.CAR_ID = CAR.CAR_ID LEFT JOIN CAR_RENTAL_COMPANY_DISCOUNT_PLAN AS DIS ON DIS.CAR_TYPE = CAR.CAR_TYPE AND DIS.DURATION_TYPE = ( CASE WHEN HIST.DAYS \u0026gt;= 90 THEN \u0026#39;90ì¼ ì´ìƒ\u0026#39; WHEN HIST.DAYS \u0026gt;= 30 THEN \u0026#39;30ì¼ ì´ìƒ\u0026#39; WHEN HIST.DAYS \u0026gt;= 7 THEN \u0026#39;7ì¼ ì´ìƒ\u0026#39; ELSE \u0026#39;7ì¼ ë¯¸ë§Œ\u0026#39; END) WHERE CAR.CAR_TYPE = \u0026#39;íŠ¸ëŸ­\u0026#39; ORDER BY FEE DESC, HISTORY_ID DESC íŠ¹ì • ê¸°ê°„ë™ì•ˆ ëŒ€ì—¬ ê°€ëŠ¥í•œ ìë™ì°¨ë“¤ì˜ ëŒ€ì—¬ë¹„ìš© êµ¬í•˜ê¸° # CAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ì€ ëŒ€ì—¬ ì¤‘ì¸ ìë™ì°¨ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. CAR_RENTAL_COMPANY_RENTAL_HISTORY í…Œì´ë¸”ì€ ìë™ì°¨ ëŒ€ì—¬ ê¸°ë¡ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. CAR_RENTAL_COMPANY_DISCOUNT_PLAN í…Œì´ë¸”ì€ ìë™ì°¨ ì¢…ë¥˜ ë³„ ëŒ€ì—¬ ê¸°ê°„ ì¢…ë¥˜ ë³„ í• ì¸ ì •ì±… ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸” ì…ë‹ˆë‹¤.\nCAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ê³¼ CAR_RENTAL_COMPANY_RENTAL_HISTORY í…Œì´ë¸”ê³¼ CAR_RENTAL_COMPANY_DISCOUNT_PLAN í…Œì´ë¸”ì—ì„œ ìë™ì°¨ ì¢…ë¥˜ê°€ 'ì„¸ë‹¨' ë˜ëŠ” 'SUV' ì¸ ìë™ì°¨ ì¤‘ 2022ë…„ 11ì›” 1ì¼ë¶€í„° 2022ë…„ 11ì›” 30ì¼ê¹Œì§€ ëŒ€ì—¬ ê°€ëŠ¥í•˜ê³  30ì¼ê°„ì˜ ëŒ€ì—¬ ê¸ˆì•¡ì´ 50ë§Œì› ì´ìƒ 200ë§Œì› ë¯¸ë§Œì¸ ìë™ì°¨ì— ëŒ€í•´ì„œ ìë™ì°¨ ID, ìë™ì°¨ ì¢…ë¥˜, ëŒ€ì—¬ ê¸ˆì•¡(ì»¬ëŸ¼ëª…: FEE) ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ëŒ€ì—¬ ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•˜ê³ , ëŒ€ì—¬ ê¸ˆì•¡ì´ ê°™ì€ ê²½ìš° ìë™ì°¨ ì¢…ë¥˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬, ìë™ì°¨ ì¢…ë¥˜ê¹Œì§€ ê°™ì€ ê²½ìš° ìë™ì°¨ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nì•ì„  ë¬¸ì œì™€ í…Œì´ë¸” ë° ëŒ€ì—¬ ê¸ˆì•¡(FEE) ê³„ì‚° ë°©ë²•ì´ ë™ì¼í•œë°, ì„¸ë¶€ì ì¸ ì¡°ê±´ì´ ëŠ˜ì–´ë‚¬ìŠµë‹ˆë‹¤.\nì²« ë²ˆì§¸ ì¡°ê±´ì¸ ìë™ì°¨ ì¢…ë¥˜ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì€ CAR_RENTAL_COMPANY_CAR í…Œì´ë¸”ì—ì„œ WHERE ì ˆì„ í†µí•´ ìë™ì°¨ ì¢…ë¥˜(CAR_TYPE)ê°€ 'ì„¸ë‹¨' ë˜ëŠ” 'SUV'ì¸ ê²ƒë§Œ ì„ íƒí•˜ë©´ ë©ë‹ˆë‹¤.\në‘ ë²ˆì§¸ ì¡°ê±´ì¸ 2022ë…„ 11ì›” 1ì¼ë¶€í„° 2022ë…„ 11ì›” 30ì¼ê¹Œì§€ ëŒ€ì—¬ ê°€ëŠ¥í•œ ê²½ìš°ëŠ” CAR_RENTAL_COMPANY_RENTAL_HISTORY í…Œì´ë¸”ì—ì„œ ëŒ€ì—¬ ì‹œì‘ì¼(START_DATE)ê³¼ ëŒ€ì—¬ ì¢…ë£Œì¼(END_DATE)ì´ í•´ë‹¹ ê¸°ê°„ì— ê±¸ì¹˜ëŠ” ê²½ìš°ë¥¼ íŒŒì•…í•˜ê³  ëŒ€ìƒ ìë™ì°¨ ID(CAR_ID)ë¥¼ WHERE ì ˆì˜ AND ì¡°ê±´ìœ¼ë¡œ ì¶”ê°€í•´ ì œì™¸í•©ë‹ˆë‹¤.\nì„¸ ë²ˆì§¸ ì¡°ê±´ì€ ëŒ€ì—¬ ê¸ˆì•¡(FEE)ì„ ê³„ì‚°í•œ í›„, WHERE ì ˆì„ í†µí•´ 50ë§Œì› ì´ìƒ 200ë§Œì› ë¯¸ë§Œì¸ ê²½ìš°ë¥¼ ì„ íƒí•©ë‹ˆë‹¤. FEE \u0026gt;= (50 * 10000) AND FEE \u0026lt; (200 * 10000) ì¡°ê±´ì„ ì ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, ìƒëŒ€ì ìœ¼ë¡œ ê¸¸ì´ê°€ ì§§ì€ BETWEEN ì ˆë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤. ëŒ€ì—¬ ê¸ˆì•¡(FEE)ì€ ì†Œìˆ˜ì ê¹Œì§€ ë–¨ì–´ì§€ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì— -1 í•˜ì—¬ ë¯¸ë§Œ(\u0026lt;)ê³¼ ë™ì¼í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy sql WITH HISTORY AS ( SELECT *, (DATEDIFF(END_DATE, START_DATE) + 1) AS DAYS FROM CAR_RENTAL_COMPANY_RENTAL_HISTORY ), DISCOUNT_PLAN AS ( SELECT CAR_TYPE, DURATION_TYPE, (1.0 - (DISCOUNT_RATE / 100)) AS DISCOUNT_RATE FROM CAR_RENTAL_COMPANY_DISCOUNT_PLAN ), CAR_IN_USE AS ( SELECT DISTINCT CAR_ID FROM HISTORY WHERE START_DATE \u0026lt;= \u0026#39;2022-11-30\u0026#39; AND END_DATE \u0026gt;= \u0026#39;2022-11-01\u0026#39; ), CAR AS ( SELECT CAR.CAR_ID, CAR.CAR_TYPE, ROUND(CAR.DAILY_FEE * 30 * IFNULL(DIS.DISCOUNT_RATE, 1.0)) AS FEE FROM CAR_RENTAL_COMPANY_CAR AS CAR LEFT JOIN DISCOUNT_PLAN AS DIS ON CAR.CAR_TYPE = DIS.CAR_TYPE AND DIS.DURATION_TYPE = \u0026#39;30ì¼ ì´ìƒ\u0026#39; WHERE CAR.CAR_TYPE IN (\u0026#39;ì„¸ë‹¨\u0026#39;,\u0026#39;SUV\u0026#39;) AND CAR.CAR_ID NOT IN (SELECT CAR_ID FROM CAR_IN_USE) ) SELECT CAR_ID, CAR_TYPE, FEE FROM CAR WHERE FEE BETWEEN (50 * 10000) AND (200 * 10000 - 1) ORDER BY FEE DESC, CAR_TYPE ASC, CAR_ID DESC ê°œë°œì ìŠ¤í‚¬ í…Œì´ë¸” # FrontEnd ê°œë°œì ì°¾ê¸° # SKILLCODES í…Œì´ë¸”ì€ ê°œë°œìë“¤ì´ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. DEVELOPERS í…Œì´ë¸”ì€ ê°œë°œìë“¤ì˜ í”„ë¡œê·¸ë˜ë° ìŠ¤í‚¬ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nDEVELOPERS í…Œì´ë¸”ì—ì„œ Front End ìŠ¤í‚¬ì„ ê°€ì§„ ê°œë°œìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ë ¤ í•©ë‹ˆë‹¤. ì¡°ê±´ì— ë§ëŠ” ê°œë°œìì˜ ID, ì´ë©”ì¼, ì´ë¦„, ì„±ì„ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ ì£¼ì„¸ìš”.\në‘ ê°œì˜ í…Œì´ë¸”ì—ì„œ ì •ìˆ˜ íƒ€ì…ì¸ ìŠ¤í‚¬ ì½”ë“œ ì—´ì„ ë¹„íŠ¸ ì—°ì‚°í•˜ì—¬ ê³µí†µëœ ê²½ìš°ë¥¼ JOIN í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nSKILLCODES í…Œì´ë¸”ì—ì„œ ìŠ¤í‚¬ì˜ ë²”ì£¼(CATEGORY)ê°€ 'Front End'ì— í•´ë‹¹í•˜ëŠ” í•­ëª©ë§Œ ì„ íƒí•©ë‹ˆë‹¤. í•´ë‹¹ í…Œì´ë¸”ì˜ ìŠ¤í‚¬ì˜ ì½”ë“œ(CODE)ëŠ” 2ì§„ìˆ˜ë¡œ í‘œí˜„í–ˆì„ ë•Œ ê° ë¹„íŠ¸ë§ˆë‹¤ í•˜ë‚˜ì˜ ìŠ¤í‚¬ì— ëŒ€ì‘ë©ë‹ˆë‹¤.\nDEVELOPERS í…Œì´ë¸”ì—ë„ ë§ˆì°¬ê°€ì§€ë¡œ ê°œë°œìì— ëŒ€í•œ ìŠ¤í‚¬ ì½”ë“œ(SKILL_CODE)ê°€ ìˆìŠµë‹ˆë‹¤. ë‘ ê°œ í…Œì´ë¸”ì˜ ìŠ¤í‚¬ ì½”ë“œë¥¼ \u0026amp; ì—°ì‚°ìë¥¼ í™œìš©í•´ ë¹„íŠ¸ ì—°ì‚°í•˜ë©´ ê³µí†µëœ ë¹„íŠ¸ë§Œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ SKILLCODES í…Œì´ë¸”ì˜ ìŠ¤í‚¬ì˜ ì½”ë“œ(CODE)ì™€ ê°™ë‹¤ë©´ í•´ë‹¹ ìŠ¤í‚¬ì„ ë³´ìœ í•˜ê³  ìˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n'Front End' ìŠ¤í‚¬ì„ ê°€ì§„ ê°œë°œìì˜ ID(ID)ë§Œ ë”°ë¡œ ì¶”ì¶œí•˜ê³ , DEVELOPERS í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ID ì— í•´ë‹¹í•˜ëŠ” í•­ëª©ë“¤ë§Œ ì„ íƒí•˜ì—¬ ì¡°íšŒí•©ë‹ˆë‹¤.\nCopy sql WITH TARGET AS ( SELECT DISTINCT DEV.ID FROM DEVELOPERS AS DEV INNER JOIN SKILLCODES AS SKL ON (DEV.SKILL_CODE \u0026amp; SKL.CODE) = SKL.CODE WHERE SKL.CATEGORY = \u0026#39;Front End\u0026#39; ) SELECT ID, EMAIL, FIRST_NAME, LAST_NAME FROM DEVELOPERS WHERE ID IN (SELECT ID FROM TARGET) ORDER BY ID; ì–¸ì–´ë³„ ê°œë°œì ë¶„ë¥˜í•˜ê¸° # SKILLCODES í…Œì´ë¸”ì€ ê°œë°œìë“¤ì´ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. DEVELOPERS í…Œì´ë¸”ì€ ê°œë°œìë“¤ì˜ í”„ë¡œê·¸ë˜ë° ìŠ¤í‚¬ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nDEVELOPERS í…Œì´ë¸”ì—ì„œ GRADEë³„ ê°œë°œìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ë ¤ í•©ë‹ˆë‹¤. GRADEëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •í•´ì§‘ë‹ˆë‹¤.\nA : Front End ìŠ¤í‚¬ê³¼ Python ìŠ¤í‚¬ì„ í•¨ê»˜ ê°€ì§€ê³  ìˆëŠ” ê°œë°œì B : C# ìŠ¤í‚¬ì„ ê°€ì§„ ê°œë°œì C : ê·¸ ì™¸ì˜ Front End ê°œë°œì GRADEê°€ ì¡´ì¬í•˜ëŠ” ê°œë°œìì˜ GRADE, ID, EMAILì„ ì¡°íšŒí•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” GRADEì™€ IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ ì£¼ì„¸ìš”.\nì•ì„  ë¬¸ì œì™€, í…Œì´ë¸” ë° ìŠ¤í‚¬ ì½”ë“œë¥¼ ë¹„íŠ¸ ì—°ì‚°í•˜ì—¬ ê°œë°œìê°€ ìŠ¤í‚¬ì„ ê°€ì¡ŒëŠ”ì§€ íŒë‹¨í•˜ëŠ” ë°©ë²•ì´ ë™ì¼í•œë°, ì„¸ë¶€ì ì¸ ì¡°ê±´ì´ ëŠ˜ì–´ë‚¬ìŠµë‹ˆë‹¤.\nCASE ì¡°ê±´ë¬¸ì„ í†µí•´ 'A', 'B', 'C' ì„¸ ê°€ì§€ ë“±ê¸‰ìœ¼ë¡œ ê°œë°œìë¥¼ ë‚˜ëˆ„ëŠ”ë°, CASE ì•ˆì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ì¡°ê±´ì„ í‘œí˜„í•˜ë©´ ê¸¸ì–´ì§ˆ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, 'Front End' ìŠ¤í‚¬ì„ ë³´ìœ í•œ ê²½ìš°ì— ëŒ€í•´ì„œëŠ” 'A', 'C' ë‘ ê°€ì§€ ë“±ê¸‰ì—ì„œ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì— ì¤‘ë³µ ì„ ì–¸ë„ í”¼í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.\në”°ë¼ì„œ, ì›í•˜ëŠ” ìŠ¤í‚¬ì„ ë³´ìœ í•œ ê²½ìš°ë¥¼ HAS_SKILLS ë¼ëŠ” ì„ì‹œ í…Œì´ë¸”ë¡œ êµ¬ì„±í•˜ê³ , í•´ë‹¹ í…Œì´ë¸”ì„ DEVELOPERS í…Œì´ë¸”ì— INNER JOIN í•˜ì—¬ ë¯¸ë¦¬ ê³„ì‚°í•œ ì¡°ê±´ì— ëŒ€í•œ Boolean ê°’ì„ CASE ì•ˆì—ì„œ ê°€ì ¸ë‹¤ ì‚¬ìš©í•©ë‹ˆë‹¤. ì¡°ê±´ì— í•´ë‹¹ë˜ì§€ ì•ŠëŠ” ë‚˜ë¨¸ì§€ ê°œë°œìì— ëŒ€í•œ ë“±ê¸‰ì€ NULL ë¡œ ë¶„ë¥˜í•˜ê³ , ë“±ê¸‰ì´ NULL ì¸ ê²½ìš°ë§Œ ì œì™¸í•˜ì—¬ ì¡°íšŒí•©ë‹ˆë‹¤.\nCopy sql WITH HAS_SKILLS AS ( SELECT DEV.ID, (SUM(SKL.CATEGORY = \u0026#39;Front End\u0026#39;) \u0026gt; 0) AS HAS_FRONT, (SUM(SKL.NAME = \u0026#39;Python\u0026#39;) \u0026gt; 0) AS HAS_PYTHON, (SUM(SKL.NAME = \u0026#39;C#\u0026#39;) \u0026gt; 0) AS HAS_CSHARP FROM DEVELOPERS AS DEV LEFT JOIN SKILLCODES AS SKL ON (DEV.SKILL_CODE \u0026amp; SKL.CODE) = SKL.CODE GROUP BY ID ), WITH_GRADE AS ( SELECT (CASE WHEN SKL.HAS_FRONT AND SKL.HAS_PYTHON THEN \u0026#39;A\u0026#39; WHEN SKL.HAS_CSHARP THEN \u0026#39;B\u0026#39; WHEN SKL.HAS_FRONT THEN \u0026#39;C\u0026#39; ELSE NULL END) AS GRADE, DEV.ID, DEV.EMAIL FROM DEVELOPERS AS DEV INNER JOIN HAS_SKILLS AS SKL ON DEV.ID = SKL.ID ) SELECT * FROM WITH_GRADE WHERE GRADE IS NOT NULL ORDER BY GRADE, ID; ì¸ì‚¬ í…Œì´ë¸” # ì—°ê°„ í‰ê°€ì ìˆ˜ì— í•´ë‹¹í•˜ëŠ” í‰ê°€ ë“±ê¸‰ ë° ì„±ê³¼ê¸ˆ ì¡°íšŒí•˜ê¸° # HR_DEPARTMENT í…Œì´ë¸”ì€ íšŒì‚¬ì˜ ë¶€ì„œ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. HR_EMPLOYEES í…Œì´ë¸”ì€ íšŒì‚¬ì˜ ì‚¬ì› ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤. HR_GRADE í…Œì´ë¸”ì€ 2022ë…„ ì‚¬ì›ì˜ í‰ê°€ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nHR_DEPARTMENT, HR_EMPLOYEES, HR_GRADE í…Œì´ë¸”ì„ ì´ìš©í•´ ì‚¬ì›ë³„ ì„±ê³¼ê¸ˆ ì •ë³´ë¥¼ ì¡°íšŒí•˜ë ¤í•©ë‹ˆë‹¤. í‰ê°€ ì ìˆ˜ë³„ ë“±ê¸‰ê³¼ ë“±ê¸‰ì— ë”°ë¥¸ ì„±ê³¼ê¸ˆ ì •ë³´ê°€ ì•„ë˜ì™€ ê°™ì„ ë•Œ, ì‚¬ë²ˆ, ì„±ëª…, í‰ê°€ ë“±ê¸‰, ì„±ê³¼ê¸ˆì„ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.\ní‰ê°€ë“±ê¸‰ì˜ ì»¬ëŸ¼ëª…ì€ GRADE ë¡œ, ì„±ê³¼ê¸ˆì˜ ì»¬ëŸ¼ëª…ì€ BONUS ë¡œ í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” ì‚¬ë²ˆ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nHR_GRADE í…Œì´ë¸”ì˜ í‰ê°€ ì ìˆ˜(SCORE)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í‰ê°€ë“±ê¸‰(GRADE)ê³¼ ì„±ê³¼ê¸ˆ(BONUS)ì„ ë„ì¶œí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nì‚¬ì› í‰ê°€ëŠ” ë°˜ê¸°ë§ˆë‹¤ ë°œìƒí•˜ëŠ”ë° 2022ë…„ ë‚´ì— ë‘ ì°¨ë¡€ ë°œìƒí–ˆê¸° ë•Œë¬¸ì—, ì‚¬ë²ˆ(EMP_NO) ê·¸ë£¹ë³„ë¡œ í‰ê°€ ì ìˆ˜(SCORE)ë¥¼ AVG ì§‘ê³„í•©ë‹ˆë‹¤. í‰ê·  í‰ê°€ ì ìˆ˜(AVG(SCORE))ë¥¼ CASE ì¡°ê±´ë¬¸ì— ë„£ì–´ í‰ê°€ë“±ê¸‰(GRADE)ê³¼ ì„±ê³¼ê¸ˆ(BONUS)ì„ ë¶„ë¥˜í•©ë‹ˆë‹¤.\në¶„ë¥˜í•œ ì„±ê³¼ê¸ˆì€ ì—°ë´‰ì— ëŒ€í•œ ë°°ìœ¨ì´ê¸° ë•Œë¬¸ì—, ìµœì¢… ë‹µì•ˆì„ ë‚¼ ë•ŒëŠ” HR_EMPLOYEES í…Œì´ë¸”ì˜ ì—°ë´‰(SAL)ì— ë°°ìœ¨ì„ ê³±í•´ì„œ ì‹¤ì œ ì„±ê³¼ê¸ˆ(BONUS)ì„ ê³„ì‚°í•©ë‹ˆë‹¤.\nCopy sql WITH SCORE AS ( SELECT EMP_NO, AVG(SCORE) AS SCORE FROM HR_GRADE GROUP BY EMP_NO ), GRADE AS ( SELECT EMP_NO, (CASE WHEN SCORE \u0026gt;= 96 THEN \u0026#39;S\u0026#39; WHEN SCORE \u0026gt;= 90 THEN \u0026#39;A\u0026#39; WHEN SCORE \u0026gt;= 80 THEN \u0026#39;B\u0026#39; ELSE \u0026#39;C\u0026#39; END) AS GRADE, (CASE WHEN SCORE \u0026gt;= 96 THEN 0.2 WHEN SCORE \u0026gt;= 90 THEN 0.15 WHEN SCORE \u0026gt;= 80 THEN 0.1 ELSE 0.0 END) AS BONUS FROM SCORE ) SELECT EMP.EMP_NO, EMP.EMP_NAME, GRD.GRADE, ROUND(EMP.SAL * GRD.BONUS) AS BONUS FROM HR_EMPLOYEES AS EMP INNER JOIN GRADE AS GRD ON EMP.EMP_NO = GRD.EMP_NO ORDER BY EMP_NO ëŒ€ì¥ê·  ê°œì²´ í…Œì´ë¸” # íŠ¹ì • ì„¸ëŒ€ì˜ ëŒ€ì¥ê·  ì°¾ê¸° # ECOLI_DATA í…Œì´ë¸”ì€ ì‹¤í—˜ì‹¤ì—ì„œ ë°°ì–‘í•œ ëŒ€ì¥ê· ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\n3ì„¸ëŒ€ì˜ ëŒ€ì¥ê· ì˜ ID(ID) ë¥¼ ì¶œë ¥í•˜ëŠ” SQL ë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ê²°ê³¼ëŠ” ëŒ€ì¥ê· ì˜ ID ì— ëŒ€í•´ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.\nì„¸ëŒ€ë³„ë¡œ JOIN ì—°ì‚°ì„ ì¤‘ì²©í•´ì„œ ì‚¬ìš©í•˜ì—¬ 3ì„¸ëŒ€ ëŒ€ì¥ê· ì˜ ID(ID)ë¥¼ ë„ì¶œí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\n1ì„¸ëŒ€ ëŒ€ì¥ê· (GEN1)ì€ ë¶€ëª¨ ê°œì²´ì˜ ID(PARENT_ID)ê°€ NULL ì¸ ê²½ìš°ì…ë‹ˆë‹¤.\n2ì„¸ëŒ€ ëŒ€ì¥ê· (GEN2)ì€ 1ì„¸ëŒ€(GEN1) ëŒ€ì¥ê·  ê°œì²´ì˜ ID(ID)ê°€ ë¶€ëª¨ ê°œì²´ì˜ ID(PARENT_ID)ì¸ ê²½ìš°ì…ë‹ˆë‹¤. ë‘ í•­ëª©ì„ INNER JOIN í•˜ì—¬ ê³µí†µëœ ê²½ìš°ë§Œ 2ì„¸ëŒ€ë¡œ íŒë‹¨í•©ë‹ˆë‹¤.\n3ì„¸ëŒ€ ëŒ€ì¥ê· ì€ 2ì„¸ëŒ€ ëŒ€ì¥ê· (GEN2)ì„ êµ¬í•œ ê²ƒê³¼ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ INNER JOIN ì—°ì‚°í•©ë‹ˆë‹¤. í•´ë‹¹í•˜ëŠ” 3ì„¸ëŒ€ ëŒ€ì¥ê· ì˜ ID(ID)ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\nCopy sql WITH GEN1 AS ( SELECT DISTINCT ID FROM ECOLI_DATA WHERE PARENT_ID IS NULL ), GEN2 AS ( SELECT DISTINCT ECOLI.ID FROM ECOLI_DATA AS ECOLI INNER JOIN GEN1 AS PARENT ON ECOLI.PARENT_ID = PARENT.ID ) SELECT DISTINCT ECOLI.ID FROM ECOLI_DATA AS ECOLI INNER JOIN GEN2 AS PARENT ON ECOLI.PARENT_ID = PARENT.ID ORDER BY ID; ë©¸ì¢…ìœ„ê¸°ì˜ ëŒ€ì¥ê·  ì°¾ê¸° # ECOLI_DATA í…Œì´ë¸”ì€ ì‹¤í—˜ì‹¤ì—ì„œ ë°°ì–‘í•œ ëŒ€ì¥ê· ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ í…Œì´ë¸”ì…ë‹ˆë‹¤.\nê° ì„¸ëŒ€ë³„ ìì‹ì´ ì—†ëŠ” ê°œì²´ì˜ ìˆ˜(COUNT)ì™€ ì„¸ëŒ€(GENERATION)ë¥¼ ì¶œë ¥í•˜ëŠ” SQLë¬¸ì„ ì‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ ê²°ê³¼ëŠ” ì„¸ëŒ€ì— ëŒ€í•´ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”. ë‹¨, ëª¨ë“  ì„¸ëŒ€ì—ëŠ” ìì‹ì´ ì—†ëŠ” ê°œì²´ê°€ ì ì–´ë„ 1ê°œì²´ëŠ” ì¡´ì¬í•©ë‹ˆë‹¤.\nì¬ê·€ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ ì´ì „ ì„¸ëŒ€ì˜ ëŒ€ì¥ê·  ID(ID)ì™€ ECOLI_DATA í…Œì´ë¸”ì˜ ë¶€ëª¨ ê°œì²´ ID(PARENT_ID)ê°€ ë™ì¼í•œ ê²½ìš°ë¥¼ ë°˜ë³µí•´ì„œ íƒìƒ‰í•©ë‹ˆë‹¤. ë‹¤ìŒ ì„¸ëŒ€ê°€ ì—†ì„ ë•Œê¹Œì§€ ì¡°íšŒí•œ ëª¨ë“  ê²°ê³¼ë¥¼ ê²°í•©í•˜ê³ , ëŒ€ì¥ê· ì˜ ID(ID)ê°€ ì–´ë– í•œ ë¶€ëª¨ ê°œì²´ì˜ ID(PARENT_ID)ì—ë„ í¬í•¨ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë§Œ ì„ íƒí•˜ì—¬, ì„¸ëŒ€(GENERATION)ë³„ ê°œì²´ì˜ ìˆ˜(COUNT)ë¥¼ ì§‘ê³„í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.\nì•ì„  ë¬¸ì œì²˜ëŸ¼ nì„¸ëŒ€ê¹Œì§€ JOIN ì—°ì‚°ì„ ì¤‘ì²©í•˜ë ¤ë‹¤ê°€ ë„ì €íˆ ì•„ë‹Œ ê²ƒ ê°™ì•„ì„œ ì°¾ì•„ë´¤ëŠ”ë°, ì¬ê·€ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë¬¸ì œì˜€ìŠµë‹ˆë‹¤. í‰ì†Œì— ì¬ê·€ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ë³´ì§€ ì•Šì•„ GEN_DATA ë¥¼ ë„ì¶œí•˜ëŠ” ê³¼ì •ì€ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.\nGEN_DATA ì—ì„œ ìì‹ì´ ì—†ëŠ” ê°œì²´ë§Œ ì„ íƒí•˜ê³  GENERATION ê·¸ë£¹ë³„ë¡œ COUNT ì§‘ê³„í•œ ê²°ê³¼ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.\nCopy sql WITH RECURSIVE GEN_DATA AS( SELECT ID, 1 AS GENERATION FROM ECOLI_DATA WHERE PARENT_ID IS NULL UNION ALL SELECT ECOLI.ID, PARENT.GENERATION+1 AS GENERATION FROM ECOLI_DATA AS ECOLI INNER JOIN GEN_DATA AS PARENT ON ECOLI.PARENT_ID = PARENT.ID ) SELECT COUNT(PARENT.GENERATION) AS COUNT, PARENT.GENERATION FROM GEN_DATA AS PARENT WHERE PARENT.ID NOT IN ( SELECT DISTINCT PARENT_ID FROM ECOLI_DATA WHERE PARENT_ID IS NOT NULL) GROUP BY GENERATION ORDER BY GENERATION; "},{"id":14,"href":"/blog/spark-study-4/","title":"Apache Spark - DataFrameê³¼ Dataset API í™œìš©í•˜ê¸°","content":"Spark Structure # ì •í˜•í™” APIì— ëŒ€í•´ ì•Œì•„ë³´ê¸°ì— ì•ì„œ, ì •í˜•ì  ëª¨ë¸ ì´ì „ì˜ RDD í”„ë¡œê·¸ë˜ë° API ëª¨ë¸ì„ í™•ì¸í•´ë³¸ë‹¤.\nRDD # RDDëŠ” Spark 1.x ë²„ì „ì— ìˆë˜ ì €ìˆ˜ì¤€ì˜ DSLì„ ì˜ë¯¸í•˜ê³ , ìŠ¤íŒŒí¬ì—ì„œ ê°€ì¥ ê¸°ë³¸ì ì¸ ì¶”ìƒì ì¸ ë¶€ë¶„ì´ë‹¤. RDDì—ëŠ” ì„¸ ê°€ì§€ì˜ í•µì‹¬ìœ¼ë¡œ íŠ¹ì„±ì´ ìˆë‹¤.\nì˜ì¡´ì„±\nì–´ë–¤ ì…ë ¥ì„ í•„ìš”ë¡œ í•˜ê³  RDDê°€ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì§€ëŠ”ì§€ Sparkì—ê²Œ ê°€ë¥´ì³ ì£¼ëŠ” ì˜ì¡´ì„±ì´ í•„ìš”í•˜ë‹¤.\níŒŒí‹°ì…˜\nExecutorë“¤ì— ì‘ì—…ì„ ë¶„ì‚°í•´ íŒŒí‹°ì…˜ë³„ë¡œ ë³‘ë ¬ ì—°ì‚°í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ë¶€ì—¬í•œë‹¤. ì§€ì—­ì„± ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° Executorê°€ ê°€ê¹Œì´ ìˆëŠ” Executorì—ê²Œ ìš°ì„ ì ìœ¼ë¡œ ì‘ì—…ì„ ë³´ë‚¸ë‹¤.\nì—°ì‚° í•¨ìˆ˜\níŒŒí‹°ì…˜ì— ì €ì¥ë˜ëŠ” ë°ì´í„°ë¥¼ Iterator[T] í˜•íƒœë¡œ ë§Œë“¤ì–´ì¤€ë‹¤. í•˜ì§€ë§Œ, Iterator[T] ë°ì´í„° íƒ€ì…ì´ íŒŒì´ì¬ RDDì—ì„œ ê¸°ë³¸ ê°ì²´ë¡œë§Œ ì¸ì‹ì´ ê°€ëŠ¥í•´ ë¶ˆíˆ¬ëª…í–ˆë‹¤. Sparkê°€ í•¨ìˆ˜ì—ì„œ ì—°ì‚°ì´ë‚˜ í‘œí˜„ì‹ì„ ê²€ì‚¬í•˜ì§€ ëª»í•´ ê°ì²´ë¥¼ ë°”ì´íŠ¸ ë­‰ì¹˜ë¡œ ì§ë ¬í™”í•´ ì“°ëŠ” ê²ƒë°–ì— ëª»í–ˆë‹¤. ì´ë¡œ ì¸í•´ ì—°ì‚° ìˆœì„œë¥¼ ì¬ì •ë ¬í•´ íš¨ê³¼ì ì¸ ì§ˆì˜ ê³„íšìœ¼ë¡œ ë°”ê¾¸ê¸°ê°€ ì–´ë ¤ì› ë‹¤.\nSpark DSL # Spark 2.xëŠ” RDDì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ê³ ìˆ˜ì¤€ì˜ DSLì„ ë„ì…í–ˆë‹¤. Spark DSLì€ ë‹¤ìŒê³¼ ê°™ì€ ë„¤ ê°€ì§€ íŠ¹ì§•ì´ ìˆë‹¤.\në„ë©”ì¸ íŠ¹í™” ì–¸ì–´\nSpark DSLì€ ë¶„ì‚° ë°ì´í„° ì²˜ë¦¬ì™€ ë¶„ì„ì— ìµœì í™”ëœ ëª…ë ¹ì–´ì™€ í•¨ìˆ˜ë¥¼ ì œê³µí•˜ì—¬, ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ì— ëŒ€í•œ ë³µì¡í•œ ì—°ì‚°ì„ ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\në‹¤ì¤‘ ì–¸ì–´ ì§€ì›\nScala ì–¸ì–´ ë¿ ì•„ë‹ˆë¼, Java, Python, R ë“± ë‹¤ì–‘í•œ ì–¸ì–´ì—ì„œ Spark DSLì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤.\ní•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì§€ì›\nëŒë‹¤ í•¨ìˆ˜, ê³ ì°¨ í•¨ìˆ˜ ë“± í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ë²•ì„ í™œìš©í•˜ì—¬ Transformation ë° Actionì„ ê°„ê²°í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.\nSQL í†µí•©\nSpark SQ DSLì„ í†µí•´ SQL ì¿¼ë¦¬ì™€ ìœ ì‚¬í•œ êµ¬ë¬¸ìœ¼ë¡œ DataFrame ë° Datasetì„ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤.\nê³ ìˆ˜ì¤€ DSLì„ í†µí•œ Spark êµ¬ì¡°ë¥¼ ê°–ì¶”ë©´ì„œ ë” ë‚˜ì€ ì„±ëŠ¥ê³¼ ê³µê°„ íš¨ìœ¨ì„± ë“± ë§ì€ ì´ë“ì„ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤. DataFrame APIë‚˜ Dataset APIë¥¼ ë‹¤ë£¨ë©´ì„œ í‘œí˜„ì„±, ë‹¨ìˆœì„±, êµ¬ì„± ìš©ì´ì„±, í†µì¼ì„± ë“±ì˜ ì¥ì ë„ ê°€ì§€ê²Œ ë˜ì—ˆë‹¤.\nì´ë¦„ë³„ë¡œ ëª¨ë“  ë‚˜ì´ë“¤ì„ ëª¨ì•„ì„œ ê·¸ë£¹í™”í•˜ê³ , ë‚˜ì´ì˜ í‰ê· ì„ êµ¬í•˜ëŠ” ì˜ˆì œë¥¼ ì €ìˆ˜ì¤€ì˜ RDD APIë¡œ êµ¬í˜„í•œë‹¤ê³  í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì„ ìˆ˜ ìˆë‹¤.\nCopy python dataRDD = sc.parallelize([ (\u0026#34;Brooke\u0026#34;, 20), (\u0026#34;Denny\u0026#34;, 31), (\u0026#34;Jules\u0026#34;, 30), (\u0026#34;TD\u0026#34;, 35), (\u0026#34;Brooke\u0026#34;, 25)]) agesRDD = (dataRDD .map(lambda x: (x[0], (x[1], 1))) .reduceByKey(lambda x, y: (x[0] + y[0], x[1] + y[1])) .map(lambda x: x[0], x[1][0]/x[1][1])) í•´ë‹¹ ì½”ë“œë¥¼ Sparkì—ê²Œ ì¿¼ë¦¬ë¥¼ ê³„ì‚°í•˜ëŠ” ê³¼ì •ì„ ì§ì ‘ì ìœ¼ë¡œ ì§€ì‹œí•˜ì—¬ ì˜ë„ê°€ ì „ë‹¬ë˜ì§€ ì•ŠëŠ”ë‹¤. ë™ì¼í•œ ì§ˆì˜ë¥¼ Pythonì˜ ê³ ìˆ˜ì¤€ DSL ì—°ì‚°ìë“¤ê³¼ DataFrame APIë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.\nCopy python from pyspark.sql import SparkSession from pyspark.sql.functions import avg # SparkSession ê°ì²´ ìƒì„± data_df = spark.createDataFrame( [(\u0026#34;Brooke\u0026#34;, 20), (\u0026#34;Denny\u0026#34;, 31), (\u0026#34;Jules\u0026#34;, 30), (\u0026#34;TD\u0026#34;, 35), (\u0026#34;Brooke\u0026#34;, 25)]) avg_df = data_df.groupBy(\u0026#34;name\u0026#34;).agg(avg(\u0026#34;age\u0026#34;)) avg_df.show() ê³ ìˆ˜ì¤€ DSLì€ í‘œí˜„ë ¥ì´ ë†’ê³  ì €ìˆ˜ì¤€ DSLë³´ë‹¤ ê°„ë‹¨í•˜ë‹¤. SparkëŠ” groupBy, avg ë“±ì˜ ì—°ì‚°ìë“¤ì„ í†µí•´ ì‚¬ìš©ìì˜ ì˜ë„ë¥¼ ì´í•´í•˜ê³  íš¨ê³¼ì ì¸ ì‹¤í–‰ì„ ìœ„í•´ ì—°ì‚°ìë“¤ì„ ìµœì í™”í•˜ê±°ë‚˜ ì ì ˆí•˜ê²Œ ì¬ë°°ì—´í•  ìˆ˜ ìˆë‹¤.\në‹¨ìˆœíˆ ê°„ë‹¨í•˜ê¸°ë§Œ í•  ë¿ ì•„ë‹ˆë¼ ê³ ìˆ˜ì¤€ DSLì€ ì–¸ì–´ ê°„ì— ì¼ê´€ì„±ì„ ê°–ê³  ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì´ë¦„ë³„ë¡œ ë‚˜ì´ì˜ í‰ê· ì„ ì§‘ê³„í•˜ëŠ” ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ê²‰ë³´ê¸°ì—ë„ ë˜‘ê°™ê³  ì‹¤ì œë¡œ í•˜ëŠ” ì¼ë„ ë™ì¼í•˜ë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ avg_df = data_df.groupBy(\u0026#34;name\u0026#34;).agg(avg(\u0026#34;age\u0026#34;)) Copy kotlin // ìŠ¤ì¹¼ë¼ ì˜ˆì œ val avgDf = dataDf.groupBy(\u0026#34;name\u0026#34;).agg(avg(\u0026#34;age\u0026#34;)) DataFrame API # pandasì˜ DataFrameì— ì˜í–¥ì„ ë°›ì€ Spark DataFrameì€ ì¹¼ëŸ¼ê³¼ ìŠ¤í‚¤ë§ˆë¥¼ ê°€ì§„ ë¶„ì‚°ëœ í…Œì´ë¸”ì²˜ëŸ¼ ë™ì‘í•˜ë©°, ê° ì¹¼ëŸ¼ì€ ì •ìˆ˜, ë¬¸ìì—´, ë°°ì—´, ë‚ ì§œ ë“± íŠ¹ì •í•œ ë°ì´í„° íƒ€ì…ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.\nê¸°ë³¸ ë°ì´í„° íƒ€ì… # ë°ì´í„° íƒ€ì…ì€ Spark Applicationì—ì„œ ì„ ì–¸í•˜ê±°ë‚˜, ìŠ¤í‚¤ë§ˆì—ì„œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ë¨¼ì €, Scalaì™€ Pythonì˜ ê¸°ë³¸ì ì¸ ë°ì´í„° íƒ€ì…ì€ ì•„ë˜ì™€ ê°™ë‹¤.\në°ì´í„° íƒ€ì… ìŠ¤ì¹¼ë¼ì—ì„œ í• ë‹¹ë˜ëŠ” ê°’ íŒŒì´ì¬ì—ì„œ í• ë‹¹ë˜ëŠ” ê°’ ByteType Byte int ShortType Short int IntegerType Integer int LongType Long int FloatType Float float DoubleType Double float StringType String str BooleanType Boolean bool DecimalType java.math.BigDecimal decimal.Decimal ì •í˜•í™” íƒ€ì…ê³¼ ë³µí•© íƒ€ì… # ë³µí•© ë°ì´í„° ë¶„ì„ì„ ìœ„í•´ì„œëŠ” ê¸°ë³¸ì ì¸ ë°ì´í„° íƒ€ì…ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ìƒ ë°ì´í„°ëŠ” ë§µ, ë°°ì—´, êµ¬ì¡°ì²´ ë“± ìì²´ì  êµ¬ì¡°ë¥¼ ê°–ê³  ìˆê¸° ë•Œë¬¸ì—, ì´ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ íƒ€ì…ì„ ì§€ì›í•œë‹¤.\në°ì´í„° íƒ€ì… ìŠ¤ì¹¼ë¼ì—ì„œ í• ë‹¹ë˜ëŠ” ê°’ íŒŒì´ì¬ì—ì„œ í• ë‹¹ë˜ëŠ” ê°’ BinaryType Array[Byte] bytearray TimestampType java.sqlTimestamp datetime.datetime DateType java.sql.Date datetime.date ArrayType scala.collection.Seq list, tuple, array ë“± MapType scala.collection.Map dict StructType org.apache.spark.sql.Row list ë˜ëŠ” tuple StructField í•´ë‹¹ í•„ë“œì™€ ë§ëŠ” ê°’ì˜ íƒ€ì… í•´ë‹¹ í•„ë“œì™€ ë§ëŠ” ê°’ì˜ íƒ€ì… Schema # ìŠ¤í‚¤ë§ˆëŠ” DataFrameì˜ ì¹¼ëŸ¼ëª…ê³¼ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•œ ê²ƒì´ë‹¤. ë³´í†µ ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ì—ì„œ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ì½ì–´ ë“¤ì¼ ë•Œ ì‚¬ìš©í•œë‹¤. ë¯¸ë¦¬ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ê²½ìš° ë‘ ê°€ì§€ ì¥ì ì´ ìˆë‹¤.\nSparkê°€ ìŠ¤í‚¤ë§ˆë¥¼ ì¶”ì¸¡í•˜ê¸° ìœ„í•´ íŒŒì¼ì„ ì½ì–´ë“¤ì´ëŠ” ê³¼ì •ì„ ë°©ì§€í•œë‹¤. íŒŒì¼ì´ í° ê²½ìš°, ë¹„ìš©ê³¼ ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ê°€ ìŠ¤í‚¤ë§ˆì™€ ë§ì§€ ì•ŠëŠ” ê²½ìš°, ì¡°ê¸°ì— ë°œê²¬í•  ìˆ˜ ìˆë‹¤. ìŠ¤í‚¤ë§ˆ ì •ì˜ # ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ê°€ ìˆë‹¤.\ní”„ë¡œê·¸ë˜ë° ìŠ¤íƒ€ì¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒ Copy kotlin // ìŠ¤ì¹¼ë¼ ì˜ˆì œ import org.apache.spark.sql.types._ val schema = StructType(Array( StructField(\u0026#34;author\u0026#34;, StringType, false), StructField(\u0026#34;title\u0026#34;, StringType, false), StructField(\u0026#34;pages\u0026#34;, IntegerType, false))) Copy python # íŒŒì´ì¬ ì˜ˆì œ from pyspark.sql.types import * schema = StructType([ StructField(\u0026#34;author\u0026#34;, StringType(), False), StructField(\u0026#34;title\u0026#34;, StringType(), False), StructField(\u0026#34;pages\u0026#34;, IntegerType(), False)]) DDL(Data Definition Language)ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ Copy python schema = \u0026#34;author STRING, title, STRING, pages INT\u0026#34; ìŠ¤í‚¤ë§ˆ í™œìš© (Python) # databricks/LearningSparkV2/chapter3 ì—ì„œ ìŠ¤í‚¤ë§ˆ í™œìš© ì˜ˆì œë¥¼ ê°€ì ¸ì˜¨ë‹¤.\nCopy python # src/example_schema.py from pyspark.sql.types import * from pyspark.sql import SparkSession from pyspark.sql.functions import * # í”„ë¡œê·¸ë˜ë° ìŠ¤íƒ€ì¼ë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•œë‹¤. schema = StructType([ StructField(\u0026#34;Id\u0026#34;, IntegerType(), False), StructField(\u0026#34;First\u0026#34;, StringType(), False), StructField(\u0026#34;Last\u0026#34;, StringType(), False), StructField(\u0026#34;Url\u0026#34;, StringType(), False), StructField(\u0026#34;Published\u0026#34;, StringType(), False), StructField(\u0026#34;Hits\u0026#34;, IntegerType(), False), StructField(\u0026#34;Campaigns\u0026#34;, ArrayType(StringType()), False)]) # DDLì„ ì‚¬ìš©í•´ì„œ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤. # schema = \u0026#34;\u0026#39;Id\u0026#39; INT, \u0026#39;First\u0026#39;, STRING, \u0026#39;Last\u0026#39; STRING, \u0026#39;Url\u0026#39; STRING, \u0026#34; \\ # \u0026#34;\u0026#39;Published\u0026#39; STRING, \u0026#39;Hits\u0026#39; INT, \u0026#39;Campaigns\u0026#39; ARRAY\u0026lt;STRING\u0026gt;\u0026#34; # ì˜ˆì œ ë°ì´í„°ë¥¼ ìƒì„±í•œë‹¤. data = [ [1, \u0026#34;Jules\u0026#34;, \u0026#34;Damji\u0026#34;, \u0026#34;https://tinyurl.1\u0026#34;, \u0026#34;1/4/2016\u0026#34;, 4535, [\u0026#34;twitter\u0026#34;, \u0026#34;LinkedIn\u0026#34;]], [2, \u0026#34;Brooke\u0026#34;,\u0026#34;Wenig\u0026#34;,\u0026#34;https://tinyurl.2\u0026#34;, \u0026#34;5/5/2018\u0026#34;, 8908, [\u0026#34;twitter\u0026#34;, \u0026#34;LinkedIn\u0026#34;]], [3, \u0026#34;Denny\u0026#34;, \u0026#34;Lee\u0026#34;, \u0026#34;https://tinyurl.3\u0026#34;,\u0026#34;6/7/2019\u0026#34;,7659, [\u0026#34;web\u0026#34;, \u0026#34;twitter\u0026#34;, \u0026#34;FB\u0026#34;, \u0026#34;LinkedIn\u0026#34;]], [4, \u0026#34;Tathagata\u0026#34;, \u0026#34;Das\u0026#34;,\u0026#34;https://tinyurl.4\u0026#34;, \u0026#34;5/12/2018\u0026#34;, 10568, [\u0026#34;twitter\u0026#34;, \u0026#34;FB\u0026#34;]], [5, \u0026#34;Matei\u0026#34;,\u0026#34;Zaharia\u0026#34;, \u0026#34;https://tinyurl.5\u0026#34;, \u0026#34;5/14/2014\u0026#34;, 40578, [\u0026#34;web\u0026#34;, \u0026#34;twitter\u0026#34;, \u0026#34;FB\u0026#34;, \u0026#34;LinkedIn\u0026#34;]], [6, \u0026#34;Reynold\u0026#34;, \u0026#34;Xin\u0026#34;, \u0026#34;https://tinyurl.6\u0026#34;, \u0026#34;3/2/2015\u0026#34;, 25568, [\u0026#34;twitter\u0026#34;, \u0026#34;LinkedIn\u0026#34;]]] if __name__ == \u0026#34;__main__\u0026#34;: spark = (SparkSession .builder .appName(\u0026#34;Example-3_6\u0026#34;) .getOrCreate()) # ìœ„ì—ì„œ ì •ì˜í•œ ìŠ¤í‚¤ë§ˆë¡œ DataFrameì„ ìƒì„±í•˜ê³  ìƒìœ„ í–‰ì„ ì¶œë ¥í•œë‹¤. blogs_df = spark.createDataFrame(data, schema) blogs_df.show() # DataFrame ì²˜ë¦¬ì— ì‚¬ìš©ëœ ìŠ¤í‚¤ë§ˆë¥¼ ì¶œë ¥í•œë‹¤. print(blogs_df.printSchema()) spark.stop() ì˜ˆì œ ë°ì´í„°ì— ëŒ€í•´ í”„ë¡œê·¸ë˜ë° ìŠ¤íƒ€ì¼ê³¼ DDLì„ ì‚¬ìš©í•˜ëŠ”, ë‘ ê°€ì§€ ìŠ¤íƒ€ì¼ë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤. DataFrame ìƒì„± ì‹œ ìŠ¤í‚¤ë§ˆë¥¼ ì „ë‹¬í•˜ê³ , printSchema() ë¥¼ ì‹¤í–‰í•˜ì—¬ ì–´ë–¤ ìŠ¤í‚¤ë§ˆê°€ ì ìš©ë˜ì—ˆëŠ”ì§€ ì¶œë ¥í•´ ë³¼ ìˆ˜ ìˆë‹¤.\nspark-submit ì— ì˜ˆì œ íŒŒì¼ì„ ì „ë‹¬í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nCopy bash (spark) % spark-submit src/example_schema.py +---+---------+-------+-----------------+---------+-----+--------------------+ | Id| First| Last| Url|Published| Hits| Campaigns| +---+---------+-------+-----------------+---------+-----+--------------------+ | 1| Jules| Damji|https://tinyurl.1| 1/4/2016| 4535| [twitter, LinkedIn]| | 2| Brooke| Wenig|https://tinyurl.2| 5/5/2018| 8908| [twitter, LinkedIn]| | 3| Denny| Lee|https://tinyurl.3| 6/7/2019| 7659|[web, twitter, FB...| | 4|Tathagata| Das|https://tinyurl.4|5/12/2018|10568| [twitter, FB]| | 5| Matei|Zaharia|https://tinyurl.5|5/14/2014|40578|[web, twitter, FB...| | 6| Reynold| Xin|https://tinyurl.6| 3/2/2015|25568| [twitter, LinkedIn]| +---+---------+-------+-----------------+---------+-----+--------------------+ root |-- Id: integer (nullable = false) |-- First: string (nullable = false) |-- Last: string (nullable = false) |-- Url: string (nullable = false) |-- Published: string (nullable = false) |-- Hits: integer (nullable = false) |-- Campaigns: array (nullable = false) | |-- element: string (containsNull = true) DataFrameì— í• ë‹¹ëœ ìŠ¤í‚¤ë§ˆë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, blogs_df.schema ì™€ ê°™ì´ í˜¸ì¶œí•˜ì—¬ ìŠ¤í‚¤ë§ˆ ê°ì²´ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤. ìŠ¤í‚¤ë§ˆ ê°ì²´ëŠ” ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ë•Œ ì‚¬ìš©í–ˆë˜ ê²ƒê³¼ ë™ì¼í•œ pyspark.sql.types.StructType íƒ€ì…ì´ë‹¤.\nScalaë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë„ Pythonê³¼ ë™ì¼í•˜ê²Œ ì •ì˜í•œ ìŠ¤í‚¤ë§ˆë¥¼ JSON íŒŒì¼ì„ ì½ëŠ”ë° ì ìš©í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.\nCopy kotlin // ìŠ¤ì¹¼ë¼ ì˜ˆì œ val blogsDF = spark.read.schema(schema).json(jsonFile) Column # ì¹¼ëŸ¼ì€ pandasì˜ DataFrameê³¼ ìœ ì‚¬í•˜ê²Œ ì–´ë–¤ íŠ¹ì •í•œ íƒ€ì…ì˜ í•„ë“œë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°œë…ì´ë‹¤. RDBMSë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì²˜ëŸ¼ ê´€ê³„í˜• í‘œí˜„ì´ë‚˜ ê³„ì‚°ì‹ í˜•íƒœì˜ í‘œí˜„ì‹ìœ¼ë¡œ ì¹¼ëŸ¼ ë‹¨ìœ„ì˜ ê°’ë“¤ì— ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\nì¹¼ëŸ¼ëª…ì— ëŒ€í•´ expr(\u0026quot;columnName * 5\u0026quot;) ê°™ì€ ë‹¨ìˆœí•œ í‘œí˜„ì‹ìœ¼ë¡œ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. íŒŒì´ì¬ì—ì„œ expr() ì€ pyspark.sql.functions íŒ¨í‚¤ì§€ì—ì„œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.\ní‘œí˜„ì‹ í™œìš© (Python) # ìŠ¤í‚¤ë§ˆ í™œìš© ì˜ˆì œì—ì„œ ë§Œë“  blogs_df ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.\nCopy python # src/example_schema.py from pyspark.sql.types import * from pyspark.sql import SparkSession from pyspark.sql.functions import * if __name__ == \u0026#34;__main__\u0026#34;: # SparkSession ë° blogs_df ê°ì²´ ìƒì„± # í‘œí˜„ì‹ì„ ì‚¬ìš©í•´ ê°’ì„ ê³„ì‚°í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤. ëª¨ë‘ ë™ì¼í•œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤. blogs_df.select(expr(\u0026#34;Hits\u0026#34;) * 2).show(2) blogs_df.select(col(\u0026#34;Hits\u0026#34;) * 2).show(2) blogs_df.select(expr(\u0026#34;Hits * 2\u0026#34;)).show(2) # ë¸”ë¡œê·¸ ìš°ìˆ˜ ë°©ë¬¸ìë¥¼ ê³„ì‚°í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤. blogs_df.withColumn(\u0026#34;Big Hitters\u0026#34;, (expr(\u0026#34;Hits \u0026gt; 10000\u0026#34;))).show() spark-submit ì— ì˜ˆì œ íŒŒì¼ì„ ì „ë‹¬í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nCopy bash (spark) % spark-submit src/example_schema.py +----------+ |(Hits * 2)| +----------+ | 9070| | 17816| +----------+ only showing top 2 rows +---+---------+-------+-----------------+---------+-----+--------------------+-----------+ | Id| First| Last| Url|Published| Hits| Campaigns|Big Hitters| +---+---------+-------+-----------------+---------+-----+--------------------+-----------+ | 1| Jules| Damji|https://tinyurl.1| 1/4/2016| 4535| [twitter, LinkedIn]| false| | 2| Brooke| Wenig|https://tinyurl.2| 5/5/2018| 8908| [twitter, LinkedIn]| false| | 3| Denny| Lee|https://tinyurl.3| 6/7/2019| 7659|[web, twitter, FB...| false| | 4|Tathagata| Das|https://tinyurl.4|5/12/2018|10568| [twitter, FB]| true| | 5| Matei|Zaharia|https://tinyurl.5|5/14/2014|40578|[web, twitter, FB...| true| | 6| Reynold| Xin|https://tinyurl.6| 3/2/2015|25568| [twitter, LinkedIn]| true| +---+---------+-------+-----------------+---------+-----+--------------------+-----------+ ì²« ë²ˆì§¸ í‘œí˜„ì‹ìœ¼ë¡œ ê³„ì‚°í•œ ê²°ê³¼ëŠ” ëª¨ë‘ ë™ì¼í•˜ì—¬ í•˜ë‚˜ë§Œ ì¶œë ¥í–ˆë‹¤. expr() ë˜ëŠ” col() í‘œí˜„ì‹ìœ¼ë¡œ ì¹¼ëŸ¼ ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\nwithColumn() ì„ í˜¸ì¶œí•˜ë©´ ìƒˆë¡œìš´ ì¹¼ëŸ¼ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ê¸°ì¡´ì˜ \u0026quot;Hits\u0026quot; ì¹¼ëŸ¼ì— í‘œí˜„ì‹ì„ ì‚¬ìš©í•´ ë¸”ë¡œê·¸ ìš°ìˆ˜ ë°©ë¬¸ìë¥¼ ë¶„ë¥˜í•˜ê³ , \u0026quot;Big Hitters\u0026quot; ë¼ëŠ” ìƒˆë¡œìš´ ì¹¼ëŸ¼ì„ ë¶™ì—¬ì„œ ì¶œë ¥í–ˆë‹¤.\nScalaì—ì„œëŠ” col() ëŒ€ì‹ ì— ì¹¼ëŸ¼ëª… ì•ì— $ ë¥¼ ë¶™ì—¬ì„œ Column íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ë„ ìˆë‹¤.\nCopy kotlin // \u0026#34;Id\u0026#34; ì¹¼ëŸ¼ê°’ì— ë”°ë¼ ì—­ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤. blogsDF.sort(col(.desc).show() blogsDF.sort($\u0026#34;Id\u0026#34;.desc).show() Row # Sparkì—ì„œ í•˜ë‚˜ì˜ í–‰ì€ í•˜ë‚˜ ì´ìƒì˜ ì¹¼ëŸ¼ì„ ê°–ê³  ìˆëŠ” Row ê°ì²´ë¡œ í‘œí˜„ëœë‹¤. Row ê°ì²´ì— ì†í•˜ëŠ” ì¹¼ëŸ¼ë“¤ì€ ë™ì¼í•œ íƒ€ì…ì¼ ìˆ˜ë„ ìˆê³  ë‹¤ë¥¸ íƒ€ì…ì¼ ìˆ˜ë„ ìˆë‹¤. RowëŠ” ìˆœì„œê°€ ìˆëŠ” í•„ë“œ ì§‘í•© ê°ì²´ì´ë¯€ë¡œ 0ë¶€í„° ì‹œì‘í•˜ëŠ” ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•œë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ from pyspark.sql import Row blog_row = Row(6, \u0026#34;Reynold\u0026#34;, \u0026#34;Xin\u0026#34;, \u0026#34;https://tinyurl.6\u0026#34;, 255568, \u0026#34;3/2/2015\u0026#34;, [\u0026#34;twitter\u0026#34;, \u0026#34;LinedIn\u0026#34;]) # ì¸ë±ìŠ¤ë¡œ ê°œë³„ ê°’ì— ì ‘ê·¼í•œë‹¤. blog_row[1] \u0026#39;Reynold\u0026#39; Row ê°ì²´ë“¤ì„ DataFrameìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ rows = [Row(\u0026#34;Matei Zaharia\u0026#34;, \u0026#34;CA\u0026#34;), Row(\u0026#34;Reynold Xin\u0026#34;, \u0026#34;CA\u0026#34;)] authors_df = spark.createDataFrame(rows, [\u0026#34;Authors\u0026#34;, \u0026#34;State\u0026#34;]) authors_df.show() DataFrame ì‘ì—… # ì½ê¸°/ì“°ê¸° # ë°ì´í„° ì†ŒìŠ¤ì—ì„œ DataFrameìœ¼ë¡œ ë¡œë“œí•˜ê¸° ìœ„í•´ DataFrameReader ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. JSON, CSV, Parquet, í…ìŠ¤íŠ¸, Avro, ORC ê°™ì€ ë‹¤ì–‘í•œ í¬ë§·ì˜ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì§€ì›í•œë‹¤. ë°˜ëŒ€ë¡œ íŠ¹ì • í¬ë§·ìœ¼ë¡œ DataFrameì„ ë‚´ë³´ë‚¼ ë•ŒëŠ” DataFrameWriter ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nPythonê³¼ Scalaì—ì„œ spark.read.csv() í•¨ìˆ˜ë¡œ CSV íŒŒì¼ì„ ì½ì„ ìˆ˜ ìˆë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ sf_fire_file = \u0026#34;data/sf-fire-calls.csv\u0026#34; fire_df = spark.read.csv(sf_fire_file, header=True, schema=fire_schema) Copy kotlin // ìŠ¤ì¹¼ë¼ ì˜ˆì œ val sfFireFile = \u0026#34;data/sf-fire-calls.csv\u0026#34; val fireDF = spark.read.schema(fireSchema).option(\u0026#34;header\u0026#34;, \u0026#34;true\u0026#34;).csv(sfFireFile) DataFrameì„ ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ì— ë‚´ë³´ë‚´ë ¤ë©´ DataFrame ê°ì²´ê°€ ê°€ì§„ write() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ í¬ë§·ìœ¼ë¡œ ì¸ê¸°ìˆëŠ” í¬ë§·ì€ ì¹¼ëŸ¼ ì§€í–¥ì ì¸ Parquet í¬ë§·ì´ë‹¤. Parquetì—ëŠ” ìŠ¤í‚¤ë§ˆê°€ ë©”íƒ€ë°ì´í„°ì— ë“¤ì–´ìˆì–´ ìˆ˜ë™ìœ¼ë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì ìš©í•  í•„ìš”ê°€ ì—†ë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ fire_df.write.format(\u0026#34;parquet\u0026#34;).save(parquet_path) Copy kotlin // ìŠ¤ì¹¼ë¼ ì˜ˆì œ fireDF.write.format(\u0026#34;parquet\u0026#34;).save(parquetPath) í”„ë¡œì ì…˜/í•„í„° # í”„ë¡œì ì…˜ì€ í•„í„°ë¥¼ ì´ìš©í•´ íŠ¹ì • ê´€ê³„ ìƒíƒœì™€ ë§¤ì¹˜ë˜ëŠ” í–‰ë“¤ë§Œ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. í”„ë¡œì ì…˜ì€ select(), í•„í„°ëŠ” filter() ë˜ëŠ” where() ë©”ì„œë“œë¡œ í‘œí˜„ëœë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ few_fire_df = (fire_df .select(\u0026#34;IncidentNumber\u0026#34;, \u0026#34;AvailableDtTm\u0026#34;, \u0026#34;CallType\u0026#34;) .where(col(\u0026#34;CallType\u0026#34;) != \u0026#34;Medical Incident\u0026#34;)) few_fire_df.show(5, truncate=False) ì¹¼ëŸ¼ ë³€ê²½ # ì¹¼ëŸ¼ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ê±°ë‚˜ ì¶”ê°€ ë˜ëŠ” ì‚­ì œí•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì»¬ëŸ¼ëª…ì„ ë³€ê²½í•  ë•ŒëŠ” withColumnRenamed() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì œëŠ” \u0026quot;Delay\u0026quot; ì¹¼ëŸ¼ì˜ ëª…ì¹­ì„ \u0026quot;ResponseDelayedinMins\u0026quot; ë¼ê³  ë³€ê²½í•œë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ new_fire_df = fire_df.withColumnRenamed(\u0026#34;Delay\u0026#34;, \u0026#34;ResponseDelayedinMins\u0026#34;) (new_fire_df .select(\u0026#34;ResponseDelayedinMins\u0026#34;) .where(col(\u0026#34;ResponseDelayedinMins\u0026#34;) \u0026gt; 5) .show(5, False)) ê¸°ì¡´ ì¹¼ëŸ¼ì„ ê°€ê³µí•´ ìƒˆë¡œìš´ ì¹¼ëŸ¼ì„ ë§Œë“¤ ë•ŒëŠ” withColumn() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ë•Œ, spark.sql.functions íŒ¨í‚¤ì§€ì— ìˆëŠ” to_timestamp() ë˜ëŠ” to_date() ê°™ì€ í•¨ìˆ˜ë“¤ì„ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê°€ê³µëœ ì¹¼ëŸ¼ì„ ì¶”ê°€í•œ í›„ í•„ìš”í•˜ì§€ ì•Šì€ ì¹¼ëŸ¼ì„ ì œê±°í•˜ë ¤ë©´ drop() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ fire_ts_df = (new_fire_df .withColumn(\u0026#34;IncidentDate\u0026#34;, to_timestamp(col(\u0026#34;CallDate\u0026#34;), \u0026#34;MM/dd/yyyy\u0026#34;)).drop(\u0026#34;CallDate\u0026#34;) .withColumn(\u0026#34;OnWatchDate\u0026#34;, to_timestamp(col(\u0026#34;WatchDate\u0026#34;), \u0026#34;MM/dd/yyyy\u0026#34;)).drop(\u0026#34;WatchDate\u0026#34;) .withColumn(\u0026#34;AvailableDtTs\u0026#34;, to_timestamp(col(\u0026#34;AvailableDtTm\u0026#34;), \u0026#34;MM/dd/yyyy hh:mm:ss\u0026#34;)).drop(\u0026#34;AvailableDtTm\u0026#34;)) (fire_ts_df .select(\u0026#34;IncidentDate\u0026#34;, \u0026#34;OnWatchDate\u0026#34;, \u0026#34;AvailableDtTs\u0026#34;) .show(5, False)) ì§‘ê³„ ì—°ì‚° # groupBy(), orderBy(), count() ì™€ ê°™ì€ Transformation ë˜ëŠ” Actionì„ ì‚¬ìš©í•˜ì—¬ ì¹¼ëŸ¼ëª…ì„ ê°€ì§€ê³  ì§‘ê³„í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì œëŠ” \u0026quot;CallType\u0026quot; ì¹¼ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ í–‰ ê°œìˆ˜ë¥¼ ì„¸ëŠ” ì—°ì‚°ì„ í‘œí˜„í•œë‹¤. ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ê°€ì¥ ì¼ë°˜ì ì¸ ì‹ ê³  íƒ€ì…(CallType)ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ (fire_ts_df .select(\u0026#34;CallType\u0026#34;) .where(col(\u0026#34;CallType\u0026#34;).isNotNull()) .groupBy(\u0026#34;CallType\u0026#34;) .count() .orderBy(\u0026#34;count\u0026#34;, ascending=False) .show(n=10, truncate=False)) ì§‘ê³„ í•¨ìˆ˜ë¡œëŠ” min(), max(), sum(), avg() ë“±ì˜ í†µê³„ í•¨ìˆ˜ë“¤ì„ ì§€ì›í•œë‹¤.\nCopy python # íŒŒì´ì¬ ì˜ˆì œ import pyspark.sql.functions as F (fire_ts_df .select(F.sum(\u0026#34;NumAlarms\u0026#34;), F.avg(\u0026#34;ResponseDelayedinMins\u0026#34;), F.min(\u0026#34;ResponseDelayedinMins\u0026#34;), F.max(\u0026#34;ResponseDelayedinMins\u0026#34;)) .show()) Dataset API # DatasetëŠ” ì •ì  íƒ€ì… APIì™€ ë™ì  íƒ€ì… APIì˜ ë‘ ê°€ì§€ íŠ¹ì„±ì„ ëª¨ë‘ ê°€ì§„ë‹¤.\nDataset # DataFrameì€ Dataset[Row] ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. RowëŠ” ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ì˜ ê°’ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ” JVM ê°ì²´ë‹¤. ë°˜ë©´ì— DatasetëŠ” ì—„ê²©í•˜ê²Œ íƒ€ì…ì´ ì •í•´ì§„ JVM ê°ì²´ì˜ ì§‘í•©ìœ¼ë¡œ, Javaì˜ í´ë˜ìŠ¤ì™€ ìœ ì‚¬í•˜ë‹¤.\nDatasetëŠ” Javaì™€ Scalaì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , Pythonê³¼ Rì—ì„œëŠ” DataFrameë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì€ Pythonê³¼ Rì´ ì»´íŒŒì¼ ì‹œ íƒ€ì…ì˜ ì•ˆì „ì„ ë³´ì¥í•˜ëŠ” ì–¸ì–´ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤. ë°˜ëŒ€ë¡œ JavaëŠ” ì»´íŒŒì¼ ì‹œì ì— íƒ€ì… ì•ˆì •ì„±ì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì— Datasetë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ScalaëŠ” DataFrameì„ Dataset[Row] ë¡œ í‘œí˜„í•˜ë©°, Dataset[T] ë„ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nCase Class # DataFrameì—ì„œ ìŠ¤í‚¤ë§ˆë¡œ ë°ì´í„° íƒ€ì…ì„ ì •ì˜í•œëŠ ê²ƒì²˜ëŸ¼, Scalaì—ì„œ Datasetë¥¼ ë§Œë“¤ ë•Œ ìŠ¤í‚¤ë§ˆë¥¼ ì§€ì •í•˜ê¸° ìœ„í•´ ì¼€ì´ìŠ¤ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Javaì—ì„œëŠ” JavaBean í´ë˜ìŠ¤ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤.\nì˜ˆì œë¡œ, IoT ë””ë°”ì´ìŠ¤ì—ì„œ JSON íŒŒì¼ì„ ì½ì–´ ë“¤ì¼ ë•Œ ì¼€ì´ìŠ¤ í´ë˜ìŠ¤ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì •ì˜í•œë‹¤.\nCopy kotlin // ìŠ¤ì¹¼ë¼ ì˜ˆì œ case class DeviceIoTData ( battery_level: Long, c02_level: Long, cca2: String, cca3: String, cn: String, device_id: Long, device_name: String, humidity: Long, ip: String, latitude: Double, longitude: Double, scale: String, temp: Long, timestamp: Long ) val ds = spark.read.json(\u0026#34;iot_devices.json\u0026#34;).as[DeviceIoTData] DatasetëŠ” DataFrameê³¼ ê°™ì€ ì—°ì‚°ì´ ê°€ëŠ¥í•˜ë‹¤. ì˜ˆì œë¡œ, filter() ì— í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ì§ˆì˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.\nCopy kotlin // ìŠ¤ì¹¼ë¼ ì˜ˆì œ val filterTempDS = ds.filter(d =\u0026gt; d.temp \u0026gt; 30 \u0026amp;\u0026amp; d.humidity \u0026gt; 70) DataFrame vs Dataset # DataFrameê³¼ Datasetì„ ì‚¬ìš© ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ì‹œì ì„ ì •ë¦¬í•˜ë©´ ì•„ë˜ í‘œì™€ ê°™ë‹¤. Datasetê°€ DataFrameê³¼ ë‹¤ë¥¸ì ì€ ì»´íŒŒì¼ ì‹œì ì— ì—„ê²©í•œ íƒ€ì… ì²´í¬ë¥¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ë°˜ëŒ€ë¡œ, SQLê³¼ ìœ ì‚¬í•œ ì§ˆì˜ë¥¼ ì“°ëŠ” ê´€ê³„í˜• ë³€í™˜ì„ í•„ìš”ë¡œ í•œë‹¤ë©´ DataFrameì„ ì‚¬ìš©í•œë‹¤.\nSQL DataFrame Dataset ë¬¸ë²• ì˜¤ë¥˜ ì‹¤í–‰ ì‹œì  ì»´íŒŒì¼ ì‹œì  ì»´íŒŒì¼ ì‹œì  ë¶„ì„ ì˜¤ë¥˜ ì‹¤í–‰ ì‹œì  ì‹¤í–‰ ì‹œì  ì»´íŒŒì¼ ì‹œì  Spark SQL # Spark SQLì€ ê³ ìˆ˜ì¤€ ì •í˜•í™” ê¸°ëŠ¥ë“¤ì´ êµ¬ì¶•ë˜ë„ë¡ í•˜ëŠ” ë°©ëŒ€í•œ ì—”ì§„ìœ¼ë¡œ ì§„í™”í•´ ì™”ë‹¤. Spark SQL ì—”ì§„ì€ ë‹¤ìŒê³¼ ê°™ì€ ì¼ì„ í•œë‹¤.\nìŠ¤íŒŒí¬ ì»´í¬ë„ŒíŠ¸ë“¤ì„ í†µí•©í•˜ê³  DataFrame/Dataset ê´€ë ¨ ì‘ì—…ì„ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆë„ë¡ ì¶”ìƒí™”ë¥¼ í•œë‹¤. ì •í˜•í™”ëœ íŒŒì¼ í¬ë§·(JSON, CSV ë“±)ì„ ì½ê³  ì“°ë©° ë°ì´í„°ë¥¼ ì„ì‹œ í…Œì´ë¸”ë¡œ ë³€í™˜í•œë‹¤. ë¹ ë¥¸ ë°ì´í„° íƒìƒ‰ì„ ìœ„í•œ ëŒ€í™”í˜• Spark SQL ì‰˜ì„ ì œê³µí•œë‹¤. JDBC/ODBC ì»¤ë„¥í„°ë¥¼ í†µí•´ ì™¸ë¶€ì˜ ë„êµ¬ë“¤ê³¼ ì—°ê²°í•  ìˆ˜ ìˆëŠ” ì¤‘ê°„ ì—­í• ì„ í•œë‹¤. JVMì„ ìœ„í•œ ìµœì í™”ëœ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤. Catalyst Optimizer # Spark SQL ì—”ì§„ì˜ í•µì‹¬ì€ Catalyst Optimizerë‹¤. Catalyst OptimizerëŠ” ë‘ ê°€ì§€ ëª©ì ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆë‹¤.\nSpark SQLì— ìµœì í™” ê¸°ë²•ì„ ì‰½ê²Œ ì¶”ê°€í•œë‹¤. ê°œë°œìê°€ ìµœì í™” í”„ë¡œê·¸ë¨ì„ í™•ì¥í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤. ì˜ˆì‹œë¡œ, ë°ì´í„° ì†ŒìŠ¤ë³„ ê·œì¹™ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ë°ì´í„° ìœ í˜•ì„ ì§€ì›í•˜ëŠ” ê²ƒ ë“±ì´ ìˆë‹¤. Catalyst OptimizerëŠ” ì—°ì‚° ì¿¼ë¦¬ë¥¼ ë°›ì•„ ì‹¤í–‰ ê³„íšìœ¼ë¡œ ë³€í™˜í•œë‹¤. ê·¸ ê³¼ì •ì€ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ 4ë‹¨ê³„ì˜ ê³¼ì •ì„ ê±°ì¹œë‹¤.\në¶„ì„\nì œê³µëœ ì½”ë“œê°€ ìœ íš¨í•˜ê³  ì˜¤ë¥˜ê°€ ì—†ëŠ”ì§€ í™•ì¸í•œë‹¤. ì¹¼ëŸ¼, ë°ì´í„° íƒ€ì…, í•¨ìˆ˜, í…Œì´ë¸”, ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ ëª©ë¡ì„ ê°–ê³  ìˆëŠ” Catalog ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤. ë¶„ì„ ë‹¨ê³„ë¥¼ ì„±ê³µì ìœ¼ë¡œ í†µê³¼í•˜ë©´ Sparkì—ì„œ ì´í•´í•˜ê³  í•´ê²°í•  ìˆ˜ ìˆëŠ” ìš”ì†Œë§Œì´ í¬í•¨ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§„ë‹¤.\në…¼ë¦¬ì  ìµœì í™”\ní‘œì¤€ì ì¸ ê·œì¹™ì„ ê¸°ë°˜ìœ¼ë¡œ ìµœì í™” ì ‘ê·¼ ë°©ì‹ì„ ì ìš©í•˜ì—¬ íš¨ìœ¨ì„±ì„ í–¥ìƒì‹œí‚¨ë‹¤. ìµœì í™”ë¥¼ ìœ„í•œ ì—¬ëŸ¬ ê³„íšë“¤ì„ ìˆ˜ë¦½í•˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ë©´ ì¡°ê±´ì ˆ í•˜ë¶€ ë°°ì¹˜, ì¹¼ëŸ¼ ê±¸ëŸ¬ë‚´ê¸°, ë¶€ìš¸ í‘œí˜„ì‹ ë‹¨ìˆœí™” ë“±ì´ í¬í•¨ëœë‹¤. ë…¼ë¦¬ ê³„íšì€ ë¬¼ë¦¬ ê³„íš ìˆ˜ë¦½ì˜ ì…ë ¥ ë°ì´í„°ê°€ ëœë‹¤.\në¬¼ë¦¬ ê³„íš ìˆ˜ë¦½\në…¼ë¦¬ ê³„íšì„ ë°”íƒ•ìœ¼ë¡œ ëŒ€ì‘ë˜ëŠ” ë¬¼ë¦¬ì  ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ ìµœì í™”ëœ ë¬¼ë¦¬ ê³„íšì„ ìƒì„±í•œë‹¤. CPU, ë©”ëª¨ë¦¬, I/O í™œìš©ì„ í¬í•¨í•œ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ ë¹„ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹¤í–‰ ì „ëµì„ í‰ê°€í•œë‹¤. ë¦¬ì†ŒìŠ¤ ê°€ìš©ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ ê°€ì¥ ë¹„ìš©ì´ ì ê²Œ ë“œëŠ” ê³„íšì„ ì„ íƒí•œë‹¤.\nì½”ë“œ ìƒì„±\në¬¼ë¦¬ ê³„íšì„ Java ë°”ì´íŠ¸ ì½”ë“œë¡œ ë³€í™˜í•œë‹¤. ìµœì‹  ì»´íŒŒì¼ëŸ¬ ê¸°ìˆ ì„ í™œìš©í•´ ìµœì í™”ëœ ë°”ì´íŠ¸ ì½”ë“œë¥¼ ìƒì„±í•œë‹¤. Sparkê°€ JIT(Just-In-Time) ì»´íŒŒì¼ëŸ¬ì²˜ëŸ¼ ì‘ë™í•˜ì—¬ ëŸ°íƒ€ì„ ì„±ëŠ¥ì„ ìµœì í™”í•˜ê³  ì‹¤í–‰ ì†ë„ë¥¼ í¬ê²Œ í–¥ìƒì‹œí‚¨ë‹¤.\nReferences # https://www.oreilly.com/library/view/learning-spark-2nd/9781492050032/ https://itwiki.kr/w/ì•„íŒŒì¹˜_ìŠ¤íŒŒí¬_DSL https://github.com/databricks/LearningSparkV2 https://www.databricks.com/spark/getting-started-with-apache-spark/datasets https://www.databricks.com/glossary/catalyst-optimizer https://blog.det.life/apache-spark-sql-engine-and-query-planning-37cafb2b98f6 "},{"id":15,"href":"/blog/spark-study-3/","title":"Apache Spark - ìŠ¤íŒŒí¬ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°ì™€ RDD ì´í•´í•˜ê¸°","content":"Spark Application # Spark Applicationì€ Driver Process í•˜ë‚˜ì™€ ì¼ë ¨ì˜ ì¼ë ¨ì˜ Executorsë¡œ êµ¬ì„±ëœë‹¤.\nDriver Process # Driver ProcessëŠ” main() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  í´ëŸ¬ìŠ¤í„° ë‚´ ë…¸ë“œì—ì„œ ì„¸ ê°€ì§€ ì‘ì—…ì„ ë‹´ë‹¹í•œë‹¤.\nSpark Application ê´€ë ¨ ì •ë³´ë¥¼ ìœ ì§€í•œë‹¤. ì‚¬ìš©ìì˜ í”„ë¡œê·¸ë¨ì´ë‚˜ ì…ë ¥ì— ëŒ€ì‘í•œë‹¤. Executor ì‘ì—…ì„ ë¶„ì„, ë°°í¬, ì˜ˆì•½í•œë‹¤. Executor # ExecutorëŠ” Driverê°€ í• ë‹¹í•œ ì‘ì—…ì„ ì‹¤ì œë¡œ ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ í•˜ëŠ”ë°, ë‘ ê°€ì§€ ì‘ì—…ì„ ë‹´ë‹¹í•œë‹¤.\nDriverê°€ í• ë‹¹í•œ Taskë¥¼ ì‹¤í–‰í•œë‹¤. Taskì˜ ìƒíƒœì™€ ê²°ê³¼ë¥¼ Driver ë…¸ë“œì— ë³´ê³ í•œë‹¤. Cluster Manager # ì‹¤ë¬¼ ì‹œìŠ¤í…œì„ ì œì–´í•˜ê³  Spark Applicationì— ë¦¬ì†ŒìŠ¤ë¥¼ í• ë‹¹í•˜ëŠ” ì‘ì—…ì€ Cluster Managerê°€ ë§¡ëŠ”ë‹¤. Spark Applicationì˜ ì‹¤í–‰ ê³¼ì •ì—ì„œ Cluster ManagerëŠ” Applicationì´ ì‹¤í–‰ë˜ëŠ” ë¬¼ë¦¬ì ì¸ ë¨¸ì‹ ì„ ê´€ë¦¬í•œë‹¤. Spark Applicationì€ í´ëŸ¬ìŠ¤í„°ì—ì„œ ë…ë¦½ì ì¸ í”„ë¡œì„¸ìŠ¤ë¡œ ì‹¤í–‰ë˜ë©°, SparkContext ê°ì²´ì— ì˜í•´ ì¡°ì •ëœë‹¤.\nSparkContextëŠ” ì—¬ëŸ¬ ìœ í˜•ì˜ Cluster Manager(Standalone, YARN, Kubernetes)ì— ì—°ê²°ë  ìˆ˜ ìˆìœ¼ë©°, Application ê°„ì— ë¦¬ì†ŒìŠ¤ë¥¼ í• ë‹¹í•œë‹¤. Sparkê°€ ì—°ê²°ë˜ì–´ í´ëŸ¬ìŠ¤í„°ì˜ ë…¸ë“œì—ì„œ Executorê°€ í™•ë³´ë˜ë©´, SparkContextì— ì „ë‹¬ëœ Application ì½”ë“œê°€ Executorì—ê²Œ ì „ë‹¬ëœë‹¤.\nJob # Spark DriverëŠ” Spark Applicationì„ í•˜ë‚˜ ì´ìƒì˜ Spark Jobìœ¼ë¡œ ë³€í™˜í•œë‹¤. ê° Jobì€ DAGë¡œ ë³€í™˜ë˜ë©°, DAG ê·¸ë˜í”„ì—ì„œ ê°ê°ì˜ ë…¸ë“œëŠ” í•˜ë‚˜ ì´ìƒì˜ Spark Stageì— í•´ë‹¹í•œë‹¤.\nStage # ì–´ë–¤ ì‘ì—…ì´ ì—°ì†ì ìœ¼ë¡œ ë˜ëŠ” ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ”ì§€ì— ë§ì¶° Stageì— í•´ë‹¹í•˜ëŠ” DAG ë…¸ë“œê°€ ìƒì„±ëœë‹¤. Spark ì—°ì‚°ì€ í•˜ë‚˜ì˜ Stage ì•ˆì—ì„œ ì‹¤í–‰ë˜ì§€ ì•Šê³  ì—¬ëŸ¬ Stageë¡œ ë‚˜ë‰˜ì–´ ì‹¤í–‰ëœë‹¤.\nTask # ê° StageëŠ” ìµœì†Œ ì‹¤í–‰ ë‹¨ìœ„ì´ë©° Executorë“¤ ìœ„ì—ì„œ ì‹¤í–‰ë˜ëŠ” Spark Taskë“¤ë¡œ ì´ë£¨ì–´ì§„ë‹¤. ê° TaskëŠ” ê°œë³„ì ì¸ CPU ì½”ì–´ì— í• ë‹¹ë˜ì–´ ê°œë³„ì ì¸ íŒŒí‹°ì…˜ì„ ê°–ê³  ì‘ì—…í•˜ê¸° ë•Œë¬¸ì—, ì² ì €í•˜ê²Œ ë³‘ë ¬ ì²˜ë¦¬ê°€ ì´ë£¨ì–´ì§„ë‹¤.\nRDD(Resilient Distributed Data) # RDDëŠ” íƒ„ë ¥ì ì¸ ë¶„ì‚° ë°ì´í„°ì…‹ì´ë€ ì˜ë¯¸ë¡œ, ë¶„ì‚° ë°ì´í„°ë¥¼ ë³‘ë ¬ë¡œ ì²˜ë¦¬í•˜ê³  ì¥ì• ê°€ ë°œìƒí•  ê²½ìš° ìŠ¤ìŠ¤ë¡œ ë³µêµ¬ë  ìˆ˜ ìˆëŠ” ë‚´ì„±ì„ ê°€ì§€ê³  ìˆë‹¤. RDDëŠ” Sparkì—ì„œ ì •ì˜í•œ ë¶„ì‚° ë°ì´í„° ëª¨ë¸ë¡œ, ì—¬ëŸ¬ ì„œë²„ì— ë‚˜ëˆ„ì–´ ì €ì¥ë˜ì–´ ê° ì„œë²„ì—ì„œ ì €ì¥ëœ ë°ì´í„°ë¥¼ ë™ì‹œì— ë³‘ë ¬ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\nRDD íŠ¹ì§• # RDDëŠ” 5ê°€ì§€ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‹¤.\nDistributed Collection\në°ì´í„°ëŠ” í´ëŸ¬ìŠ¤í„°ì— í©ì–´ì ¸ ìˆì§€ë§Œ í•˜ë‚˜ì˜ íŒŒì¼ì¸ ê²ƒì²˜ëŸ¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•œë‹¤. ì¦‰, ì—¬ëŸ¬ êµ°ë°ì˜ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nResilient \u0026amp; Immutable\në°ì´í„°ëŠ” íƒ„ë ¥ì ì´ê³  ë¶ˆë³€í•˜ëŠ” ì„±ì§ˆì´ ìˆë‹¤. RDDì˜ ë³€í™˜ ê³¼ì •ì€ DAGë¡œ ê·¸ë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ìƒê¸¸ ê²½ìš° ì‰½ê²Œ ì´ì „ì˜ RDDë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆë‹¤. ì—°ì‚° ì¤‘ ë¬¸ì œê°€ ìƒê²¨ë„ ë‹¤ì‹œ ë³µì›í•´ì„œ ì—°ì‚°í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— íƒ„ë ¥ì ì¸ ì„±ì§ˆì„ ê°€ì§„ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë˜í•œ, ì—¬ëŸ¬ ë…¸ë“œ ì¤‘ í•˜ë‚˜ì˜ ë…¸ë“œì—ì„œ ì¥ì• ê°€ ë°œìƒí•´ë„ ë³µì›ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë¶ˆë³€í•˜ë‹¤ëŠ” ì„±ì§ˆì„ ê°€ì§„ë‹¤ê³ ë„ ë³¼ ìˆ˜ ìˆë‹¤.\nType-Safe\nRDDëŠ” ì»´íŒŒì¼ ì‹œ íƒ€ì…ì„ íŒë³„í•  ìˆ˜ ìˆë‹¤. Integer RDD, String RDD, Double RDD ë“±ìœ¼ë¡œ ë¯¸ë¦¬ íŒë‹¨í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¬¸ì œë¥¼ ì¼ì° ë°œê²¬í•  ìˆ˜ ìˆë‹¤.\nStructured \u0026amp; Unstructured Data\nì •í˜• ë°ì´í„°ì¸ í…Œì´ë¸”, RDB, DataFrameê³¼ ë¹„ì •í˜• ë°ì´í„°ì¸ í…ìŠ¤íŠ¸, ë¡œê·¸, ìì—°ì–´ ë“±ì„ ëª¨ë‘ ë‹´ì„ ìˆ˜ ìˆë‹¤.\nLazy Evaluation\në¶„ì‚° ë°ì´í„°ì˜ Spark ì—°ì‚°ì€ Transformationê³¼ Actionìœ¼ë¡œ êµ¬ë¶„ëœë‹¤. Actionì„ í•  ë•Œê¹Œì§€ Transformationì„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. Actionì„ í•˜ê²Œ ë˜ë©´ Transformationì„ ì‹¤í–‰í•˜ëŠ” ê²Œìœ¼ë¥¸ ì—°ì‚° ë°©ì‹ì„ ê°€ì§„ë‹¤.\nTransformation # Transformationì€ ë¶ˆë³€ì„±ì˜ íŠ¹ì§•ì„ ê°€ì§„ ì›ë³¸ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  í•˜ë‚˜ì˜ Spark DataFrameì„ ìƒˆë¡œìš´ DataFrameìœ¼ë¡œ ë³€í˜•(Transform)í•œë‹¤. select() ë‚˜ filter() ê°™ì€ ì—°ì‚°ì€ ì›ë³¸ DataFrameì„ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.\nTransformationì€ ì¦‰ì‹œ ê³„ì‚°ë˜ì§€ ì•Šê³  Lineageë¼ ë¶ˆë¦¬ëŠ” í˜•íƒœë¡œ ê¸°ë¡ëœë‹¤. ê¸°ë¡ëœ LineageëŠ” ë” íš¨ìœ¨ì ìœ¼ë¡œ ì—°ì‚°í•  ìˆ˜ ìˆë„ë¡ Transformationë“¤ë¼ë¦¬ ì¬ë°°ì—´í•˜ê±°ë‚˜ í•©ì¹˜ë„ë¡ ìµœì í™”ëœë‹¤. Lazy Evaluationì€ Actionì´ ì‹¤í–‰ë˜ëŠ” ì‹œì ì´ë‚˜ ë°ì´í„°ì— ì‹¤ì œ ì ‘ê·¼í•˜ëŠ” ì‹œì ê¹Œì§€ ì‹¤ì œ ì‹¤í–‰ì„ ë¯¸ë£¨ëŠ” ì „ëµì´ë‹¤.\nLazy Evaluationì´ ì¼ë ¨ì˜ Transformationë“¤ì„ ìµœì í™”í•œë‹¤ë©´, LineageëŠ” ë°ì´í„° ë¶ˆë³€ì„± ë° ì¥ì• ì— ëŒ€í•œ ë‚´êµ¬ì„±ì„ ì œê³µí•œë‹¤. Lineageì—ëŠ” Transformationë“¤ì´ ê¸°ë¡ë˜ì–´ ìˆê³  ì‹¤í–‰ ì „ê¹Œì§€ DataFrameì´ ë³€í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ë‹¨ìˆœíˆ ê¸°ë¡ëœ Lineageë¥¼ ì¬ì‹¤í–‰í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ì›ë˜ ìƒíƒœë¥¼ ë‹¤ì‹œ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆë‹¤.\nTransformationì€ Narrow Transformationê³¼ Wide Transformationìœ¼ë¡œ êµ¬ë¶„ëœë‹¤.\nNarrow Transformation # Narrow Transformationì€ í•˜ë‚˜ì˜ ì…ë ¥ íŒŒí‹°ì…˜ì„ ì—°ì‚°í•˜ì—¬ í•˜ë‚˜ì˜ ì¶œë ¥ íŒŒí‹°ì…˜ì„ ë‚´ë†“ëŠ” ê²½ìš°ë‹¤. ì…ë ¥ íŒŒí‹°ì…˜ì— ëŒ€í•œ ì—°ì‚°ì´ ë…ë¦½ì ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©°, ì—°ì‚°ì˜ ê²°ê³¼ì¸ ì¶œë ¥ íŒŒí‹°ì…˜ì€ ì…ë ¥ íŒŒí‹°ì…˜ì˜ ë°ì´í„°ì—ë§Œ ì˜ì¡´í•œë‹¤. ì¦‰, ë‹¤ë¥¸ íŒŒí‹°ì…˜ì˜ ë°ì´í„°ë¥¼ ì°¸ì¡°í•  í•„ìš”ê°€ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. filter() ì™€ contains() ë“±ì˜ ì—°ì‚°ì´ ì—¬ê¸°ì— í•´ë‹¹ëœë‹¤.\nNarrow Transformationì€ ì‹¤í–‰ ë¹„ìš©ì´ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ê³ , ì„±ëŠ¥ì´ ì¢‹ì•„ ë¹ ë¥¸ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.\nWide Transformation # Wide Transformationì€ ì…ë ¥ ë°ì´í„°ì˜ ì—¬ëŸ¬ íŒŒí‹°ì…˜ ê°„ì— ë°ì´í„°ê°€ ì¬ë¶„ë°°ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ë‹¤. ë‹¤ë¥¸ íŒŒí‹°ì…˜ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ì–´ë“¤ì—¬ì„œ Shuffle(ë°ì´í„° ì¬ë¶„ë°°)í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë©°, groupBy() ë‚˜ orderBy() ë“±ì˜ ì—°ì‚°ì´ ì—¬ê¸°ì— í•´ë‹¹ëœë‹¤.\nWide Transformationì€ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•œ ëŒ€ëŸ‰ì˜ ë°ì´í„° ì´ë™ì„ ë°œìƒì‹œì¼œ ì‹¤í–‰ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê³  ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì´ ë§ë‹¤.\nAction # Actionì€ RDDë¡œ ê²°ê³¼ ê°’ì„ ê³„ì‚°í•˜ê³ , ì—°ì‚° ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ ì™¸ë¶€ ìŠ¤í† ë¦¬ì§€(HDFS ë“±)ì— ì €ì¥í•œë‹¤. count() ë‚˜ show() í•¨ìˆ˜ëŠ” ì—°ì‚° ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ ì¶œë ¥í•˜ê³ , saveAsTextFile() ê³¼ ê°™ì€ í•¨ìˆ˜ë¡œ ì—°ì‚° ê²°ê³¼ë¥¼ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤.\nActionì„ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ RDDê°€ ì²˜ìŒë¶€í„° ê³„ì‚°ë˜ëŠ”ë°, ë°˜ë³µì ì¸ ì—°ì‚°ì— ì˜í•œ ë¹„íš¨ìœ¨ì„±ì„ í”¼í•˜ê¸° ìœ„í•´ cache() ì™€ persist() ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ë³´ê´€í•  ìˆ˜ ìˆë‹¤.\nWeb UI # ìŠ¤íŒŒí¬ëŠ” í´ëŸ¬ìŠ¤í„° ìƒíƒœì™€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ì„ ëª¨ë‹ˆí„°ë§í•˜ê¸° ìœ„í•´ Web UIë¥¼ ì œê³µí•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ 4040 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆë‹¤.\nìŠ¤ì¼€ì¤„ëŸ¬ì˜ Stageì™€ Task ëª©ë¡ RDD í¬ê¸°ì™€ ë©”ëª¨ë¦¬ ì‚¬ìš©ì˜ ìš”ì•½ í™˜ê²½ ì •ë³´ ì‹¤í–‰ ì¤‘ì¸ Executor ì •ë³´ ëª¨ë“  ìŠ¤íŒŒí¬ SQL ì¿¼ë¦¬ ì•„ë˜ëŠ” AWS ë¬¸ì„œì—ì„œ ì œê³µí•˜ëŠ” í™”ë©´ì´ë‹¤. Web UIë¥¼ í†µí•´ Job, Stage, Taskë“¤ì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ëŠ”ì§€ DAG í˜•íƒœë¡œ ì‹œê°í™”í•´ì„œ ë³¼ ìˆ˜ ìˆë‹¤. Stage ì•ˆì—ì„œ ê°ê°ì˜ TaskëŠ” íŒŒë€ ë°•ìŠ¤ë¡œ í‘œì‹œë˜ëŠ”ë°, ì•„ë˜ ì˜ˆì‹œì—ì„œ Stage 2ëŠ” 2ê°œì˜ Taskë¡œ êµ¬ì„±ë˜ì–´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. Taskê°€ ì—¬ëŸ¬ ê°œë¼ë©´ ëª¨ë‘ ë³‘ë ¬ë¡œ ì‹¤í–‰ëœë‹¤.\nspark-submit # databricks/LearningSparkV2/chapter2 ì—ì„œ ê° ì£¼ë³„ë¡œ í•™ìƒë“¤ì´ ì–´ë–¤ ìƒ‰ê¹”ì˜ M\u0026amp;Mì„ ì¢‹ì•„í•˜ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ìŠ¤íŒŒí¬ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•œ ì˜ˆì œ mnmcount.py ë¥¼ ê°€ì ¸ì˜¨ë‹¤. ë™ì¼í•œ ìœ„ì¹˜ì˜ data/ ê²½ë¡œì—ì„œ M\u0026amp;M ë°ì´í„°ì…‹ mnm_dataset.csv ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nM\u0026amp;M ê°œìˆ˜ ì§‘ê³„ (Python) # Copy python # src/mnmcount.py from pyspark.sql import SparkSession import sys if __name__ == \u0026#34;__main__\u0026#34;: if len(sys.argv) != 2: print(\u0026#34;Usage: mnmcount \u0026lt;file\u0026gt;\u0026#34;, file=sys.stderr) sys.exit(-1) # SparkSession ê°ì²´ë¥¼ ë§Œë“ ë‹¤. spark = (SparkSession .builder .appName(\u0026#34;PythonMnMCount\u0026#34;) .getOrCreate()) # ì¸ìì—ì„œ M\u0026amp;M ë°ì´í„°ê°€ ë“¤ì–´ìˆëŠ” íŒŒì¼ ì´ë¦„ì„ ì–»ëŠ”ë‹¤. mnm_file = sys.argv[1] # ë°ì´í„°ê°€ CSV í˜•ì‹ì´ë©° í—¤ë”ê°€ ìˆìŒì„ ì•Œë¦¬ê³  ìŠ¤í‚¤ë§ˆë¥¼ ì¶”ë¡ í•˜ë„ë¡ í•œë‹¤. mnm_df = (spark.read.format(\u0026#34;csv\u0026#34;) .option(\u0026#34;header\u0026#34;, \u0026#34;true\u0026#34;) .option(\u0026#34;inferSchema\u0026#34;, \u0026#34;true\u0026#34;) .load(mnm_file)) mnm_df.show(n=5, truncate=False) # State, Color, Count í•„ë“œë¥¼ ì„ íƒí•˜ê³  State, Colorë¥¼ ê¸°ì¤€ìœ¼ë¡œ Countë¥¼ sum ì§‘ê³„í•œë‹¤. # select, groupBy, sum, orderBy ë©”ì„œë“œë¥¼ ì—°ê²°í•˜ì—¬ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤. count_mnm_df = (mnm_df.select(\u0026#34;State\u0026#34;, \u0026#34;Color\u0026#34;, \u0026#34;Count\u0026#34;) .groupBy(\u0026#34;State\u0026#34;, \u0026#34;Color\u0026#34;) .sum(\u0026#34;Count\u0026#34;) .orderBy(\u0026#34;sum(Count)\u0026#34;, ascending=False)) # ìƒìœ„ 60ê°œ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ê³ , ëª¨ë“  í–‰ ê°œìˆ˜ë¥¼ count ì§‘ê³„í•´ ì¶œë ¥í•œë‹¤. count_mnm_df.show(n=60, truncate=False) print(\u0026#34;Total Rows = %d\u0026#34; % (count_mnm_df.count())) # ìœ„ ì§‘ê³„ ê³¼ì •ì—ì„œ ì¤‘ê°„ì— where ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ ìº˜ë¦¬í¬ë‹ˆì•„(CA) ì£¼ì— ëŒ€í•´ì„œë§Œ ì§‘ê³„í•œë‹¤. ca_count_mnm_df = (mnm_df.select(\u0026#34;*\u0026#34;) .where(mnm_df.State == \u0026#39;CA\u0026#39;) .groupBy(\u0026#34;State\u0026#34;, \u0026#34;Color\u0026#34;) .sum(\u0026#34;Count\u0026#34;) .orderBy(\u0026#34;sum(Count)\u0026#34;, ascending=False)) # ìƒìœ„ 10ê°œ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤€ë‹¤. ca_count_mnm_df.show(n=10, truncate=False) # SparkSessionì„ ë©ˆì¶˜ë‹¤. spark.stop() Application ì‹¤í–‰ # spark-submit ìŠ¤í¬ë¦½íŠ¸ì— íŒŒì´ì¬ ì½”ë“œë¥¼ ì²« ë²ˆì§¸ ì¸ìë¡œ, CSV íŒŒì¼ì„ ë‘ ë²ˆì§¸ ì¸ìë¡œ ì „ë‹¬í•œë‹¤.\nì‹¤í–‰ ê³¼ì •ì—ì„œ ë¶ˆí•„ìš”í•œ INFO ë¡œê·¸ë¥¼ ë¬´ì‹œí•˜ê³  ì‹¶ë‹¤ë©´, $SPARK_HOME/conf/ ê²½ë¡œì—ì„œ log4j2.properties.template íŒŒì¼ì˜ ì´ë¦„ì„ log4j2.properties ë¡œ ë³€ê²½í•˜ê³  íŒŒì¼ ë‚´ìš©ì—ì„œ rootLogger.level = info ë¶€ë¶„ì˜ ê°’ì„ warn ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ëœë‹¤.\nCopy bash (spark) % $SPARK_HOME/bin/spark-submit src/mnmcount.py data/mnm_dataset.csv +-----+------+-----+ |State|Color |Count| +-----+------+-----+ |TX |Red |20 | |NV |Blue |66 | |CO |Blue |79 | |OR |Blue |71 | |WA |Yellow|93 | +-----+------+-----+ only showing top 5 rows +-----+------+----------+ |State|Color |sum(Count)| +-----+------+----------+ |CA |Yellow|100956 | |WA |Green |96486 | |CA |Brown |95762 | |TX |Green |95753 | |TX |Red |95404 | |CO |Yellow|95038 | |NM |Red |94699 | |OR |Orange|94514 | |WY |Green |94339 | |NV |Orange|93929 | |TX |Yellow|93819 | |CO |Green |93724 | |CO |Brown |93692 | |CA |Green |93505 | |NM |Brown |93447 | |CO |Blue |93412 | |WA |Red |93332 | |WA |Brown |93082 | |WA |Yellow|92920 | |NM |Yellow|92747 | |NV |Brown |92478 | |TX |Orange|92315 | |AZ |Brown |92287 | |AZ |Green |91882 | |WY |Red |91768 | |AZ |Orange|91684 | |CA |Red |91527 | |WA |Orange|91521 | |NV |Yellow|91390 | |UT |Orange|91341 | |NV |Green |91331 | |NM |Orange|91251 | |NM |Green |91160 | |WY |Blue |91002 | |UT |Red |90995 | |CO |Orange|90971 | |AZ |Yellow|90946 | |TX |Brown |90736 | |OR |Blue |90526 | |CA |Orange|90311 | |OR |Red |90286 | |NM |Blue |90150 | |AZ |Red |90042 | |NV |Blue |90003 | |UT |Blue |89977 | |AZ |Blue |89971 | |WA |Blue |89886 | |OR |Green |89578 | |CO |Red |89465 | |NV |Red |89346 | |UT |Yellow|89264 | |OR |Brown |89136 | |CA |Blue |89123 | |UT |Brown |88973 | |TX |Blue |88466 | |UT |Green |88392 | |OR |Yellow|88129 | |WY |Orange|87956 | |WY |Yellow|87800 | |WY |Brown |86110 | +-----+------+----------+ Total Rows = 60 +-----+------+----------+ |State|Color |sum(Count)| +-----+------+----------+ |CA |Yellow|100956 | |CA |Brown |95762 | |CA |Green |93505 | |CA |Red |91527 | |CA |Orange|90311 | |CA |Blue |89123 | +-----+------+----------+ ì²˜ìŒì—ëŠ” mnm_dataset.csv ì˜ ìƒìœ„ 5ê°œ í–‰ì„ ë³´ì—¬ì£¼ê³ , ì´ì–´ì„œ ê° ì£¼ë³„, ìƒ‰ê¹”ë³„ í•©ê³„ë¥¼ ì¶œë ¥í•œë‹¤. ê·¸ë¦¬ê³ , ìº˜ë¦¬í¬ë‹ˆì•„(CA)ì— ëŒ€í•œ ê²°ê³¼ë§Œ ë³„ë„ë¡œ ì¶œë ¥í•œë‹¤.\nReferences # https://www.oreilly.com/library/view/learning-spark-2nd/9781492050032/ https://www.databricks.com/en/glossary/what-are-spark-applications https://spark.apache.org/docs/latest/cluster-overview.html https://velog.io/@dbgpwl34/Spark-ìŠ¤íŒŒí¬-ì• í”Œë¦¬ì¼€ì´ì…˜ì˜-ì•„í‚¤í…ì²˜-ìŠ¤íŒŒí¬-ì• í”Œë¦¬ì¼€ì´ì…˜ì˜-ìƒì• -ì£¼ê¸° https://spark.apache.org/docs/latest/rdd-programming-guide.html https://6mini.github.io/data%20engineering/2021/12/12/rdd/ https://mengu.tistory.com/27 https://sunrise-min.tistory.com/entry/Apache-Spark-RDD https://docs.aws.amazon.com/glue/latest/dg/monitor-spark-ui.html https://github.com/databricks/LearningSparkV2 "},{"id":16,"href":"/blog/spark-study-2/","title":"Apache Spark - ë¡œì»¬ í™˜ê²½ì—ì„œ ì„¤ì¹˜í•˜ê³  PySpark ì‹¤í–‰í•˜ê¸°","content":"Spark Installation # Apple Silicon í™˜ê²½ì—ì„œ ìŠ¤íŒŒí¬ ì„¤ì¹˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.\nê° ì„¹ì…˜ì˜ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ë©´ ì„¤ì¹˜ í˜ì´ì§€ ë˜ëŠ” ê´€ë ¨ ë¬¸ì„œë¡œ ì´ë™í•©ë‹ˆë‹¤.\nSpark ì„¤ì¹˜ # ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ ë‹¤ìš´ë¡œë“œ í˜ì´ì§€ë¡œ ê°€ì„œ ìµœì‹  ë²„ì „ 4.0.0 ë° \u0026quot;Pre-built for Apache Hadoop\u0026quot; ì˜µì…˜ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ ë²„ì „ì˜ ë‹¤ìš´ë¡œë“œ ë§í¬ spark-4.0.0-bin-hadoop3.tgz ê°€ ë‚˜íƒ€ë‚œë‹¤. í•´ë‹¹ ë§í¬ë¡œ ì´ë™í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ Hadoop ê´€ë ¨ ë°”ì´ë„ˆë¦¬ íŒŒì¼ì´ í¬í•¨ëœ ì••ì¶• íŒŒì¼ì˜ ì„¤ì¹˜ ê²½ë¡œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\në¸Œë¼ìš°ì € ë˜ëŠ” curl, wget ë“± ëª…ë ¹ì–´ë¥¼ í†µí•´ ì••ì¶• íŒŒì¼ì„ ë‚´ë ¤ë°›ì„ ìˆ˜ ìˆë‹¤. Copy bash wget https://dlcdn.apache.org/spark/spark-4.0.0/spark-4.0.0-bin-hadoop3.tgz ì••ì¶• í•´ì œ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê±°ë‚˜, í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì••ì¶• í•´ì œí•œë‹¤. Copy bash tar zxvf spark-4.0.0-bin-hadoop3.tgz Spark ê²½ë¡œì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤. Copy bash vi ~/.zshrc vi í¸ì§‘ê¸°ë¡œ .zshrc íŒŒì¼ì— Spark ê²½ë¡œë¥¼ ë“±ë¡í•œë‹¤. SPARK_HOME ì€ ì••ì¶• í•´ì œí•œ Spark ê²½ë¡œë¥¼ ì…ë ¥í•œë‹¤. Copy bash export SPARK_HOME=/Users/{username}/spark-4.0.0 export PATH=$PATH:$SPARK_HOME/bin:$SPARK_HOME/sbin ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ê¸° ìœ„í•´ í„°ë¯¸ë„ì„ ì¬ì‹œì‘í•˜ê±°ë‚˜ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. Copy text source ~/.zshrc ì£¼ì˜í•  ì ì€ Sparkë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— Javaì™€ Hadoopì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ë³´í†µì€ Java ë˜ëŠ” Hadoop ë²„ì „ì— ë§ì¶°ì„œ Sparkë¥¼ ì„¤ì¹˜í•˜ì§€ë§Œ, ì–´ë–¤ ê²ƒë„ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ìŠ¤íŒŒí¬ ë²„ì „ì— ë§ì¶°ì„œ Javaì™€ Hadoopì„ ì„¤ì¹˜í•œë‹¤.\nHadoopì€ ë‹¤ìš´ë¡œë“œí•  ë•Œ ì§€ì •í•œ ê²ƒê³¼ ê°™ì€ 3.4 ë²„ì „ì„ ì„¤ì¹˜í•˜ê³ , JavaëŠ” Spark 4.0.0ì—ì„œ ìš”êµ¬í•˜ëŠ” ìµœì†Œ ë²„ì „ì¸ OpenJDK 17 ë²„ì „ì„ ì„¤ì¹˜í•œë‹¤. ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´ Spark ì‹¤í–‰ ì„¹ì…˜ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.\nSpark runs on Java 17/21, Scala 2.13, Python 3.9+, and R 3.5+ (Deprecated)\nJava ì„¤ì¹˜ # Homebrewê°€ ì„¤ì¹˜ë˜ì—ˆë‹¤ëŠ” ì „ì œ í•˜ì— OpenJDK 17 ë²„ì „ì„ ì„¤ì¹˜í•œë‹¤. Copy bash brew install openjdk@17 ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´, ì‹œìŠ¤í…œì—ì„œ JDKë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ì‹¬ë³¼ë¦­ ë§í¬ë¡œ ì—°ê²°í•œë‹¤. Copy bash sudo ln -sfn /opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-17.jdk í™˜ê²½ë³€ìˆ˜ì— OpenJDK 11ì˜ bin ë””ë ‰í„°ë¦¬ë¥¼ ì¶”ê°€í•œë‹¤. vi í¸ì§‘ê¸° ë“±ìœ¼ë¡œ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ë„ ìˆë‹¤. Copy bash echo \u0026#39;export PATH=/opt/homebrew/opt/openjdk@17/bin:$PATH\u0026#39; \u0026gt;\u0026gt; ~/.zshrc ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ê¸° ìœ„í•´ í„°ë¯¸ë„ì„ ì¬ì‹œì‘í•˜ê±°ë‚˜ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. Copy bash source ~/.zshrc OpenJDK 11 ë²„ì „ì´ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤. Copy bash % java -version openjdk version \u0026#34;17.0.15\u0026#34; 2025-04-15 OpenJDK Runtime Environment Homebrew (build 17.0.15+0) OpenJDK 64-Bit Server VM Homebrew (build 17.0.15+0, mixed mode, sharing) Hadoop ì„¤ì¹˜ # Homebrewë¡œ ì„¤ì¹˜í•  ìˆ˜ë„ ìˆì§€ë§Œ, Hadoop 3.4.0 ë²„ì „ì„ ë§ì¶”ê¸° ìœ„í•´ ì••ì¶• íŒŒì¼ì„ ì§ì ‘ ë‚´ë ¤ë°›ëŠ”ë‹¤. ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ í´ë¦­í•˜ê±°ë‚˜, curl, wget ë“± ëª…ë ¹ì–´ë¡œ ë‚´ë ¤ë°›ì„ ìˆ˜ ìˆë‹¤. (ARM ì•„í‚¤í…ì²˜ì—ì„œ ì„¤ì¹˜í•  ë•ŒëŠ” íŒŒì¼ëª…ì— aarch64 ê°€ í¬í•¨ë˜ì–´ì•¼ í•œë‹¤) Copy bash wget https://archive.apache.org/dist/hadoop/common/hadoop-3.4.0/hadoop-3.4.0-aarch64.tar.gz ì••ì¶• í•´ì œ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ê±°ë‚˜, í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì••ì¶• í•´ì œí•œë‹¤. Copy bash tar zxvf hadoop-3.4.0-aarch64.tar.gz -C ~/ Hadoop ëª…ë ¹ì–´ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤. Copy bash vi ~/.zshrc vi í¸ì§‘ê¸°ë¡œ .zshrc íŒŒì¼ì— Hadoop ê²½ë¡œë¥¼ ë“±ë¡í•œë‹¤. HADOOP_HOME ì€ ì••ì¶• í•´ì œí•œ Hadoop ê²½ë¡œë¥¼ ì…ë ¥í•œë‹¤. Copy bash export HADOOP_HOME=/Users/{username}/hadoop-3.4.0 export PATH=$PATH:$HADOOP_HOME/bin ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ê¸° ìœ„í•´ í„°ë¯¸ë„ì„ ì¬ì‹œì‘í•˜ê±°ë‚˜ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. Copy text source ~/.zshrc Hadoop í™˜ê²½ ì„¤ì • íŒŒì¼ì„ ìˆ˜ì •í•œë‹¤. íŒŒì¼ë“¤ì€ $HADOOP_HOME/etc/hadoop/ ê²½ë¡œì— ìˆë‹¤. hadoop-env.sh\nCopy bash export JAVA_HOME=/Library/Java/JavaVirtualMachines/openjdk-17.jdk/Contents/Home core-site.xml\nCopy xml \u0026lt;configuration\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;fs.defaultFS\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;hdfs://localhost:9000\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt; hdfs-site.xml\nCopy xml \u0026lt;configuration\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;dfs.replication\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;1\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt; mapred-site.xml\nCopy xml \u0026lt;configuration\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;mapreduce.framework.name\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;yarn\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt; yarn-site.xml\nCopy xml \u0026lt;configuration\u0026gt; \u0026lt;property\u0026gt; \u0026lt;name\u0026gt;yarn.nodemanager.aux-services\u0026lt;/name\u0026gt; \u0026lt;value\u0026gt;mapreduce_shuffle\u0026lt;/value\u0026gt; \u0026lt;/property\u0026gt; \u0026lt;/configuration\u0026gt; HDFSì€ ìì²´ì ìœ¼ë¡œ SSHë¥¼ ì‚¬ìš©í•œë‹¤. SSH í‚¤ë¥¼ ìƒì„±í•˜ê³  ë³¸ì¸ ê³„ì •ì— ì¸ì¦í•œë‹¤. Copy bash ssh-keygen -t rsa cat ~/.ssh/id_rsa.pub \u0026gt;\u0026gt; ~/.ssh/authorized_keys chmod 600 ~/.ssh/authorized_keys ssh localhost HDFS ì‹¤í–‰ # ë„¤ì„ë…¸ë“œë¥¼ í¬ë§·í•˜ê³  HDFSì„ êµ¬ì„±í•˜ëŠ” ëª¨ë“  ë°ëª¬ì„ ì‹¤í–‰í•œë‹¤.\nCopy bash hdfs namenode -format $HADOOP_HOME/sbin/start-dfs.sh ë¨¼ì €, ë„¤ì„ë…¸ë“œë¥¼ í¬ë§·í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë¡œê·¸ê°€ ë°œìƒí•œë‹¤. í˜¸ìŠ¤íŠ¸ëª…ìœ¼ë¡œ localhost ëŒ€ì‹  ë‹¤ë¥¸ ëª…ì¹­ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë¡œ ì¸í•´ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤.\nCopy bash % sudo hdfs namenode -format Password: 2025-06-28 18:33:03,038 INFO namenode.NameNode: STARTUP_MSG: /************************************************************ STARTUP_MSG: Starting NameNode STARTUP_MSG: host = minyeamer/127.0.0.1 STARTUP_MSG: args = [-format] STARTUP_MSG: version = 3.4.0 STARTUP_MSG: classpath = /Users... ì •ìƒì ìœ¼ë¡œ HDFSì´ ì‹¤í–‰ëœë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ë©”ì‹œì§€ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.\nCopy bash % $HADOOP_HOME/sbin/start-dfs.sh Starting namenodes on [minyeamer] Starting datanodes minyeamer: datanode is running as process 21771. Stop it first and ensure /tmp/hadoop-cuz-datanode.pid file is empty before retry. Starting secondary namenodes [minyeamer] minyeamer: secondarynamenode is running as process 21906. Stop it first and ensure /tmp/hadoop-cuz-secondarynamenode.pid file is empty before retry. 2025-06-28 18:51:34,493 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable jps ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ ì‹¤í–‰ì¤‘ì¸ ë…¸ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nCopy bash % jps 21906 SecondaryNameNode 23016 Jps 22216 NameNode 21771 DataNode HDFSì„ ì¢…ë£Œí•˜ê³  ì‹¶ë‹¤ë©´ start-dfs.sh ì™€ ë™ì¼í•œ ê²½ë¡œì—ì„œ stop-all.sh ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ëœë‹¤.\nCopy bash % $HADOOP_HOME/sbin/stop-all.sh WARNING: Stopping all Apache Hadoop daemons as cuz in 10 seconds. WARNING: Use CTRL-C to abort. Stopping namenodes on [minyeamer] Stopping datanodes Stopping secondary namenodes [minyeamer] Stopping nodemanagers Stopping resourcemanager HDFS ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ ì²˜ë¦¬ # localhost ê°€ ì•„ë‹Œ minyeamer ë¼ëŠ” í˜¸ìŠ¤íŠ¸ëª…ì„ ì‚¬ìš©í•˜ëŠ”ë°, start-dfs.sh ì‹¤í–‰ ì‹œ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ ë©”ì‹œì§€ê°€ ë°œìƒí–ˆë‹¤. localhost ëª…ì¹­ì„ ì‚¬ìš©í•œë‹¤ë©´ í•´ë‹¹ ê³¼ì •ì€ ë¬´ì‹œí•˜ê³  Spark ì‹¤í–‰ ì„¹ì…˜ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.\nCopy bash minyeamer: ssh: Could not resolve hostname minyeamer: nodename nor servname provided, or not known ì²« ë²ˆì§¸ ì—ëŸ¬ëŠ” SSH ì—°ê²° ì‹œ í˜¸ìŠ¤íŠ¸ëª…ì„ ì¸ì‹í•  ìˆ˜ ì—†ë‹¤ëŠ” ë¬¸ì œë¡œ, /etc/hosts ì— minyeamer í˜¸ìŠ¤íŠ¸ëª…ê³¼ 127.0.0.1 IP ì£¼ì†Œê°€ ë§¤ì¹­ë˜ì§€ ì•Šì•„ì„œ ë°œìƒí•œ ë¬¸ì œë‹¤. ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.\nCopy text 127.0.0.1 localhost minyeamer 255.255.255.255 broadcasthost ::1 localhost minyeamer í•´ë‹¹ í˜¸ìŠ¤íŠ¸ëª…ìœ¼ë¡œ SSH ì ‘ì†ì„ ì‹œë„í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ì ‘ì†í•  ìˆ˜ ìˆë‹¤.\nCopy bash ssh minyeamer ë˜í•œ, Hadoop ì„¤ì • íŒŒì¼ë„ ì¼ë¶€ ìˆ˜ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. $HADOOP_HOME/etc/hadoop/ ê²½ë¡œì˜ workers íŒŒì¼ì—ëŠ” localhost í•œì¤„ë§Œ ì í˜€ìˆì„ ê±´ë°, minyeamer í˜¸ìŠ¤íŠ¸ëª…ìœ¼ë¡œ ë³€ê²½í•œë‹¤. ë˜í•œ, ë™ì¼í•œ ê²½ë¡œì˜ core-site.xml íŒŒì¼ì˜ hdfs://localhost:9000 ë¶€ë¶„ë„ ë³€ê²½í•´ì•¼ í•œë‹¤.\nê·¸ë¦¬ê³  ë‚˜ì„œ ë‹¤ì‹œ start-dfs.sh ë¥¼ ì‹¤í–‰í–ˆëŠ”ë° ë‹¤ë¥¸ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.\nCopy bash minyeamer: ERROR: Cannot set priority of namenode process 19072 ì´ê²ƒë§Œìœ¼ë¡œëŠ” ì˜¤ë¥˜ë¥¼ íŒŒì•…í•˜ê¸° ì–´ë ¤ì›Œì„œ $HADOOP_HOME/logs/ ê²½ë¡œ ì•„ë˜ hadoop-*-namenode-*.log í˜•ì‹ì˜ ë¡œê·¸ íŒŒì¼ì„ í™•ì¸í–ˆë‹¤.\në¡œê·¸ íŒŒì¼ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•œ ë¶€ë¶„ì— ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\nCopy bash 2025-06-28 18:44:47,867 ERROR org.apache.hadoop.hdfs.server.namenode.NameNode: Failed to start namenode. java.net.BindException: Problem binding to [minyeamer:9000] java.net.BindException: Address already in use; For more details see: http://wiki.apache.org/hadoop/BindException 9000ë²ˆ í¬íŠ¸ê°€ ì‚¬ìš©ë˜ê³  ìˆë‹¤ëŠ” ê±´ë°, í™•ì¸í•´ë³´ë‹ˆ localhost:cslistener ë¼ëŠ” ì´ë¦„ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì— ìˆì—ˆë‹¤.\nCopy bash % lsof -i :9000 COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME python3.1 1943 ... ì•„ë§ˆ localhost í˜¸ìŠ¤íŠ¸ëª…ìœ¼ë¡œ HDFSì„ ì‹¤í–‰ì‹œì¼°ì„ ë•Œ í”„ë¡œì„¸ìŠ¤ê°€ ì¤‘ì§€ë˜ì§€ ì•Šê³  ë‚¨ì•„ìˆëŠ” ê²ƒ ê°™ì•„ ê°•ì œë¡œ ì¤‘ì§€í–ˆë‹¤.\nCopy bash kill -9 1943 ë‹¤ì‹œ ë„¤ì„ë…¸ë“œë¥¼ í¬ë§·í•˜ê³  HDFSì„ ì‹¤í–‰í•˜ë‹ˆ ì•ì—ì„œ ë³´ì•˜ë˜ ì •ìƒì ì¸ ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.\nCopy bash hdfs namenode -format $HADOOP_HOME/sbin/start-dfs.sh Spark ì‹¤í–‰ # spark-shell ì„ ì‹¤í–‰í•˜ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nCopy bash (main) cuz@minyeamer ~ % spark-shell WARNING: Using incubator modules: jdk.incubator.vector Using Spark\u0026#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties 25/06/28 19:45:07 WARN Utils: Your hostname, minyeamer, resolves to a loopback address: 127.0.0.1; using 192.168.x.x instead (on interface en0) 25/06/28 19:45:07 WARN Utils: Set SPARK_LOCAL_IP if you need to bind to another address Using Spark\u0026#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties Setting default log level to \u0026#34;WARN\u0026#34;. To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel). Welcome to ____ __ / __/__ ___ _____/ /__ _\\ \\/ _ \\/ _ `/ __/ \u0026#39;_/ /___/ .__/\\_,_/_/ /_/\\_\\ version 4.0.0 /_/ Using Scala version 2.13.16 (OpenJDK 64-Bit Server VM, Java 17.0.15) Type in expressions to have them evaluated. Type :help for more information. Spark context Web UI available at http://localhost:4040 Spark context available as \u0026#39;sc\u0026#39; (master = local[*], app id = local-1751107510852). Spark session available as \u0026#39;spark\u0026#39;. scala\u0026gt; ë©”ì‹œì§€ì—ì„œ ì•Œë ¤ì£¼ëŠ”ëŒ€ë¡œ http://localhost:4040 ê²½ë¡œì— ì ‘ê·¼í•˜ë‹ˆê¹Œ ì•„ë˜ì™€ ê°™ì€ ì›¹ UI í™”ë©´ì„ ì¡°íšŒí•  ìˆ˜ ìˆì—ˆë‹¤.\nSpark ë””ë ‰í„°ë¦¬ êµ¬ì¡° # Spark ê²½ë¡œ ì•„ë˜ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë””ë ‰í„°ë¦¬ ë˜ëŠ” íŒŒì¼ì´ ì¡´ì¬í•œë‹¤.\nCopy bash % ls ~/spark-4.0.0 bin/\tconf/\tdata/\texamples/\thive-jackson/\tjars/\tkubernetes/\tlicenses/ python/\tR/\tsbin/\tyarn/\tLICENSE\tNOTICE\tREADME.md\tRELEASE READMD.md ìŠ¤íŒŒí¬ ì…¸ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ëŒ€í•œ ì•ˆë‚´ ë° ìŠ¤íŒŒí¬ ë¬¸ì„œì˜ ë§í¬ì™€ ì„¤ì • ê°€ì´ë“œ ë“±ì´ ê¸°ë¡ë˜ì–´ ìˆë‹¤.\nbin/ spark-shell ì„ í¬í•¨í•œ ëŒ€ë¶€ë¶„ì˜ ìŠ¤í¬ë¦½íŠ¸ê°€ ìœ„ì¹˜í•œë‹¤.\nsbin/ ë‹¤ì–‘í•œ ë°°í¬ ëª¨ë“œì—ì„œ í´ëŸ¬ìŠ¤í„°ì˜ ìŠ¤íŒŒí¬ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ì‹œì‘í•˜ê³  ì¤‘ì§€í•˜ê¸° ìœ„í•œ ê´€ë¦¬ ëª©ì ì´ë‹¤.\nkubernetes/ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ ì“°ëŠ” ìŠ¤íŒŒí¬ë¥¼ ìœ„í•´, ë„ì»¤ ì´ë¯¸ì§€ ì œì‘ì„ ìœ„í•œ Dockerfileë“¤ì„ ë‹´ê³  ìˆë‹¤.\ndata/ MLlib, ì •í˜•í™” í”„ë¡œê·¸ë˜ë°, GraphX ë“±ì—ì„œ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” .txt íŒŒì¼ì´ ìˆë‹¤.\nexamples/ Java, Python, R, Scalaì— ëŒ€í•œ ì˜ˆì œë“¤ì„ ì œê³µí•œë‹¤.\nPySpark Installation # PyPi ì„¤ì¹˜ # Copy bash pip install pyspark ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ PyPi ì €ì¥ì†Œì—ì„œ PySpark ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤. ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ê³¼ ë™ì¼í•˜ê²Œ 25ë…„ 5ì›” 23ì¼ ë¦´ë¦¬ì¦ˆëœ 4.0.0 ë²„ì „ì„ ì„¤ì¹˜í•œë‹¤. ë‹¤ë¥¸ ë²„ì „ì„ ì„¤ì¹˜í•˜ê³  ì‹¶ë‹¤ë©´ pip install pyspark=3.0.0 ê³¼ ê°™ì´ ì…ë ¥í•  ìˆ˜ ìˆë‹¤.\nSQL, ML, MLlib ë“± ì¶”ê°€ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°™ì´ ì„¤ì¹˜í•˜ë ¤ë©´ pip install pyspark[sql,ml,mllib] ì™€ ê°™ì´ ì…ë ¥í•  ìˆ˜ ìˆë‹¤.\në³„ë„ì˜ ê°€ìƒí™˜ê²½ì—ì„œ PySparkë¥¼ ì„¤ì¹˜í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤. 4.0.0 ë²„ì „ ê¸°ì¤€ìœ¼ë¡œ Python 3.9 ë²„ì „ë¶€í„° ì§€ì›í•œë‹¤. ê°œì¸ì ìœ¼ë¡œëŠ” Python 3.10 ë²„ì „ì„ ì‚¬ìš©í•œë‹¤.\nCopy bash (spark) % pip install pyspark Collecting pyspark Downloading pyspark-4.0.0.tar.gz (434.1 MB) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 434.1/434.1 MB 3.9 MB/s eta 0:00:00 ... Successfully built pyspark Installing collected packages: py4j, pyspark Successfully installed py4j-0.10.9.9 pyspark-4.0.0 pyspark ì‹¤í–‰ # spark-shell ì€ Scala ì‰˜ì„ ì‹¤í–‰í•œë‹¤. Scalaê°€ ì•„ë‹Œ Pythonì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ pyspark ì‰˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.\nCopy bash (spark) % pyspark Python 3.10.18 | packaged by conda-forge | (main, Jun 4 2025, 14:46:00) [Clang 18.1.8 ] on darwin Type \u0026#34;help\u0026#34;, \u0026#34;copyright\u0026#34;, \u0026#34;credits\u0026#34; or \u0026#34;license\u0026#34; for more information. WARNING: Using incubator modules: jdk.incubator.vector Using Spark\u0026#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties 25/06/28 21:35:50 WARN Utils: Your hostname, minyeamer, resolves to a loopback address: 127.0.0.1; using 192.168.x.x instead (on interface en0) 25/06/28 21:35:50 WARN Utils: Set SPARK_LOCAL_IP if you need to bind to another address Using Spark\u0026#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties Setting default log level to \u0026#34;WARN\u0026#34;. To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel). 25/06/28 21:35:50 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable Welcome to ____ __ / __/__ ___ _____/ /__ _\\ \\/ _ \\/ _ `/ __/ \u0026#39;_/ /__ / .__/\\_,_/_/ /_/\\_\\ version 4.0.0 /_/ Using Python version 3.10.18 (main, Jun 4 2025 14:46:00) Spark context Web UI available at http://localhost:4040 Spark context available as \u0026#39;sc\u0026#39; (master = local[*], app id = local-1751114150819). SparkSession available as \u0026#39;spark\u0026#39;. \u0026gt;\u0026gt;\u0026gt; Python ì‰˜ì—ì„œëŠ” ëŒ€í™”í˜•ìœ¼ë¡œ Python APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í˜„ì¬ ê²½ë¡œì— ìˆëŠ” README.md íŒŒì¼ì„ ì²« ë²ˆì§¸ 10ì¤„ë§Œ ì½ì–´ë³´ì•˜ë‹¤.\nCopy python \u0026gt;\u0026gt;\u0026gt; strings = spark.read.text(\u0026#34;README.md\u0026#34;) \u0026gt;\u0026gt;\u0026gt; strings.show(10, truncate=False) +--------------------------------------------------------------------------------------------------+ |value | +--------------------------------------------------------------------------------------------------+ |# Apache Spark | | | |Spark is a unified analytics engine for large-scale data processing. It provides | |high-level APIs in Scala, Java, Python, and R (Deprecated), and an optimized engine that | |supports general computation graphs for data analysis. It also supports a | |rich set of higher-level tools including Spark SQL for SQL and DataFrames, | |pandas API on Spark for pandas workloads, MLlib for machine learning, GraphX for graph processing,| |and Structured Streaming for stream processing. | | | |- Official version: \u0026lt;https://spark.apache.org/\u0026gt; | +--------------------------------------------------------------------------------------------------+ only showing top 10 rows \u0026gt;\u0026gt;\u0026gt; \u0026gt;\u0026gt;\u0026gt; strings.count() 125 ì‰˜ì„ ë‚˜ê°€ê³  ì‹¶ë‹¤ë©´ Ctrl+D ë¥¼ ëˆŒëŸ¬ ë‚˜ê°ˆ ìˆ˜ë„ ìˆê³ , quit() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ ì¢…ë£Œí•  ìˆ˜ë„ ìˆë‹¤.\nCopy python \u0026gt;\u0026gt;\u0026gt; quit() "},{"id":17,"href":"/blog/spark-study-1/","title":"Apache Spark - ìŠ¤íŒŒí¬ì˜ ê¸°ë³¸ ê°œë…ê³¼ ì•„í‚¤í…ì²˜","content":"Study Overview # ëŸ¬ë‹ ìŠ¤íŒŒí¬ 2nd ê°œì •íŒ ê³¼ì •ì„ ë”°ë¦…ë‹ˆë‹¤.\nëª©ì  # ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ë¥¼ ì´ë¡ ì ìœ¼ë¡œ í•™ìŠµ ì±…ì—ì„œ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ” ìŠ¤íŒŒí¬ 3.x ë²„ì „ê³¼ 25ë…„ 5ì›” ì¶œì‹œëœ Spark 4.0 ë²„ì „ì„ ë¹„êµ ê° ì±•í„°ì—ì„œ ë°°ìš´ ê²ƒìœ¼ë¡œ ì‹¤ìŠµí• ë§Œí•œ ê²ƒì´ ìˆë‹¤ë©´ ì¶”ê°€ë¡œ ì‹œë„í•˜ê¸° ì‹¤ìŠµì€ PySpark APIë¥¼ ì‚¬ìš©í•˜ë©°, ìµœì‹ í™”ëœ PySpark 4.0.0 ë¬¸ì„œë¥¼ ì°¸ì¡° ì±•í„° # ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ ì†Œê°œ: í†µí•© ë¶„ì„ ì—”ì§„ ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ ë‹¤ìš´ë¡œë“œ ë° ì‹œì‘ ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ì˜ ì •í˜•í™” API ìŠ¤íŒŒí¬ SQLê³¼ ë°ì´í„° í”„ë ˆì„: ë‚´ì¥ ë°ì´í„° ì†ŒìŠ¤ ì†Œê°œ ìŠ¤íŒŒí¬ SQLê³¼ ë°ì´í„° í”„ë ˆì„: ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ì™€ ì†Œí†µí•˜ê¸° ìŠ¤íŒŒí¬ SQLê³¼ ë°ì´í„°ì„¸íŠ¸ ìŠ¤íŒŒí¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìµœì í™” ë° íŠœë‹ ì •í˜•í™” ìŠ¤íŠ¸ë¦¬ë° ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ë¥¼ í†µí•œ ì•ˆì •ì ì¸ ë°ì´í„° ë ˆì´í¬ êµ¬ì¶• MLlibì„ ì‚¬ìš©í•œ ë¨¸ì‹ ëŸ¬ë‹ ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ë¡œ ë¨¸ì‹ ëŸ¬ë‹ íŒŒì´í”„ë¼ì¸ ê´€ë¦¬, ë°°í¬ ë° í™•ì¥ ì—í•„ë¡œê·¸: ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ 3.0 Spark Overview # ìŠ¤íŒŒí¬ì˜ ì‹œì‘ # RDBMS ê°™ì€ ì „í†µì ì¸ ì €ì¥ ì‹œìŠ¤í…œìœ¼ë¡œëŠ” êµ¬ê¸€ì´ ë°©ëŒ€í•œ ê·œëª¨ì˜ ì¸í„°ë„· ë¬¸ì„œë¥¼ ë‹¤ë£° ìˆ˜ ì—†ì–´ êµ¬ê¸€ íŒŒì¼ ì‹œìŠ¤í…œ(GFS), ë§µë¦¬ë“€ìŠ¤(MapReduce), ë¹…í…Œì´ë¸”(BigTable) ë“±ì„ ë§Œë“¤ì–´ ëƒˆë‹¤. GFSëŠ” í´ëŸ¬ìŠ¤í„° í™˜ê²½ì—ì„œ ë¶„ì‚° íŒŒì¼ì‹œìŠ¤í…œì„ ì œê³µí•˜ê³ , ë¹…í…Œì´ë¸”ì€ GFSë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëŒ€ê·œëª¨ ë°ì´í„° ì €ì¥ ìˆ˜ë‹¨ì„ ì œê³µí•œë‹¤. ë§µë¦¬ë“€ìŠ¤ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê¸°ë°˜ìœ¼ë¡œ ëŒ€ê·œëª¨ ë°ì´í„° ë¶„ì‚° ì²˜ë¦¬ë¥¼ êµ¬í˜„í–ˆë‹¤. í´ëŸ¬ìŠ¤í„°ì˜ ì›Œì»¤ ë…¸ë“œë“¤ì´ ë¶„ì‚°ëœ ë°ì´í„°ì— ì—°ì‚°ì„ í•˜ê³ (Map), ê·¸ ê²°ê³¼ë¥¼ í•˜ë‚˜ë¡œ í•©ì³(Reduce) ìµœì¢… ê²°ê³¼ë¥¼ ìƒì„±í•´ë‚¸ë‹¤. ì´ëŸ¬í•œ ì ‘ê·¼ ë°©ì‹ì€ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ í¬ê²Œ ê°ì†Œì‹œí‚¤ë©´ì„œ ë¡œì»¬ ë””ìŠ¤í¬ì— ëŒ€í•œ I/Oë¥¼ ê·¹ëŒ€í™”í•œë‹¤.\nGFSëŠ” í•˜ë‘¡ íŒŒì¼ ì‹œìŠ¤í…œê³¼ ë§µë¦¬ë“€ìŠ¤ êµ¬í˜„ì— ì˜í–¥ì„ ì£¼ì—ˆë‹¤. HDFSì˜ ë§µë¦¬ë“€ìŠ¤ì—ëŠ” ëª‡ ê°€ì§€ ë‹¨ì ì´ ìˆì—ˆë‹¤. ì²«ì§¸, ìš´ì˜ì´ ë³µì¡í•´ ê´€ë¦¬ê°€ ì‰½ì§€ ì•Šì•˜ë‹¤. ë‘˜ì§¸, ë°°ì¹˜ ì²˜ë¦¬ë¥¼ ìœ„í•œ ë§µë¦¬ë“€ìŠ¤ APIì˜ ê¸°ë³¸ ì„¤ì • ì½”ë“œê°€ ë„ˆë¬´ ë§ì´ í•„ìš”í–ˆë‹¤. ì…‹ì§¸, ë§µë¦¬ë“€ìŠ¤ íƒœìŠ¤í¬ê°€ í•„ìš”í•´ì§ˆ ë•Œë§ˆë‹¤ ì¤‘ê°„ ê³¼ì •ì˜ ë°ì´í„°ë¥¼ ë¡œì»¬ ë””ìŠ¤í¬ì— ì¨ì•¼ í–ˆë‹¤. ë°˜ë³µì ì¸ I/O ì‘ì—…ì— ì˜í•´ ê±°ëŒ€í•œ ë§µë¦¬ë“€ìŠ¤ ì‘ì—…ì— ë©°ì¹ ì´ ê±¸ë¦¬ê¸°ë„ í–ˆë‹¤.\nUC ë²„í´ë¦¬ ì—°êµ¬ì›ë“¤ì€ ë™ì ì´ê³  ë°˜ë³µì ì¸ ì‘ì—…ì—ì„œ ë¹„íš¨ìœ¨ì ì¸ ë§µë¦¬ë“€ìŠ¤ë¥¼ ê°œì„ í•˜ì—¬ ë‹¨ìˆœí•˜ê³  ë¹ ë¥´ê³  ì‰¬ìš´ ìŠ¤íŒŒí¬ë¥¼ ë§Œë“¤ê¸°ë¡œ í–ˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œëŠ” ë” ë†’ì€ ì¥ì•  ë‚´êµ¬ì„±ì„ ê°–ê³ , ë³‘ë ¬ì„±ì„ ë†’ì´ë©´ì„œ, ë§µë¦¬ë“€ìŠ¤ ì—°ì‚°ì„ ìœ„í•œ ì¤‘ê°„ ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³ , ê°„í¸í•œ APIë¥¼ ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ì œê³µí•˜ê³ ì í–ˆë‹¤.\nì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ë€? # ì•„íŒŒì¹˜ ìŠ¤íŒŒí¬ëŠ” ë°ì´í„° ì„¼í„°ë‚˜ í´ë¼ìš°ë“œì—ì„œ ëŒ€ê·œëª¨ ë¶„ì‚° ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•œ í†µí•©í˜• ì—”ì§„ì´ë‹¤. ì¤‘ê°„ ì—°ì‚°ì„ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  ë¨¸ì‹ ëŸ¬ë‹, SQL, ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬, ê·¸ë˜í”„ ì²˜ë¦¬ ë“±ì„ ê°„í¸í•˜ê²Œ APIë¡œ ì§€ì›í•œë‹¤.\nìŠ¤íŒŒí¬ì˜ ì„¤ê³„ ì² í•™ì—ëŠ” ì†ë„, ì‚¬ìš© í¸ë¦¬ì„±, ëª¨ë“ˆì„±, í™•ì¥ì„±ì´ ìˆë‹¤.\nì†ë„ ìŠ¤íŒŒí¬ëŠ” í•˜ë“œì›¨ì–´ ì‚°ì—…ì˜ ë°œì „ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì„±ëŠ¥ í–¥ìƒì— ë§ì€ ì´ë“ì„ ì–»ì—ˆëŠ”ë°, ëª¨ë“  ì¤‘ê°„ ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ I/O ì‘ì—…ì„ ì œí•œí•˜ê³  ì†ë„ë¥¼ í–¥ìƒì‹œì¼°ë‹¤. ë˜í•œ, ì§ˆì˜ ì—°ì‚°ì„ DAGë¡œ êµ¬ì„±í•´ íš¨ìœ¨ì ì¸ ì—°ì‚° ê·¸ë˜í”„ë¥¼ ë§Œë“¤ê³  ë³‘ë ¬ ìˆ˜í–‰ì„ ì§€ì›í•œë‹¤.\nì‚¬ìš© í¸ë¦¬ì„± ë°ì´í„°í”„ë ˆì„ì´ë‚˜ ë°ì´í„°ì„¸íŠ¸ ê°™ì´ ê³ ìˆ˜ì¤€ìœ¼ë¡œ ì¶”ìƒí™”ëœ ìë£Œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•´ ë‹¨ìˆœì„±ì„ ì‹¤í˜„ì‹œì¼°ë‹¤. ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ì—°ì‚°ì„ ì§€ì›í•˜ì—¬ ì‚¬ìš©ìë“¤ì´ í¸í•œ ì–¸ì–´ë¡œ ë¹…ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.\nëª¨ë“ˆì„± ë¬¸ì„œí™”ê°€ ì˜ëœ APIë¥¼ ì œê³µí•˜ë©°, ìŠ¤íŒŒí¬ SQLì´ë‚˜ ì •í˜•í™” ìŠ¤íŠ¸ë¦¬ë° ë“±ì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ë¥¼ í•˜ë‚˜ì˜ ì—”ì§„ ì•ˆì—ì„œ ì—°ë™ëœ ìƒíƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\ní™•ì¥ì„± ìŠ¤íŒŒí¬ëŠ” ì €ì¥ë³´ë‹¤ëŠ” ë¹ ë¥¸ ë³‘ë ¬ ì—°ì‚° ì—”ì§„ì— ì´ˆì ì„ ë§ì¶°, ìˆ˜ë§ì€ ë°ì´í„° ì†ŒìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ë“¤ì—¬ ë©”ëª¨ë¦¬ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤. ì„œë“œíŒŒí‹° íŒ¨í‚¤ì§€ ëª©ë¡ì—ëŠ” ë‹¤ì–‘í•œ ì™¸ë¶€ ë°ì´í„° ì†ŒìŠ¤ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.\nì•„íŒŒì¹˜ ì»´í¬ë„ŒíŠ¸ # ë‹¤ì–‘í•œ ì›Œí¬ë¡œë“œë¥¼ ìœ„í•´ ìŠ¤íŒŒí¬ SQL, ìŠ¤íŒŒí¬ MLlib, ìŠ¤íŒŒí¬ ì •í˜•í™” ìŠ¤íŠ¸ë¦¬ë°, GraphXë¥¼ ì œê³µí•œë‹¤. ìë°”, R, ìŠ¤ì¹¼ë¼, SQL, íŒŒì´ì¬ ì¤‘ ì–´ëŠ ê²ƒìœ¼ë¡œ ìŠ¤íŒŒí¬ ì½”ë“œë¥¼ ì‘ì„±í•´ë„ ë°”ì´íŠ¸ ì½”ë“œë¡œ ë³€í™˜ë˜ì–´ ì›Œì»¤ ë…¸ë“œì˜ JVMì—ì„œ ì‹¤í–‰ëœë‹¤.\nìŠ¤íŒŒí¬ SQL RDBMS í…Œì´ë¸”ì´ë‚˜ CSVì™€ ê°™ì€ êµ¬ì¡°í™”ëœ ë°ì´í„° íŒŒì¼ í¬ë§·ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ë“¤ì—¬ ì˜êµ¬ì ì´ê±°ë‚˜ ì„ì‹œì ì¸ í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤. SQL ê³„í†µì˜ ì§ˆì˜ë¥¼ ì¨ì„œ ë°ì´í„°ë¥¼ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ì½ì–´ ë“¤ì¼ ìˆ˜ ìˆë‹¤.\nìŠ¤íŒŒí¬ MLlib ë²”ìš© ë¨¸ì‹ ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜ë“¤ì´ ë“¤ì–´ ìˆë‹¤. íŠ¹ì„±ì„ ì¶”ì¶œ ë° ê°€ê³µí•˜ê³  í•™ìŠµ/ê²€ì¦ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•˜ë©°, ê²½ì‚¬ í•˜ê°•ë²• ìµœì í™”ë¥¼ í¬í•¨í•œ ì €ìˆ˜ì¤€ ML ê¸°ëŠ¥ì„ í¬í•¨í•œë‹¤.\nìŠ¤íŒŒí¬ ì •í˜•í™” ìŠ¤íŠ¸ë¦¬ë° ì‹¤ì‹œê°„ìœ¼ë¡œ ì—°ê²°í•˜ê³  ë°˜ì‘í•˜ê¸° ìœ„í•œ ë°ì´í„° ëª¨ë¸ì€ ìŠ¤íŠ¸ë¦¼ì„ ì—°ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” í…Œì´ë¸”ì´ì, ëì— ìƒˆë¡œìš´ ë ˆì½”ë“œê°€ ì¶”ê°€ë˜ëŠ” í˜•íƒœì´ë‹¤. ë‹¨ìˆœíˆ ì •í˜•í™” í…Œì´ë¸”ë¡œ ë³´ê³  ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ë©´ ëœë‹¤. ì •í˜•í™” ìŠ¤íŠ¸ë¦¬ë° ëª¨ë¸ì˜ í•˜ë¶€ì—ëŠ” ìŠ¤íŒŒí¬ SQL ì—”ì§„ì´ ì¥ì•  ë³µêµ¬ì™€ ì§€ì—° ë°ì´í„°ì˜ ëª¨ë“  ì¸¡ë©´ì„ ê´€ë¦¬í•œë‹¤.\nGraphX ê·¸ë˜í”„ë¥¼ ì¡°ì‘í•˜ê³  ê·¸ë˜í”„ ë³‘ë ¬ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤. ë¶„ì„, ì—°ê²° íƒìƒ‰ ë“± í‘œì¤€ì ì¸ ê·¸ë˜í”„ ì•Œê³ ë¦¬ì¦˜ê³¼ ì»¤ë®¤ë‹ˆí‹° ì‚¬ìš©ìë“¤ì´ ê¸°ì—¬í•œ ì•Œê³ ë¦¬ì¦˜ì„ í¬í•¨í•œë‹¤.\nSpark Architecture # Spark Driver # SparkSession ê°ì²´ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì±…ì„ì„ ê°€ì§„ Spark Applicationì˜ ì¼ë¶€ì´ë‹¤. Spark DriverëŠ” ì—¬ëŸ¬ ê°€ì§€ ì—­í• ì„ í•œë‹¤.\nCluster Managerì™€ í†µì‹ í•˜ë©° Spark Executorë“¤ì„ ìœ„í•´ í•„ìš”í•œ ìì›ì„ ìš”ì²­í•œë‹¤. ëª¨ë“  ìŠ¤íŒŒí¬ ì‘ì—…ì„ DAG ì—°ì‚° í˜•íƒœë¡œ ë³€í™˜í•´ ìŠ¤ì¼€ì¤„ë§í•œë‹¤. ê° ì‹¤í–‰ ë‹¨ìœ„ë¥¼ íƒœìŠ¤í¬ë¡œ ë‚˜ëˆ„ì–´ Spark Executorë“¤ì—ê²Œ ë¶„ë°°í•œë‹¤. ìì›ì´ í•œë²ˆ í• ë‹¹ë˜ë©´ ê·¸ ë‹¤ìŒë¶€í„°ëŠ” Driverê°€ Executorì™€ ì§ì ‘ í†µì‹ í•œë‹¤. SparkSession # ìŠ¤íŒŒí¬ 2.0ì—ì„œ ëª¨ë“  ìŠ¤íŒŒí¬ ì—°ì‚°ê³¼ ë°ì´í„°ì— ëŒ€í•œ í†µí•© ì—°ê²° ì±„ë„ì´ ë§Œë“¤ì–´ì¡Œë‹¤.\nSparkContext, SQLContext, HiveContext, SparkConf, StreamingContext ë“±ì´ í•©ì³ì¡Œë‹¤. ì¼ì›í™”ëœ ì—°ê²° ì±„ë„ì„ í†µí•´ JVM ì‹¤í–‰ íŒŒë¼ë¯¸í„°ë“¤ì„ ë§Œë“¤ê³  ë°ì´í„°í”„ë ˆì„ì´ë‚˜ ë°ì´í„°ì„¸íŠ¸ë¥¼ ì •ì˜í•œë‹¤. ë°ì´í„° ì†ŒìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì½ê³  ë©”íƒ€ë°ì´í„°ì— ì ‘ê·¼í•´ ìŠ¤íŒŒí¬ SQL ì§ˆì˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. SparkSessionì€ ëª¨ë“  ìŠ¤íŒŒí¬ ê¸°ëŠ¥ì„ í•œ êµ°ë°ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì‹œì‘ì ì„ ì œê³µí•œë‹¤.\npyspark.sql.SparkSession ë¬¸ì„œë¥¼ ì°¸ì¡°í•´ SparkSession ìƒì„±\nCopy python spark = ( SparkSession.builder .master(\u0026#34;local\u0026#34;) # ì›ê²© ì ‘ì†ì˜ ê²½ìš° .remote(\u0026#34;sc://localhost\u0026#34;) .appName(\u0026#34;LearnSpark\u0026#34;) .config(\u0026#34;spark.sql.shuffle.partitions\u0026#34;, 6) .getOrCreate() ) Cluster Manager # Spark Applicationì´ ì‹¤í–‰ë˜ëŠ” í´ëŸ¬ìŠ¤í„°ì—ì„œ ìì›ì„ ê´€ë¦¬ ë° í• ë‹¹í•˜ëŠ” ì±…ì„ì„ ê°€ì§„ë‹¤. Standalone, Hadoop YARN, Apache Mesos, Kubernetes ë„¤ ì¢…ë¥˜ì˜ Cluster Managerë¥¼ ì§€ì›í•œë‹¤.\nSpark Executor # í´ëŸ¬ìŠ¤í„°ì˜ ê° ì›Œì»¤ ë…¸ë“œì—ì„œ ë™ì‘í•˜ë©°, Driverì™€ í†µì‹ í•˜ë©° Taskë¥¼ ì‹¤í–‰í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ëŒ€ë¶€ë¶„ì˜ ë°°í¬ ëª¨ë“œì—ì„œ ë…¸ë“œë‹¹ í•˜ë‚˜ì˜ Executorë§Œ ì‹¤í–‰í•œë‹¤.\në°°í¬ ëª¨ë“œ # ìŠ¤íŒŒí¬ê°€ ì—¬ëŸ¬ í™˜ê²½ì—ì„œ ëŒì•„ê°ˆ ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ ë°°í¬ ëª¨ë“œë¥¼ ì§€ì›í•œë‹¤. ì¶”ìƒí™”ë˜ì–´ ìˆì–´ Cluster ManagerëŠ” ì‹¤í–‰ í™˜ê²½ì— ëŒ€í•œ ì •ë³´ê°€ í•„ìš”ì—†ê³ , YARNì´ë‚˜ Kubernetes ê°™ì€ ì¸ê¸° ìˆëŠ” í™˜ê²½ì— ë°°í¬ê°€ ê°€ëŠ¥í•˜ë‹¤.\nMode Spark Driver Spark Executor Cluster Manager Local ë‹¨ì¼ ì„œë²„ ê°™ì€ ë¨¸ì‹ ì—ì„œ ë‹¨ì¼ JVM ìœ„ì—ì„œ ì‹¤í–‰ Driverì™€ ë™ì¼í•œ JVM ìœ„ì—ì„œ ë™ì‘ ë™ì¼í•œ í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰ Standalone Clusterì˜ ì•„ë¬´ ë…¸ë“œì—ì„œë‚˜ ì‹¤í–‰ Clusterì˜ ê° ë…¸ë“œê°€ ìì²´ì ì¸ Executorë¥¼ ì‹¤í–‰ Clusterì˜ ì•„ë¬´ í˜¸ìŠ¤íŠ¸ì—ë‚˜ í• ë‹¹ YARN(Client) Cluster ì™¸ë¶€ì˜ Clientì—ì„œ ë™ì‘ YARMì˜ ë…¸ë“œ ë§¤ë‹ˆì €ì˜ ì»¨í…Œì´ë„ˆ YARNì˜ ë¦¬ì†ŒìŠ¤ ë§¤ë‹ˆì €ê°€ ë…¸ë“œ ë§¤ë‹ˆì €ì— ì»¨í…Œì´ë„ˆ í• ë‹¹ YARN(Cluster) YARN ì• í”Œë¦¬ì¼€ì´ì…˜ ë§ˆìŠ¤í„°ì—ì„œ ë™ì‘ YARN(Client)ì™€ ë™ì¼ YARN(Client)ì™€ ë™ì¼ Kubernetes Kubernetes Podì—ì„œ ë™ì‘ ê° ì›Œì»¤ê°€ ìì‹ ì˜ Pod ë‚´ì—ì„œ ì‹¤í–‰ Kubernetes ë§ˆìŠ¤í„° ë¶„ì‚° ë°ì´í„° # ë¬¼ë¦¬ì ì¸ ë°ì´í„°ëŠ” HDFSë‚˜ í´ë¼ìš°ë“œ ì €ì¥ì†Œì— ì¡´ì¬í•œë‹¤. ë°ì´í„°ëŠ” íŒŒí‹°ì…˜ìœ¼ë¡œ ë¬¼ë¦¬ì ì¸ ìˆ˜ì¤€ì—ì„œ ë¶„ì‚°ë˜ê³ , ìŠ¤íŒŒí¬ëŠ” íŒŒí‹°ì…˜ì„ ì¶”ìƒí™”í•˜ì—¬ ë©”ëª¨ë¦¬ì˜ ë°ì´í„°í”„ë ˆì„ ê°ì²´ë¥¼ ë°”ë¼ë³¸ë‹¤.\níŒŒí‹°ì…”ë‹ì€ íš¨ê³¼ì ì¸ ë³‘ë ¬ ì²˜ë¦¬ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤. ë°ì´í„°ë¥¼ ì¡°ê°ë‚´ ì²­í¬ë‚˜ íŒŒí‹°ì…˜ ë‹¨ìœ„ë¡œ ë¶„ì‚°í•´ Spark Executorê°€ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ì„ ìµœì†Œí™”í•˜ê³  ê°€ê¹Œì´ ìˆëŠ” ë°ì´í„°ë§Œ ì²˜ë¦¬í•œë‹¤.\nìŠ¤íŒŒí¬ í™œìš©ì‚¬ë¡€ # ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ # ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸ë“¤ì€ ë°ì´í„°ë¥¼ ì •ì œí•˜ê³  íŒ¨í„´ì„ ë°œê²¬í•˜ê¸° ìœ„í•´ ë°ì´í„°ë¥¼ ì‚´í´ë³¸ë‹¤. ëŒ€ë¶€ë¶„ì€ SQLì— ëŠ¥í•˜ê³ , NumPyë‚˜ pandas ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í¸í•˜ê²Œ ì‚¬ìš©í•œë‹¤. ëª¨ë¸ êµ¬ì¶•ì„ ìœ„í•´ ë¶„ë¥˜, íšŒê·€, í´ëŸ¬ìŠ¤í„°ë§ ì•Œê³ ë¦¬ì¦˜ì„ ì–´ë–»ê²Œ ì‚¬ìš©í• ì§€ë„ ì•Œì•„ì•¼ í•œë‹¤.\nìŠ¤íŒŒí¬ëŠ” MLlibì€ ëª¨ë¸ íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ ë¨¸ì‹ ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜ë“¤ì„ ì œê³µí•œë‹¤. ë˜í•œ, ìŠ¤íŒŒí¬ SQLë¡œ ì¼íšŒì„± ë°ì´í„° íƒìƒ‰ì„ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ë‹¤.\në°ì´í„° ì—”ì§€ë‹ˆì–´ë§ # í´ëŸ¬ìŠ¤í„°ë§ ëª¨ë¸ì€ ë…ë¦½ì ìœ¼ë¡œ ì¡´ì¬í•˜ì§€ ì•Šê³  ì•„íŒŒì¹˜ ì¹´í”„ì¹´ ê°™ì€ ìŠ¤íŠ¸ë¦¬ë° ì—”ì§„ê³¼ ì—°ê³„í•´ ë™ì‘í•œë‹¤. ë°ì´í„° íŒŒì´í”„ë¼ì¸ì€ ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ ì˜¤ëŠ” ì›ë³¸ ë°ì´í„°ë¥¼ ìµœì¢… ë‹¨ê³„ë¡œê¹Œì§€ ë³€í˜•í•´ì£¼ë©°, ê·¸ëŸ° ë°ì´í„°ëŠ” NoSQLì´ë‚˜ RDBMS ë“±ì— ì €ì¥ëœë‹¤.\nìŠ¤íŒŒí¬ì˜ ì •í˜•í™” ìŠ¤íŠ¸ë¦¬ë° APIë¥¼ ì¨ì„œ ì‹¤ì‹œê°„ ë˜ëŠ” ì •ì ì¸ ë°ì´í„° ì†ŒìŠ¤ì— ëŒ€í•œ ETL íŒŒì´í”„ë¼ì¸ì„ êµ¬ì¶•í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ë˜í•œ, ìŠ¤íŒŒí¬ê°€ ì—°ì‚°ì„ ì‰½ê²Œ ë³‘ë ¬í™” í•´ì£¼ì–´ ê³ ìˆ˜ì¤€ ì–¸ì–´ì—ë§Œ ì§‘ì¤‘í•´ ETLì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤.\nìŠ¤íŒŒí¬ ì‚¬ìš© ì‚¬ë¡€ # í´ëŸ¬ìŠ¤í„° ì „ì²´ì— ê±¸ì³ ë¶„ì‚°ëœ ëŒ€ê·œëª¨ ë°ì´í„°ì„¸íŠ¸ì˜ ë³‘ë ¬ ì²˜ë¦¬ ë°ì´í„° íƒìƒ‰ì´ë‚˜ ì‹œê°í™”ë¥¼ ìœ„í•œ ì¼íšŒì„±ì´ë‚˜ ëŒ€í™”í˜• ì§ˆì˜ ìˆ˜í–‰ MLlibì„ ì´ìš©í•´ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ êµ¬ì¶•, í›ˆë ¨, í‰ê°€ "},{"id":18,"href":"/blog/airflow-study-7/","title":"Apache Airflow - ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™ (Connection, Hook, PostgreSQL)","content":"Docker Compose ì´í•´ # ëª©ì  : 1ê°œ ì´ìƒì˜ ë„ì»¤ ì»¨í…Œì´ë„ˆ ìƒì„± ì‹œ ì»¨í…Œì´ë„ˆë“¤ì˜ ì„¤ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê¸°ëŠ¥ ë°©ë²• : docker-compose.yaml íŒŒì¼ì— ì»¨í…Œì´ë„ˆë“¤ì˜ ì„¤ì •ì„ ì…ë ¥ ì‚¬ìš© : .yaml íŒŒì¼ì´ ìˆëŠ” ìœ„ì¹˜ì—ì„œ docker compose up ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì‹¤í–‰ yaml íŒŒì¼ì€ ë“¤ì—¬ì“°ê¸° ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©° Airflowì˜ Docker ComposeëŠ” ì•„ë˜ì™€ ê°™ì´ êµ¬ë¶„ Copy yaml x-airflow-common: # ê° ì„œë¹„ìŠ¤ì— ê³µí†µ ì ìš©ë  í•­ëª©ë“¤ services: # ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•  ì„œë¹„ìŠ¤ë¥¼ ì •ì˜ volumns: # ì»¨í…Œì´ë„ˆì— ì—°ê²°í•  ë³¼ë¥¨ì„ ì •ì˜ networks: # ì»¨í…Œì´ë„ˆì— ì—°ê²°í•  ë„¤íŠ¸ì›Œí¬ë¥¼ ì •ì˜ x-airflow-common\nê³µí†µìœ¼ë¡œ ì‚¬ìš©í•  í•­ëª©ì„ \u0026amp; ë¥¼ ë¶™ì—¬ì„œ ì§€ì • \u0026amp; ì•„ë˜ì˜ ëª¨ë“  ì˜ì—­ì€ ê³µí†µ í•­ëª©ìœ¼ë¡œ ë¬¶ì—¬ í•œë²ˆì— ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ Copy yaml x-airflow-common: \u0026amp;airflow-common image: ${AIRFLOW_IMAGE_NAME:-apache/airflow:3.0.1} environment: \u0026amp;airflow-common-env AIRFLOW__CORE__EXECUTOR: CeleryExecutor services\nì»¨í…Œì´ë„ˆë¡œ ì˜¬ë¦´ ì„œë¹„ìŠ¤ ëª©ë¡ì„ ì§€ì • ê³µí†µ í•­ëª©ì„ \u0026lt;\u0026lt;: *airflow-common ê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸° í™˜ê²½ ë³€ìˆ˜ê°€ ìˆì„ ê²½ìš° environment ì•„ë˜ì— ì…ë ¥ ports ëŠ” í˜¸ìŠ¤íŠ¸ì—ì„œ ì»¨í…Œì´ë„ˆì— ì ‘ì†í•˜ê¸° ìœ„í•´ ë§µí•‘í•  í¬íŠ¸ë¥¼ ëª…ì‹œ expose ëŠ” ports ì™€ ë‹¤ë¥´ê²Œ ë‚´ë¶€ ì»¨í…Œì´ë„ˆ ê°„ì— ì—°ê²°í•  ë•Œ ì‚¬ìš©í•  í¬íŠ¸ë¥¼ ëª…ì‹œ depends_on ì€ ì»¨í…Œì´ë„ˆì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì •ì˜ airflow-apiserver ëŠ” airflow-init ì— ëŒ€í•œ ì¢…ì†ì  ê´€ê³„ Copy yaml services: airflow-apiserver: \u0026lt;\u0026lt;: *airflow-common command: api-server ports: - \u0026#34;8080:8080\u0026#34; healthcheck: test: [\u0026#34;CMD\u0026#34;, \u0026#34;curl\u0026#34;, \u0026#34;--fail\u0026#34;, \u0026#34;http://localhost:8080/api/v2/version\u0026#34;] interval: 30s timeout: 10s retries: 5 start_period: 30s restart: always depends_on: \u0026lt;\u0026lt;: *airflow-common-depends-on airflow-init: condition: service_completed_successfully volumes\nì»¨í…Œì´ë„ˆ ë‚´ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ê¸° ìœ„í•´ ì™¸ë¶€ì™€ ì—°ê²°í•˜ê¸° ìœ„í•œ ë³¼ë¥¨ ì •ë³´ ë³¼ë¥¨ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ë ¤ë©´ docker volume ls ëª…ë ¹ì–´ ì‚¬ìš© Copy yaml volumes: postgres-db-volume: ì„œë¹„ìŠ¤ë¥¼ ì •ì˜í•  ë•Œ ìƒì„±í•œ ë³¼ë¥¨ê³¼ ì»¨í…Œì´ë„ˆì˜ ë‚´ë¶€ ê²½ë¡œë¥¼ ì—°ê²° ê°€ëŠ¥ Copy yaml services: postgres: volumes: - postgres-db-volume:/var/lib/postgresql/data networks\nì»¨í…Œì´ë„ˆë¥¼ ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ë¡œ ê·¸ë£¹í™”í•˜ê¸° ìœ„í•œ ë„¤íŠ¸ì›Œí¬ ì •ë³´ ì»¨í…Œì´ë„ˆëŠ” ìœ ë™ IPë¥¼ ê°€ì§€ê²Œ ë˜ì–´ ì¬ê°€ë™í•  ë•Œë§ˆë‹¤ IP ì£¼ì†Œê°€ ë³€ê²½ë  ìˆ˜ ìˆëŠ”ë°, ê³ ì • IPë¥¼ í• ë‹¹í•˜ê¸° ìœ„í•´ networks í™œìš© ê°€ëŠ¥ ë„¤íŠ¸ì›Œí¬ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ë ¤ë©´ docker network ls ëª…ë ¹ì–´ ì‚¬ìš© Copy yaml networks: network_custom: driver: bridge ipam: driver: default config: - subnet: 172.28.0.0/16 gateway: 172.28.0.1 Airflowì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” airflow_default ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì´ 172.18.0.0/16 ì„œë¸Œë„· ë²”ìœ„ì¸ë°, ì•„ë˜ì—ì„œ ìƒˆ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ê²¹ì¹˜ì§€ ì•ŠëŠ” ëŒ€ì—­ì˜ network_custom ì„ ì •ì˜ Copy bash % docker network inspect {network_id} [ { \u0026#34;Name\u0026#34;: \u0026#34;airflow_default\u0026#34;, ... \u0026#34;IPAM\u0026#34;: { \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Options\u0026#34;: null, \u0026#34;Config\u0026#34;: [ { \u0026#34;Subnet\u0026#34;: \u0026#34;172.18.0.0/16\u0026#34;, \u0026#34;Gateway\u0026#34;: \u0026#34;172.18.0.1\u0026#34; } ] }, ... } ] Postgres ì»¨í…Œì´ë„ˆ ìƒì„± # Docker Compose # Airflowì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” Postgres ì»¨í…Œì´ë„ˆ ì™¸ì— ìƒˆë¡œìš´ Postgres ì»¨í…Œì´ë„ˆ í•˜ë‚˜ë¥¼ ì¶”ê°€ë¡œ ìƒì„± DB ì‚¬ìš©ìì— ëŒ€í•œ ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ environment ë¡œ ì…ë ¥ 5432 í¬íŠ¸ë¡œ ì ‘ì†í•  ìˆ˜ ìˆê²Œ í¬íŠ¸ ë§µí•‘ ì ìš© ê¸°ì¡´ì˜ postgres ì»¨í…Œì´ë„ˆë„ 5431 í¬íŠ¸ë¡œ ì ‘ì†í•  ìˆ˜ ìˆê²Œ ë§ˆì°¬ê°€ì§€ë¡œ í¬íŠ¸ ë§µí•‘ ì ìš© postgres-custom-db-volume ë³¼ë¥¨ì„ ì¶”ê°€í•˜ê³  ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ê²½ë¡œì™€ ì—°ê²° ìœ„ì—ì„œ ì •ì˜í•œ network_custom ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°í•˜ë©´ì„œ IP ì£¼ì†ŒëŠ” 172.28.0.3 ìœ¼ë¡œ ê³ ì • ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ë„ network_custom ë° ê²¹ì¹˜ì§€ ì•ŠëŠ” ê³ ì • IP ì£¼ì†Œë¥¼ í• ë‹¹ Copy yaml services: postgres_custom: image: postgres:13 environment: POSTGRES_USER: minyeamer POSTGRES_PASSWORD: minyeamer POSGRES_DB: minyeamer TZ: Asia/Seoul volumes: - postgres-custom-db-volume:/var/lib/postgresql/data ports: - 5432:5432 networks: network_custom: ipv4_address: 172.28.0.3 postgres: image: postgres:13 ... ports: - 5431:5432 networks: network_custom: ipv4_address: 172.28.0.4 ... volumes: postgres-db-volume: postgres-custom-db-volume: networks: network_custom: ... ì‹¤í–‰ í›„ ì»¨í…Œì´ë„ˆ ëª©ë¡ì„ ì¡°íšŒí•˜ë©´ airflow-postgres_custom-1 ëª…ì¹­ì˜ ì»¨í…Œì´ë„ˆê°€ ê°™ì´ ì˜¬ë¼ì˜¨ ê²ƒì„ í™•ì¸ Copy bash % docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 72541e89bff4 apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 57 seconds ago Up 20 seconds (healthy) 8080/tcp airflow-airflow-worker-1 1735bc475bff apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 57 seconds ago Up 36 seconds (healthy) 0.0.0.0:8080-\u0026gt;8080/tcp airflow-airflow-apiserver-1 d2b680f273e3 apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 57 seconds ago Up 36 seconds (healthy) 8080/tcp airflow-airflow-scheduler-1 f23c6d30d22c apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 57 seconds ago Up 36 seconds (healthy) 8080/tcp airflow-airflow-dag-processor-1 09992f09ac5e apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 57 seconds ago Up 36 seconds (healthy) 8080/tcp airflow-airflow-triggerer-1 5c1b13f33229 postgres:13 \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 58 seconds ago Up 56 seconds 0.0.0.0:5432-\u0026gt;5432/tcp airflow-postgres_custom-1 e23d4eb919fc postgres:13 \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 58 seconds ago Up 56 seconds (healthy) 0.0.0.0:5431-\u0026gt;5432/tcp airflow-postgres-1 86fc82a16953 redis:7.2-bookworm \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 58 seconds ago Up 56 seconds (healthy) 6379/tcp airflow-redis-1 DBeaver ì ‘ì† # Beaver Community ë²„ì „ì„ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜í•œ í›„ ì‹¤í–‰ ì¢Œì¸¡ ìƒë‹¨ì˜ New Database Connection ì„ í´ë¦­í•´ PostgreSQL ì—°ê²°ì„ ìƒì„± PortëŠ” Docker Composeì—ì„œ ë§µí•‘í•œ 5432 ì‚¬ìš© Database, Username, Password ë˜í•œ Docker Composeì—ì„œ ì§€ì •í•œ ê°’ì„ ì‚¬ìš© ì •ìƒì ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ Database ëª…ì¹­ì„ í™•ì¸ ê°€ëŠ¥ Postgres í…Œì´ë¸” ìƒì„± # PythonOperator ë¥¼ ì‚¬ìš©í•´ ìƒˆë¡œ ìƒì„±í•œ PostgreSQL ì»¨í…Œì´ë„ˆì— ì„ì˜ì˜ ê°’ì„ INSERT í•˜ëŠ” ì‘ì—…ì„ êµ¬í˜„í•˜ê¸° ì „ì—, ì•„ë˜ì™€ ê°™ì´ public.dag_run í…Œì´ë¸”ì„ ìƒì„± Copy sql CREATE TABLE public.dag_run ( dag_id varchar(100) NULL, task_id varchar(100) NULL, run_id varchar(100) NULL, msg text NULL ); í…Œì´ë¸”ì´ ì •ìƒì ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œë‹¤ë©´ ìƒˆë¡œê³ ì¹¨ í›„ ì•„ë˜ì™€ ê°™ì´ í…Œì´ë¸” ë‚´ ì»¬ëŸ¼ ë‚´ì—­ì„ í™•ì¸ ê°€ëŠ¥ PythonOperator # PostgreSQLì— ì—°ê²°í•´ í˜„ì¬ ì‹¤í–‰ ì •ë³´ë¥¼ INSERT INTO ë¡œ ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜ insert_into_postgres() ë¥¼ ì‹¤í–‰ DB ì—°ê²° ì‹œ conn ì„¸ì…˜ ê°ì²´ ìƒì„± í›„ .close() ë¡œ ì¢…ë£Œí•˜ëŠ” êµ¬ë¬¸ì„ closing ìœ¼ë¡œ ëŒ€ì²´ DB ì„¸ì…˜ì—ì„œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” cursor ê°ì²´ë¥¼ ë§Œë“¤ê³  í•´ë‹¹ ê°ì²´ë¥¼ í†µí•´ SQLë¬¸ì„ ìˆ˜í–‰ í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” DB ì—°ê²° ì •ë³´ëŠ” ë§ˆì°¬ê°€ì§€ë¡œ Docker Composeì—ì„œ ì§€ì •í•œ ê°’ì„ ì‚¬ìš© Copy python # dags/python_with_postgres.py from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator import pendulum with DAG( dag_id=\u0026#34;python_with_postgres\u0026#34;, schedule=None, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;hook\u0026#34;], ) as dag: def insert_into_postgres(ip: str, port: str, dbname: str, user: str, passwd: str, **kwargs): import psycopg2 from contextlib import closing with closing(psycopg2.connect(host=ip, dbname=dbname, user=user, password=passwd, port=int(port))) as conn: with closing(conn.cursor()) as cursor: dag_id = kwargs.get(\u0026#34;ti\u0026#34;).dag_id task_id = kwargs.get(\u0026#34;ti\u0026#34;).task_id run_id = kwargs.get(\u0026#34;ti\u0026#34;).run_id msg = \u0026#34;INSERT INTO ìˆ˜í–‰\u0026#34; sql = \u0026#34;INSERT INTO dag_run VALUES (%s,%s,%s,%s);\u0026#34; cursor.execute(sql,(dag_id,task_id,run_id,msg)) conn.commit() postgres_task = PythonOperator( task_id=\u0026#34;postgres_task\u0026#34;, python_callable=insert_into_postgres, op_args=[\u0026#34;172.28.0.3\u0026#34;, \u0026#34;5432\u0026#34;, \u0026#34;minyeamer\u0026#34;, \u0026#34;minyeamer\u0026#34;, \u0026#34;minyeamer\u0026#34;] ) DAGì„ ì‹¤í–‰í•œ í›„ DBeaverì—ì„œ dag_run í…Œì´ë¸” ì¡°íšŒ ì‹œ ì•„ë˜ì™€ ê°™ì´ í•˜ë‚˜ì˜ í–‰ì´ ì˜¬ë¼ì˜¨ ê²ƒì„ í™•ì¸ ë¬¸ì œì  ë° í•´ê²°ë°©ë²• # ë¬¸ì œì  : DB ì ‘ì†ì •ë³´ê°€ ë…¸ì¶œë˜ê³  ì ‘ì†ì •ë³´ê°€ ë³€ê²½ë˜ë©´ ëŒ€ì‘í•˜ê¸°ê°€ ì–´ë ¤ì›€ í•´ê²°ë°©ë²• Variable ì´ìš© Hook ì´ìš© Connection \u0026amp; Hook # Connection : Airflowì—ì„œ ì™¸ë¶€ì™€ ì—°ë™í•˜ê¸° ìœ„í•´ ì„¤ì •í•˜ëŠ” ê¸°ë³¸ ì •ë³´ Hook Airflowì—ì„œ ì™¸ë¶€ ì†”ë£¨ì…˜ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë¯¸ë¦¬ êµ¬í˜„ëœ ë©”ì„œë“œë¥¼ ê°€ì§„ í´ë˜ìŠ¤ Connection ì •ë³´ë¥¼ í†µí•´ ìƒì„±ë˜ëŠ” ê°ì²´ë¡œ, ì ‘ì†ì •ë³´ê°€ ì½”ë“œìƒ ë…¸ì¶œë˜ì§€ ì•ŠìŒ ì™¸ë¶€ì˜ íŠ¹ì • ì†”ë£¨ì…˜ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ë©”ì„œë“œê°€ êµ¬í˜„ë˜ì–´ ìˆìŒ Operatorì™€ ê°™ì´ Taskë¥¼ ë§Œë“¤ì–´ë‚´ì§€ëŠ” ëª»í•˜ê¸° ë•Œë¬¸ì— Operator ë‚´ í•¨ìˆ˜ì—ì„œ ì‚¬ìš© Postgres Provider ë¬¸ì„œ ë³´ê¸° # apache-airflow-providers-postgres â€” apache-airflow-providers-postgres â€¦airflow.apache.org Providersì— ì†í•œ Postgres ë¬¸ì„œì—ì„œ Connection ì ‘ì† ê³¼ì •ì„ ì¡°íšŒ ê°€ëŠ¥ Copy python def get_conn(self) -\u0026gt; connection: \u0026#34;\u0026#34;\u0026#34;Establish a connection to a postgres database.\u0026#34;\u0026#34;\u0026#34; conn = deepcopy(self.connection) # check for authentication via AWS IAM if conn.extra_dejson.get(\u0026#34;iam\u0026#34;, False): conn.login, conn.password, conn.port = self.get_iam_token(conn) conn_args = { \u0026#34;host\u0026#34;: conn.host, \u0026#34;user\u0026#34;: conn.login, \u0026#34;password\u0026#34;: conn.password, \u0026#34;dbname\u0026#34;: self.database or conn.schema, \u0026#34;port\u0026#34;: conn.port, } raw_cursor = conn.extra_dejson.get(\u0026#34;cursor\u0026#34;, False) if raw_cursor: conn_args[\u0026#34;cursor_factory\u0026#34;] = self._get_cursor(raw_cursor) if self.options: conn_args[\u0026#34;options\u0026#34;] = self.options for arg_name, arg_val in conn.extra_dejson.items(): if arg_name not in self.ignored_extra_options: conn_args[arg_name] = arg_val self.conn = psycopg2.connect(**conn_args) return self.conn Connectionìœ¼ë¡œë¶€í„° host, login, password, database, port ì •ë³´ë¥¼ ì½ì–´ì„œ DB ì—°ê²°ì— ëŒ€í•œ íŒŒë¼ë¯¸í„°ë¡œ í™œìš©í•˜ëŠ” ê²ƒì„ í™•ì¸ ë§ˆì§€ë§‰ ì¤„ì—ëŠ” psycopg2.connect() ì—°ê²°ì— ëŒ€í•œ psycopg2.extensions.connection ì„¸ì…˜ ê°ì²´ë¥¼ ë°˜í™˜ Connection ì¶”ê°€ # postgres íƒ€ì…ì˜ Connectionì„ ìƒˆë¡œ ìƒì„± ì—°ê²° ì •ë³´ë¡œ Docker Composeì—ì„œ ì§€ì •í•œ ê°’ì„ ì…ë ¥ Connectionì— ì…ë ¥í•œ ê° í•­ëª©ì€ ì•ì„œ í™•ì¸í•œ get_conn() ë©”ì„œë“œì—ì„œ PostgreSQL ì—°ê²° ì‹œ ì‚¬ìš© PostgresHook # Provider íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³ , ê¸°ì¡´ì— psycopg2 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì§ì ‘ PostgreSQLì— ì—°ê²°í•˜ë˜ ë¶€ë¶„ì„ PostgresHook ìœ¼ë¡œ ë³€ê²½ Copy bash pip install apache-airflow-providers-postgres Copy python # dags/python_with_postgres_hook.py from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator import pendulum with DAG( dag_id=\u0026#34;python_with_postgres_hook\u0026#34;, schedule=None, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;hook\u0026#34;], ) as dag: def insert_into_postgres(postgres_conn_id: str, **kwargs): from airflow.providers.postgres.hooks.postgres import PostgresHook from contextlib import closing postgres_hook = PostgresHook(postgres_conn_id) with closing(postgres_hook.get_conn()) as conn: with closing(conn.cursor()) as cursor: dag_id = kwargs.get(\u0026#34;ti\u0026#34;).dag_id task_id = kwargs.get(\u0026#34;ti\u0026#34;).task_id run_id = kwargs.get(\u0026#34;ti\u0026#34;).run_id msg = \u0026#34;INSERT INTO ìˆ˜í–‰\u0026#34; sql = \u0026#34;INSERT INTO dag_run VALUES (%s,%s,%s,%s);\u0026#34; cursor.execute(sql,(dag_id,task_id,run_id,msg)) conn.commit() postgres_task = PythonOperator( task_id=\u0026#34;postgres_task\u0026#34;, python_callable=insert_into_postgres, op_kwargs={\u0026#34;postgres_conn_id\u0026#34;:\u0026#34;conn-db-postgres-custom\u0026#34;} ) DAGì„ ì‹¤í–‰í•œ í›„ DBeaverì—ì„œ dag_run í…Œì´ë¸” ì¡°íšŒ ì‹œ ì•„ë˜ì™€ ê°™ì´ ë‘ ë²ˆì§¸ í–‰ì´ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸ bulk_load # Postgres Provider ë¬¸ì„œ ë³´ê¸° # airflow.providers.postgres.hooks.postgres â€” apache-airflow-providers-postgres â€¦airflow.apache.org PostgreSQLì— ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•˜ëŠ” bulk_load() ë©”ì„œë“œì— ëŒ€í•´ ì‚´í´ë³´ê¸° Copy python def bulk_load(self, table: str, tmp_file: str) -\u0026gt; None: \u0026#34;\u0026#34;\u0026#34;Load a tab-delimited file into a database table.\u0026#34;\u0026#34;\u0026#34; self.copy_expert(f\u0026#34;COPY {table} FROM STDIN\u0026#34;, tmp_file) bulk_load() ë©”ì„œë“œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ copy_expert() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, í•´ë‹¹ ì†ŒìŠ¤ì½”ë“œë¥¼ ì¡°íšŒ Copy python def copy_expert(self, sql: str, filename: str) -\u0026gt; None: self.log.info(\u0026#34;Running copy expert: %s, filename: %s\u0026#34;, sql, filename) if not os.path.isfile(filename): with open(filename, \u0026#34;w\u0026#34;): pass with open(filename, \u0026#34;r+\u0026#34;) as file, closing(self.get_conn()) as conn, closing(conn.cursor()) as cur: cur.copy_expert(sql, file) file.truncate(file.tell()) conn.commit() copy_expert() ë©”ì„œë“œëŠ” get_conn() ë©”ì„œë“œë¥¼ í†µí•´ ì„¸ì…˜ ê°ì²´ë¥¼ ì–»ì–´ì˜¤ê³ , ì„¸ì…˜ ê°ì²´ë¡œë¶€í„° cursor ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ í•´ë‹¹ ê°ì²´ê°€ ê°€ì§€ê³  ìˆëŠ” copy_expert() ë©”ì„œë“œë¥¼ ìˆ˜í–‰\nPsycopg ê³µì‹ ë¬¸ì„œì— ë”°ë¥´ë©´, copy_expert() ë©”ì„œë“œëŠ” file ê°ì²´ë¥¼ ì „ë‹¬ë°›ì•„ì„œ COPY TO ë¬¸ë²•ì— ëŒ€ì‘ë˜ëŠ” SQLë¬¸ì„ ì‹¤í–‰í•´ í…Œì´ë¸”ì— ì—…ë¡œë“œ ìˆ˜í–‰\nThe sql statement should be in the form COPY table TO STDOUT to export table to the file object passed as argument or COPY table FROM STDIN to import the content of the file object into table.\nCopy python copy_expert(sql, file, size=8192) Copy python \u0026gt;\u0026gt;\u0026gt; cur.copy_expert(\u0026#34;COPY test TO STDOUT WITH CSV HEADER\u0026#34;, sys.stdout) id,num,data 1,100,abc\u0026#39;def 2,,dada ... Postgres í…Œì´ë¸” ìƒì„± # ì €ë²ˆì— ë§Œë“  Custom Operatorë¡œ ê°€ì ¸ì˜¨ ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ ê²°ê³¼ shop.csv íŒŒì¼ì„ PostgreSQLì— ì—…ë¡œë“œí•  ê³„íšì„ ê°€ì§€ê³  í…Œì´ë¸” êµ¬ì¡°ë¥¼ ì •ì˜ CSV íŒŒì¼ê³¼ ë™ì¼í•œ ì—´ì„ TEXT íƒ€ì…ìœ¼ë¡œ ê°€ì§€ëŠ” nshopping.search í…Œì´ë¸”ì„ ìƒì„± Copy sql CREATE TABLE nshopping_search( rank text, title text, link text, image text, lprice text, hprice text, mallName text, productId text, productType text, brand text, maker text, category1 text, category2 text, category3 text, category4 text ); DBeaverì—ì„œ nshopping ìŠ¤í‚¤ë§ˆë¥¼ ë§Œë“¤ê³  SQLë¬¸ì„ ìˆ˜í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ í…Œì´ë¸” ì—´ ëª©ë¡ì„ í™•ì¸ ê°€ëŠ¥ CSV íŒŒì¼ ê°€ê³µ # Load a tab-delimited file into a database table.\nì•ì„œ bulk_load() ë©”ì„œë“œì˜ ì£¼ì„ì— Tab ìœ¼ë¡œ êµ¬ë¶„ëœ íŒŒì¼ì„ ì—…ë¡œë“œí•œë‹¤ê³  ëª…ì‹œë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, shop.csv íŒŒì¼ì„ , ëŒ€ì‹  Tab ìœ¼ë¡œ êµ¬ë¶„í•œ shop_with_tab.csv íŒŒì¼ì„ ê°™ì€ ìœ„ì¹˜ì— ìƒì„± vi í¸ì§‘ê¸°ë¡œ íŒŒì¼ì„ ì—´ì—ˆë‹¤ë©´ %s/,/\\t/g ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ , ë¥¼ Tab ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥ ranktitlelinkimagelpricehpricemallNameproductIdproductTypebrandmakercategory1category2category3category4 1ì‚¼ì„± ê°¤ëŸ­ì‹œë¶ ì¸ê°•ìš© ì‚¬ë¬´ìš© ì—…ë¬´ìš© ê°€ì„±ë¹„ ìœˆë„ìš°11 ì €ê°€ ì‹¼ íƒœë¸”ë¦¿ ë…¸íŠ¸ë¶ ì¶”ì²œ ê¸°ë³¸íŒ©https://smartstore.naver.com/main/products/10407884292https://shopping-phinf.pstatic.net/main_8795238/87952389253.11.jpg428000ì‚¼ì„±ê³µì‹íŒŒíŠ¸ë„ˆ ì½”ì¸ë¹„ì— ì—ìŠ¤879523892532ê°¤ëŸ­ì‹œë¶ì‚¼ì„±ì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶2LGì „ì ìš¸íŠ¸ë¼PC ë¼ì´ì  5 ì‚¬ë¬´ìš© ì¸ê°•ìš© ì €ë ´í•œ 8GB NVMe256GB LGë…¸íŠ¸ë¶https://smartstore.naver.com/main/products/6174236911https://shopping-phinf.pstatic.net/main_8371873/83718736488.14.jpg599000ì œì´ ì”¨ì•¤ì—ìŠ¤837187364882LGì „ìLGì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶3LGê·¸ë¨ ë…¸íŠ¸ë¶ 14ê·¸ë¨ Ultra5 16GB 256GB ì¸í…”Arc GPU ì¸ê°•ìš©https://smartstore.naver.com/main/products/9091504708https://shopping-phinf.pstatic.net/main_8663600/86636005031.7.jpg1149000ì˜¨ë¼ì¸ì´íŒëŒ€ë¦¬ì 866360050312LGê·¸ë¨LGì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶4ì‚¼ì„±ì „ì ê°¤ëŸ­ì‹œë¶4 NT750XGR-A51A 16GB 256GBhttps://search.shopping.naver.com/catalog/52631236642https://shopping-phinf.pstatic.net/main_5263123/52631236642.20250124094900.jpg799000ë„¤ì´ë²„526312366421ê°¤ëŸ­ì‹œë¶4ì‚¼ì„±ì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶52025 LGê·¸ë¨ 15 Ai ë¼ì´ì  5 16GB 256GB AMD í¬í† ìƒµ ëŒ€í•™ìƒ ì¸ê°•ìš© ë…¸íŠ¸ë¶https://smartstore.naver.com/main/products/10133562287https://shopping-phinf.pstatic.net/main_8767806/87678065467.4.jpg1239000ì°½ì´ë¡œìš´876780654672LGê·¸ë¨LGì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶ bulk_load í™œìš© ì˜ˆì‹œ # PostgresHook ì„ ì‚¬ìš©í•œ Operatorì— ì´ì–´ì„œ bulk_load() ë©”ì„œë“œë¥¼ ì¶”ê°€ DAG ì‹¤í–‰ ë‚ ì§œì— ëŒ€ì‘ë˜ëŠ” ë””ë ‰í† ë¦¬ ì•„ë˜ì˜ shop_with_tab.csv íŒŒì¼ì„ ì½ì–´ì„œ nshopping.search í…Œì´ë¸”ì— ì—…ë¡œë“œë  ê²ƒì„ ê¸°ëŒ€ Copy python from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator import pendulum with DAG( dag_id=\u0026#34;python_with_postgres_load\u0026#34;, schedule=None, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;hook\u0026#34;], ) as dag: def bulk_load_postgres(postgres_conn_id: str, table_name: str, file_path: str, **kwargs): from airflow.providers.postgres.hooks.postgres import PostgresHook postgres_hook = PostgresHook(postgres_conn_id) postgres_hook.bulk_load(table_name, file_path) postgres_task = PythonOperator( task_id=\u0026#34;postgres_task\u0026#34;, python_callable=bulk_load_postgres, op_kwargs={\u0026#34;postgres_conn_id\u0026#34;:\u0026#34;conn-db-postgres-custom\u0026#34;, \u0026#34;table_name\u0026#34;:\u0026#34;nshopping.search\u0026#34;, \u0026#34;file_name\u0026#34;:\u0026#34;/opt/airflow/files/naverSearch/{{data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds_nodash }}/shop_with_tab.csv\u0026#34;} ) DAGì„ ì‹¤í–‰í•˜ê³  DBeaverì—ì„œ nshopping.search í…Œì´ë¸”ì„ ì¡°íšŒí•˜ë©´ ì•„ë˜ì™€ ê°™ì´ CSV íŒŒì¼ì´ ê·¸ëŒ€ë¡œ ì˜¬ë¼ì˜¨ ê²ƒì„ í™•ì¸ í•˜ì§€ë§Œ, CSV í—¤ë”ê°€ 1í–‰ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ë¬¸ì œì ì´ ë³´ì„ ë¬¸ì œì  ë° ê°œì„ ë°©ì•ˆ # ë¬¸ì œì  : êµ¬ë¶„ìê°€ Tab ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆê³ , í—¤ë”ê¹Œì§€ í¬í•¨í•´ì„œ ì—…ë¡œë“œ ë¨ ê°œì„ ë°©ì•ˆ : Custom Hookì„ ë§Œë“¤ì–´ì„œ êµ¬ë¶„ìë¥¼ ì…ë ¥ë°›ê³  í—¤ë” í¬í•¨ ì—¬ë¶€ë¥¼ ì„ íƒë°›ê²Œ í•¨ Custom Hookì€ ë‹¤ìŒ ê²Œì‹œê¸€ì—ì„œ êµ¬í˜„ Custom Hook # airflow.hooks.base â€” Airflow 3.1.3 Documentationairflow.apache.org BaseHook # BaseHook í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ ì§ì ‘ ë§Œë“  Hookì„ ì‚¬ìš© ê°€ëŠ¥ get_connection()\nConnection ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ classmethod ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ ê°ì²´í™”í•˜ì§€ ì•Šê³ ë„ í˜¸ì¶œ ê°€ëŠ¥ Copy python @classmethod def get_connection(cls, conn_id: str) -\u0026gt; Connection: \u0026#34;\u0026#34;\u0026#34; Get connection, given connection id. :param conn_id: connection id :return: connection \u0026#34;\u0026#34;\u0026#34; from airflow.models.connection import Connection conn = Connection.get_connection_from_secrets(conn_id) log.info(\u0026#34;Connection Retrieved \u0026#39;%s\u0026#39;\u0026#34;, conn.conn_id) return conn get_hook()\nConnection ê°ì²´ë¡œë¶€í„° Hook ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ classmethod ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ ê°ì²´í™”í•˜ì§€ ì•Šê³ ë„ í˜¸ì¶œ ê°€ëŠ¥ Copy python @classmethod def get_hook(cls, conn_id: str, hook_params: dict | None = None) -\u0026gt; BaseHook: \u0026#34;\u0026#34;\u0026#34; Return default hook for this connection id. :param conn_id: connection id :param hook_params: hook parameters :return: default hook for this connection \u0026#34;\u0026#34;\u0026#34; connection = cls.get_connection(conn_id) return connection.get_hook(hook_params=hook_params) get_conn()\nHook ê°ì²´ì— ëŒ€í•œ ì—°ê²°ì„ êµ¬í˜„í•˜ëŠ” ë©”ì„œë“œë¡œ, ë°˜ë“œì‹œ ì¬ì •ì˜í•´ì•¼ í•¨ Copy python def get_conn(self) -\u0026gt; Any: \u0026#34;\u0026#34;\u0026#34;Return connection for the hook.\u0026#34;\u0026#34;\u0026#34; raise NotImplementedError() PostgresHook ê°œì„ ì  íŒŒì•… # ì´ì „ì— ë§Œë“¤ì—ˆë˜ ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ ê²°ê³¼ì— ëŒ€í•œ CSV íŒŒì¼ì„ ì ì¬í•˜ëŠ” PostgresHookì˜ ê¸°ëŠ¥ì„ ê°œì„ \nêµ¬ë¶„ìê°€ Tab ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆê³ , í—¤ë”ê¹Œì§€ í¬í•¨í•´ì„œ ì—…ë¡œë“œ ë¨ Psycopg ê³µì‹ ë¬¸ì„œì— ë”°ë¥´ë©´, CSV HEADER êµ¬ë¬¸ì„ ë’¤ì— ë¶™ì—¬ í—¤ë”ë¥¼ ì œì™¸í•  ìˆ˜ ìˆìŒ ë˜í•œ, COPY ë¬¸ ë’¤ì— DELIMITER êµ¬ë¬¸ì„ ì¶”ê°€í•´ êµ¬ë¶„ìë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆìŒ í…Œì´ë¸”ì´ ì—†ìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•¨, ë˜í•œ ì§ì ‘ í…Œì´ë¸”ì„ ìƒì„±í•˜ëŠ” ê²ƒë„ ë¶ˆí¸í•¨ CSV íŒŒì¼ì˜ í—¤ë”ë¥¼ ì½ì–´ì„œ CREATE TABLE ë¬¸ì„ ë§Œë“¤ê³ , ìœ„ COPY ë¬¸ ì•ì— ë¶™ì—¬ì„œ í…Œì´ë¸” ìƒì„± ë˜í•œ, ë” ì •í™•í•œ í…Œì´ë¸” êµ¬ì„±ì„ ìœ„í•´ ëª¨ë“  ì—´ì„ text íƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ì§€ ì•Šê³ , CSV íŒŒì¼ì˜ ì „ì²´ ë˜ëŠ” ì¼ë¶€ë¥¼ ì½ì–´ì„œ int4 íƒ€ì…ì˜ ì—´ì„ ì¶”ì¸¡í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ íŒë‹¨ ê¸°ì¡´ì—” ë°ì´í„°ë¥¼ ê³„ì†í•´ì„œ ì¶”ê°€í–ˆëŠ”ë°, ë®ì–´ì“°ê¸° ì˜µì…˜ì„ í†µí•´ ì´ì „ ë°ì´í„°ë¥¼ ì§€ìš¸ ìˆ˜ë„ ìˆìœ¼ë©´ ë” ì¢‹ì„ ê²ƒì´ë¼ ìƒê°í•¨ Hook ê¸°ëŠ¥ ì •ì˜ # CSV íŒŒì¼ì„ PostgreSQL í…Œì´ë¸”ì— ì ì¬í•˜ëŠ”ë°, í…Œì´ë¸”ì´ ì—†ìœ¼ë©´ ìƒì„±í•˜ê³ , ë®ì–´ì“°ê¸°ë„ í—ˆìš©\nCustomPostgresHook # BaseHook ì„ ìƒì†ë°›ëŠ” CustomPostgresHook ë¥¼ êµ¬í˜„ ê¸°ë³¸ì ì¸ êµ¬ì„±ì€ Postgres Provider ë¬¸ì„œì—ì„œ ì œê³µí•˜ëŠ” ì†ŒìŠ¤ì½”ë“œë¥¼ ì°¸ê³  Hook ì¬ì‚¬ìš©ì„ ìœ„í•´ plugins/ ê²½ë¡œ ì•„ë˜ì— ì¶”ê°€ Copy python # plugins/hooks/postgres.py from airflow.hooks.base import BaseHook from typing import Literal import psycopg2 class CustomPostgresHook(BaseHook): def __init__(self, postgres_conn_id: str, **kwargs): self.postgres_conn_id = postgres_conn_id self.conn = None self.database = kwargs.get(\u0026#34;database\u0026#34;) def get_conn(self) -\u0026gt; psycopg2.extensions.connection: conn = BaseHook.get_connection(self.postgres_conn_id) conn_args = { \u0026#34;host\u0026#34;: conn.host, \u0026#34;user\u0026#34;: conn.login, \u0026#34;password\u0026#34;: conn.password, \u0026#34;dbname\u0026#34;: self.database or conn.schema, \u0026#34;port\u0026#34;: conn.port, } self.conn = psycopg2.connect(**conn_args) return self.conn def bulk_load(self, table: str, filename: str, encoding=\u0026#34;utf-8\u0026#34;, if_exists: Literal[\u0026#34;append\u0026#34;,\u0026#34;replace\u0026#34;]=\u0026#34;append\u0026#34;, sep=\u0026#39;,\u0026#39;, with_header=True): create = self._create_table_sql(table, filename, encoding, sep, with_header) replace = \u0026#34;TRUNCATE TABLE {};\u0026#34;.format(table) if if_exists == \u0026#34;replace\u0026#34; else str() copy = \u0026#34;COPY {} FROM STDIN DELIMITER \u0026#39;{}\u0026#39; {};\u0026#34;.format(table, sep, (\u0026#34;CSV HEADER\u0026#34; if with_header else \u0026#34;CSV\u0026#34;)) sql = \u0026#39;\u0026#39;.join([create, replace, copy]) self.copy_expert(sql, filename, encoding) def _create_table_sql(self, table: str, filename: str, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;, with_header=True) -\u0026gt; str: if with_header: column_list = self._read_csv_column_list(filename, encoding, sep) return \u0026#34;CREATE TABLE IF NOT EXISTS {}({});\u0026#34;.format(table, column_list) else: return str() def _read_csv_column_list(self, filename: str, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;) -\u0026gt; str: import csv def is_int4_type(value: str) -\u0026gt; bool: return (not value) or (value.isdigit() and (-2147483648 \u0026lt;= int(value) \u0026lt;= 2147483647)) with open(filename, \u0026#34;r+\u0026#34;, encoding=encoding) as file: reader = csv.reader(file, delimiter=sep) header = next(reader) dtypes = [all(map(is_int4_type, values)) for values in zip(*[next(reader) for _ in range(5)])] return \u0026#34;, \u0026#34;.join([\u0026#34;{} {}\u0026#34;.format(col, (\u0026#34;int4\u0026#34; if is_int4 else \u0026#34;text\u0026#34;)) for col, is_int4 in zip(header, dtypes)]) def copy_expert(self, sql: str, filename: str, encoding=\u0026#34;utf-8\u0026#34;) -\u0026gt; None: from contextlib import closing self.log.info(\u0026#34;Running copy expert: %s, filename: %s\u0026#34;, sql, filename) with open(filename, \u0026#34;r+\u0026#34;, encoding=encoding) as file, closing(self.get_conn()) as conn, closing(conn.cursor()) as cur: cur.copy_expert(sql, file) file.truncate(file.tell()) conn.commit() PostgreSQL ì—°ê²° ë©”ì„œë“œ # get_conn()\nPostgresHook ì˜ get_conn() ë©”ì„œë“œì™€ ìœ ì‚¬í•œë°, ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ Connection ê°ì²´ë¥¼ ê°€ì ¸ì™€ ì—°ê²° ì •ë³´ë¥¼ ì½ì–´ì˜¤ëŠ”ë° ì°¨ì´ê°€ ìˆìŒ psycopg2 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ PostgreSQLì— ì—°ê²°í•˜ê³  psycopg2.extensions.connection ê°ì²´ë¥¼ ë°˜í™˜ Copy python def get_conn(self) -\u0026gt; psycopg2.extensions.connection: conn = BaseHook.get_connection(self.postgres_conn_id) conn_args = { \u0026#34;host\u0026#34;: conn.host, \u0026#34;user\u0026#34;: conn.login, \u0026#34;password\u0026#34;: conn.password, \u0026#34;dbname\u0026#34;: self.database or conn.schema, \u0026#34;port\u0026#34;: conn.port, } self.conn = psycopg2.connect(**conn_args) return self.conn ì¿¼ë¦¬ë¬¸ ìƒì„± ë©”ì„œë“œ # bulk_load()\nf\u0026quot;COPY {table} FROM STDIN\u0026quot; í˜•ì‹ì˜ ë‹¨ìˆœí•œ SQLë¬¸ì„ ì‚¬ìš©í•˜ë˜ ê¸°ì¡´ bulk_load() ë©”ì„œë“œë¥¼ ê°œì„  create : _create_table_sql() ë©”ì„œë“œë¥¼ í†µí•´ CREATE TABLE ë¬¸ ìƒì„± replace : if_exists íŒŒë¼ë¯¸í„° ê°’ì— ë”°ë¼ í…Œì´ë¸” ë‚´ìš©ì„ ëª¨ë‘ ì‚­ì œí•˜ëŠ” êµ¬ë¬¸ì„ ì„ íƒì ìœ¼ë¡œ ì¶”ê°€ copy : êµ¬ë¶„ì ë˜ëŠ” í—¤ë” í¬í•¨ ì—¬ë¶€ ë“±ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê³  ì´ë¥¼ í™œìš©í•˜ì—¬ COPY ë¬¸ ìƒì„± Copy python def bulk_load(self, table: str, filename: str, encoding=\u0026#34;utf-8\u0026#34;, if_exists: Literal[\u0026#34;append\u0026#34;,\u0026#34;replace\u0026#34;]=\u0026#34;append\u0026#34;, sep=\u0026#39;,\u0026#39;, with_header=True): create = self._create_table_sql(table, filename, encoding, sep, with_header) replace = \u0026#34;TRUNCATE TABLE {};\u0026#34;.format(table) if if_exists == \u0026#34;replace\u0026#34; else str() copy = \u0026#34;COPY {} FROM STDIN DELIMITER \u0026#39;{}\u0026#39; {};\u0026#34;.format(table, sep, (\u0026#34;CSV HEADER\u0026#34; if with_header else \u0026#34;CSV\u0026#34;)) sql = \u0026#39;\u0026#39;.join([create, replace, copy]) self.copy_expert(sql, filename, encoding) _create_table_sql()\ní—¤ë”ê°€ ìˆì„ ê²½ìš°ì— í•œì •í•´, _read_csv_column_list() ë©”ì„œë“œë¥¼ í†µí•´ ì—´ ëª©ë¡ì„ ê°€ì ¸ì˜¤ê³ , CREATE TABLE ë¬¸ ì•ˆì— ì—´ ëª©ë¡ì„ í¬ë§·íŒ…í•´ ë°˜í™˜ IF NOT EXISTS êµ¬ë¬¸ì„ ì¶”ê°€í•´ í…Œì´ë¸”ì´ ì´ë¯¸ ì¡´ì¬í•  ê²½ìš°ëŠ” í…Œì´ë¸” ìƒì„± ìƒëµ í—¤ë”ê°€ ì—†ì„ ê²½ìš°ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í…Œì´ë¸” ìƒì„± ë¬´ì‹œ Copy python def _create_table_sql(self, table: str, filename: str, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;, with_header=True) -\u0026gt; str: if with_header: column_list = self._read_csv_column_list(filename, encoding, sep) return \u0026#34;CREATE TABLE IF NOT EXISTS {}({});\u0026#34;.format(table, column_list) else: return str() _read_csv_column_list()\ní—¤ë”ì™€ ìƒìœ„ 5ê°œ í–‰ì„ ì½ì–´ì„œ ë°ì´í„° íƒ€ì…ì„ ì¶”ì •í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í…Œì´ë¸”ì˜ ì—´ ëª©ë¡ì„ ì •ì˜ ë°ì´í„° íƒ€ì…ì€ int4 ë˜ëŠ” text ë‘ ê°€ì§€ ê²½ìš°ë§Œ íŒë‹¨í•˜ë©°, int4 ë²”ìœ„ì— ìˆëŠ” ìˆ«ìí˜• ë¬¸ì ë˜ëŠ” NULL ê°’ìœ¼ë¡œë§Œ êµ¬ì„±ëœ ì—´ì€ int4 íƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” text íƒ€ì…ìœ¼ë¡œ ì§€ì • Copy python def _read_csv_column_list(self, filename: str, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;) -\u0026gt; str: import csv def is_int4_type(value: str) -\u0026gt; bool: return (not value) or (value.isdigit() and (-2147483648 \u0026lt;= int(value) \u0026lt;= 2147483647)) with open(filename, \u0026#34;r+\u0026#34;, encoding=encoding) as file: reader = csv.reader(file, delimiter=sep) header = next(reader) dtypes = [all(map(is_int4_type, values)) for values in zip(*[next(reader) for _ in range(5)])] return \u0026#34;, \u0026#34;.join([\u0026#34;{} {}\u0026#34;.format(col, (\u0026#34;int4\u0026#34; if is_int4 else \u0026#34;text\u0026#34;)) for col, is_int4 in zip(header, dtypes)]) ì¿¼ë¦¬ë¬¸ ì‹¤í–‰ ë©”ì„œë“œ # copy_expert()\nPostgresHook ì˜ copy_expert() ë©”ì„œë“œì™€ ë™ì¼í•œë°, í•œê¸€ CSV íŒŒì¼ì€ EUC-KR ë“± ë‹¤ë¥¸ ì¸ì½”ë”©ì´ í•„ìš”í•  ìˆ˜ ìˆì–´ encoding íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€ Copy python def copy_expert(self, sql: str, filename: str, encoding=\u0026#34;utf-8\u0026#34;) -\u0026gt; None: from contextlib import closing self.log.info(\u0026#34;Running copy expert: %s, filename: %s\u0026#34;, sql, filename) with open(filename, \u0026#34;r+\u0026#34;, encoding=encoding) as file, closing(self.get_conn()) as conn, closing(conn.cursor()) as cur: cur.copy_expert(sql, file) file.truncate(file.tell()) conn.commit() Custom Hook í™œìš© ì˜ˆì‹œ # DAG ìƒì„± ë° ì‹¤í–‰ # plugins/ ì— ì •ì˜í•œ CustomPostgresHook ì„ í™œìš© ì‹¤í–‰ ë‚ ì§œì— ìƒì„±ëœ shop.csv íŒŒì¼ì„ ë³´ê³  nshopping.search2 í…Œì´ë¸”ì„ ìƒì„± ë° ì ì¬ shop.csv íŒŒì¼ì„ êµ³ì´ shop_with_tab.csv íŒŒì¼ë¡œ ê°€ê³µí•  í•„ìš”ì„±ì„ ì¤„ì—¬ì„œ í¸ì˜ì„± ê°œì„  Copy python # dags/python_with_postgres_custom.py from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator from hooks.postgres import CustomPostgresHook import pendulum with DAG( dag_id=\u0026#34;python_with_postgres_custom\u0026#34;, schedule=None, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;hook\u0026#34;], ) as dag: def bulk_load_postgres(postgres_conn_id: str, table: str, filename: str, **kwargs): custom_postgres_hook = CustomPostgresHook(postgres_conn_id=postgres_conn_id) custom_postgres_hook.bulk_load(table=table, filename=filename, if_exists=\u0026#34;replace\u0026#34;, sep=\u0026#34;,\u0026#34;, with_header=True) bulk_load_postgres = PythonOperator( task_id=\u0026#34;bulk_load_postgres\u0026#34;, python_callable=bulk_load_postgres, op_kwargs={\u0026#34;postgres_conn_id\u0026#34;: \u0026#34;conn-db-postgres-custom\u0026#34;, \u0026#34;table\u0026#34;:\u0026#34;nshopping.search2\u0026#34;, \u0026#34;filename\u0026#34;:\u0026#34;/opt/airflow/files/naverSearch/{{data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds_nodash }}/shop.csv\u0026#34;} ) ì‹¤í–‰ ë¡œê·¸ ì¤‘ì—ì„œ CustomPostgresHook ì´ ìƒì„±í•œ SQLë¬¸ì„ í™•ì¸ ê°€ëŠ¥ if_exists=\u0026quot;replace\u0026quot; íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í–ˆê¸° ë•Œë¬¸ì—, ì¤‘ê°„ì— TRUNCATE TABLE êµ¬ë¬¸ì´ ì¶”ê°€ ë”°ë¼ì„œ, ì—¬ëŸ¬ ë²ˆ DAGì„ ì‹¤í–‰í•´ë„ ë§¤ë²ˆ í…Œì´ë¸”ì´ ì´ˆê¸°í™”ë˜ì–´ ì¤‘ë³µëœ ë°ì´í„°ê°€ ì—…ë¡œë“œë˜ì§€ ì•ŠìŒ Copy bash [2025-06-11, 01:24:16] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-11, 01:24:16] INFO - Filling up the DagBag from /opt/airflow/dags/python_with_postgres_custom.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-11, 01:24:16] INFO - Running copy expert: CREATE TABLE IF NOT EXISTS nshopping.search2(rank int4, title text, link text, image text, lprice int4, hprice int4, mallName text, productId text, productType int4, brand text, maker text, category1 text, category2 text, category3 int4, category4 int4);TRUNCATE TABLE nshopping.search2;COPY nshopping.search2 FROM STDIN DELIMITER \u0026#39;,\u0026#39; CSV HEADER;, filename: /opt/airflow/files/naverSearch/20250611/shop.csv: source=\u0026#34;hooks.postgres.CustomPostgresHook\u0026#34; [2025-06-11, 01:24:16] INFO - Secrets backends loaded for worker: count=1: backend_classes=[\u0026#34;EnvironmentVariablesBackend\u0026#34;]: source=\u0026#34;supervisor\u0026#34; [2025-06-11, 01:24:16] INFO - Connection Retrieved \u0026#39;conn-db-postgres-custom\u0026#39;: source=\u0026#34;airflow.hooks.base\u0026#34; [2025-06-11, 01:24:16] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.PythonOperator\u0026#34; í…Œì´ë¸” ì¡°íšŒ # DBeaverì—ì„œ nshopping.search2 í…Œì´ë¸”ì´ ìƒì„±ë˜ì—ˆê³ , ì˜ë„ëŒ€ë¡œ ì •ìˆ˜í˜• ì—´ì„ ì¶”ì¸¡í•˜ì—¬ ë°ì´í„° íƒ€ì…ì„ êµ¬ë¶„í•´ì„œ ì§€ì •ëœ ê²ƒì„ í™•ì¸ í…Œì´ë¸” ë‚´ìš©ì„ ë³´ë©´, ê¸°ì¡´ì˜ ë¬¸ì œì˜€ë˜ í—¤ë”ê°€ 1í–‰ìœ¼ë¡œ ë“¤ì–´ê°”ë˜ê²Œ í•´ê²°ë¨ì´ í™•ì¸ ë˜í•œ, ì¶”ì¸¡í•œ ë°ì´í„° íƒ€ì…ì— ë§ì¶°ì„œ ê°’ì´ ì •ìƒì ìœ¼ë¡œ ë“¤ì–´ê°”ìŒì„ í™•ì¸ ì°¸ì¡°í•œ ê°•ì˜ì—ì„œëŠ” CSV íŒŒì¼ì„ pd.DataFrame ê°ì²´ë¡œ ì½ê³ , SQLAlchemyì˜ ì—”ì§„ì„ ì‚¬ìš©í•´ to_sql() ê¸°ëŠ¥ìœ¼ë¡œ PostgreSQL í…Œì´ë¸”ì— ë°ì´í„°ë¥¼ ì ì¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼ ê°œì¸ì ìœ¼ë¡œëŠ” PostgresHook ì„ ì´í•´í•˜ê³ ì, PostgresHook ì˜ ì›í˜•ì„ ìµœëŒ€í•œ ìœ ì§€í•˜ë©´ì„œ í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì¶”ê°€í•˜ê¸° ìœ„í•´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì‚¬ìš©ì„ ì œí•œí•¨ "},{"id":19,"href":"/blog/airflow-study-6/","title":"Apache Airflow - REST API ì—°ë™ê³¼ Custom Operator êµ¬í˜„","content":"HttpOperator # apache-airflow-providers-http â€” apache-airflow-providers-http Documentationairflow.apache.org HTTP ìš”ì²­ì„ í•˜ê³  ì‘ë‹µ ê²°ê³¼ë¥¼ ë°˜í™˜ë°›ëŠ” Operator (ë°˜í™˜ê°’ì€ XComì— ì €ì¥) HTTPë¥¼ ì´ìš©í•˜ì—¬ APIë¥¼ ì²˜ë¦¬í•˜ëŠ” RestAPI í˜¸ì¶œ ì‹œ ì‚¬ìš© ê°€ëŠ¥ Provider íŒ¨í‚¤ì§€ ì„¤ì¹˜ # HttpOperator ëŠ” Provider íŒ¨í‚¤ì§€ë¡œ ë³„ë„ì˜ ì„¤ì¹˜ê°€ í•„ìš” 5.3.0 ë²„ì „ì„ ê¸°ì¤€ìœ¼ë¡œ apache-airflow\u0026gt;=2.10.0 ë²„ì „ì„ ìš”êµ¬ Copy bash pip install apache-airflow-providers-http HttpOperator íŒŒë¼ë¯¸í„° # airflow.providers.http.operators.http â€” apache-airflow-providers-http â€¦airflow.apache.org http_conn_id : http Connectionì„ ìƒì„±í•´ì•¼ í•˜ëŠ”ë° í•´ë‹¹ Connectionì˜ ID endpoint : Connectionì— ë“±ë¡í•œ Host ë’¤ì— ë¶™ëŠ” ê²½ë¡œ method : HTTP ë©”ì„œë“œ (GET, POST, PUT, DELETE ë“±) data : POST ìš”ì²­ ì‹œ ì „ë‹¬í•  ë°ì´í„° ë˜ëŠ” GET ìš”ì²­ ì‹œ ì „ë‹¬í•  íŒŒë¼ë¯¸í„° headers : HTTP ìš”ì²­ í—¤ë” response_check : HTTP ì‘ë‹µ ê²°ê³¼ê°€ ì •ìƒì¸ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜ (True ë°˜í™˜) response_filter : HTTP ì‘ë‹µ ê²°ê³¼ì— ëŒ€í•œ ì „ì²˜ë¦¬ í•¨ìˆ˜ ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ API # ê²€ìƒ‰ \u0026gt; ì‡¼í•‘ - Search API ê²€ìƒ‰ \u0026gt; ì‡¼í•‘ ì‡¼í•‘ ê²€ìƒ‰ ê°œìš” ê°œìš” ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­ ì‡¼í•‘ ê²€ìƒ‰ API ë ˆí¼ëŸ°ìŠ¤ ì‡¼í•‘ ê²€ìƒ‰ ê²°ê³¼ ì¡°íšŒ ì˜¤ë¥˜ ì½”ë“œ ê²€ìƒ‰ API ì‡¼í•‘ ê²€ìƒ‰ êµ¬í˜„ ì˜ˆì œ ì‡¼í•‘ ê²€ìƒ‰ ê°œìš” ê°œìš” ì‚¬ì „ ì¤€ë¹„ ì‚¬í•­ ê°œìš” ê²€ìƒ‰ APIì™€ ì‡¼í•‘ ê²€ìƒ‰ ê°œ â€¦ developers.naver.com HttpOperator í™œìš©ì„ ìœ„í•´ ê°„ë‹¨í•œ APIë¥¼ ì˜ˆì œë¡œ ì‚¬ìš© ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ APIëŠ” ë„¤ì´ë²„ì—ì„œ ì œê³µí•˜ëŠ” Open API ì¤‘ í•˜ë‚˜ë¡œ ë„¤ì´ë²„ ì‡¼í•‘ í˜ì´ì§€ì—ì„œ ê²€ìƒ‰í•œ ê²°ê³¼ë¥¼ XML í˜•ì‹ ë˜ëŠ” JSON í˜•ì‹ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” RestAPI í•˜ë‚˜ì˜ í‚¤ì›Œë“œë¥¼ ì „ë‹¬í•˜ì—¬ ì •í™•ë„ìˆœìœ¼ë¡œ 1ìœ„ì— ë…¸ì¶œë˜ëŠ” ìƒí’ˆ ì •ë³´ë¥¼ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„ API í‚¤ ìƒì„± # ë„¤ì´ë²„ ê°œë°œì ì„¼í„°ì—ì„œ ë¡œê·¸ì¸ í›„ ìƒë‹¨ì˜ ë©”ë‰´ ì¤‘ Application-\u0026gt;ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡ ìœ¼ë¡œ ì´ë™ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ì‚¬ìš© APIë¡œ \u0026quot;ê²€ìƒ‰\u0026quot;ì„ ì„ íƒí•˜ê³ , ì„ì˜ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ë¦„ê³¼ ì„œë¹„ìŠ¤ í™˜ê²½ì„ ì…ë ¥í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡ ìƒì„±í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ì—ì„œ Client ID ì™€ Client Secret ì„ ì¡°íšŒ ê°€ëŠ¥ Connection ì¶”ê°€ # ë¬¸ì„œì— ëª…ì‹œëœ ìš”ì²­ URLì„ ì°¸ê³ í•˜ì—¬ Host ë¥¼ ì…ë ¥ APIê°€ ë³„ë„ë¡œ ì•Œë ¤ì§€ì§€ ì•Šì€ í¬íŠ¸ë¥¼ ì‚¬ìš©í•  ê²½ìš° Port ì— í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì§€ë§Œ, ë„¤ì´ë²„ Open APIëŠ” í‘œì¤€ HTTPS í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¯¸í‘œê¸° Variable ì¶”ê°€ # APIí‚¤ëŠ” Variableë¡œ ì¶”ê°€í•˜ëŠ”ë°, Client ID ì™€ Client Secret ì„ ê°ê°ì˜ Variableë¡œ ë“±ë¡ Client Secret ì˜ í‚¤ ëª…ì¹­ì—ëŠ” \u0026quot;secret\u0026quot; ì´ í¬í•¨ë˜ì–´ UIì—ì„œ ìë™ìœ¼ë¡œ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë˜ëŠ” ê²ƒì„ í™•ì¸ HttpOperator í™œìš© ì˜ˆì‹œ # ì•ì„œ ë“±ë¡í•œ Connectionì˜ IDë¥¼ http_conn_id ì— ì…ë ¥í•˜ê³ , endpoint ì— Hostë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ê²½ë¡œë¥¼ ì…ë ¥ data ì—ëŠ” GET ìš”ì²­ì— ëŒ€í•œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ”ë°, query ë¡œ ì›í•˜ëŠ” í‚¤ì›Œë“œë¥¼ ì…ë ¥ headers ì—ëŠ” Jinja í…œí”Œë¦¿ì„ í™œìš©í•˜ì—¬ Client ID ì™€ Client Secret ì— ëŒ€í•œ Variable ê°’ì„ ì¶”ê°€ HTTPS ìš”ì²­ í›„ ë°˜í™˜ë˜ëŠ” Response ê°ì²´ë¥¼ JSON íŒŒì‹±í•˜ì—¬ items ë°°ì—´ ë‚´ ì²« ë²ˆì§¸ í•­ëª©, ì¦‰ \u0026quot;ë…¸íŠ¸ë¶\u0026quot; í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•œ ê²°ê³¼ì—ì„œ 1ìœ„ë¡œ ë…¸ì¶œë˜ëŠ” ìƒí’ˆì„ ë”•ì…”ë„ˆë¦¬ íƒ€ì…ìœ¼ë¡œ ë°˜í™˜ ë‹¤ìŒ ë‹¨ê³„ì˜ Task print_product_task ì—ì„œëŠ” XComì—ì„œ ë°˜í™˜ëœ ê°’ì„ êº¼ë‚´ ë‹¨ìˆœ ì¶œë ¥ Copy python # dags/http_operator.py from airflow.sdk import DAG, task from airflow.providers.http.operators.http import HttpOperator from airflow.models.taskinstance import TaskInstance import pendulum with DAG( dag_id=\u0026#34;http_operator\u0026#34;, start_date=pendulum.datetime(2025, 6, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=None, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;http\u0026#34;], ) as dag: def parse(response): return response.json()[\u0026#34;items\u0026#34;][0] nshopping_search_task = HttpOperator( task_id=\u0026#34;nshopping_search_task\u0026#34;, http_conn_id=\u0026#34;openapi.naver.com\u0026#34;, endpoint=\u0026#34;/v1/search/shop.json\u0026#34;, method=\u0026#34;GET\u0026#34;, data={ \u0026#34;query\u0026#34;: \u0026#34;ë…¸íŠ¸ë¶\u0026#34;, \u0026#34;display\u0026#34;: 10, \u0026#34;start\u0026#34;: 1, \u0026#34;sort\u0026#34;: \u0026#34;sim\u0026#34; }, headers={ \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, \u0026#34;X-Naver-Client-Id\u0026#34;: \u0026#34;{{var.value.client_id_openapi_naver_com}}\u0026#34;, \u0026#34;X-Naver-Client-Secret\u0026#34;: \u0026#34;{{var.value.client_secret_openapi_naver_com}}\u0026#34; }, response_filter=parse ) @task(task_id=\u0026#34;print_product_task\u0026#34;) def print_product_task(ti: TaskInstance, **kwargs): result = ti.xcom_pull(task_ids=\u0026#34;nshopping_search_task\u0026#34;) from pprint import pprint pprint(result) nshopping_search_task \u0026gt;\u0026gt; print_product_task() DAG ì‹¤í–‰ í›„ print_product_task ì˜ ì‹¤í–‰ ë¡œê·¸ë¥¼ í™•ì¸í–ˆì„ ë•Œ, ì•„ë˜ì™€ ê°™ì´ nshopping_search_task ì—ì„œ ë°˜í™˜ëœ ìƒí’ˆì— ëŒ€í•œ ì •ë³´ë¥¼ ì¡°íšŒ ê°€ëŠ¥ Copy bash # print_product_task [2025-06-07, 12:33:35] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-07, 12:33:35] INFO - Filling up the DagBag from /opt/airflow/dags/http_operator.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-07, 12:33:35] INFO - {\u0026#39;brand\u0026#39;: \u0026#39;ê°¤ëŸ­ì‹œë¶\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;category1\u0026#39;: \u0026#39;ë””ì§€í„¸/ê°€ì „\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;category2\u0026#39;: \u0026#39;ë…¸íŠ¸ë¶\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;category3\u0026#39;: \u0026#39;\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;category4\u0026#39;: \u0026#39;\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;hprice\u0026#39;: \u0026#39;\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;image\u0026#39;: \u0026#39;https://shopping-phinf.pstatic.net/main_8795238/87952389253.11.jpg\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;link\u0026#39;: \u0026#39;https://smartstore.naver.com/main/products/10407884292\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;lprice\u0026#39;: \u0026#39;428000\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;maker\u0026#39;: \u0026#39;ì‚¼ì„±ì „ì\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;mallName\u0026#39;: \u0026#39;ì‚¼ì„±ê³µì‹íŒŒíŠ¸ë„ˆ ì½”ì¸ë¹„ì— ì—ìŠ¤\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;productId\u0026#39;: \u0026#39;87952389253\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;productType\u0026#39;: \u0026#39;2\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - \u0026#39;title\u0026#39;: \u0026#39;ì‚¼ì„± ê°¤ëŸ­ì‹œë¶ ì¸ê°•ìš© ì‚¬ë¬´ìš© ì—…ë¬´ìš© ê°€ì„±ë¹„ ìœˆë„ìš°11 ì €ê°€ ì‹¼ íƒœë¸”ë¦¿ \u0026lt;b\u0026gt;ë…¸íŠ¸ë¶\u0026lt;/b\u0026gt; ì¶”ì²œ ê¸°ë³¸íŒ©\u0026#39;}: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 12:33:35] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.decorators.python._PythonDecoratedOperator\u0026#34; Custom Operator # Creating a custom Operator â€” Airflow 3.1.3 Documentationairflow.apache.org BaseOperator # BaseOperator í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ ì§ì ‘ ë§Œë“  Operatorë¥¼ ì‚¬ìš© ê°€ëŠ¥ BaseOperator ìƒì† ì‹œ ë‘ ê°€ì§€ ë©”ì„œë“œë¥¼ ì¬ì •ì˜(Overriding)í•´ì•¼ í•¨ def __int__(self, *args, **kwargs) ê°ì²´ ìƒì„± ì‹œ ì´ˆê¸°í™”í•˜ëŠ” ê³¼ì •ì„ êµ¬í˜„ (ëª…ì‹œí•˜ì§€ ì•Šì€ íŒŒë¼ë¯¸í„°ëŠ” kwargsì— í¬í•¨) def execute(self, context) Operator ì‹¤í–‰ ì‹œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„ template_fields: Sequence[str] = (\u0026quot;name\u0026quot;,) Jinja templateì„ ì ìš©í•  íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì • Copy python class HelloOperator(BaseOperator): template_fields: Sequence[str] = (\u0026#34;name\u0026#34;,) def __init__(self, name: str, world: str, **kwargs) -\u0026gt; None: super().__init__(**kwargs) self.name = name self.world = world def execute(self, context): message = f\u0026#34;Hello {self.world} it\u0026#39;s {self.name}!\u0026#34; print(message) return message HttpOperator ê°œì„ ì  íŒŒì•… # ì£¼ìš” ë¬¸ì œì ì€ ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ APIì˜ í‘œì‹œ ê²°ê³¼ê°€ ìµœëŒ€ 100ê°œë¡œ ì œí•œë˜ëŠ” ê²ƒìœ¼ë¡œ, ë” ë§ì€ ê²°ê³¼ë¥¼ ë³´ë ¤ë©´ íŒŒë¼ë¯¸í„°ì˜ start ê°’ì„ ë‹¤ë¥´ê²Œ í•œ ì—¬ëŸ¬ ê°œì˜ HttpOperatorë¥¼ ë§Œë“¤ì–´ì•¼ í•¨ execute() ë©”ì„œë“œ ì•ˆì—ì„œ ì „ì²´ ìš”ì²­ì„ 100ê°œ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê³ , ë°˜ë³µë¬¸ì„ í†µí•´ ì—¬ëŸ¬ ë²ˆ ìš”ì²­ ë° ì‘ë‹µ ê²°ê³¼ë¥¼ í•©ì¹  ìˆ˜ ìˆê²Œ ë¡œì§ì„ ì‘ì„± ê¸°ì¡´ì—” endpoint ë¥¼ ì „ë¶€ ì…ë ¥í•´ì•¼ í–ˆëŠ”ë°, API ì¢…ë¥˜ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë¬¸ìì—´ë§Œ ì „ë‹¬í•´ì„œ endpoint ë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ë©´ ë” í¸ë¦¬í•  ê²ƒì´ë¼ ìƒê°í•¨ endpoint ë³€ê²½ì´ ìš©ì´í•˜ê¸° ë•Œë¬¸ì— ì‡¼í•‘ ê²€ìƒ‰ ë¿ ì•„ë‹ˆë¼ ë¸”ë¡œê·¸ ê²€ìƒ‰ë„ ê°™ì´ ìˆ˜í–‰í•  ê²ƒì„ ê³ ë ¤ ê¸°ì¡´ì—” JSON íŒŒì‹±í•œ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í–ˆëŠ”ë°, ë¡œì»¬ ê²½ë¡œì— CSV íŒŒì¼ë¡œ ì €ì¥í•˜ë©´ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê¸° ë” ì‰¬ìš¸ ê²ƒì´ë¼ ìƒê°í•¨ Operator ê¸°ëŠ¥ ì •ì˜ # ë„¤ì´ë²„ ì‡¼í•‘ ë° ë¸”ë¡œê·¸ ê²€ìƒ‰ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì „ì²´ ë°ì´í„°ë¥¼ ë°›ì€ í›„ CSV íŒŒì¼ë¡œ ì €ì¥í•˜ê¸°\nNaverSearchToCsvOperator # BaseOperator ë¥¼ ìƒì†ë°›ëŠ” NaverSearchToCsvOperator ë¥¼ êµ¬í˜„ Operator ì¬ì‚¬ìš©ì„ ìœ„í•´ plugins/ ê²½ë¡œ ì•„ë˜ì— ì¶”ê°€ Copy python # plugins/operators/nshopping.py from airflow.models import BaseOperator from airflow.hooks.base import BaseHook from typing import Dict, List class NaverSearchToCsvOperator(BaseOperator): template_fields = (\u0026#34;file_path\u0026#34;, \u0026#34;client_id\u0026#34;, \u0026#34;client_secret\u0026#34;) def __init__(self, search_type: str, file_path: str, client_id: str, client_secret: str, keyword: str, display: int = 10, start: int = 1, sort = \u0026#34;sim\u0026#34;, **kwargs): super().__init__(**kwargs) self.http_conn_id = \u0026#34;openapi.naver.com\u0026#34; self.endpoint = f\u0026#34;/v1/search/{search_type}.json\u0026#34; self.method = \u0026#34;GET\u0026#34; self.file_path = file_path if file_path.startswith(\u0026#34;/\u0026#34;) else (\u0026#34;/opt/airflow/files/\u0026#34;+file_path) self.client_id = client_id self.client_secret = client_secret self.keyword = keyword self.display = min(display, 1000) self.start = min(start, 1000) self.sort = sort def execute(self, context): connection = BaseHook.get_connection(self.http_conn_id) url = connection.host + self.endpoint rows = list() for i, start in enumerate(range(self.start, self.display, 100)): display = min(self.display + self.start - start, 100) self.log.info(f\u0026#34;ì‹œì‘: {start}\u0026#34;) self.log.info(f\u0026#34;ë: {start+display-1}\u0026#34;) kwargs = dict(keyword=self.keyword, display=display, start=start, sort=self.sort) rows = rows + self._request_api(url, show_header=(i == 0), **kwargs) self._mkdir(self.file_path) self._to_csv(rows, self.file_path, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;) def _request_api(self, url: str, keyword: str, display: int=10, start: int=1, sort=\u0026#34;sim\u0026#34;, show_header=True) -\u0026gt; List[List]: import requests params = self._get_params(keyword, display, start, sort) headers = self._get_headers(self.client_id, self.client_secret) with requests.request(self.method, url, params=params, headers=headers) as response: return self._parse_api(response, start, show_header) def _get_params(self, keyword: str, display: int=10, start: int=1, sort=\u0026#34;sim\u0026#34;) -\u0026gt; Dict: return {\u0026#34;query\u0026#34;: keyword, \u0026#34;display\u0026#34;: min(display, 100), \u0026#34;start\u0026#34;: min(start, 1000), \u0026#34;sort\u0026#34;: sort} def _get_headers(self, client_id: str, client_secret: str) -\u0026gt; Dict[str,str]: return { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, \u0026#34;X-Naver-Client-Id\u0026#34;: client_id, \u0026#34;X-Naver-Client-Secret\u0026#34;: client_secret } def _parse_api(self, response, start: int=1, show_header=True) -\u0026gt; List[List]: contents = response.json()[\u0026#34;items\u0026#34;] if contents: header = ([[\u0026#34;rank\u0026#34;] + list(contents[0].keys())]) if show_header else [] return header + [[start+i]+list(content.values()) for i, content in enumerate(contents)] else: return list() def _mkdir(self, file_path: str): import os dir_path = os.path.split(file_path)[0] if not os.path.exists(dir_path): os.system(f\u0026#34;mkdir -p {dir_path}\u0026#34;) def _to_csv(self, rows: List[List], file_path: str, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;): def clean(value: str) -\u0026gt; str: return str(value).replace(sep, \u0026#39;\u0026#39;) with open(file_path, \u0026#39;w\u0026#39;, encoding=encoding) as file: for row in rows: file.write(sep.join(map(clean, row))+\u0026#39;\\n\u0026#39;) ì´ˆê¸°í™” íŒŒë¼ë¯¸í„° # search_type: str\në„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ APIì˜ endpoint ëŠ” /v1/search/shop.json ì¸ë°, ë¸”ë¡œê·¸ ê²€ìƒ‰ ë˜ëŠ” ë‰´ìŠ¤ ê²€ìƒ‰ê³¼ ê°™ì€ ë‹¤ë¥¸ APIë¥¼ í™•ì¸í–ˆì„ ë•Œ, URLì—ì„œ {{host}}/v1/search/{{search_type}}.json ì™€ ê°™ì€ íŒ¨í„´ì´ ìˆìŒì„ í™•ì¸ ê°€ëŠ¥ ë”°ë¼ì„œ, endpoint ëŒ€ì‹ ì— search_type ì„ ì…ë ¥ìœ¼ë¡œ ë°›ê³  endpoint ë¥¼ ìë™ìœ¼ë¡œ ìƒì„± file_path: str\nnaverSearch/ ê²½ë¡œ ì•„ë˜ ì‹¤í–‰ ë‚ ì§œë³„ë¡œ í´ë”ë¥¼ ë§Œë“¤ì–´ì„œ ì•„ë˜ì— CSV íŒŒì¼ì„ ì €ì¥í•  ê³„íšì¸ë°, data_interval_end ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ template_fields ì— í•´ë‹¹ íŒŒë¼ë¯¸í„°ë¥¼ ë“±ë¡ Root(/) ê²½ë¡œë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° /opt/airflow/files ê²½ë¡œë¥¼ Root ê²½ë¡œë¡œ ì‚¬ìš©í•˜ë„ë¡ ì§€ì • ì´ ë•Œ, Airflow ì›¹ì„œë²„ ì»¨í…Œì´ë„ˆì— íŒŒì¼ì„ ì €ì¥í•´ë„ ë¡œì»¬ ì»´í“¨í„°ì—ì„œ í™•ì¸í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— docker-compose.yaml íŒŒì¼ì— ì»¨í…Œì´ë„ˆì™€ ë¡œì»¬ ì»´í“¨í„° ê²½ë¡œë¥¼ ì—°ê²°ì§“ëŠ” êµ¬ë¬¸ì„ ì…ë ¥ Copy yaml # docker-compose.yaml x-airflow-common: volumes: - ${AIRFLOW_PROJ_DIR:-.}/files:/opt/airflow/files client_id: str, client_secret: str\në‘ ê°œì˜ API ê³„ì • ì •ë³´ ë˜í•œ Variableì—ì„œ ê°’ì„ êº¼ë‚´ì˜¤ê¸° ë•Œë¬¸ì— template_fields ì— ë“±ë¡ ìš”ì²­ í—¤ë”ì— ê²Œì • ì •ë³´ë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•´ ì‚¬ìš© keyword: str, display: int, start: int, sort: str\nAPI ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ êµ¬ì„±í•˜ëŠ” ëŒ€í‘œì ì¸ í‚¤ê°’ì„ ì…ë ¥ ë°›ìŒ display ëŠ” ìµœëŒ€ 100ê¹Œì§€ í—ˆìš©ë˜ì§€ë§Œ, ë°˜ë³µë¬¸ì„ í†µí•´ ë‚˜ëˆ ì„œ ìš”ì²­í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— 1000ê¹Œì§€ í™•ì¥ start ëŠ” API ë¬¸ì„œì— ëª…ì„¸ëœ ê²ƒê³¼ ê°™ì´ ìµœëŒ€ 1000ê¹Œì§€ì˜ ê°’ìœ¼ë¡œ ì œí•œ sort ëŠ” API ì¢…ë¥˜ì— ë”°ë¼ í—ˆìš©ë˜ëŠ” ê°’ì´ ë‹¤ë¥´ì§€ë§Œ, ê³µí†µì ìœ¼ë¡œ ì •í™•ë„ìˆœ ì •ë ¬(sim)ì„ ì‚¬ìš©í•  ê²ƒì´ê¸°ì— ë³„ë„ë¡œ ê²€ì¦í•˜ì§€ ì•ŠìŒ Copy python template_fields = (\u0026#34;file_path\u0026#34;, \u0026#34;client_id\u0026#34;, \u0026#34;client_secret\u0026#34;) def __init__(self, search_type: str, file_path: str, client_id: str, client_secret: str, keyword: str, display: int = 10, start: int = 1, sort = \u0026#34;sim\u0026#34;, **kwargs): super().__init__(**kwargs) self.http_conn_id = \u0026#34;openapi.naver.com\u0026#34; self.endpoint = f\u0026#34;/v1/search/{search_type}.json\u0026#34; self.method = \u0026#34;GET\u0026#34; self.file_path = file_path if file_path.startswith(\u0026#34;/\u0026#34;) else (\u0026#34;/opt/airflow/files/\u0026#34;+file_path) self.client_id = client_id self.client_secret = client_secret self.keyword = keyword self.display = min(display, 1000) self.start = min(start, 1000) self.sort = sort API ìš”ì²­ ë©”ì„œë“œ # execute()\nê³ ì •ëœ Connection IDë¥¼ ê°€ì§€ê³  Connectionì— ë“±ë¡ëœ Hostë¥¼ ì¡°íšŒ Hostì™€ endpoint ë¥¼ ì¡°í•©í•˜ì—¬ API ìš”ì²­ URLì„ ìƒì„± start ë¶€í„° display ê¹Œì§€ì˜ ë²”ìœ„ë¥¼ 100ê°œ ë‹¨ìœ„ë¡œ êµ¬ë¶„í•˜ì—¬ ë°˜ë³µë¬¸ì„ êµ¬ì„±í•˜ê³ , ë°˜ë³µë¬¸ë§ˆë‹¤ íŒŒë¼ë¯¸í„°ë¥¼ ë‹¤ë¥´ê²Œ í•˜ì—¬ API ìš”ì²­ ë©”ì„œë“œ _request_api() ì— ì „ë‹¬ Copy python def execute(self, context): connection = BaseHook.get_connection(self.http_conn_id) url = connection.host + self.endpoint rows = list() for i, start in enumerate(range(self.start, self.display, 100)): display = min(self.display + self.start - start, 100) self.log.info(f\u0026#34;ì‹œì‘: {start}\u0026#34;) self.log.info(f\u0026#34;ë: {start+display-1}\u0026#34;) kwargs = dict(keyword=self.keyword, display=display, start=start, sort=self.sort) rows = rows + self._request_api(url, show_header=(i == 0), **kwargs) ... _request_api()\nì§ì ‘ì ìœ¼ë¡œ APIì— ìš”ì²­ì„ ë³´ë‚´ëŠ” ë©”ì„œë“œ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ í†µí•´ íŒŒë¼ë¯¸í„°ì™€ í—¤ë”ë¥¼ ë§Œë“¤ê³ , ì „ë‹¬ë°›ì€ URLì— ëŒ€í•´ GET ìš”ì²­ì„ ë³´ëƒ„ ì‘ë‹µ ê²°ê³¼ì¸ requests.Response ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ íŒŒì‹± ë©”ì„œë“œ _parse_api() ë¡œ ì „ë‹¬ Copy python def _request_api(self, url: str, keyword: str, display: int=10, start: int=1, sort=\u0026#34;sim\u0026#34;, show_header=True) -\u0026gt; List[List]: import requests params = self._get_params(keyword, display, start, sort) headers = self._get_headers(self.client_id, self.client_secret) with requests.request(self.method, url, params=params, headers=headers) as response: return self._parse_api(response, start, show_header) _get_params()\nì „ë‹¬ë°›ì€ íŒŒë¼ë¯¸í„°ë¥¼ ë”•ì…”ë„ˆë¦¬ ê°ì²´ë¡œ ë§µí•‘í•˜ì—¬ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ Copy python def _get_params(self, keyword: str, display: int=10, start: int=1, sort=\u0026#34;sim\u0026#34;) -\u0026gt; Dict: return {\u0026#34;query\u0026#34;: keyword, \u0026#34;display\u0026#34;: min(display, 100), \u0026#34;start\u0026#34;: min(start, 1000), \u0026#34;sort\u0026#34;: sort} _get_headers()\nAPI ê³„ì • ì •ë³´ë¥¼ ì¶”ê°€í•œ ìš”ì²­ í—¤ë”ë¥¼ ë”•ì…”ë„ˆë¦¬ ê°ì²´ë¡œ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œ Copy python def _get_headers(self, client_id: str, client_secret: str) -\u0026gt; Dict[str,str]: return { \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, \u0026#34;X-Naver-Client-Id\u0026#34;: client_id, \u0026#34;X-Naver-Client-Secret\u0026#34;: client_secret } API ì‘ë‹µ ê²°ê³¼ íŒŒì‹± ë©”ì„œë“œ # execute()\në°˜ë³µë¬¸ ë°–ì—ì„œ ë¦¬ìŠ¤íŠ¸ ê°ì²´ rows ë¥¼ ë§Œë“¤ê³ , ë°˜ë³µë¬¸ë§ˆë‹¤ _request_api() ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ê°ê°ì˜ ë¦¬ìŠ¤íŠ¸ ê°ì²´ë¥¼ í•˜ë‚˜ë¡œ ê²°í•© ì²« ë²ˆì§¸ ë°˜ë³µë¬¸ì—ì„œë§Œ CSVì˜ í—¤ë”ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ show_header íŒŒë¼ë¯¸í„°ë¥¼ í™œìš© Copy python def execute(self, context): ... rows = list() for start in range(self.start, self.display, 100): ... rows = rows + self._request_api(url, show_header=(i == 0), **kwargs) ... _parse_api()\nrequests.Response ê°ì²´ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì•„ JSON íŒŒì‹±í•œ í›„ items í‚¤ì—ì„œ ë°°ì—´ì„ êº¼ëƒ„ CSV íŒŒì¼ë¡œ ì €ì¥í•˜ê¸° í¸í•œ êµ¬ì¡°ë¡œ ê°€ê³µí•˜ê¸° ìœ„í•´ ë”•ì…”ë„ˆë¦¬ì—ì„œ ê°’ë§Œ êº¼ë‚´ ë°°ì—´ë¡œ êµ¬ì„± execute() ì—ì„œ ì „ë‹¬í•œ show_header íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì²« ë²ˆì§¸ ë°˜ë³µë¬¸ì—ì„œë§Œ CSV í—¤ë”ë¥¼ ì¶”ê°€í•´ ë°˜í™˜ pd.DataFrame ì„ í™œìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, ë‹¨ìˆœí•˜ê²Œ ë°°ì—´ íƒ€ì…ìœ¼ë¡œ íŒŒì‹± Copy python def _parse_api(self, response, start: int=1, show_header=True) -\u0026gt; List[List]: contents = response.json()[\u0026#34;items\u0026#34;] if contents: header = ([[\u0026#34;rank\u0026#34;] + list(contents[0].keys())]) if show_header else [] return header + [[start+i]+list(content.values()) for i, content in enumerate(contents)] else: return list() CSV íŒŒì¼ ì €ì¥ ë©”ì„œë“œ # execute()\nCSV íŒŒì¼ì„ ì €ì¥í•˜ê¸° ì „ì— _mkdir() ë©”ì„œë“œë¥¼ í†µí•´ file_path ê²€ì¦ API ì‘ë‹µ ê²°ê³¼ë¥¼ ê°€ì§„ rows ê°ì²´ë¥¼ _to_csv() ë©”ì„œë“œì— ì „ë‹¬í•´ CSV íŒŒì¼ë¡œ ì €ì¥ Copy python def execute(self, context): ... self._mkdir(self.file_path) self._to_csv(rows, self.file_path, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;) _mkdir()\nfile_path ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ì—†ìœ¼ë©´ í•´ë‹¹ ê²½ë¡œë¥¼ ìƒì„±í•˜ëŠ” ë©”ì„œë“œ Copy python def _mkdir(self, file_path: str): import os dir_path = os.path.split(file_path)[0] if not os.path.exists(dir_path): os.system(f\u0026#34;mkdir -p {dir_path}\u0026#34;) _to_csv()\nfile_path ë¥¼ ì—´ê³ , ì „ë‹¬ë°›ì€ rows ê°ì²´ë¥¼ í•œ ì¤„ì”© ê¸°ë¡í•˜ëŠ” ë©”ì„œë“œ êµ¬ë¶„ì , ê°€ ìˆì„ ê²½ìš° ìŒë”°ì˜´í‘œ \u0026quot; \u0026quot; ë¡œ ê°ì‹¸ëŠ” ê²ƒê³¼ ê°™ì€ ì¡°ì¹˜ê°€ í•„ìš”í•˜ì§€ë§Œ, ë‚´ìš©ì´ ì¤‘ìš”í•œê±´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë‹¨ìˆœíˆ ê°’ì—ì„œ êµ¬ë¶„ì , ë¥¼ ëª¨ë‘ ì œê±°í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê°€ê³µí•˜ì—¬ ì €ì¥ Copy python def _to_csv(self, rows: List[List], file_path: str, encoding=\u0026#34;utf-8\u0026#34;, sep=\u0026#39;,\u0026#39;): def clean(value: str) -\u0026gt; str: return str(value).replace(sep, \u0026#39;\u0026#39;) with open(file_path, \u0026#39;w\u0026#39;, encoding=encoding) as file: for row in rows: file.write(sep.join(map(clean, row))+\u0026#39;\\n\u0026#39;) Custom Operator í™œìš© ì˜ˆì‹œ # DAG ìƒì„± ë° ì‹¤í–‰ # plugins/ ì— ì •ì˜í•œ NaverSearchToCsvOperator ë¥¼ ê°€ì ¸ì™€ì„œ ë‘ ê°œì˜ Taskë¥¼ ìƒì„± í•˜ë‚˜ëŠ” ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ APIë¥¼ ì‚¬ìš©í•˜ëŠ” search_shopping_task, ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë„¤ì´ë²„ ë¸”ë¡œê·¸ ê²€ìƒ‰ APIë¥¼ ì‚¬ìš©í•˜ëŠ” search_blog_task HttpOperator ë¥¼ ì‚¬ìš©í–ˆìœ¼ë©´ ê¸¸ì–´ì¡Œì„ ë‚´ìš©ì„ NaverSearchToCsvOperator ë¡œ êµ¬ì¡°í™”í•˜ì—¬ DAG ì„ ì–¸ì„ ë‹¨ìˆœí™” Copy python # dags/nsearch_operator.py from airflow.sdk import DAG from operators.nshopping import NaverSearchToCsvOperator import pendulum with DAG( dag_id=\u0026#34;nsearch_operator\u0026#34;, schedule=\u0026#34;0 9 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;http\u0026#34;], ) as dag: api_keys = dict( client_id=\u0026#34;{{var.value.client_id_openapi_naver_com}}\u0026#34;, client_secret=\u0026#34;{{var.value.client_secret_openapi_naver_com}}\u0026#34;) common_params = dict(keyword=\u0026#34;ë…¸íŠ¸ë¶\u0026#34;, display=1000, start=1, sort=\u0026#34;sim\u0026#34;) \u0026#34;\u0026#34;\u0026#34;ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰\u0026#34;\u0026#34;\u0026#34; search_shopping_task = NaverSearchToCsvOperator( task_id=\u0026#34;search_shopping_task\u0026#34;, search_type=\u0026#34;shop\u0026#34;, file_path=\u0026#34;naverSearch/{{data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds_nodash }}/shop.csv\u0026#34;, **api_keys, **common_params ) \u0026#34;\u0026#34;\u0026#34;ë„¤ì´ë²„ ë¸”ë¡œê·¸ ê²€ìƒ‰\u0026#34;\u0026#34;\u0026#34; search_blog_task = NaverSearchToCsvOperator( task_id=\u0026#34;search_blog_task\u0026#34;, search_type=\u0026#34;blog\u0026#34;, file_path=\u0026#34;naverSearch/{{data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds_nodash }}/blog.csv\u0026#34;, **api_keys, **common_params ) search_shopping_task \u0026gt;\u0026gt; search_blog_task start 1ë¶€í„° display 1000ê¹Œì§€ ì´ 1000ê°œì˜ ê²€ìƒ‰ ê²°ê³¼ë¥¼ 100ê°œ ë‹¨ìœ„ë¡œ ë‚˜ëˆ ì„œ ìš”ì²­í•˜ëŠ” ê³¼ì •ì„ ë¡œê·¸ë¡œ ë‚¨ê²¨ì„œ ì¡°íšŒ Copy bash [2025-06-07, 19:44:00] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-07, 19:44:00] INFO - Filling up the DagBag from /opt/airflow/dags/nsearch_operator.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-07, 19:44:00] INFO - Secrets backends loaded for worker: count=1: backend_classes=[\u0026#34;EnvironmentVariablesBackend\u0026#34;]: source=\u0026#34;supervisor\u0026#34; [2025-06-07, 19:44:00] INFO - Secrets backends loaded for worker: count=1: backend_classes=[\u0026#34;EnvironmentVariablesBackend\u0026#34;]: source=\u0026#34;supervisor\u0026#34; [2025-06-07, 19:44:00] INFO - Secrets backends loaded for worker: count=1: backend_classes=[\u0026#34;EnvironmentVariablesBackend\u0026#34;]: source=\u0026#34;supervisor\u0026#34; [2025-06-07, 19:44:00] INFO - Connection Retrieved \u0026#39;openapi.naver.com\u0026#39;: source=\u0026#34;airflow.hooks.base\u0026#34; [2025-06-07, 19:44:00] INFO - ì‹œì‘: 1: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:00] INFO - ë: 100: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:00] INFO - ì‹œì‘: 101: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:00] INFO - ë: 200: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:01] INFO - ì‹œì‘: 201: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:01] INFO - ë: 300: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:01] INFO - ì‹œì‘: 301: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:01] INFO - ë: 400: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:01] INFO - ì‹œì‘: 401: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:01] INFO - ë: 500: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ì‹œì‘: 501: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ë: 600: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ì‹œì‘: 601: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ë: 700: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ì‹œì‘: 701: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ë: 800: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ì‹œì‘: 801: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:02] INFO - ë: 900: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:03] INFO - ì‹œì‘: 901: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; [2025-06-07, 19:44:03] INFO - ë: 1000: source=\u0026#34;airflow.task.operators.operators.nshopping.NaverSearchToCsvOperator\u0026#34; CSV íŒŒì¼ í™•ì¸ # ëª¨ë“  Taskê°€ success ë¡œ ì²˜ë¦¬ëœ í›„, ë¡œì»¬ ì»´í“¨í„°ì˜ files/ ê²½ë¡œì— ë‘ ê°œì˜ CSV íŒŒì¼ì´ ìƒì„±ë¨ì„ í™•ì¸ Copy bash % tree files -F files/ â””â”€â”€ naverSearch/ â””â”€â”€ 20250607/ â”œâ”€â”€ blog.csv â””â”€â”€ shop.csv shop.csv # ranktitlelinkimagelpricehpricemallNameproductIdproductTypebrandmakercategory1category2category3category4 1ì‚¼ì„± ê°¤ëŸ­ì‹œë¶...https://...https://...428000ì‚¼ì„±ê³µì‹íŒŒíŠ¸ë„ˆ ì½”ì¸ë¹„ì— ì—ìŠ¤879523892532ê°¤ëŸ­ì‹œë¶ì‚¼ì„±ì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶2ì‚¼ì„±ì „ì ê°¤ëŸ­ì‹œë¶4...https://...https://...799000ë„¤ì´ë²„526312366421ê°¤ëŸ­ì‹œë¶4ì‚¼ì„±ì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶3LGì „ì ìš¸íŠ¸ë¼PC...https://...https://...599000ì œì´ ì”¨ì•¤ì—ìŠ¤837187364882LGì „ìLGì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶4ì‚¼ì„±ì „ì ê°¤ëŸ­ì‹œë¶4...https://...https://...728000ë„¤ì´ë²„526477942781ê°¤ëŸ­ì‹œë¶4ì‚¼ì„±ì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶5LGê·¸ë¨ ë…¸íŠ¸ë¶...https://...https://...1149000ì˜¨ë¼ì¸ì´íŒëŒ€ë¦¬ì 866360050312LGê·¸ë¨LGì „ìë””ì§€í„¸/ê°€ì „ë…¸íŠ¸ë¶ blog.csv # ranktitlelinkdescriptionbloggernamebloggerlinkpostdate 1ë…¸íŠ¸ë¶ì—ì„œ...https://...ë²„ë¦¬ê³  ë…¸íŠ¸ë¶ìœ¼ë¡œ...ë€ë””ì˜ í•˜ëŠ˜ìƒ‰ ê¿ˆblog.naver.com/fksel33202506012ê³ ë¹„ë„˜ê¸´ ì‚¼ì„±ë…¸íŠ¸ë¶...https://...ë…¸ì›êµ¬ ê³µë¦‰ë™ì— ìœ„ì¹˜í•œ...í•˜ë“œì›¨ì–´ìˆ˜ë¦¬ë‹·ì»´(ì—˜ì¡´)blog.naver.com/yzenn202506033MSI ì‚¬ë¬´ìš©ë…¸íŠ¸ë¶...https://...MSIë…¸íŠ¸ë¶ì¤‘ì—ì„œ...Modulestudioblog.naver.com/modulestudio202506024ì•„ì§ ì´ê±¸ ì•ˆ ì¨?...https://...ì•„ì§ ì´ê±¸ ì•ˆ ì¨?...ì§œë£¨ì˜ ì´ê²ƒì €ê²ƒ ë¦¬ë·°blog.naver.com/skdaksdptn202505205ê°€ì„±ë¹„ ì´ˆê²½ëŸ‰ ë…¸íŠ¸ë¶...https://...ê·¸ëŸ° ë…¸íŠ¸ë¶ì„...ì‚¼ì„±Mall í•œì‚¬ë‘ì”¨ì•¤ì”¨ ê³µì‹ ë¸”ë¡œê·¸blog.naver.com/hansarangcnc20250527 "},{"id":20,"href":"/blog/airflow-study-5/","title":"Apache Airflow - DAG íë¦„ ì œì–´ (Trigger Rule, TriggerDagRun, TaskGroup)","content":"Trigger Rule # Dags â€” Airflow 3.1.3 Documentationairflow.apache.org ìƒìœ„ Taskë“¤ì˜ ìƒíƒœì— ë”°ë¼ ìˆ˜í–‰ì—¬ë¶€ë¥¼ ê²°ì •í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš© ê¸°ë³¸ì ìœ¼ë¡œëŠ” ìƒìœ„ Taskê°€ ëª¨ë‘ ì„±ê³µí•´ì•¼ ì‹¤í–‰ Trigger Rule ì¢…ë¥˜ # ì˜µì…˜ ì„¤ëª… all_success ê¸°ë³¸ê°’, ìƒìœ„ Taskê°€ ëª¨ë‘ ì„±ê³µí•˜ë©´ ì‹¤í–‰ all_failed ìƒìœ„ Taskê°€ ëª¨ë‘ failed ìƒíƒœë©´ ì‹¤í–‰ all_done ìƒìœ„ Taskê°€ ëª¨ë‘ ìˆ˜í–‰ë˜ë©´ ì‹¤í–‰ (ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨) all_skipped ìƒìœ„ Taskê°€ ëª¨ë‘ skipped ìƒíƒœë©´ ì‹¤í–‰ one_failed ìƒìœ„ Task ì¤‘ í•˜ë‚˜ ì´ìƒ ì‹¤íŒ¨í•˜ë©´ ì‹¤í–‰ one_success ìƒìœ„ Task ì¤‘ í•˜ë‚˜ ì´ìƒ ì„±ê³µí•˜ë©´ ì‹¤í–‰ one_done ìƒìœ„ Task ì¤‘ í•˜ë‚˜ ì´ìƒ ìˆ˜í–‰ë˜ë©´ ì‹¤í–‰ (ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨) none_failed ìƒìœ„ Task ì¤‘ì— failed ìƒíƒœê°€ ì—†ìœ¼ë©´ ì‹¤í–‰ none_failed_min_one_success ìƒìœ„ Task ì¤‘ì— failed ìƒíƒœê°€ ì—†ê³  ì„±ê³µí•œ Taskê°€ 1ê°œ ì´ìƒì´ë©´ ì‹¤í–‰ none_skipped ìƒìœ„ Task ì¤‘ì— skipped ìƒíƒœê°€ ì—†ìœ¼ë©´ ì‹¤í–‰ always í•­ìƒ ì‹¤í–‰ all_done ì˜ˆì‹œ # all_done ì˜ ë™ì‘ì„ í™•ì¸í•˜ê¸° ìœ„í•œ ì˜ˆì‹œ DAG ì‘ì„± 3ê°œì˜ ìƒìœ„ Task ì¤‘ 2ë²ˆì§¸ Taskì—ì„œ ì˜ë„ì ìœ¼ë¡œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œì„œ failed ìƒíƒœë¥¼ ìœ ë°œ í•˜ìœ„ Task downstream_task ì— trigger_rule íŒŒë¼ë¯¸í„°ë¡œ all_done ì „ë‹¬ Copy python # dags/trigger_rule1.py from airflow.sdk import DAG, task from airflow.exceptions import AirflowException from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;trigger_rule1\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;branch\u0026#34;], ) as dag: upstream_task1 = BashOperator( task_id=\u0026#34;upstream_task1\u0026#34;, bash_command=\u0026#34;echo upstream1\u0026#34; ) @task(task_id=\u0026#34;upstream_task2\u0026#34;) def upstream_task2(): raise AirflowException(\u0026#34;upstream2 Exception\u0026#34;) @task(task_id=\u0026#34;upstream_task3\u0026#34;) def upstream_task3(): print(\u0026#34;ì •ìƒ ì²˜ë¦¬\u0026#34;) @task(task_id=\u0026#34;downstream_task\u0026#34;, trigger_rule=\u0026#34;all_done\u0026#34;) def downstream_task(): print(\u0026#34;ì •ìƒ ì²˜ë¦¬\u0026#34;) [upstream_task1, upstream_task2(), upstream_task3()] \u0026gt;\u0026gt; downstream_task() all_done ì€ ìƒìœ„ Taskê°€ ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ëª¨ë‘ ìˆ˜í–‰ë˜ë©´ ì‹¤í–‰í•˜ëŠ” ì˜µì…˜ìœ¼ë¡œ, upstream_task2 ê°€ ì‹¤íŒ¨ ì²˜ë¦¬ë˜ì–´ë„ downstream_task ê°€ ìˆ˜í–‰ë˜ëŠ” ëª¨ìŠµì„ í™•ì¸ none_skipped ì˜ˆì‹œ # none_skipped ì˜ ë™ì‘ì„ í™•ì¸í•˜ê¸° ìœ„í•œ ì˜ˆì‹œ DAG ì‘ì„± 3ê°œì˜ ìƒìœ„ Task ì¤‘ ëœë¤í•œ í•œ Taskë§Œ ìˆ˜í–‰í•˜ê³  ë‚˜ë¨¸ì§€ Taskì—ì„  skipped ìƒíƒœë¥¼ ìœ ë°œ í•˜ìœ„ Task downstream_task ì— trigger_rule íŒŒë¼ë¯¸í„°ë¡œ none_skipped ì „ë‹¬ Copy python # dags/trigger_rule2.py from airflow.sdk import DAG, task from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;trigger_rule2\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;branch\u0026#34;], ) as dag: @task.branch(task_id=\u0026#34;branching\u0026#34;) def random_branch(): import random item_lst = [\u0026#39;A\u0026#39;,\u0026#39;B\u0026#39;,\u0026#39;C\u0026#39;] selected_item = random.choice(item_lst) if selected_item == \u0026#39;A\u0026#39;: return \u0026#34;upstream_task_a\u0026#34; elif selected_item == \u0026#39;B\u0026#39;: return \u0026#34;upstream_task_b\u0026#34; elif selected_item == \u0026#39;C\u0026#39;: return \u0026#34;upstream_task_c\u0026#34; upstream_task_a = BashOperator( task_id=\u0026#34;upstream_task_a\u0026#34;, bash_command=\u0026#34;echo upstream1\u0026#34; ) @task(task_id=\u0026#34;upstream_task_b\u0026#34;) def upstream_task_b(): print(\u0026#34;ì •ìƒ ì²˜ë¦¬\u0026#34;) @task(task_id=\u0026#34;upstream_task_c\u0026#34;) def upstream_task_c(): print(\u0026#34;ì •ìƒ ì²˜ë¦¬\u0026#34;) @task(task_id=\u0026#34;downstream_task\u0026#34;, trigger_rule=\u0026#34;none_skipped\u0026#34;) def downstream_task(): print(\u0026#34;ì •ìƒ ì²˜ë¦¬\u0026#34;) random_branch() \u0026gt;\u0026gt; [upstream_task_a, upstream_task_b(), upstream_task_c()] \u0026gt;\u0026gt; downstream_task() none_skipped ì€ ìƒìœ„ Taskê°€ skipped ìƒíƒœê°€ ì•„ë‹ˆì–´ì•¼ ì‹¤í–‰í•˜ëŠ” ì˜µì…˜ìœ¼ë¡œ, upstream_task1 ë§Œ ì„±ê³µí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” skipped ì²˜ë¦¬ë˜ì—ˆê¸° ë•Œë¬¸ì—, downstream_task ë„ ìˆ˜í–‰ë˜ì§€ ëª»í•˜ê³  skipped ì²˜ë¦¬ TriggerDagRunOperator # airflow.operators.trigger_dagrun â€” Airflow Documentationairflow.apache.org ë‹¤ë¥¸ DAGì„ ì‹¤í–‰ì‹œí‚¤ëŠ” Operator ì‹¤í–‰í•  ë‹¤ë¥¸ DAGì˜ IDë¥¼ ì§€ì •í•˜ì—¬ ìˆ˜í–‰ ì„ í–‰ DAGì´ í•˜ë‚˜ë§Œ ìˆì„ ê²½ìš° TriggerDagRunOperator ë¥¼ ì‚¬ìš©í•˜ê³ , ì„ í–‰ DAGì´ 2ê°œ ì´ìƒì¸ ê²½ìš°ëŠ” ExternalTaskSensor ë¥¼ ì‚¬ìš© ê¶Œì¥ run_id # DAGì˜ ìˆ˜í–‰ ë°©ì‹ê³¼ ì‹œê°„ì„ ìœ ì¼í•˜ê²Œ ì‹ë³„í•´ì£¼ëŠ” í‚¤ ìˆ˜í–‰ ë°©ì‹(Schedule, manual, Backfill)ì— ë”°ë¼ í‚¤ê°€ ë‹¬ë¼ì§ ìŠ¤ì¼€ì¤„ì— ì˜í•´ ì‹¤í–‰ëœ ê²½ìš° scheduled__{{data_interval_start}} ê°’ì„ ê°€ì§ ì˜ˆì‹œ) scheduled__2025-06-01T00:00:00+00:00 TriggerDagRun í™œìš© # trigger_run_id : DAGì„ ì‹¤í–‰ì‹œí‚¬ ë•Œ ì–´ë–¤ run_id ë¡œ ì‹¤í–‰í• ì§€ ì§€ì • ê°€ëŠ¥ logical_date : DAGì´ íŠ¸ë¦¬ê±°ëœ ì‹œê°„ì„ ì§€ì • ê°€ëŠ¥, manual__{{logical_date}} reset_dag_run : run_id ë¡œ ìˆ˜í–‰ëœ ì´ë ¥ì´ ìˆì–´ë„ ì‹¤í–‰ì‹œí‚¤ë ¤ë©´ True ë¡œ ì„¤ì • wait_for_completion : ì§€ì •í•œ DAGì´ ì™„ë£Œë˜ì–´ì•¼ ë‹¤ìŒ Taskë¥¼ ì‹¤í–‰í•˜ê³  ì‹¶ì„ ê²½ìš° True ë¡œ ì„¤ì • ê¸°ë³¸ì ìœ¼ë¡œëŠ” DAGì˜ ì™„ë£Œ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ success ë¡œ ë¹ ì ¸ë‚˜ê°€ ë‹¤ìŒ Taskë¥¼ ì‹¤í–‰ poke_interval : ì§€ì •í•œ DAGì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì£¼ê¸° allowed_states : Taskê°€ success ìƒíƒœê°€ ë˜ê¸° ìœ„í•œ DAGì˜ ì²˜ë¦¬ ìƒíƒœ ëª©ë¡ failed_states : Taskê°€ failed ìƒíƒœê°€ ë˜ê¸° ìœ„í•œ DAGì˜ ì²˜ë¦¬ ìƒíƒœ ëª©ë¡ Copy python # dags/trigger_dagrun.py from airflow.sdk import DAG from airflow.providers.standard.operators.trigger_dagrun import TriggerDagRunOperator from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;trigger_dagrun\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;dagrun\u0026#34;], ) as dag: start_task = BashOperator( task_id=\u0026#34;start_task\u0026#34;, bash_command=\u0026#34;echo \\\u0026#34;start!\\\u0026#34;\u0026#34;, ) trigger_dag_task = TriggerDagRunOperator( task_id=\u0026#34;trigger_dag_task\u0026#34;, trigger_dag_id=\u0026#34;python_operator\u0026#34;, trigger_run_id=None, logical_date=\u0026#34;{{data_interval_start}}\u0026#34;, reset_dag_run=True, wait_for_completion=False, poke_interval=60, allowed_states=[\u0026#34;success\u0026#34;], failed_states=None ) start_task \u0026gt;\u0026gt; trigger_dag_task DAG ì‹¤í–‰ # trigger_dag_task ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œ python_operator ê°€ í˜¸ì¶œëœ ê²ƒì„ í™•ì¸ Copy bash [2025-06-07, 10:52:54] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-07, 10:52:54] INFO - Filling up the DagBag from /opt/airflow/dags/trigger_dagrun.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-07, 10:52:54] INFO - Triggering Dag Run.: trigger_dag_id=\u0026#34;python_operator\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-07, 10:52:54] INFO - Dag Run triggered successfully.: trigger_dag_id=\u0026#34;python_operator\u0026#34;: source=\u0026#34;task\u0026#34; ë‘ ë²ˆì§¸ ì´ë¯¸ì§€ì¸ PythonOperatorì˜ run_id ê°€ ì²« ë²ˆì§¸ ì´ë¯¸ì§€ì¸ TriggerDagRunOperatorì˜ ì‹¤í–‰ ì‹œê°„ê³¼ ê°™ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìœ¼ë©°, trigger_run_id ë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— manual ë¡œ ì§€ì • TaskGroup # Dags â€” Airflow 3.1.3 Documentationairflow.apache.org ì—¬ëŸ¬ Taskë“¤ì„ ê·¸ë£¹í™”í•˜ëŠ” ê°œë… UI ìƒì—ì„œ Taskë“¤ì„ ëª¨ì•„ì„œ í¸í•˜ê²Œ ë³´ê³  ê´€ë¦¬í•˜ê¸° ì‰½ê²Œ í•˜ê¸° ìœ„í•œ ëª©ì  TaskGroup í™œìš© # @task_group ë°ì½”ë ˆì´í„° ë˜ëŠ” TaskGroup í´ë˜ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ TaskGroupì„ êµ¬í˜„ docstringì„ ì¶”ê°€í•´ Airflow UIì—ì„œ TaskGroupì— ëŒ€í•œ Tooltipì„ í‘œì‹œ ë˜ëŠ”, tooltip íŒŒë¼ë¯¸í„°ë¡œ UIì— í‘œì‹œí•  ë‚´ìš©ì„ ì „ë‹¬í•  ìˆ˜ë„ ìˆìŒ (íŒŒë¼ë¯¸í„°ê°€ docstringë³´ë‹¤ ìš°ì„ ) Copy python # dags/task_group.py from airflow.sdk import DAG, task, task_group, TaskGroup from airflow.providers.standard.operators.python import PythonOperator import pendulum with DAG( dag_id=\u0026#34;task_group\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;branch\u0026#34;], ) as dag: def inner_function2(**kwargs): msg = kwargs.get(\u0026#34;msg\u0026#34;) or str() print(msg) @task_group(group_id=\u0026#34;first_group\u0026#34;) def first_group(): \u0026#34;\u0026#34;\u0026#34; ì²« ë²ˆì§¸ TaskGroup ì— ëŒ€í•œ Tooltip ì…ë‹ˆë‹¤. \u0026#34;\u0026#34;\u0026#34; @task(task_id=\u0026#34;inner_function1\u0026#34;) def inner_function1(**kwargs): print(\u0026#34;ì²« ë²ˆì§¸ TaskGroup ë‚´ ì²« ë²ˆì§¸ Task ì…ë‹ˆë‹¤.\u0026#34;) inner_function2 = PythonOperator( task_id=\u0026#34;inner_function2\u0026#34;, python_callable=inner_function2, op_kwargs={\u0026#34;msg\u0026#34;:\u0026#34;ì²« ë²ˆì§¸ TaskGroup ë‚´ ë‘ ë²ˆì§¸ Task ì…ë‹ˆë‹¤.\u0026#34;} ) inner_function1() \u0026gt;\u0026gt; inner_function2 with TaskGroup(group_id=\u0026#34;second_group\u0026#34;, tooltip=\u0026#34;ë‘ ë²ˆì§¸ TaskGroup ì— ëŒ€í•œ Tooltip ì…ë‹ˆë‹¤.\u0026#34;) as second_group: \u0026#34;\u0026#34;\u0026#34; tooltip íŒŒë¼ë¯¸í„°ì˜ ë‚´ìš©ì´ ìš°ì„ ì ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤. \u0026#34;\u0026#34;\u0026#34; @task(task_id=\u0026#34;inner_function1\u0026#34;) def inner_function1(**kwargs): print(\u0026#34;ë‘ ë²ˆì§¸ TaskGroup ë‚´ ì²« ë²ˆì§¸ Task ì…ë‹ˆë‹¤.\u0026#34;) inner_function2 = PythonOperator( task_id=\u0026#34;inner_function2\u0026#34;, python_callable=inner_function2, op_kwargs={\u0026#34;msg\u0026#34;: \u0026#34;ë‘ ë²ˆì§¸ TaskGroup ë‚´ ë‘ ë²ˆì§¸ Task ì…ë‹ˆë‹¤.\u0026#34;} ) inner_function1() \u0026gt;\u0026gt; inner_function2 first_group() \u0026gt;\u0026gt; second_group TaskGroup ì¡°íšŒ # DAG ì‹¤í–‰ í›„ Graph Viewì—ì„œ ë‘ ê°œì˜ TaskGroupì„ í™•ì¸ ê¸°ëŒ€ì™€ ë‹¤ë¥´ê²Œ ì§€ì •í•œ Tooltipì´ í‘œì‹œë˜ì§€ ì•Šì•˜ëŠ”ë°, Airflow 3.0 ë²„ì „ì˜ ë²„ê·¸ì¸ ê²ƒìœ¼ë¡œ ì¶”ì • TaskGroupì„ í´ë¦­í•˜ë©´ í¼ì³ì§€ë©´ì„œ ë‚´ë¶€ Taskë¥¼ í‘œì‹œ Edge Label # Dags â€” Airflow 3.1.3 Documentationairflow.apache.org Task ì—°ê²°ì— ëŒ€í•œ ì„¤ëª…ì„ ì¶”ê°€í•˜ëŠ” ê°œë… Task ì¢…ì†ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” \u0026gt;\u0026gt; ë˜ëŠ” \u0026lt;\u0026lt; ì—°ì‚°ì ì‚¬ì´ì— Label ì„ ì¶”ê°€ Edge Label í™œìš© # ì²« ë²ˆì§¸ Labelì€ ë‘ ê°œì˜ ë‹¨ì¼ Task ì‚¬ì´ë¥¼ ì—°ê²° ë‘ ë²ˆì§¸ì™€ ì„¸ ë²ˆì§¸ Labelì€ Branchì˜ ì‹œì‘ê³¼ ëì„ ê°ê° ì—°ê²° Copy python # dags/edge_label.py from airflow.sdk import DAG, Label from airflow.providers.standard.operators.empty import EmptyOperator import pendulum with DAG( dag_id=\u0026#34;edge_label\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;branch\u0026#34;], ) as dag: empty_1 = EmptyOperator( task_id=\u0026#34;empty_1\u0026#34; ) empty_2 = EmptyOperator( task_id=\u0026#34;empty_2\u0026#34; ) empty_1 \u0026gt;\u0026gt; Label(\u0026#34;ë¼ë²¨\u0026#34;) \u0026gt;\u0026gt; empty_2 empty_3 = EmptyOperator( task_id=\u0026#34;empty_3\u0026#34; ) empty_4 = EmptyOperator( task_id=\u0026#34;empty_4\u0026#34; ) empty_5 = EmptyOperator( task_id=\u0026#34;empty_5\u0026#34; ) empty_6 = EmptyOperator( task_id=\u0026#34;empty_6\u0026#34; ) empty_2 \u0026gt;\u0026gt; Label(\u0026#34;ë¸Œëœì¹˜ ì‹œì‘\u0026#34;) \u0026gt;\u0026gt; [empty_3,empty_4,empty_5] \u0026gt;\u0026gt; Label(\u0026#34;ë¸Œëœì¹˜ ì¢…ë£Œ\u0026#34;) \u0026gt;\u0026gt; empty_6 Edge Label ì¡°íšŒ # Airflow UIì˜ Graph Viewì—ì„œ Edge Labelì„ í™•ì¸ Branch ì—°ê²°ì— ëŒ€í•´ì„œëŠ” ëª¨ë“  ì—°ê²°ì— ë™ì¼í•œ ë‚´ìš©ì˜ Labelì„ í‘œì‹œ "},{"id":21,"href":"/blog/airflow-study-4/","title":"Apache Airflow - ì¡°ê±´ë¶€ ì‹¤í–‰ê³¼ ì•Œë¦¼ (Branch, Email Operator)","content":"BranchOperator # Branching # Dags â€” Airflow 3.1.3 Documentationairflow.apache.org íŠ¹ì • Taskì˜ ê²°ê³¼ì— ë”°ë¼ í•˜ìœ„ Taskë¥¼ ì„ ë³„í•´ì„œ ìˆ˜í–‰ì‹œí‚¤ê³  ì‹¶ì„ ë•Œ ì‚¬ìš© BranchPythonOperator # BranchPythonOperator ì—ì„œ ëœë¤í•œ ì¡°ê±´ì— ë”°ë¼ task_a ë§Œ ìˆ˜í–‰í•˜ê±°ë‚˜, task_b ì™€ task_c ë¥¼ ê°™ì´ ìˆ˜í–‰í•˜ëŠ” ë¶„ê¸° ì²˜ë¦¬ Copy python # dags/branch_python.py from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator from airflow.providers.standard.operators.python import BranchPythonOperator import pendulum with DAG( dag_id=\u0026#34;branch_python\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;branch\u0026#34;], ) as dag: def select_random(): import random item_lst = [\u0026#39;A\u0026#39;,\u0026#39;B\u0026#39;,\u0026#39;C\u0026#39;] selected_item = random.choice(item_lst) if selected_item == \u0026#39;A\u0026#39;: return \u0026#34;task_a\u0026#34; else: return [\u0026#34;task_b\u0026#34;,\u0026#34;task_c\u0026#34;] branch_task = BranchPythonOperator( task_id=\u0026#34;branch_task\u0026#34;, python_callable=select_random ) def print_selected(**kwargs): print(kwargs[\u0026#34;selected\u0026#34;]) task_a = PythonOperator( task_id=\u0026#34;task_a\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;A\u0026#39;} ) task_b = PythonOperator( task_id=\u0026#34;task_b\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;B\u0026#39;} ) task_c = PythonOperator( task_id=\u0026#34;task_c\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;C\u0026#39;} ) branch_task \u0026gt;\u0026gt; [task_a, task_b, task_c] ì—¬ëŸ¬ ë²ˆ Triggerí•˜ì—¬ ì‹¤í–‰í–ˆëŠ”ë°, ì˜ë„ëŒ€ë¡œ task_a ë§Œ ìˆ˜í–‰ë˜ê±°ë‚˜, task_b ì™€ task_c ê°€ ê°™ì´ ìˆ˜í–‰ë˜ëŠ” ë‘ ê°€ì§€ ê²½ìš°ë¥¼ í™•ì¸ ë˜í•œ, task_a ê°€ ì„ íƒë˜ëŠ” ì‘ì—…ì—ì„œ XComì„ ë³´ë©´ skipmixin_key í‚¤ë¡œ {'followed': ['task_a']} ê°’ì´ ì „ë‹¬ë˜ëŠ”ë°, ì´ë¥¼ í†µí•´ ë‹¤ë¥¸ Taskì—ì„œë„ ì–´ë–¤ ë¶„ê¸° ì²˜ë¦¬ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸ ê°€ëŠ¥ ë§ˆì°¬ê°€ì§€ë¡œ ì‹¤í–‰ ë¡œê·¸ì—ì„œë„ ì–´ë–¤ Taskê°€ ì„ íƒë˜ì—ˆê³ , ì–´ë–¤ Taskê°€ Skipë˜ì—ˆëŠ”ì§€ ì¡°íšŒ ê°€ëŠ¥ Copy bash # branch_task [2025-06-06, 11:19:07] INFO - Done. Returned value was: task_a: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.BranchPythonOperator\u0026#34; [2025-06-06, 11:19:07] INFO - Branch into task_a: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.BranchPythonOperator\u0026#34; [2025-06-06, 11:19:07] INFO - Following branch {\u0026#39;task_a\u0026#39;}: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.BranchPythonOperator\u0026#34; [2025-06-06, 11:19:07] INFO - Skipping tasks [(\u0026#39;task_b\u0026#39;, -1), (\u0026#39;task_c\u0026#39;, -1)]: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.BranchPythonOperator\u0026#34; [2025-06-06, 11:19:07] INFO - Skipping downstream tasks.: source=\u0026#34;task\u0026#34; @task.branch # BranchPythonOperator ëŒ€ì‹ ì— @task.branch ë°ì½”ë ˆì´í„°ë¥¼ ì¨ì„œ ì•„ë˜ì™€ ê°™ì´ í‘œí˜„ë„ ê°€ëŠ¥ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì¢…ì†ì„± í‘œí˜„ (select_random() \u0026gt;\u0026gt; [task_a, task_b, task_c]) Copy python # dags/branch_python_decorator.py from airflow.sdk import DAG, task from airflow.providers.standard.operators.python import PythonOperator import pendulum with DAG( dag_id=\u0026#34;branch_python_decorator\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;branch\u0026#34;], ) as dag: @task.branch(task_id=\u0026#34;branch_task\u0026#34;) def select_random(): import random item_lst = [\u0026#39;A\u0026#39;,\u0026#39;B\u0026#39;,\u0026#39;C\u0026#39;] selected_item = random.choice(item_lst) if selected_item == \u0026#39;A\u0026#39;: return \u0026#34;task_a\u0026#34; else: return [\u0026#34;task_b\u0026#34;,\u0026#34;task_c\u0026#34;] def print_selected(**kwargs): print(kwargs[\u0026#34;selected\u0026#34;]) task_a = PythonOperator( task_id=\u0026#34;task_a\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;A\u0026#39;} ) task_b = PythonOperator( task_id=\u0026#34;task_b\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;B\u0026#39;} ) task_c = PythonOperator( task_id=\u0026#34;task_c\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;C\u0026#39;} ) select_random() \u0026gt;\u0026gt; [task_a, task_b, task_c] BaseBranchOperator # airflow.operators.branch â€” Airflow Documentationairflow.apache.org Branching ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” Operatorì˜ ê¸°ë³¸ í´ë˜ìŠ¤ í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì„ ê²½ìš° choose_branch(self, context) ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•˜ê³ , ë¶„ê¸° ì²˜ë¦¬ ë¡œì§ì„ í†µí•´ ì„ íƒë˜ì–´ì•¼ í•  Taskë¥¼ í•œ ê°œ(ë¬¸ìì—´) ë˜ëŠ” ì—¬ëŸ¬ ê°œ(ë¦¬ìŠ¤íŠ¸)ë¡œ ë°˜í™˜í•´ì•¼ í•¨ Copy python # dags/branch_base.py from airflow.sdk import DAG from airflow.providers.standard.operators.branch import BaseBranchOperator from airflow.providers.standard.operators.python import PythonOperator import pendulum with DAG( dag_id=\u0026#34;branch_base\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 0 * * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;branch\u0026#34;], ) as dag: class CustomBranchOperator(BaseBranchOperator): def choose_branch(self, context): import random item_lst = [\u0026#39;A\u0026#39;,\u0026#39;B\u0026#39;,\u0026#39;C\u0026#39;] selected_item = random.choice(item_lst) if selected_item == \u0026#39;A\u0026#39;: return \u0026#34;task_a\u0026#34; else: return [\u0026#34;task_b\u0026#34;,\u0026#34;task_c\u0026#34;] custom_branch_task = CustomBranchOperator(task_id=\u0026#34;custom_branch_task\u0026#34;) def print_selected(**kwargs): print(kwargs[\u0026#34;selected\u0026#34;]) task_a = PythonOperator( task_id=\u0026#34;task_a\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;A\u0026#39;} ) task_b = PythonOperator( task_id=\u0026#34;task_b\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;B\u0026#39;} ) task_c = PythonOperator( task_id=\u0026#34;task_c\u0026#34;, python_callable=print_selected, op_kwargs={\u0026#34;selected\u0026#34;:\u0026#39;C\u0026#39;} ) custom_branch_task \u0026gt;\u0026gt; [task_a, task_b, task_c] EmailOperator # airflow.operators.email_operator â€” Airflow Documentationairflow.apache.org ì´ë©”ì¼ì„ ì „ì†¡í•´ì£¼ëŠ” Operator SMTP í”„ë¡œí† ì½œì„ í†µí•´ ê°œì¸ Gmailì—ì„œ ë‹¤ë¥¸ ì£¼ì†Œë¡œ ë©”ì¼ì„ ë³´ë‚´ëŠ” ê¸°ëŠ¥ êµ¬í˜„ Gmail ì˜µì…˜ì—ì„œ IMAP ì‚¬ìš© ì„¤ì • ë° ì•± ë¹„ë°€ë²ˆí˜¸ ìƒì„±ì´ ì„ í–‰ë˜ì–´ì•¼ í•¨ docker-compose ìˆ˜ì • # Email Configuration â€” Airflow 3.1.3 Documentationairflow.apache.org docker-compose.yaml íŒŒì¼ ë‚´ì— ì•„ë˜ì™€ ê°™ì€ í•­ëª©ì„ ì¶”ê°€ AIRFLOW__SMTP__SMTP_USER ì—ëŠ” ì•± ë¹„ë°€ë²ˆí˜¸ë¥¼ ìƒì„±í•œ êµ¬ê¸€ ê³„ì •ì„ ì…ë ¥ AIRFLOW__SMTP__SMTP_PASSWORD ì—ëŠ” ë°œê¸‰ë°›ì€ ì•± ë¹„ë°€ë²ˆí˜¸ë¥¼ ê³µë°±ì—†ì´ ì…ë ¥ AIRFLOW__SMTP__SMTP_MAIL_FROM ì—ëŠ” ë©”ì¼ì„ ë³´ë‚´ëŠ” ê³„ì •ì„ ì…ë ¥ Copy yaml # docker-compose.yaml x-airflow-common: environment: AIRFLOW__SMTP__SMTP_HOST: smtp.gmail.com AIRFLOW__SMTP__SMTP_USER: ${SMTP_USER} AIRFLOW__SMTP__SMTP_PASSWORD: ${SMTP_PASSWORD} AIRFLOW__SMTP__SMTP_PORT: 587 AIRFLOW__SMTP__SMTP_MAIL_FROM: ${SMTP_USER} Connection ì¶”ê°€ # Managing Connections â€” Airflow 3.1.3 Documentationairflow.apache.org Airflow 3.0 ë²„ì „ë¶€í„°ëŠ” SMTP ì„¤ì •ì„ í™˜ê²½ë³€ìˆ˜ë‚˜ ì„¤ì • íŒŒì¼ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹Œ, Connectionì„ í™œìš©í•˜ë„ë¡ ê¶Œì¥ Airflow UIì˜ ì‚¬ì´ë“œë°”ì—ì„œ Admin-\u0026gt;Connections ë©”ë‰´ë¡œ ì´ë™í•œ í›„, Add Connection ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ Connection ì¶”ê°€ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ Connection Type ìœ¼ë¡œ smtp ë¥¼ ì„ íƒí•˜ê³ , docker-compose íŒŒì¼ì— ì¶”ê°€í–ˆë˜ ê²ƒì²˜ëŸ¼ êµ¬ê¸€ ê³„ì •ê³¼ ì•± ë¹„ë°€ë²ˆí˜¸ë¥¼ í¬í•¨í•œ ë©”ì¼ ì—°ê²° ì„¤ì •ì„ ì…ë ¥ Extra Fields ì—ì„œ ë©”ì¼ì„ ë³´ë‚´ëŠ” ê³„ì • ë“± ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ì…ë ¥ ê°€ëŠ¥ EmailOperator í™œìš© ì˜ˆì‹œ # ìƒì„±í•œ Connectionì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ conn_id ë¡œ ì§€ì •í•œ Connection ID ë¥¼ ì…ë ¥ ëŒ€ìƒ ì´ë©”ì¼ ì£¼ì†Œë¥¼ to ì— ì…ë ¥í•˜ê³ , ì œëª©ì€ subject, ë‚´ìš©ì€ html_content ì— ì…ë ¥ ì°¸ì¡°ë¥¼ ì¶”ê°€í•  ì‹œ cc íŒŒë¼ë¯¸í„°ë¡œ ì¶”ê°€ë¡œ ì…ë ¥ ê°€ëŠ¥ Copy python from airflow.sdk import DAG from airflow.providers.smtp.operators.smtp import EmailOperator import pendulum with DAG( dag_id=\u0026#34;email_operator\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), schedule=\u0026#34;0 9 1 * *\u0026#34;, catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;email\u0026#34;], ) as dag: send_email_task = EmailOperator( task_id=\u0026#34;send_email_task\u0026#34;, conn_id=\u0026#34;gmail\u0026#34;, to=\u0026#34;example@gmail.com\u0026#34;, subject=\u0026#34;Airflow í…ŒìŠ¤íŠ¸\u0026#34;, html_content=\u0026#34;Airflow ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\u0026#34; ) SSLError # ì •ìƒì ìœ¼ë¡œ ë©”ì¼ì´ ë³´ë‚´ì§ˆ ê²ƒì„ ê¸°ëŒ€í–ˆì§€ë§Œ, ì˜ˆìƒì¹˜ëª»í•œ SSLError ê°€ ë°œìƒ Copy bash SSLError: [SSL: WRONG_VERSION_NUMBER] wrong version number (_ssl.c:1010) ... File \u0026#34;/usr/local/lib/python3.12/smtplib.py\u0026#34;, line 1022 in __init__ File \u0026#34;/usr/local/lib/python3.12/smtplib.py\u0026#34;, line 255 in __init__ File \u0026#34;/usr/local/lib/python3.12/smtplib.py\u0026#34;, line 341 in connect File \u0026#34;/usr/local/lib/python3.12/smtplib.py\u0026#34;, line 1029 in _get_socket File \u0026#34;/usr/local/lib/python3.12/ssl.py\u0026#34;, line 455 in wrap_socket File \u0026#34;/usr/local/lib/python3.12/ssl.py\u0026#34;, line 1041 in _create File \u0026#34;/usr/local/lib/python3.12/ssl.py\u0026#34;, line 1319 in do_handshake ì›ì¸ íŒŒì•…ì€ ëª»í–ˆì§€ë§Œ, Connectionì—ì„œ SSL ë¹„í™œì„±í™” í›„ ì¬ì‹œë„í•˜ë‹ˆ ì •ìƒì ìœ¼ë¡œ ë©”ì¼ ì „ì†¡ ë©”ì¼ ë°œì†¡ í™•ì¸ # ì •ìƒì ìœ¼ë¡œ ë©”ì¼ì´ ì „ì†¡ë˜ì—ˆì„ ë•Œ, ëŒ€ìƒ ë©”ì¼ì— ì ‘ì†í•˜ë©´ EmailOperator ì—ì„œ ì§€ì •í•œ ê²ƒê³¼ ë™ì¼í•œ ì œëª©ê³¼ ë‚´ìš©ì˜ ë©”ì¼ì´ ì „ì†¡ëœ ê²ƒì„ í™•ì¸ ê°€ëŠ¥ Copy html \u0026lt;h2\u0026gt;Airflow í…ŒìŠ¤íŠ¸\u0026lt;/h2\u0026gt; \u0026lt;!-- ì œëª© --\u0026gt; \u0026lt;div\u0026gt;Airflow ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\u0026lt;/div\u0026gt; \u0026lt;!-- ë‚´ìš© --\u0026gt; ì‹¤í–‰ ë¡œê·¸ì—ì„œë„ ë©”ì¼ ì „ì†¡ì„ ìœ„í•´ ì„ì˜ë¡œ ìƒì„±í•œ Connection gmail ì„ ì‚¬ìš©í•œ ê²ƒì„ í™•ì¸ Copy bash [2025-06-06, 21:10:46] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-06, 21:10:46] INFO - Filling up the DagBag from /opt/airflow/dags/email_operator.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-06, 21:10:46] INFO - Secrets backends loaded for worker: count=1: backend_classes=[\u0026#34;EnvironmentVariablesBackend\u0026#34;]: source=\u0026#34;supervisor\u0026#34; [2025-06-06, 21:10:46] INFO - Connection Retrieved \u0026#39;gmail\u0026#39;: source=\u0026#34;airflow.hooks.base\u0026#34; "},{"id":22,"href":"/blog/airflow-study-3/","title":"Apache Airflow - ë°ì´í„° ì „ë‹¬ê³¼ í…œí”Œë¦¿ í™œìš© (Jinja, XCom, Variable)","content":"Jinja í…œí”Œë¦¿ # Templates reference â€” Airflow 3.1.3 Documentationairflow.apache.org íŒŒì´ì¬ ê¸°ë°˜ ì›¹ í”„ë ˆì„ì›Œí¬ Flask, Djangoì—ì„œ ì£¼ë¡œ ì‚¬ìš© HTML í…œí”Œë¦¿ì„ ë§Œë“¤ê³  í™”ë©´ì— ë³´ì—¬ì§ˆ ë•Œ ê°’ì„ ë Œë”ë§í•´ì„œ ì¶œë ¥ Airflowì—ì„œëŠ” íŒŒë¼ë¯¸í„° ì…ë ¥ ì‹œ ì¤‘ê´„í˜¸ 2ê°œ {{ }} ë¥¼ ì´ìš©í•´ ë³€ìˆ˜ë¥¼ ì¹˜í™˜ëœ ê°’ìœ¼ë¡œ ì…ë ¥ ë³€ìˆ˜ ëª©ë¡ (ì¤‘ê´„í˜¸ ìƒëµ) # data_interval_start : ìŠ¤ì¼€ì¤„ì˜ ì‹œì‘ ë‚ ì§œì´ë©°,pendulum.DateTime íƒ€ì… data_interval_end : ìŠ¤ì¼€ì¤„ì˜ ì¢…ë£Œ ë‚ ì§œ(= ë°°ì¹˜ì¼)ì´ë©°,pendulum.DateTime íƒ€ì… logical_date : DAGê°€ ì‹¤í–‰ ì¤‘ì¸ ì‹œì ì˜ ë‚ ì§œì´ë©°,pendulum.DateTime íƒ€ì… ds : logical_date ë¥¼ YYYY-MM-DD í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œ ê°’ ds ì—ì„œ - ì„ ì œê±°í•œ YYYYMMDD í˜•íƒœì˜ ë¬¸ìì—´ ds_nodash ë³€ìˆ˜ë„ ì œê³µ ts : logical_date ë¥¼ 2018-01-01T00:00:00+00:00 í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œ ê°’ ts_nodash_with_tz ë˜ëŠ” ts_nodash ë“±ì˜ ë³€í˜•ëœ ë³€ìˆ˜ë„ ì§€ì› ds ë˜ëŠ” ts ë“±ì€ {{ logical_date | ds }} ì˜ í˜•íƒœë¡œë„ í‘œí˜„ ê°€ëŠ¥ ì ìš© ëŒ€ìƒ # BashOperatorì—ì„œëŠ” bash_command, env íŒŒë¼ë¯¸í„°ì— í…œí”Œë¦¿ ì ìš© ê°€ëŠ¥ PythonOperatorì—ì„œëŠ” templates_dict, op_args, op_kwargs íŒŒë¼ë¯¸í„°ì— í…œí”Œë¦¿ ì ìš© ê°€ëŠ¥ Airflowì˜ ê° Operator ë¬¸ì„œì—ì„œ Templating ë¶€ë¶„ ì°¸ê³  Jinja í…œí”Œë¦¿ ë³€ìˆ˜ í™œìš© # BashOperator # Jinja í…œí”Œë¦¿ ë³€ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ì¶œë ¥í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” DAG êµ¬ì„± ì²« ë²ˆì§¸ TaskëŠ” ë³€ìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ì¶œë ¥í•˜ê³ , ë‘ ë²ˆì§¸ TaskëŠ” envë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•´ì„œ ì¶œë ¥ Copy python # dags/bash_template.py from airflow.sdk import DAG from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;bash_template\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;template\u0026#34;], ) as dag: bash_task1 = BashOperator( task_id=\u0026#34;bash_task1\u0026#34;, bash_command=\u0026#34;echo \\\u0026#34;End date is {{ data_interval_end }}\\\u0026#34;\u0026#34;, ) bash_task2 = BashOperator( task_id=\u0026#34;bash_task2\u0026#34;, env={ \u0026#34;START_DATE\u0026#34;: \u0026#34;{{ data_interval_start | ds }}\u0026#34;, \u0026#34;END_DATE\u0026#34;: \u0026#34;{{ data_interval_end | ds }}\u0026#34; }, bash_command=\u0026#34;echo \\\u0026#34;Start date is $START_DATE \\\u0026#34; \u0026amp;\u0026amp; echo \\\u0026#34;End date is $END_DATE\\\u0026#34;\u0026#34;, ) bash_task1 \u0026gt;\u0026gt; bash_task2 DAG ì‹¤í–‰ í›„ bash_task1 ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œ data_interval_end ê°€ ì‹œê°„ëŒ€ë¥¼ í¬í•¨í•˜ì—¬ ì „ì²´ ì¶œë ¥ëœ ê²ƒì„ í™•ì¸ bash_task2 ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œëŠ” data_interval_start ì™€ data_interval_end ì´ YYYY-MM-DD í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ì¶œë ¥ëœ ê²ƒì„ í™•ì¸ Copy bash # bash_task1 [2025-06-01, 19:59:27] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-01, 19:59:27] INFO - Filling up the DagBag from /opt/airflow/dags/bash_template.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-01, 19:59:27] INFO - Running command: [\u0026#39;/usr/bin/bash\u0026#39;, \u0026#39;-c\u0026#39;, \u0026#39;echo \u0026#34;End date is 2025-05-31 15:00:00+00:00\u0026#34;\u0026#39;]: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:27] INFO - Output:: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:27] INFO - End date is 2025-05-31 15:00:00+00:00: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:27] INFO - Command exited with return code 0: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:27] INFO - Pushing Copy bash [2025-06-01, 19:59:28] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-01, 19:59:28] INFO - Filling up the DagBag from /opt/airflow/dags/bash_template.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-01, 19:59:28] INFO - Running command: [\u0026#39;/usr/bin/bash\u0026#39;, \u0026#39;-c\u0026#39;, \u0026#39;echo \u0026#34;Start date is $START_DATE \u0026#34; \u0026amp;\u0026amp; echo \u0026#34;End date is $END_DATE\u0026#34;\u0026#39;]: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:28] INFO - Output:: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:28] INFO - Start date is 2025-05-31: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:28] INFO - End date is 2025-05-31: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:28] INFO - Command exited with return code 0: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-01, 19:59:28] INFO - Pushing PythonOperator (1) # keyword argumentë¡œ ì „ë‹¬ë˜ëŠ” Jinja í…œí”Œë¦¿ ë³€ìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” DAG êµ¬ì„± ì´ì „ì— í•œë²ˆ **kwargs ë‚´ìš©ì„ ì¶œë ¥í•œì ì´ ìˆì—ˆëŠ”ë°, ì§ì ‘ ì „ë‹¬í•˜ì§€ ì•Šì•˜ìŒì—ë„ ì¶œë ¥ë˜ì—ˆë˜ ê°’ë“¤ì´ ë°”ë¡œ Jinja í…œí”Œë¦¿ ë³€ìˆ˜ì— í•´ë‹¹ Copy python # dags/python_template1.py from airflow.sdk import DAG, task import pendulum with DAG( dag_id=\u0026#34;python_template1\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;template\u0026#34;], ) as dag: @task(task_id=\u0026#34;python_task\u0026#34;) def show_templates(**kwargs): from pprint import pprint pprint(kwargs) show_templates() DAG ì‹¤í–‰ í›„ python_task ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œ data_interval_end, data_interval_start ë“± Jinja í…œí”Œë¦¿ ë³€ìˆ˜ê°€ ì¶œë ¥ëœ ê²ƒì„ í™•ì¸ Copy bash [2025-06-01, 20:18:19] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-01, 20:18:19] INFO - Filling up the DagBag from /opt/airflow/dags/python_template.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-01, 20:18:19] INFO - {\u0026#39;conn\u0026#39;: \u0026lt;ConnectionAccessor (dynamic access)\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;dag\u0026#39;: \u0026lt;DAG: python_template\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;dag_run\u0026#39;: DagRun(dag_id=\u0026#39;python_template\u0026#39;, run_id=\u0026#39;scheduled__2025-05-31T15:00:00+00:00\u0026#39;, logical_date=datetime.datetime(2025, 5, 31, 15, 0, tzinfo=TzInfo(UTC)), data_interval_start=datetime.datetime(2025, 5, 31, 15, 0, tzinfo=TzInfo(UTC)), data_interval_end=datetime.datetime(2025, 5, 31, 15, 0, tzinfo=TzInfo(UTC)), run_after=datetime.datetime(2025, 5, 31, 15, 0, tzinfo=TzInfo(UTC)), start_date=datetime.datetime(2025, 6, 1, 11, 18, 19, 250768, tzinfo=TzInfo(UTC)), end_date=None, clear_number=0, run_type=\u0026lt;DagRunType.SCHEDULED: \u0026#39;scheduled\u0026#39;\u0026gt;, conf={}, consumed_asset_events=[]),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;data_interval_end\u0026#39;: DateTime(2025, 5, 31, 15, 0, 0, tzinfo=Timezone(\u0026#39;UTC\u0026#39;)),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;data_interval_start\u0026#39;: DateTime(2025, 5, 31, 15, 0, 0, tzinfo=Timezone(\u0026#39;UTC\u0026#39;)),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;ds\u0026#39;: \u0026#39;2025-05-31\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;ds_nodash\u0026#39;: \u0026#39;20250531\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;inlet_events\u0026#39;: InletEventsAccessors(_inlets=[], _assets={}, _asset_aliases={}),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;inlets\u0026#39;: [],: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;logical_date\u0026#39;: DateTime(2025, 5, 31, 15, 0, 0, tzinfo=Timezone(\u0026#39;UTC\u0026#39;)),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;macros\u0026#39;: \u0026lt;MacrosAccessor (dynamic access to macros)\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;map_index_template\u0026#39;: None,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;outlet_events\u0026#39;: \u0026lt;airflow.sdk.execution_time.context.OutletEventAccessors object at 0xffffaacaa810\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;outlets\u0026#39;: [],: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;params\u0026#39;: {},: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;prev_data_interval_end_success\u0026#39;: \u0026lt;Proxy at 0xffffaad2b140 with factory \u0026lt;function RuntimeTaskInstance.get_template_context.\u0026lt;locals\u0026gt;.\u0026lt;lambda\u0026gt; at 0xffffaad3cfe0\u0026gt;\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.decorators.python._PythonDecoratedOperator\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;prev_data_interval_start_success\u0026#39;: \u0026lt;Proxy at 0xffffaad2b0b0 with factory \u0026lt;function RuntimeTaskInstance.get_template_context.\u0026lt;locals\u0026gt;.\u0026lt;lambda\u0026gt; at 0xffffaad3cea0\u0026gt;\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;prev_end_date_success\u0026#39;: \u0026lt;Proxy at 0xffffaacde870 with factory \u0026lt;function RuntimeTaskInstance.get_template_context.\u0026lt;locals\u0026gt;.\u0026lt;lambda\u0026gt; at 0xffffaad0c7c0\u0026gt;\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;prev_start_date_success\u0026#39;: \u0026lt;Proxy at 0xffffaacde8d0 with factory \u0026lt;function RuntimeTaskInstance.get_template_context.\u0026lt;locals\u0026gt;.\u0026lt;lambda\u0026gt; at 0xffffaad0c720\u0026gt;\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;run_id\u0026#39;: \u0026#39;scheduled__2025-05-31T15:00:00+00:00\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;task\u0026#39;: \u0026lt;Task(_PythonDecoratedOperator): python_task\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;task_instance\u0026#39;: RuntimeTaskInstance(id=UUID(\u0026#39;01972b36-c56a-7d54-b52e-45bb8feb6594\u0026#39;), task_id=\u0026#39;python_task\u0026#39;, dag_id=\u0026#39;python_template\u0026#39;, run_id=\u0026#39;scheduled__2025-05-31T15:00:00+00:00\u0026#39;, try_number=1, map_index=-1, hostname=\u0026#39;f6f932b48199\u0026#39;, context_carrier={}, task=\u0026lt;Task(_PythonDecoratedOperator): python_task\u0026gt;, bundle_instance=LocalDagBundle(name=dags-folder), max_tries=0, start_date=datetime.datetime(2025, 6, 1, 11, 18, 19, 315990, tzinfo=TzInfo(UTC)), end_date=None, state=\u0026lt;TaskInstanceState.RUNNING: \u0026#39;running\u0026#39;\u0026gt;, is_mapped=False, rendered_map_index=None),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;task_instance_key_str\u0026#39;: \u0026#39;python_template__python_task__20250531\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;task_reschedule_count\u0026#39;: 0,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;templates_dict\u0026#39;: None,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;ti\u0026#39;: RuntimeTaskInstance(id=UUID(\u0026#39;01972b36-c56a-7d54-b52e-45bb8feb6594\u0026#39;), task_id=\u0026#39;python_task\u0026#39;, dag_id=\u0026#39;python_template\u0026#39;, run_id=\u0026#39;scheduled__2025-05-31T15:00:00+00:00\u0026#39;, try_number=1, map_index=-1, hostname=\u0026#39;f6f932b48199\u0026#39;, context_carrier={}, task=\u0026lt;Task(_PythonDecoratedOperator): python_task\u0026gt;, bundle_instance=LocalDagBundle(name=dags-folder), max_tries=0, start_date=datetime.datetime(2025, 6, 1, 11, 18, 19, 315990, tzinfo=TzInfo(UTC)), end_date=None, state=\u0026lt;TaskInstanceState.RUNNING: \u0026#39;running\u0026#39;\u0026gt;, is_mapped=False, rendered_map_index=None),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;triggering_asset_events\u0026#39;: TriggeringAssetEventsAccessor(_events=defaultdict(\u0026lt;class \u0026#39;list\u0026#39;\u0026gt;, {})),: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;ts\u0026#39;: \u0026#39;2025-05-31T15:00:00+00:00\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;ts_nodash\u0026#39;: \u0026#39;20250531T150000\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;ts_nodash_with_tz\u0026#39;: \u0026#39;20250531T150000+0000\u0026#39;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;var\u0026#39;: {\u0026#39;json\u0026#39;: \u0026lt;VariableAccessor (dynamic access)\u0026gt;,: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-01, 20:18:19] INFO - \u0026#39;value\u0026#39;: \u0026lt;VariableAccessor (dynamic access)\u0026gt;}}: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; PythonOperator (2) # ì´ë²ˆì—ëŠ” PythonOperatorì— Jinja í…œí”Œë¦¿ ë³€ìˆ˜ë¥¼ ì „ë‹¬í•˜ì—¬ ì¶œë ¥í•˜ëŠ” python_task1 ì •ì˜ keyword argumentë¡œ ì „ë‹¬ë˜ëŠ” Jinja í…œí”Œë¦¿ ë³€ìˆ˜ ì¤‘ ì¼ë¶€ í•­ëª©ë§Œ ì„ íƒí•´ì„œ ì¶œë ¥í•˜ëŠ” python_task2 ì •ì˜ Copy python # dags/python_template2.py from airflow.sdk import DAG, task import pendulum with DAG( dag_id=\u0026#34;python_template2\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;template\u0026#34;], ) as dag: def print_period(start_date, end_date, **kwargs): print(start_date) print(end_date) python_task1 = PythonOperator( task_id=\u0026#34;python_task1\u0026#34;, python_callable=print_period, op_kwargs={ \u0026#34;start_date\u0026#34;: \u0026#34;{{ data_interval_start | ds }}\u0026#34;, \u0026#34;end_date\u0026#34;: \u0026#34;{{ data_interval_end | ds }}\u0026#34; }, ) @task(task_id=\u0026#34;python_task2\u0026#34;) def python_task2(**kwargs): for __key in [\u0026#34;ds\u0026#34;, \u0026#34;ts\u0026#34;, \u0026#34;data_interval_start\u0026#34;, \u0026#34;data_interval_end\u0026#34;]: if __key in kwargs: print(f\u0026#34;{__key}: {kwargs[__key]}\u0026#34;) python_task1 \u0026gt;\u0026gt; python_task2() DAG ì‹¤í–‰ í›„ python_task1 ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œ ì „ë‹¬í•œ data_interval_start, data_interval_end ê°’ì´ YYYY-MM-DD í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ì¶œë ¥ëœ ê²ƒì„ í™•ì¸ python_task2 ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œëŠ” ds, ts, data_interval_start, data_interval_end ê°’ì„ keyword argumentë¡œë¶€í„° êº¼ë‚´ì„œ ê·¸ëŒ€ë¡œ ì¶œë ¥ Copy bash # python_task1 [2025-06-02, 00:12:27] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-02, 00:12:27] INFO - Filling up the DagBag from /opt/airflow/dags/python_template2.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-02, 00:12:27] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.PythonOperator\u0026#34; [2025-06-02, 00:12:27] INFO - 2025-06-01: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-02, 00:12:27] INFO - 2025-06-01: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Copy bash # python_task2 [2025-06-02, 00:12:27] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-06-02, 00:12:27] INFO - Filling up the DagBag from /opt/airflow/dags/python_template2.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-06-02, 00:12:27] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.decorators.python._PythonDecoratedOperator\u0026#34; [2025-06-02, 00:12:27] INFO - ds: 2025-06-01: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-02, 00:12:27] INFO - ts: 2025-06-01T15:00:00+00:00: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-02, 00:12:27] INFO - data_interval_start: 2025-06-01 15:00:00+00:00: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-02, 00:12:27] INFO - data_interval_end: 2025-06-01 15:00:00+00:00: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Macro ë³€ìˆ˜ # Templates reference â€” Airflow 3.1.3 Documentationairflow.apache.org Jinja í…œí”Œë¦¿ ë³€ìˆ˜ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ì–‘í•œ ë‚ ì§œ ì—°ì‚°ì´ ê°€ëŠ¥í•˜ë„ë¡ ì—°ì‚° ëª¨ë“ˆì„ ì œê³µ Macro ë³€ìˆ˜ ëª©ë¡ # macros.datetime : datetime.datetime ë¼ì´ë¸ŒëŸ¬ë¦¬ ê¸°ë°˜ ì—°ì‚° ì œê³µ macros.timedelta : datetime.timedelta ë¼ì´ë¸ŒëŸ¬ë¦¬ ê¸°ë°˜ ì—°ì‚° ì œê³µ macros.dateutil : dateutil ë¼ì´ë¸ŒëŸ¬ë¦¬ ê¸°ë°˜ ì—°ì‚° ì œê³µ Copy python import datetime as dt from dateutil.relativedelta import relativedelta today = dt.date.today() # 1ì¼ë¡œ ë³€ê²½ first_date = today.replace(day=1) # datetime ì—°ì‚° first_date = today + relativedelta(day=1) # dateutil ì—°ì‚° # 1ì¼ ë¹¼ê¸° yesterday = today - dt.timedela(days=1) # timedela ì—°ì‚° yesterday = today - relativedelta(days=1) # dateutil ì—°ì‚° Macro ë³€ìˆ˜ í™œìš© ì˜ˆì‹œ # ì²« ë²ˆì§¸ DAG bash_macros1 ì€ ë§¤ì›” ë§ì— ì‹¤í–‰ë˜ë„ë¡ ìŠ¤ì¼€ì¤„ì„ ì§€ì •í•˜ê³ , ì§ì „ ë°°ì¹˜ì¼ì—ì„œ 1ì¼ì„ ì¶”ê°€í•œ ë‚ ì§œë¥¼ START_DATE, ë°°ì¹˜ì¼ì„ END_DATE ë¡œ ì„¤ì •í•˜ì—¬ 1ì¼ë¶€í„° ë§ì¼ì´ ì¶œë ¥ë˜ê¸°ë¥¼ ê¸°ëŒ€ Copy python # dags/bash_macros1.py from airflow.sdk import DAG from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;bash_macros1\u0026#34;, schedule=\u0026#34;0 0 L * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;template\u0026#34;], ) as dag: bash_task1 = BashOperator( task_id=\u0026#34;bash_task1\u0026#34;, env={ \u0026#34;START_DATE\u0026#34;: \u0026#34;{{ (data_interval_start.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) + macros.dateutil.relativedelta.relativedelta(days=1)) | ds }}\u0026#34;, \u0026#34;END_DATE\u0026#34;: \u0026#34;{{ data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds }}\u0026#34; }, bash_command=\u0026#34;echo \\\u0026#34;Start date is $START_DATE \\\u0026#34; \u0026amp;\u0026amp; echo \\\u0026#34;End date is $END_DATE\\\u0026#34;\u0026#34;, ) bash_task1 ë‘ ë²ˆì§¸ DAG bash_macros2 ëŠ” ë§¤ì›” ë‘˜ì§¸ì£¼ í† ìš”ì¼ì— ì‹¤í–‰ë˜ë„ë¡ ìŠ¤ì¼€ì¤„ì„ ì§€ì •í•˜ê³ , ì§ì „ ë°°ì¹˜ì¼ê³¼ ë°°ì¹˜ì¼ì„ 1ì¼ë¡œ ë³€ê²½í•´ì„œ ì „ì›” 1ì¼ê³¼ ë‹¹ì›” 1ì¼ì´ ì¶œë ¥ë˜ê¸°ë¥¼ ê¸°ëŒ€ Copy python # dags/bash_macros2.py from airflow.sdk import DAG from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;bash_macros2\u0026#34;, schedule=\u0026#34;0 0 * * 6#2\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;template\u0026#34;], ) as dag: bash_task2 = BashOperator( task_id=\u0026#34;bash_task2\u0026#34;, env={ \u0026#34;START_DATE\u0026#34;: \u0026#34;{{ (data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) + macros.dateutil.relativedelta.relativedelta(day=1)) | ds }}\u0026#34;, \u0026#34;END_DATE\u0026#34;: \u0026#34;{{ (data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) + macros.dateutil.relativedelta.relativedelta(day=1)) | ds }}\u0026#34; }, bash_command=\u0026#34;echo \\\u0026#34;Start date is $START_DATE \\\u0026#34; \u0026amp;\u0026amp; echo \\\u0026#34;End date is $END_DATE\\\u0026#34;\u0026#34;, ) bash_task2 í•˜ì§€ë§Œ ì‹¤í–‰ ë¡œê·¸ë¥¼ í™•ì¸í–ˆì„ ë•Œ ê¸°ëŒ€ì™€ ë‹¤ë¥¸ ê²°ê³¼ê°€ í™•ì¸ë˜ì—ˆëŠ”ë°, ë§ˆì¹˜ data_interval_start, data_interval_end ê°€ ë™ì¼í•œ ê°’ì„ ê°€ì§€ê³  ìˆë‹¤ê³  ìƒê°ë¨ Copy bash # bash_task1 (bash_macros1) [2025-06-03, 10:54:43] INFO - Start date is 2025-06-01: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-03, 10:54:43] INFO - End date is 2025-05-31: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; Copy bash # bash_task2 (bash_macros2) [2025-06-03, 10:57:23] INFO - Start date is 2025-05-01: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-03, 10:57:23] INFO - End date is 2025-05-01: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; ì‹¤ì œë¡œ bash_macros1 ì˜ ë§ˆì§€ë§‰ ì‹¤í–‰ ë‚´ì—­ì— ëŒ€í•´ Details íƒ­ì—ì„œ ì‹¤í–‰ ì •ë³´ë¥¼ ì¡°íšŒí–ˆì„ ë•Œ, data_interval_start, data_interval_end ê°’ì´ ëª¨ë‘ ë™ì¼í•œ ë°°ì¹˜ì¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ í™•ì¸ ì°¸ê³  ìë£Œë¡œ í™œìš©í•œ ê°•ì˜ì—ì„œ ì‚¬ìš©í–ˆë˜ Airflow 2.x ë²„ì „ê³¼, í˜„ì¬ ì‚¬ìš©í•˜ëŠ” Airflow 3.x ë²„ì „ì—ì„œ data_interval_start, data_interval_end ë¥¼ ê²°ì •í•˜ëŠ” ê¸°ì¤€ì´ ë³€ê²½ëœ ê²ƒì„ ì¸ì§€ Airflow 3.0 ì—…ë°ì´íŠ¸ # 2.9 ë²„ì „ì—ì„œ data_interval ê³„ì‚° ì•Œê³ ë¦¬ì¦˜ì— ì˜í–¥ì„ ì£¼ëŠ” create_cron_data_intervals íŒŒë¼ë¯¸í„°ê°€ ë„ì…ë˜ì—ˆëŠ”ë°, 3.0 ë²„ì „ë¶€í„° ê¸°ë³¸ê°’ì´ ê¸°ì¡´ False ì—ì„œ True ë¡œ ë³€ê²½ë˜ë©´ì„œ, ê¸°ì¡´ CronDataIntervalTimetable ëŒ€ì‹  CronTriggerTimetable ì•Œê³ ë¦¬ì¦˜ì´ ì‚¬ìš©ë˜ë„ë¡ ë³€ê²½ë¨ ì¦‰, 3.0 ë²„ì „ë¶€í„° ê¸°ë³¸ì ìœ¼ë¡œ data_interval ì„ ê³ ë ¤í•˜ì§€ ì•Šë„ë¡ ë³€ê²½ë˜ì–´ data_interval_start ì™€ data_interval_end ê°’ì´ ëª¨ë‘ ì‹¤ì œ DAGì´ ì‹¤í–‰ëœ ë‚ ì§œë¡œ í‘œí˜„ The create_cron_data_intervals configuration is now False by default. This means that the CronTriggerTimetable will be used by default instead of the CronDataIntervalTimetable\nUpgrading to Airflow 3 â€” Airflow 3.1.3 Documentationairflow.apache.org CronDataIntervalTimetable # ì´ì „ ë²„ì „ì˜ ì•Œê³ ë¦¬ì¦˜ì¸ CronDataIntervalTimetable ì˜ ê²½ë¡œë¥¼ íŒŒì•…í•´ì„œ bash_macros1 DAGì˜ ìŠ¤ì¼€ì¤„ì„ ì¬ì„¤ì • ì‹¤í–‰ ë¡œê·¸ë¥¼ ì¡°íšŒí–ˆì„ ë•Œ, ì´ˆê¸° ì˜ë„ëŒ€ë¡œ START_DATE ëŠ” ë°°ì¹˜ì¼ ê¸°ì¤€ 1ì¼, END_DATE ëŠ” ë°°ì¹˜ì¼ì¸ ë§ì¼ì´ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸ Copy python # dags/bash_macros1.py from airflow.sdk import DAG from airflow.providers.standard.operators.bash import BashOperator from airflow.timetables.interval import CronDataIntervalTimetable import pendulum with DAG( dag_id=\u0026#34;bash_macros1\u0026#34;, schedule=CronDataIntervalTimetable(\u0026#34;0 0 L * *\u0026#34;, timezone=\u0026#34;Asia/Seoul\u0026#34;), start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;template\u0026#34;], ) as dag: bash_task1 = BashOperator( task_id=\u0026#34;bash_task1\u0026#34;, env={ \u0026#34;START_DATE\u0026#34;: \u0026#34;{{ (data_interval_start.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) + macros.dateutil.relativedelta.relativedelta(days=1)) | ds }}\u0026#34;, \u0026#34;END_DATE\u0026#34;: \u0026#34;{{ data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds }}\u0026#34; }, bash_command=\u0026#34;echo \\\u0026#34;Start date is $START_DATE \\\u0026#34; \u0026amp;\u0026amp; echo \\\u0026#34;End date is $END_DATE\\\u0026#34;\u0026#34;, ) bash_task1 Copy bash # bash_task1 (bash_macros1) [2025-06-03, 12:10:27] INFO - Start date is 2025-05-01: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-03, 12:10:27] INFO - End date is 2025-05-31: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; CronTriggerTimetable # 3.0 ë²„ì „ ì´í›„ì—ì„œ ì‚¬ìš©ë˜ëŠ” CronTriggerTimetable ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œë„ data_interval ì„ ì ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆëŠ”ë°, interval íŒŒë¼ë¯¸í„°ë¡œ timedelta ë¥¼ ì „ë‹¬í•˜ë©´ ê°€ëŠ¥ bash_macros2 DAGì˜ ìŠ¤ì¼€ì¤„ì— CronTriggerTimetable ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•˜ë©´ì„œ, interval íŒŒë¼ë¯¸í„°ë¡œ 1ì£¼ì˜ ê°„ê²©ì„ ì§€ì • (ì´ˆê¸° ì˜ë„ì¸ ë§¤ì›” ë‘˜ì§¸ì£¼ í† ìš”ì¼ê³¼ëŠ” ë‹¤ë¥´ê²Œ ë§¤ì£¼ í† ìš”ì¼ë¡œ ë³€ê²½) ì‹¤í–‰ ë¡œê·¸ë¥¼ ì¡°íšŒí–ˆì„ ë•Œ, END_DATE ëŠ” ë°°ì¹˜ì¼ì¸ 5ì›” 31ì¼, START_DATE ëŠ” ì§ì „ ë°°ì¹˜ì¼ì¸ 5ì›” 24ì¼ì´ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸ Copy python # dags/bash_macros2.py from airflow.sdk import DAG from airflow.providers.standard.operators.bash import BashOperator from airflow.timetables.trigger import CronTriggerTimetable import datetime as dt import pendulum with DAG( dag_id=\u0026#34;bash_macros2\u0026#34;, schedule=CronTriggerTimetable( \u0026#34;0 0 * * 6\u0026#34;, timezone=\u0026#34;Asia/Seoul\u0026#34;, interval=dt.timedelta(weeks=1), ), start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;template\u0026#34;], ) as dag: bash_task2 = BashOperator( task_id=\u0026#34;bash_task2\u0026#34;, env={ \u0026#34;START_DATE\u0026#34;: \u0026#34;{{ data_interval_start.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds }}\u0026#34;, \u0026#34;END_DATE\u0026#34;: \u0026#34;{{ data_interval_end.in_timezone(\\\u0026#34;Asia/Seoul\\\u0026#34;) | ds }}\u0026#34; }, bash_command=\u0026#34;echo \\\u0026#34;Start date is $START_DATE \\\u0026#34; \u0026amp;\u0026amp; echo \\\u0026#34;End date is $END_DATE\\\u0026#34;\u0026#34;, ) bash_task2 Copy bash # bash_task2 (bash_macros2) [2025-06-03, 12:20:03] INFO - Start date is 2025-05-24: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-03, 12:20:03] INFO - End date is 2025-05-31: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; XCom # XComs â€” Airflow 3.1.3 Documentationairflow.apache.org Cross Communicationì´ë€ ì˜ë¯¸ë¡œ, Airflow DAG ë‚´ Task ê°„ ë°ì´í„° ê³µìœ ë¥¼ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ  ì£¼ë¡œ ì‘ì€ ê·œëª¨ì˜ ë°ì´í„° ê³µìœ ë¥¼ ìœ„í•´ ì‚¬ìš© (XCom ë‚´ìš©ì€ ë©”íƒ€ DBì˜ xcom í…Œì´ë¸”ì— ê°’ì´ ì €ì¥) 1GB ì´ìƒì˜ ëŒ€ìš©ëŸ‰ ë°ì´í„° ê³µìœ ë¥¼ ìœ„í•´ì„œëŠ” ì™¸ë¶€ ì†”ë£¨ì…˜ ì‚¬ìš© í•„ìš” XCom ì‚¬ìš©ë²• # keyword argumentsë¡œ ì „ë‹¬ë˜ëŠ” ti (task_instance) ê°ì²´ë¥¼ í™œìš© Copy python @task(task_id=\u0026#34;task1\u0026#34;) def task1(**kwargs): ti = kwargs[\u0026#34;ti\u0026#34;] ti.xcom_push(key=\u0026#34;key1\u0026#34;, value=\u0026#34;value1\u0026#34;) @task(task_id=\u0026#34;task2\u0026#34;) def task2(**kwargs): ti = kwargs[\u0026#34;ti\u0026#34;] value1 = ti.xcom_pull(key=\u0026#34;key1\u0026#34;) print(value1) ë§Œì•½ ì„œë¡œ ë‹¤ë¥¸ Task ì—ì„œ ë™ì¼í•œ í‚¤ê°’ì„ push í•œ í›„, ë‹¨ìˆœíˆ í•´ë‹¹ í‚¤ê°’ì„ pullë¡œ êº¼ë‚¼ ë•Œ, ê°€ì¥ ë§ˆì§€ë§‰ì— pushëœ í‚¤ê°’ì´ ë°˜í™˜ ì•ˆì „í•˜ê²Œ í‚¤ê°’ì„ êº¼ë‚´ì˜¤ê¸° ìœ„í•´ì„œëŠ” ëŒ€ìƒ Taskë¥¼ ê°€ë¦¬í‚¤ëŠ” task_ids íŒŒë¼ë¯¸í„°ë¥¼ ëª…ì‹œí•  ìˆ˜ ìˆìŒ ì£¼ì˜) Airflow 3.0 ë²„ì „ì—ì„œëŠ” task_ids ê°€ ë°˜ë“œì‹œ ëª…ì‹œë˜ì–´ì•¼ í•¨\nCopy python @task(task_id=\u0026#34;task2\u0026#34;) def task2(**kwargs): ti = kwargs[\u0026#34;ti\u0026#34;] value1 = ti.xcom_pull(key=\u0026#34;key1\u0026#34;, task_ids=\u0026#34;task1\u0026#34;) print(value1) return ê°’ í™œìš© # @task ë°ì½”ë ˆì´í„° ì‚¬ìš© ì‹œ return ê°’ì€ ìë™ìœ¼ë¡œ XComì— return_value í‚¤ë¡œ ì €ì¥ ë‹¤ìŒ ë‹¨ê³„ì˜ Taskì—ì„œ ì´ì „ ë‹¨ê³„ì˜ return ê°’ì„ êº¼ë‚¼ ìˆ˜ ìˆìŒ Copy python @task(task_id=\u0026#34;task1\u0026#34;) def task1(**kwargs): return \u0026#34;value1\u0026#34; @task(task_id=\u0026#34;task2\u0026#34;) def task2(**kwargs): ti = kwargs[\u0026#34;ti\u0026#34;] value1 = ti.xcom_pull(key=\u0026#34;return_value\u0026#34;, task_ids=\u0026#34;task1\u0026#34;) print(value1) task1() \u0026gt;\u0026gt; task2() ë˜ëŠ”, ë°ì½”ë ˆì´í„° ì‚¬ìš© ì‹œ í•¨ìˆ˜ì˜ ì¶œë ¥ê°’ì„ ë‹¤ìŒ í•¨ìˆ˜ì˜ ì…ë ¥ê°’ìœ¼ë¡œ ì§ì ‘ ì „ë‹¬í•˜ëŠ” í‘œí˜„ì„ í†µí•´ return ê°’ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ë„ ìˆìŒ Copy python @task(task_id=\u0026#34;task1\u0026#34;) def task1(**kwargs): return \u0026#34;value1\u0026#34; @task(task_id=\u0026#34;task2\u0026#34;) def task2(value1, **kwargs): print(value1) task2(task1()) Xcom í™œìš© # PythonOperator (1) # ì•ì„œ ì„œìˆ í•œ ì½”ë“œë¥¼ DAG ì•ˆì—ì„œ Taskë¡œ êµ¬í˜„ ë‘ ê°œì˜ xcom_push_task ì—ì„œ ë™ì¼í•œ í‚¤ê°’ì„ XComì— pushí•˜ê³ , xcom_pull_task ì—ì„œ Xcomìœ¼ë¡œë¶€í„° í‚¤ê°’ì„ pullí•˜ì—¬ ì¶œë ¥ Copy python # dags/python_xcom1.py from airflow.sdk import DAG, task from airflow.models.taskinstance import TaskInstance import pendulum with DAG( dag_id=\u0026#34;python_xcom1\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;xcom\u0026#34;], ) as dag: @task(task_id=\u0026#34;xcom_push_task1\u0026#34;) def xcom_push_task1(ti: TaskInstance, **kwargs): ti.xcom_push(key=\u0026#34;key1\u0026#34;, value=\u0026#34;value1\u0026#34;) ti.xcom_push(key=\u0026#34;key2\u0026#34;, value=[1,2,3]) @task(task_id=\u0026#34;xcom_push_task2\u0026#34;) def xcom_push_task2(ti: TaskInstance, **kwargs): ti.xcom_push(key=\u0026#34;key1\u0026#34;, value=\u0026#34;value2\u0026#34;) ti.xcom_push(key=\u0026#34;key2\u0026#34;, value=[4,5,6]) @task(task_id=\u0026#34;xcom_pull_task\u0026#34;) def xcom_pull_task(ti: TaskInstance, **kwargs): value1 = ti.xcom_pull(key=\u0026#34;key1\u0026#34;) value2 = ti.xcom_pull(key=\u0026#34;key2\u0026#34;, task_ids=\u0026#34;xcom_push_task1\u0026#34;) print(value1) print(value2) xcom_push_task1() \u0026gt;\u0026gt; xcom_push_task2() \u0026gt;\u0026gt; xcom_pull_task() ë‘ ê°œì˜ xcom_push_task ì‹¤í–‰ ë‚´ì—­ì˜ XCom íƒ­ì—ì„œ key1 ê³¼ key2 ì— ëŒ€í•œ ê°’ì´ ì§€ì •ë¨ì„ í™•ì¸ xcom_pull_task ì—ì„œëŠ” task_ids ë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ì„ ë•Œ ë§ˆì§€ë§‰ìœ¼ë¡œ pushëœ \u0026quot;value2\u0026quot;ê°€ ì¶œë ¥ë  ê²ƒì„ ê¸°ëŒ€í–ˆì§€ë§Œ, Airflow 3.0ì—ì„œ ë°œìƒí•œ ì—…ë°ì´íŠ¸ë¡œ ì¸í•´ None ê°’ì´ ì¶œë ¥ Copy bash # xcom_pull_task [2025-06-03, 15:27:41] INFO - None: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-06-03, 15:27:41] INFO - [1, 2, 3]: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Airflow 3.0 ì—…ë°ì´íŠ¸ # Airflow 3.0ë¶€í„°ëŠ” task_ids ë¥¼ ë°˜ë“œì‹œ ëª…ì‹œí•˜ë„ë¡ ë³€ê²½ë¨ kwargs[\u0026quot;ti\u0026quot;].xcom_pull(key=\u0026quot;key\u0026quot;) ì™€ ê°™ì€ êµ¬ë¬¸ì€ ë” ì´ìƒ ì‘ë™í•˜ì§€ ì•ŠìŒ In Airflow 2, the xcom_pull() method allowed pulling XComs by key without specifying task_ids, ..., leading to unpredictable behavior. Airflow 3 resolves this inconsistency by requiring task_ids when pulling by key.\nRelease Notes â€” Airflow 3.1.3 Documentationairflow.apache.org PythonOperator (2) # xcom_return_task ì—ì„œ ë¬¸ìì—´ \u0026quot;Success\u0026quot;ë¥¼ ë°˜í™˜í•˜ê³ , ë‘ ê°œì˜ xcom_pull_task ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ return ê°’ì„ ë°›ì•„ ì¶œë ¥ Copy python # dags/python_xcom2 from airflow.sdk import DAG, task from airflow.models.taskinstance import TaskInstance import pendulum with DAG( dag_id=\u0026#34;python_xcom2\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;xcom\u0026#34;], ) as dag: @task(task_id=\u0026#34;xcom_return_task\u0026#34;) def xcom_return_task(**kwargs) -\u0026gt; str: return \u0026#34;Success\u0026#34; @task(task_id=\u0026#34;xcom_pull_task1\u0026#34;) def xcom_pull_task1(ti: TaskInstance, **kwargs): status = ti.xcom_pull(key=\u0026#34;return_value\u0026#34;, task_ids=\u0026#34;xcom_return_task\u0026#34;) print(f\u0026#34;\\\u0026#34;xcom_return_task\\\u0026#34; í•¨ìˆ˜ì˜ ë¦¬í„´ ê°’: {status}\u0026#34;) @task(task_id=\u0026#34;xcom_pull_task2\u0026#34;) def xcom_pull_task2(status: str, **kwargs): print(f\u0026#34;\\\u0026#34;xcom_return_task\\\u0026#34; í•¨ìˆ˜ë¡œë¶€í„° ì „ë‹¬ë°›ì€ ê°’: {status}\u0026#34;) return_value = xcom_return_task() return_value \u0026gt;\u0026gt; xcom_pull_task1() xcom_pull_task2(return_value) ë‘ ê°œì˜ xcom_pull_task ì—ì„œ ëª¨ë‘ ì •ìƒì ìœ¼ë¡œ return ê°’ì„ ë°›ì•„ì„œ ë™ì¼í•œ ê²°ê³¼ê°€ ì¶œë ¥ë¨ì„ í™•ì¸ Copy bash # xcom_pull_task1 [2025-06-03, 15:36:10] INFO - \u0026#34;xcom_return_task\u0026#34; í•¨ìˆ˜ì˜ ë¦¬í„´ ê°’: \u0026#34;Success\u0026#34;: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Copy bash # xcom_pull_task2 [2025-06-03, 15:36:10] INFO - \u0026#34;xcom_return_task\u0026#34; í•¨ìˆ˜ë¡œë¶€í„° ì „ë‹¬ë°›ì€ ê°’: \u0026#34;Success\u0026#34;: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; BashOperator # Jinja í…œí”Œë¦¿ ë¬¸ë²•ì„ í†µí•´ ti.xcom_push ë˜ëŠ” ti.xcom_pull ì‚¬ìš©ì´ ê°€ëŠ¥ ë§ˆì§€ë§‰ ì¶œë ¥ë¬¸ì€ ìë™ìœ¼ë¡œ return_value ë¡œ ì „ë‹¬ Copy python # dags/bash_xcom.py from airflow.sdk import DAG from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;bash_xcom\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;xcom\u0026#34;], ) as dag: bash_push_task = BashOperator( task_id=\u0026#34;bash_push_task\u0026#34;, bash_command=\u0026#34;echo START \u0026amp;\u0026amp; echo XCOM PUSHED {{ ti.xcom_push(key=\u0026#39;bash_pushed\u0026#39;, value=\u0026#39;bash_message\u0026#39;) }} \u0026amp;\u0026amp; echo COMPLETE\u0026#34;, ) bash_pull_task = BashOperator( task_id=\u0026#34;bash_pull_task\u0026#34;, env={ \u0026#34;PUSHED_VALUE\u0026#34;: \u0026#34;{{ ti.xcom_pull(key=\u0026#39;bash_pushed\u0026#39;, task_ids=\u0026#39;bash_push_task\u0026#39;) }}\u0026#34;, \u0026#34;RETURN_VALUE\u0026#34;: \u0026#34;{{ ti.xcom_pull(key=\u0026#39;return_value\u0026#39;, task_ids=\u0026#39;bash_push_task\u0026#39;) }}\u0026#34; }, bash_command=\u0026#34;echo $PUSHED_VALUE \u0026amp;\u0026amp; echo $RETURN_VALUE\u0026#34;, ) bash_push_task \u0026gt;\u0026gt; bash_pull_task bash_push_task ì˜ ì‹¤í–‰ ë‚´ì—­ì—ì„œ ì§ì ‘ pushí•œ bash_pushed ê°€ XComì— ë“¤ì–´ìˆê³ , ë§ˆì§€ë§‰ ì¶œë ¥ë¬¸ë„ return_value ë¡œ ì €ì¥ë˜ì–´ ìˆìŒì„ ì¡°íšŒ bash_pull_task ì—ì„œ ì²« ë²ˆì§¸ë¡œëŠ” XComì—ì„œ bash_pushed í‚¤ë¥¼ ê°€ì§€ê³  êº¼ë‚¸ PUSHED_VALUE ê°’ì„ ì¶œë ¥í•˜ì—¬, ì‹¤í–‰ ë¡œê·¸ì— \u0026quot;bash_message\u0026quot; ê°€ ì¶œë ¥ë¨ì„ í™•ì¸ ë‘ ë²ˆì§¸ë¡œëŠ” Xcomì—ì„œ return_value í‚¤ë¥¼ ê°€ì§€ê³  êº¼ë‚¸ RETURN_VALUE ê°’ì„ ì¶œë ¥í•˜ì—¬, ì‹¤í–‰ ë¡œê·¸ì— bash_push_task ì˜ ë§ˆì§€ë§‰ ì¶œë ¥ë¬¸ \u0026quot;COMPLETE\u0026quot; ê°€ ì¶œë ¥ë¨ì„ í™•ì¸ Copy bash # bash_pull_task [2025-06-03, 16:05:09] INFO - bash_message: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-06-03, 16:05:09] INFO - COMPLETE: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; Python â†’ Bash ì „ë‹¬ # PythonOperatorì—ì„œ ë”•ì…”ë„ˆë¦¬ ê°ì²´ë¥¼ ë°˜í™˜í–ˆì„ ê²½ìš°, BashOperatorì—ì„œ XComì„ í†µí•´ ë”•ì…”ë„ˆë¦¬ ë‚´ íŠ¹ì • ê°’ì„ êº¼ë‚¼ ìˆ˜ ìˆìŒ ë°˜ëŒ€ë¡œ, BashOperatorì—ì„œ pushí•œ ê°’ ë˜ëŠ” ë§ˆì§€ë§‰ ì¶œë ¥ë¬¸ì„ PythonOperatorì—ì„œ XComì„ í†µí•´ êº¼ë‚¼ ìˆ˜ë„ ìˆìŒ Copy python @task(task_id=\u0026#34;python_push\u0026#34;) def python_push_xcom(): return {\u0026#34;status\u0026#34;:\u0026#34;Success\u0026#34;, \u0026#34;data\u0026#34;:[1,2,3]} bash_pull = BashOperator( task_id=\u0026#34;bash_pull\u0026#34;, env={ \u0026#34;STATUS\u0026#34;: \u0026#34;{{ ti.xcom_pull(key=\\\u0026#34;return_value\\\u0026#34;, task_ids=\\\u0026#34;python_push\\\u0026#34;)[\\\u0026#34;status\\\u0026#34;] }}\u0026#34;, \u0026#34;DATA\u0026#34;: \u0026#34;{{ ti.xcom_pull(key=\\\u0026#34;return_value\\\u0026#34;, task_ids=\\\u0026#34;python_push\\\u0026#34;)[\\\u0026#34;data\\\u0026#34;] }}\u0026#34; }, bash_command=\u0026#34;echo $STATUS \u0026amp;\u0026amp; echo $DATA\u0026#34; ) Variable # Variables â€” Airflow 3.1.3 Documentationairflow.apache.org ëª¨ë“  DAGì—ì„œ ê³µìœ í•˜ëŠ” ì „ì—­ ë³€ìˆ˜ Airflow UIì—ì„œ Admin ë©”ë‰´ë¥¼ í†µí•´ ì ‘ê·¼ ë° ìƒì„± ê°€ëŠ¥ Variable ê°€ì ¸ì˜¤ê¸° # Variable ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì „ì—­ ë³€ìˆ˜ë¥¼ êº¼ë‚´ëŠ” ë°©ë²• í•´ë‹¹ ë°©ë²•ì€ DAGë¥¼ íŒŒì‹±í•  ë•Œë§ˆë‹¤ DB ì—°ê²°ì„ ë°œìƒì‹œì¼œ ë¶ˆí•„ìš”í•œ ë¶€í•˜ê°€ ë°œìƒ (ìŠ¤ì¼€ì¤„ëŸ¬ ê³¼ë¶€í•˜ ì›ì¸) Copy python from airflow.models import Variable var = Variable.get(\u0026#34;key\u0026#34;) Jinja í…œí”Œë¦¿ì„ ì´ìš©í•´ Operator ë‚´ë¶€ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²• ì‹¤ì œ ì‹¤í–‰í• ë•Œë§Œ DBì— ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— ìƒëŒ€ì ìœ¼ë¡œ ë¶€í•˜ê°€ ì ìŒ (Airflowì—ì„œ ê¶Œì¥í•˜ëŠ” ë°©ë²•) Copy python from airflow.operators.bash import BashOperator bash_task = BashOperator( task_id=\u0026#34;bash_task\u0026#34;, bash_command=f\u0026#34;echo {{var.value.key}}\u0026#34; ) Variable í™œìš© # ì•ì„œ ì„œìˆ í•œ ì½”ë“œë¥¼ DAG ì•ˆì—ì„œ Taskë¡œ êµ¬í˜„ ì²« ë²ˆì§¸ Taskì—ì„œëŠ” Variable ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ êº¼ë‚¸ ì „ì—­ ë³€ìˆ˜ë¥¼ ì¶œë ¥í•˜ê³ , ë‘ ë²ˆì§¸ Taskì—ì„œëŠ” Jinja í…œí”Œë¦¿ì„ ì´ìš©í•´ ì „ì—­ ë³€ìˆ˜ë¥¼ ì¶œë ¥ Copy python # dags/bash_variable.py from airflow.sdk import DAG, Variable from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;bash_variable\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;xcom\u0026#34;], ) as dag: var = Variable.get(\u0026#34;sample_key\u0026#34;) bash_var_task1 = BashOperator( task_id=\u0026#34;bash_var_task1\u0026#34;, bash_command=f\u0026#34;echo variable: \\\u0026#34;{var}\\\u0026#34;\u0026#34;, ) bash_var_task2 = BashOperator( task_id=\u0026#34;bash_var_task2\u0026#34;, bash_command=\u0026#34;echo variable: \\\u0026#34;{{ var.value.sample_key }}\\\u0026#34;\u0026#34;, ) ê¸°ëŒ€í–ˆë˜ ê²ƒê³¼ ë‹¬ë¦¬, ì‹¤í–‰ ë¡œê·¸ì—ì„œëŠ” ì „ì—­ ë³€ìˆ˜ê°€ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë˜ì–´ ì¶œë ¥ airflow.cfg ì„¤ì •ì—ì„œ sensitive_var_conn_names í•­ëª©ì„ í™•ì¸í•´ë³´ê³ , Web UI ì»¨í…Œì´ë„ˆì— ë“¤ì–´ê°€ì„œ airflow variables get ëª…ë ¹ì–´ë¡œ ì „ì—­ ë³€ìˆ˜ê°€ ë§ˆìŠ¤í‚¹ëœ ì±„ë¡œ ì €ì¥ë˜ì–´ ìˆëŠ”ì§€ë„ í™•ì¸í•´ë³´ê³ , BashOperator ì•ˆì—ì„œ ë¹„êµ ì—°ì‚°ìë¡œ ì„¤ì •í•œ ê²ƒê³¼ ë™ì¼í•œ ê°’ì´ ê°€ì ¸ì™€ì§€ëŠ”ì§€ë„ ì¶œë ¥í•´ì„œ í™•ì¸í•´ë´¤ëŠ”ë°, ëª¨ë‘ ì •ìƒì ì´ê³  ì‹¤í–‰ ë¡œê·¸ì—ì„œ ì „ì—­ ë³€ìˆ˜ë¥¼ ì§ì ‘ ì¶œë ¥í•  ë•Œë§Œ ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë¨ ì–´ë–»ê²Œë“  ì¶œë ¥í•´ë³´ë ¤ê³  í–ˆì§€ë§Œ, ëª¨ë“  ì‚¬ëŒì´ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í™˜ê²½ ë³€ìˆ˜ë¥¼ í‰ë¬¸ìœ¼ë¡œ ì¶œë ¥ì‹œí‚¤ì§€ ì•Šìœ¼ë ¤ëŠ” ì˜ë„ê°€ ìˆë‹¤ê³  ì§ì‘í•˜ê³  ì¶”ê°€ì ì¸ ì‹œë„ë¥¼ ì¤‘ì§€í•¨ Copy bash # bash_var_task1 [2025-06-03, 16:52:07] INFO - variable: ***: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; Masking sensitive data â€” Airflow 3.1.3 Documentationairflow.apache.org "},{"id":23,"href":"/blog/airflow-study-2/","title":"Apache Airflow - ê¸°ë³¸ Operator ì´í•´í•˜ê¸° (Bash, Python)","content":"Operatorë€? # íŠ¹ì • í–‰ìœ„ë¥¼ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ëª¨ì•„ ë†“ì€ í´ë˜ìŠ¤ Task : Operatorë¥¼ ê°ì²´í™”í•˜ì—¬ DAGì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì˜¤ë¸Œì íŠ¸ Bash Operator : ì‰˜ ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ëŠ” Operator Python Operator : íŒŒì´ì¬ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” Operator ê°œë°œ í™˜ê²½ ì„¤ì • # Git \u0026amp; Github # Copy bash % git init % git add .gitignore % git commit -m \u0026#34;init\u0026#34; % git remote add origin https://github.com/\u0026lt;username\u0026gt;/\u0026lt;repository\u0026gt; % git push Git ì„¤ì¹˜ ë° Githubì— ë¦¬í¬ì§€í† ë¦¬ë¥¼ ìƒì„± ë¡œì»¬ Airflow ì„¤ì¹˜ ê²½ë¡œì—ì„œ Git ì €ì¥ì†Œë¥¼ ìƒì„±í•˜ê³  ì›ê²© ì €ì¥ì†Œì™€ ì—°ê²° Airflowì—ì„œ ì œê³µí•˜ëŠ” .gitignore ë¥¼ ë¡œì»¬ Airflow ì„¤ì¹˜ ê²½ë¡œì— ë³µì œí•˜ì—¬ ë¶ˆí•„ìš”í•œ /logs ê²½ë¡œ ë“±ì„ Gitì—ì„œ ì œì™¸ airflow/.gitignore at main Â· apache/airflow Apache Airflow - A platform to programmatically author, schedule, and monitor workflows - airflow/.gitignore at main Â· â€¦ GitHub ë””ë ‰í† ë¦¬ êµ¬ì¡° # Copy bash % tree -a -F . ./ â”œâ”€â”€ .env â”œâ”€â”€ .git/ â”œâ”€â”€ .gitignore â”œâ”€â”€ config/ â”‚Â â””â”€â”€ airflow.cfg â”œâ”€â”€ dags/ â”œâ”€â”€ docker-compose.yaml â”œâ”€â”€ logs/ â””â”€â”€ plugins/ Example DAGs ì‚­ì œ # Copy yaml # docker-compose.yaml AIRFLOW__CORE__LOAD_EXAMPLES: \u0026#39;false\u0026#39; ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ Airflow ì‹¤í–‰ ì‹œ ê±°ìŠ¬ë¦¬ëŠ” Example DAGë¥¼ ì‚­ì œ ì»¨í…Œì´ë„ˆë¥¼ ì¬ì‹œì‘í•´ë„ ì—¬ì „íˆ ì˜ˆì œê°€ ë‚¨ì•„ìˆì–´ airflow db reset ë“± ì—¬ëŸ¬ê°€ì§€ ì´ˆê¸°í™” ë°©ë²•ì„ íƒìƒ‰í–ˆì§€ë§Œ, ê²°ê³¼ì ìœ¼ë¡œ localhost:8080 ì— ëŒ€í•œ í¬ë¡¬ ë¸Œë¼ìš°ì € ìºì‹œë¥¼ ì‚­ì œí•˜ë‹ˆ í•´ê²° BashOperator # BashOperator â€” apache-airflow-providers-standard Documentationairflow.apache.org BashOperator ì •ì˜ # dags/ ê²½ë¡œ ì•„ë˜ì— bash_operator.py íŒŒì¼ì„ ìƒì„± Airflowì—ì„œ ì œê³µí•˜ëŠ” ì˜ˆì‹œ example_bash_operator ë¥¼ ë³µì œ ë° ì¼ë¶€ë¥¼ ìˆ˜ì •í•˜ì—¬ DAG ì„ ì–¸ Copy python # dags/bash_operator.py from airflow.sdk import DAG from airflow.providers.standard.operators.bash import BashOperator import pendulum with DAG( dag_id=\u0026#34;bash_operator\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;bash\u0026#34;], ) as dag: bash_task1 = BashOperator( task_id=\u0026#34;bash_task1\u0026#34;, bash_command=\u0026#34;echo whoami\u0026#34;, ) bash_task2 = BashOperator( task_id=\u0026#34;bash_task2\u0026#34;, bash_command=\u0026#34;echo $HOSTNAME\u0026#34;, ) bash_task1 \u0026gt;\u0026gt; bash_task2 DAG íŒŒë¼ë¯¸í„° # dag_id : UIì—ì„œ í‘œì‹œë˜ëŠ” DAG ëª…ì¹­, ê´€ë¦¬ì˜ ìš©ì´ì„±ì„ ìœ„í•´ íŒŒì¼ ëª…ì¹­ê³¼ ë™ì¼í•˜ê²Œ ì§€ì • schedule : í¬ë¡ íƒ­(Crontab)ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤ì¼€ì¤„ ì§€ì • start_date : ì‘ì—… ì‹œì‘ì¼ì„ ì§€ì •, ì˜ˆì‹œì—ëŠ” ì‹œê°„ëŒ€ê°€ UTCë¡œ ì ìš©ë˜ì–´ Asia/Seoulë¡œ ë³€ê²½ catchup : ì‹œì‘ì¼(start_date)ë¶€í„° í˜„ì¬ê¹Œì§€ ì‹¤í–‰ë˜ì§€ ì•Šì€ ì‘ì—…ì„ ì¼ê´„ë¡œ ì‹¤í–‰ (True) dagrun_timeout : DAG ì‹¤í–‰ ì‹œê°„ì„ ì œí•œ tags : UIì—ì„œ DAGë¥¼ êµ¬ë³„í•˜ê¸° ìœ„í•œ íƒœê·¸ ì§€ì • BashOperator íŒŒë¼ë¯¸í„° # BashOperator ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ê°œì˜ bash ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ëŠ” Taskë¥¼ ì •ì˜ task_id : UIì—ì„œ í‘œì‹œë˜ëŠ” Task ëª…ì¹­, ê´€ë¦¬ì˜ ìš©ì´ì„±ì„ ìœ„í•´ ê°ì²´ëª…ê³¼ ë™ì¼í•˜ê²Œ ì§€ì • bash_command : ì‹¤í–‰í•  bash ëª…ë ¹ì–´ Task ê°„ \u0026gt;\u0026gt; ê¸°í˜¸ë¡œ ì—°ê²°í•˜ì—¬ ì¢…ì†ì„±ì„ í‘œì‹œ ì—¬ëŸ¬ ê°œì˜ Taskë¥¼ ë¬¶ê³  ì‹¶ì„ ë•ŒëŠ” ë°°ì—´ì„ ì‚¬ìš© (task1 \u0026gt;\u0026gt; [task2, task3]) ì¢…ì†ì„±ì€ ì—°ì†í•´ì„œ í‘œì‹œ ê°€ëŠ¥ (task1 \u0026gt;\u0026gt; task2 \u0026gt;\u0026gt; task3) airflow/providers/standard/tests/system/standard/example_bash_operator.py at â€¦ Apache Airflow - A platform to programmatically author, schedule, and monitor workflows - â€¦ GitHub BashOperator ì‹¤í–‰ # Airflow ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€ í›„ ë‹¤ì‹œ ì‹¤í–‰í•´ UIì—ì„œ DAGê°€ ì˜¬ë¼ì˜¨ ê²ƒì„ í™•ì¸ DAGë¥¼ ì‹¤í–‰í•˜ì—¬ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ”ì§€ í™•ì¸ DAGë¥¼ í´ë¦­í•´ì„œ ì´ë™í•˜ëŠ” í˜ì´ì§€ì—ì„œ bash_task ê³¼ bash_task2 ì˜ ê´€ê³„ë¥¼ ê·¸ë˜í”„ë¡œ ì¡°íšŒ ê°€ëŠ¥ bash_task1 ê³¼ bash_task2 ì— ëŒ€í•´ ê°ê°ì˜ ë¡œê·¸ë¥¼ í™•ì¸ bash_task1 ì—ëŠ” echo whoami ëª…ë ¹ì–´ê°€ ì „ë‹¬ë˜ì–´ whoami ë¥¼ ê²°ê³¼ë¡œ ì¶œë ¥ bash_task2 ì—ëŠ” echo $HOSTNAME ëª…ë ¹ì–´ê°€ ì „ë‹¬ë˜ì–´ ì»¨í…Œì´ë„ˆì˜ HOSTNAME ì„ ì¶œë ¥ Copy bash # bash_task1 [2025-05-30, 00:16:56] INFO - Running command: [\u0026#39;/usr/bin/bash\u0026#39;, \u0026#39;-c\u0026#39;, \u0026#39;echo whoami\u0026#39;]: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-05-30, 00:16:56] INFO - Output:: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-05-30, 00:16:56] INFO - whoami: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; Copy bash # bash_task2 [2025-05-30, 00:16:57] INFO - Running command: [\u0026#39;/usr/bin/bash\u0026#39;, \u0026#39;-c\u0026#39;, \u0026#39;echo $HOSTNAME\u0026#39;]: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-05-30, 00:16:57] INFO - Output:: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; [2025-05-30, 00:16:57] INFO - wha439072926: source=\u0026#34;airflow.task.hooks.airflow.providers.standard.hooks.subprocess.SubprocessHook\u0026#34; PythonOperator # PythonOperator â€” apache-airflow-providers-standard Documentationairflow.apache.org PythonOperator ì¢…ë¥˜ # PythonOperator : íŒŒì´ì¬ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•œ Operator PythonVirtualenvOperator : íŒŒì´ì¬ ê°€ìƒí™˜ê²½ ìƒì„± í›„ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ë§ˆë¬´ë¦¬ë˜ë©´ ê°€ìƒí™˜ê²½ì„ ì‚­ì œí•˜ëŠ” Operator ExternalPythonOperator : ê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” íŒŒì´ì¬ ê°€ìƒí™˜ê²½ì—ì„œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” Operator BranchPythonOperator : íŒŒì´ì¬ í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ì— ë”°ë¼ ë‹¤ìŒ Taskë¥¼ ì„ íƒì ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆëŠ” Operator BranchPythonVirtualenvOperator : ê°€ìƒí™˜ê²½ ìƒì„±/ì‚­ì œ ë° ë¸Œëœì¹˜ ì²˜ë¦¬ ê¸°ëŠ¥ì´ ìˆëŠ” Operator BranchExternalPythonOperator : ê¸°ì¡´ ê°€ìƒí™˜ê²½ì„ ì‚¬ìš©í•˜ë©´ì„œ ë¸Œëœì¹˜ ì²˜ë¦¬ ê¸°ëŠ¥ì´ ìˆëŠ” Operator PythonOperator ì •ì˜ # Copy python # dags/python_operator.py from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator import pendulum import random with DAG( dag_id=\u0026#34;python_operator\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;python\u0026#34;], ) as dag: def select_country(): COUNTRIES = [ \u0026#34;Argentina\u0026#34;, \u0026#34;Australia\u0026#34;, \u0026#34;Brazil\u0026#34;, \u0026#34;Canada\u0026#34;, \u0026#34;China\u0026#34;, \u0026#34;France\u0026#34;, \u0026#34;Germany\u0026#34;, \u0026#34;India\u0026#34;, \u0026#34;Indonesia\u0026#34;, \u0026#34;Italy\u0026#34;, \u0026#34;Japan\u0026#34;, \u0026#34;Mexico\u0026#34;, \u0026#34;Russia\u0026#34;, \u0026#34;Saudi Arabia\u0026#34;, \u0026#34;South Africa\u0026#34;, \u0026#34;South Korea\u0026#34;, \u0026#34;Turkey\u0026#34;, \u0026#34;United Kingdom\u0026#34;, \u0026#34;United States\u0026#34; ] print(random.choice(COUNTRIES)) python_task = PythonOperator( task_id=\u0026#34;python_task\u0026#34;, python_callable=select_country, ) ì•ì„œ BashOperator ì˜ˆì œë¥¼ ê°€ì ¸ì˜¤ê³  Taskë¥¼ PythonOperator ë¡œ ëŒ€ì²´ G20 êµ­ê°€ ì¤‘ ëœë¤í•œ êµ­ê°€ë¥¼ ì„ íƒí•´ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ select_country() ë¥¼ ì •ì˜ select_country() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” python_task ë¥¼ ë‹¨ì¼ Taskë¡œ ì‚¬ìš© PythonOperator ì‹¤í–‰ # Airflow UIì—ì„œ python_operator DAGê°€ ì˜¬ë¼ì˜¨ ê²ƒì„ í™•ì¸ DAGë¥¼ ì‹¤í–‰í•˜ì—¬ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ”ì§€ í™•ì¸ python_task ì˜ ì²« ë²ˆì§¸ ì‹¤í–‰ ë¡œê·¸ì—ì„œëŠ” \u0026quot;Argentina\u0026quot; êµ­ê°€ê°€ ì„ íƒë˜ì–´ ì¶œë ¥ UIì—ì„œ Trigger ë²„íŠ¼ì„ ëˆŒëŸ¬ python_task ë¥¼ ìˆ˜ë™ ì‹¤í–‰í•œ ë¡œê·¸ì—ì„œëŠ” \u0026quot;Indonesia\u0026quot; êµ­ê°€ê°€ ì„ íƒë˜ì–´ ì¶œë ¥ Copy bash # scheduled run (first) [2025-05-31, 11:33:06] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-05-31, 11:33:06] INFO - Filling up the DagBag from /opt/airflow/dags/python_operator.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-05-31, 11:33:06] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.PythonOperator\u0026#34; [2025-05-31, 11:33:06] INFO - Argentina: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Copy bash # manual run (second) [2025-05-31, 11:36:38] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-05-31, 11:36:38] INFO - Filling up the DagBag from /opt/airflow/dags/python_operator.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-05-31, 11:36:38] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.PythonOperator\u0026#34; [2025-05-31, 11:36:38] INFO - Indonesia: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Plugins # Plugins â€” Airflow 3.1.3 Documentationairflow.apache.org plugins/ ê²½ë¡œì— íŒŒì´ì¬ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ê³  ì™¸ë¶€ì—ì„œ í™œìš© DAG ì„ ì–¸ ì‹œ í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ê¸°ë§Œ í•´ë„ ë˜ì–´ì„œ ê¹”ë”í•´ì§€ê³  ê°™ì€ í•¨ìˆ˜ë¥¼ ì¬í™œìš©í•  ìˆ˜ ìˆì–´ì„œ í¸ë¦¬ ì˜ˆì‹œë¡œ, plugins/ ê²½ë¡œ ì•„ë˜ì— í˜„ì¬ ì‹œê°„ì„ ì¶œë ¥í•˜ëŠ” print_now() í•¨ìˆ˜ë¥¼ ì •ì˜ Copy python # plugins/common/common_func.py import datetime as dt def print_now(): print(dt.datetime.now()) Plugins í™œìš© ì˜ˆì‹œ # Copy python # dags/python_plugins.py from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator from common.common_func import print_now import pendulum with DAG( dag_id=\u0026#34;python_plugins\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;python\u0026#34;], ) as dag: python_plugins_task = PythonOperator( task_id=\u0026#34;python_plugins_task\u0026#34;, python_callable=print_now, ) plugins/ ì— ì •ì˜í•œ í•¨ìˆ˜ë¥¼ import í•´ì„œ ì‚¬ìš©í•˜ëŠ” python_plugins DAG ë° ë‹¨ì¼ Taskë¥¼ ìƒì„± ì´ ë•Œ, VSCode ìƒì—ì„œëŠ” plugins/ ê²½ë¡œë¥¼ ìƒëµí•œ import ë¬¸ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— .env íŒŒì¼ì— PYTHONPATH ë¥¼ ì¶”ê°€ Copy bash # .env WORKSPACE_FOLDER=/Users/.../airflow PYTHONPATH=${WORKSPACE_FOLDER}/plugins ë§ˆì°¬ê°€ì§€ë¡œ, Airflow ì»¨í…Œì´ë„ˆë¥¼ ì¬ì‹œì‘í•˜ë©´ python_plugins DAGê°€ ì˜¬ë¼ì˜¨ ê²ƒì„ í™•ì¸ DAGë¥¼ ì‹¤í–‰í•œ í›„ python_plugins_task ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œ í˜„ì¬ ì‹œê°„ì´ ì¶œë ¥ëœ ê²°ê³¼ë¥¼ ì¡°íšŒ ë³„ë„ë¡œ ì‹œê°„ëŒ€ë¥¼ ì§€ì •í•˜ì§€ ì•Šì•˜ëŠ”ë°, UTC ì‹œê°„ëŒ€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‹œê°„ì´ ê°€ì ¸ì™€ì§„ ê²ƒì„ í™•ì¸ Copy bash [2025-05-31, 12:10:35] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-05-31, 12:10:35] INFO - Filling up the DagBag from /opt/airflow/dags/python_plugins.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-05-31, 12:10:35] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.operators.python.PythonOperator\u0026#34; [2025-05-31, 12:10:35] INFO - 2025-05-31 03:10:35.099945: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Decorator # Airflow ê³µì‹ ë¬¸ì„œì—ì„œ PythonOperator ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ì½”ë“œê°€ ì§§ê³  ê°€ë…ì„±ì´ ì¢‹ì€ @task ë°ì½”ë ˆì´í„°ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥ Decorator í™œìš© # Copy python # dags/python_decorator.py from airflow.sdk import DAG, task import pendulum with DAG( dag_id=\u0026#34;python_decorator\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;python\u0026#34;], ) as dag: @task(task_id=\u0026#34;python_decorator_task\u0026#34;) def print_input(__input): print(__input) python_decorator_task = print_input(\u0026#34;@task ë°ì½”ë ˆì´í„° ì‹¤í–‰\u0026#34;) Airflowì—ì„œ ì œê³µí•˜ëŠ” ì˜ˆì‹œ example_python_decorator ë¥¼ ë³µì œ ë° ì¼ë¶€ë¥¼ ìˆ˜ì •í•˜ì—¬ DAG ì„ ì–¸ ë‹¨ìˆœíˆ í•¨ìˆ˜ì— @task ë°ì½”ë ˆì´í„°ë¥¼ ì¶”ê°€í•˜ê³  task_id íŒŒë¼ë¯¸í„°ë¥¼ ë¶€ì—¬ airflow/providers/standard/tests/system/standard/example_python_decorator.py at â€¦ Apache Airflow - A platform to programmatically author, schedule, and monitor workflows - â€¦ GitHub DAGë¥¼ ì‹¤í–‰í•œ í›„ python_decorator_task ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œ ì „ë‹¬í•œ ì¸ìˆ˜ê°€ ì¶œë ¥ëœ ê²ƒì„ í™•ì¸ Copy bash [2025-05-31, 12:29:22] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-05-31, 12:29:22] INFO - Filling up the DagBag from /opt/airflow/dags/python_decorator.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-05-31, 12:29:22] INFO - Done. Returned value was: None: source=\u0026#34;airflow.task.operators.airflow.providers.standard.decorators.python._PythonDecoratedOperator\u0026#34; [2025-05-31, 12:29:22] INFO - @task ë°ì½”ë ˆì´í„° ì‹¤í–‰: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Parameter # íŒŒì´ì¬ì—ì„œëŠ” í•¨ìˆ˜ì— ìˆœì„œëŒ€ë¡œ ì¸ìë¥¼ ì „ë‹¬í•˜ê±°ë‚˜ í‚¤-ê°’ì˜ í˜•íƒœë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬ ê°€ëŠ¥ ìˆœì„œëŒ€ë¡œ ì „ë‹¬ë˜ëŠ” ì¸ìë¥¼ ë°°ì—´ë¡œ ë°›ì„ ë•ŒëŠ” *args ì™€ ê°™ì´ * ë¥¼ ë¶™ì—¬ì„œ Tuple íƒ€ì…ì˜ ê°ì²´ë¥¼ ë°›ì„ ìˆ˜ ìˆìŒ í‚¤-ê°’ì˜ í˜•íƒœë¡œ ì „ë‹¬ë˜ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì„ ë•ŒëŠ” **kwargs ì™€ ê°™ì´ ** ë¥¼ ë¶™ì—¬ì„œ ë”•ì…”ë„ˆë¦¬ íƒ€ì…ì˜ ê°ì²´ë¥¼ ë°›ì„ ìˆ˜ ìˆìŒ ì¸ìì™€ íŒŒë¼ë¯¸í„°ë¥¼ ëª¨ë‘ ë°›ì•„ì„œ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ regist() ë¥¼ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ Copy python # plugins/common/common_func.py def regist(name: str, age: int, *args, **kwargs): print(f\u0026#34;ì´ë¦„: {name}\u0026#34;) print(f\u0026#34;ë‚˜ì´: {age}\u0026#34;) for __key, __value in kwargs.items(): print(f\u0026#34;{__key}: {__value}\u0026#34;) if args: print(f\u0026#34;ê¸°íƒ€ ì •ë³´: {args}\u0026#34;) op_args, op_kwargs # PythonOperator ë„ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œ ì¸ì ë˜ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µ ì¸ìë¥¼ ì „ë‹¬í•  ë•ŒëŠ” op_args íŒŒë¼ë¯¸í„°ì— ë°°ì—´ ê°ì²´ë¥¼ ì „ë‹¬ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•  ë•ŒëŠ” op_kwargs íŒŒë¼ë¯¸í„°ì— ë”•ì…”ë„ˆë¦¬ ê°ì²´ë¥¼ ì „ë‹¬ Copy python # dags/python_parameter.py from airflow.sdk import DAG from airflow.providers.standard.operators.python import PythonOperator from common.common_func import regist import pendulum with DAG( dag_id=\u0026#34;python_parameter\u0026#34;, schedule=\u0026#34;0 0 * * *\u0026#34;, start_date=pendulum.datetime(2025, 1, 1, tz=\u0026#34;Asia/Seoul\u0026#34;), catchup=False, tags=[\u0026#34;example\u0026#34;, \u0026#34;python\u0026#34;], ) as dag: regist_task = PythonOperator( task_id=\u0026#34;regist_task\u0026#34;, python_callable=regist, op_args=[\u0026#34;ê¹€ì² ìˆ˜\u0026#34;, 20, \u0026#34;ì„œìš¸\u0026#34;, \u0026#34;ëŒ€í•œë¯¼êµ­\u0026#34;], op_kwargs={\u0026#34;ì´ë©”ì¼\u0026#34;:\u0026#34;su@example.com\u0026#34;, \u0026#34;ì „í™”ë²ˆí˜¸\u0026#34;:\u0026#34;010-1234-5678\u0026#34;}, ) DAGë¥¼ ì‹¤í–‰í•œ í›„ regist_task ì˜ ì‹¤í–‰ ë¡œê·¸ì—ì„œ ì „ë‹¬í•œ ì¸ìì™€ íŒŒë¼ë¯¸í„°ê°€ ì¶œë ¥ëœ ê²ƒì„ í™•ì¸ ì‹¤ì œë¡œëŠ” ì§ì ‘ ì „ë‹¬í•œ íŒŒë¼ë¯¸í„° ì™¸ì— ds ë˜ëŠ” ts ë“± Airflowì—ì„œ ë§Œë“¤ì–´ì§€ëŠ” íŒŒë¼ë¯¸í„°ê°€ ê°™ì´ ì „ë‹¬ë˜ëŠ” ê²ƒ ê°™ì€ë° ì•ìœ¼ë¡œ Airflowë¥¼ ì•Œê²Œë˜ë©´ì„œ í™œìš©í•  ìˆ˜ ìˆì„ ê²ƒì„ ê¸°ëŒ€ Copy bash [2025-05-31, 15:04:22] INFO - DAG bundles loaded: dags-folder: source=\u0026#34;airflow.dag_processing.bundles.manager.DagBundlesManager\u0026#34; [2025-05-31, 15:04:22] INFO - Filling up the DagBag from /opt/airflow/dags/python_parameter.py: source=\u0026#34;airflow.models.dagbag.DagBag\u0026#34; [2025-05-31, 15:04:23] INFO - ì´ë¦„: ê¹€ì² ìˆ˜: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; ... [2025-05-31, 15:04:23] INFO - ë‚˜ì´: 20: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; ... [2025-05-31, 15:04:23] INFO - ì´ë©”ì¼: su@example.com: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; [2025-05-31, 15:04:23] INFO - ì „í™”ë²ˆí˜¸: 010-1234-5678: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; ... [2025-05-31, 15:04:23] INFO - ê¸°íƒ€ ì •ë³´: (\u0026#39;ì„œìš¸\u0026#39;, \u0026#39;ëŒ€í•œë¯¼êµ­\u0026#39;): chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; "},{"id":24,"href":"/blog/airflow-study-1/","title":"Apache Airflow - ì„¤ì¹˜í•˜ê¸° (Docker Compose)","content":"Airflowë€? # ì›Œí¬í”Œë¡œìš°ë¥¼ ë§Œë“¤ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ëª©ì ì˜ íŒŒì´ì¬ ê¸°ë°˜ ì˜¤í”ˆì†ŒìŠ¤ í”Œë«í¼ ì›Œí¬í”Œë¡œìš°ëŠ” DAG(Directed Acyclic Graph) êµ¬ì¡°ë¥¼ ê°€ì§ Cron ê¸°ë°˜ìœ¼ë¡œ ì‘ì—… ìŠ¤ì¼€ì¤„ë§ ì›¹ UIë¥¼ í†µí•´ ì‘ì—…ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  ì‹¤íŒ¨ ì‹œ ì¬ì‹¤í–‰ì´ ê°€ëŠ¥ Airflow ì¥ì  # íŒŒì´ì¬ì—ì„œ ì§€ì›ë˜ëŠ” ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš© ê°€ëŠ¥ ëŒ€ê·œëª¨ í™˜ê²½ì—ì„œ ë¶€í•˜ ì¦ê°€ ì‹œ ìˆ˜í‰ì  í™•ì¥ì´ ê°€ëŠ¥í•œ Kubenetes ë“± ì•„í‚¤í…ì²˜ ì§€ì› ì˜¤í”ˆì†ŒìŠ¤ í”Œë«í¼ì˜ ì´ì ì„ ì‚´ë ¤ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥ Airflow ë‹¨ì  # ì‹¤ì‹œê°„ ì›Œí¬í”Œë¡œìš° ê´€ë¦¬ì— ì í•©í•˜ì§€ ì•ŠìŒ (ìµœì†Œ ë¶„ ë‹¨ìœ„ ì‹¤í–‰) ì›Œí¬í”Œë¡œìš°ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ëª¨ë‹ˆí„°ë§ì´ ì–´ë ¤ì›€ DAG(Directed Acyclic Graph) # DAGëŠ” Task ê°„ì˜ ì¢…ì†ì„±ê³¼ ìˆœì„œë¥¼ ì§€ì • Task : DAG ë‚´ì—ì„œ ì–´ë– í•œ í–‰ìœ„ë¥¼ í•  ìˆ˜ ìˆëŠ” ê°ì²´ DAGëŠ” 1ê°œ ì´ìƒì˜ Taskë¡œ êµ¬ì„± Task ê°„ì— ìˆœí•œë˜ì§€ ì•Šê³  ë°©í–¥ì„±ì„ ê°€ì§ Taskì— ëŒ€í•œ ì¢…ì†ì„±ì€ \u0026gt;\u0026gt; ë˜ëŠ” \u0026lt;\u0026lt; ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ ì„ ì–¸ ì˜ˆì‹œ) first_task \u0026gt;\u0026gt; second_task Airflow Workflow # Scheduler : ì˜ˆì•½ëœ ì¼ì •ì— ì›Œí¬í”Œë¡œìš°ë¥¼ Executorì—ê²Œ ë„˜ê²¨ Taskë¥¼ ì‹¤í–‰ Executor : Scheduler ë‚´ë¶€ì˜ ëª¨ë“  ì‘ì—…ì„ ì‹¤í–‰í•˜ë©°, ëª¨ë“  Taskê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê²Œ ê´€ë¦¬ Worker : ì‹¤ì œ Taskë¥¼ ì‹¤í–‰í•˜ëŠ” ì£¼ì²´ Metadata Database : Scheduler, Executor, Webserverê°€ ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš© DAG Directory : íŒŒì´ì¬ìœ¼ë¡œ ì‘ì„±í•œ DAG íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ê³µê°„ Webserver : User Interfaceë¥¼ í†µí•´ Schedulerì™€ DAG ì‹¤í–‰ ê³¼ì •ì„ ì‹œê°í™”í•´ í‘œì‹œ User Interface # DAGì™€ ê°ê°ì˜ ì‘ì—…ì´ ìˆ˜í–‰ë˜ëŠ” ë‚´ìš©ì„ ì‹œê°ì ìœ¼ë¡œ í™•ì¸ DAG ì‹¤í–‰ì„ ì§ì ‘ íŠ¸ë¦¬ê±° DAG ì‹¤í–‰ ë¡œê·¸ë¥¼ í™•ì¸í•˜ê³  ì œí•œì ì¸ ë””ë²„ê¹… ìˆ˜í–‰ Architecture Overview â€” Airflow Documentationairflow.apache.org Airflow ì„¤ì¹˜ í™˜ê²½ # macOS Sequoia 15.5 Docker Desktop 4.41.2 Airflow 3.0.1 Dockerë€? # ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë…ë¦½ì ì¸ í™˜ê²½ì—ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ” ê¸°ìˆ  ê°€ìƒí™” ì„œë²„(VM)ì™€ ë¹„êµí–ˆì„ ë•Œ, Guest OSë¥¼ ìš”êµ¬í•˜ì§€ ì•Šì•„ ë” íš¨ìœ¨ì ì¸ ìì› í™œìš©ì´ ê°€ëŠ¥ docker-compose ë¥¼ ì´ìš©í•´ Airflowë¥¼ ìš´ì˜í•˜ëŠ”ë° í•„ìš”í•œ ì—¬ëŸ¬ ì„œë¹„ìŠ¤(ì»¨í…Œì´ë„ˆ)ë¥¼ ì‹¤í–‰ Docker Descktop ì„¤ì¹˜ # Mac Install Docker Desktop for Mac to get started. This guide covers system requirements, where to download, and â€¦ Docker Documentation ìš´ì˜ì²´ì œì— ë§ëŠ” Docker Descktop íŒŒì¼ì„ ë‚´ë ¤ë°›ì•„ ì„¤ì¹˜ ì„¤ì¹˜ í›„ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì´ˆê¸° í™”ë©´ì„ í™•ì¸ Airflow ì„¤ì¹˜í•˜ê¸° # Running Airflow in Docker â€” Airflow 3.1.3 Documentationairflow.apache.org 1. docker-compose.yaml # Copy bash % curl -LfO \u0026#39;https://airflow.apache.org/docs/apache-airflow/3.0.1/docker-compose.yaml\u0026#39; % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 12766 100 12766 0 0 38365 0 --:--:-- --:--:-- --:--:-- 38336 Airflow ë¬¸ì„œë¡œë¶€í„° docker-compose.yaml ê²½ë¡œë¥¼ ë³µì‚¬í•´ í„°ë¯¸ë„ì—ì„œ ìš”ì²­ ë‚´ë ¤ë°›ì€ docker-compose.yaml íŒŒì¼ì„ ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ì»¨í…Œì´ë„ˆê°€ ì„¤ì¹˜ë  ê²ƒì„ì„ ì§ì‘ ê°€ëŠ¥ Copy yaml services: postgres: image: postgres:13 redis: image: redis:7.2-bookworm airflow-apiserver: ... airflow-scheduler: ... airflow-dag-processor: ... airflow-worker: ... airflow-triggerer: ... airflow-init: ... airflow-cli: ... flower: ... 2. í™˜ê²½ ì„¤ì • # Copy bash mkdir -p ./dags ./logs ./plugins ./config echo -e \u0026#34;AIRFLOW_UID=$(id -u)\u0026#34; \u0026gt; .env Airflow ë¬¸ì„œì— ë”°ë¼ í•„ìš”í•œ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„± AIRFLOW_UIDê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ê²½ê³ ë¥¼ í”¼í•˜ê¸° ìœ„í•´ .env íŒŒì¼ì„ ìƒì„± 3. Airflow ì´ˆê¸°í™” # Copy bash docker compose up airflow-init exited with code 0 ê°€ ì¶œë ¥ë˜ë©´ ì •ìƒì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì–´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰ 4. Airflow ì‹¤í–‰ # Copy text docker compose up Docker Desktop ìƒì—ì„œ ì•„ë˜ ì´ë¯¸ì§€ì™€ ê°™ì´ ëª¨ë“  ì»¨í…Œì´ë„ˆë“¤ì´ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ í™•ì¸ ê°€ëŠ¥ ë˜ëŠ” í„°ë¯¸ë„ì—ì„œ docker ps ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ìƒíƒœë¥¼ ì¡°íšŒ ê°€ëŠ¥ Copy bash % docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES a0431bfa0d1f apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 1 minutes ago Up 1 minutes (healthy) 8080/tcp airflow-airflow-worker-1 4d32f0c45d4a apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 1 minutes ago Up 1 minutes (healthy) 8080/tcp airflow-airflow-triggerer-1 f4cd1b0887de apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 1 minutes ago Up 1 minutes (healthy) 8080/tcp airflow-airflow-dag-processor-1 3213192935b6 apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 1 minutes ago Up 1 minutes (healthy) 8080/tcp airflow-airflow-scheduler-1 e933dc415a73 apache/airflow:3.0.1 \u0026#34;/usr/bin/dumb-init â€¦\u0026#34; 1 minutes ago Up 1 minutes (healthy) 0.0.0.0:8080-\u0026gt;8080/tcp airflow-airflow-apiserver-1 94f88f2e5507 postgres:13 \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 6 minutes ago Up 6 minutes (healthy) 5432/tcp airflow-postgres-1 3f82ba15433e redis:7.2-bookworm \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 6 minutes ago Up 6 minutes (healthy) 6379/tcp airflow-redis-1 Airflow ë‘˜ëŸ¬ë³´ê¸° # Airflow ë¡œê·¸ì¸ # ì»¨í…Œì´ë„ˆê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš° ë¸Œë¼ìš°ì €ì—ì„œ localhost:8080 ì£¼ì†Œë¡œ ì ‘ì†í•˜ë©´ Airflow UIì— ì ‘ê·¼ ê°€ëŠ¥ ì´ˆê¸° ê³„ì •ì€ Username ê³¼ Password ëª¨ë‘ airflow ì…ë ¥ ì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì¸ ì‹œ ì•„ë˜ì™€ ê°™ì€ í™ˆí˜ì´ì§€ë¡œ ì´ë™ Example DAG ì‹¤í–‰ # ì‚¬ì´ë“œë°”ì—ì„œ Dags ë©”ë‰´ë¥¼ í´ë¦­í•˜ë©´ DAG ëª©ë¡ì´ ìˆëŠ” í˜ì´ì§€ë¡œ ì´ë™ ì²« ë²ˆì§¸ì— ìˆëŠ” tutorial_taskflow_templates DAGë¥¼ í´ë¦­í•˜ì—¬ ìƒì„¸ í˜ì´ì§€ ì¡°íšŒ ìƒë‹¨ì˜ DAG ì œëª© ì˜†ì— í† ê¸€ ìŠ¤ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ë©´ DAG í™œì„±í™” ì¢Œì¸¡ì—ì„œ DAG ë‚´ Task ê°„ ì¢…ì†ì„±ì„ ê·¸ë˜í”„ë¡œ í™•ì¸ (í•´ë‹¹ DAGëŠ” ë‹¨ì¼ Taskë¡œ êµ¬ì„±) ë‚´ë¹„ê²Œì´ì…˜ ë©”ë‰´ ì¤‘ì—ì„œ Runs ë©”ë‰´ë¥¼ í´ë¦­í•˜ë©´ ì‹¤í–‰ ì´ë ¥ì„ ì¡°íšŒ ì‹¤í–‰ëœ ê²°ê³¼ë¥¼ í•˜ë‚˜ í´ë¦­í•˜ë©´ í•˜ìœ„ Task ëª©ë¡ì„ ì¡°íšŒ ê°€ëŠ¥ State í•­ëª©ì„ í†µí•´ ì²˜ë¦¬ ìƒíƒœë¥¼ ì•Œ ìˆ˜ ìˆëŠ”ë°, success ìƒíƒœëŠ” Taskê°€ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë¨ì„ ì˜ë¯¸ Task í•˜ë‚˜ë¥¼ í´ë¦­í•´ì„œ Logs ë©”ë‰´ì— ë“¤ì–´ê°€ë©´ ì•„ë˜ì™€ ê°™ì´ context ë¼ëŠ” ê°ì²´ë¥¼ ì¶œë ¥í•˜ëŠ” êµ¬ë¬¸ì´ í™•ì¸ë¨ ì•ì„œ DAG í˜ì´ì§€ì˜ ë‚´ë¹„ê²Œì´ì…˜ ë©”ë‰´ ì¤‘ Code ë©”ë‰´ì—ì„œ ì´ë¯¸ ì½”ë“œë¥¼ í™•ì¸í–ˆëŠ”ë°, get_current_context() ë¼ëŠ” í•¨ìˆ˜ë¥¼ í†µí•´ context ë¼ëŠ” ë”•ì…”ë„ˆë¦¬ ê°ì²´ë¥¼ ê°€ì ¸ì™€ ì¶œë ¥í•˜ëŠ” ì‘ì—…ìœ¼ë¡œ ì¶”ì¸¡ Copy text [2025-05-27, 23:31:26] INFO - context: {\u0026#39;dag\u0026#39;: \u0026lt;DAG: tutorial_taskflow_templates\u0026gt;, ...}: chan=\u0026#34;stdout\u0026#34;: source=\u0026#34;task\u0026#34; Airflow ì¤‘ì§€ # Copy bash % docker compose stop [+] Stopping 8/8 âœ” Container airflow-airflow-dag-processor-1 Stopped 1.1s âœ” Container airflow-airflow-triggerer-1 Stopped 0.9s âœ” Container airflow-airflow-worker-1 Stopped 2.8s âœ” Container airflow-airflow-scheduler-1 Stopped 0.8s âœ” Container airflow-airflow-apiserver-1 Stopped 0.6s âœ” Container airflow-airflow-init-1 Stopped 0.0s âœ” Container airflow-postgres-1 Stopped 0.1s âœ” Container airflow-redis-1 Stopped 0.2s docker-compose.yaml íŒŒì¼ì´ ìˆëŠ” ê²½ë¡œì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šê³  ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ëª¨ë“  Airflow ì»¨í…Œì´ë„ˆë¥¼ ì¤‘ì§€ Airflow ì»¨í…Œì´ë„ˆ ì‚­ì œ # Copy bash % docker compose down --volumes --rmi all [+] Running 13/13 âœ” Container airflow-airflow-dag-processor-1 Removed 1.5s âœ” Container airflow-airflow-triggerer-1 Removed 1.2s âœ” Container airflow-airflow-worker-1 Removed 3.4s âœ” Container airflow-airflow-scheduler-1 Removed 1.0s âœ” Container airflow-airflow-apiserver-1 Removed 0.9s âœ” Container airflow-airflow-init-1 Removed 0.1s âœ” Container airflow-postgres-1 Removed 0.2s âœ” Container airflow-redis-1 Removed 0.2s âœ” Image apache/airflow:3.0.1 Removed 0.9s âœ” Image postgres:13 Removed 0.9s âœ” Image redis:7.2-bookworm Removed 0.9s âœ” Volume airflow_postgres-db-volume Removed 0.0s âœ” Network airflow_default Removed 0.5s docker-compose.yaml íŒŒì¼ì´ ìˆëŠ” ê²½ë¡œì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šê³  ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ëª¨ë“  Airflow ì»¨í…Œì´ë„ˆë¥¼ ì‚­ì œ --rmi ì˜µì…˜ì„ ì¶”ê°€í•˜ì—¬ ê´€ë ¨ ì´ë¯¸ì§€ê¹Œì§€ ëª¨ë‘ ì‚­ì œ "},{"id":25,"href":"/blog/10000-recipe/","title":"[Python] ë§Œê°œì˜ ë ˆì‹œí”¼ í¬ë¡¤ë§ - BeautifulSoup, requestsë¡œ ë ˆì‹œí”¼Â·í‰ì Â·ëŒ“ê¸€ ìˆ˜ì§‘","content":"ìµœê·¼ ë ˆì‹œí”¼ ìƒì„±ì„ ëª©ì ìœ¼ë¡œ í•œ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì— ì°¸ì—¬í•˜ê²Œ ë˜ì—ˆëŠ”ë° ëª¨ë¸ í•™ìŠµì„ ìœ„í•œ ë§Œê°œì˜ ë ˆì‹œí”¼ ë°ì´í„° í¬ë¡¤ë§ì„ ì§„í–‰í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\nìŠ¤í‚¤ë§ˆ êµ¬ì„± # ê¸°ì¡´ì—” ë ˆì‹œí”¼ ëª…ì¹­ê³¼ ìŒì‹ ì¬ë£Œ ì •ë³´ë§Œì„ ìˆ˜ì§‘í•  ê³„íšì´ì—ˆì§€ë§Œ, ë§Œê°œì˜ ë ˆì‹œí”¼ì˜ ê° í˜ì´ì§€ë¥¼ ì‚´í´ë³´ë©´ì„œ ì¶”ê°€ì ìœ¼ë¡œ ê°€ì ¸ê°ˆë§Œí•œ ë°ì´í„°ê°€ ìˆìŒì„ í™•ì¸í•˜ì—¬ ìš°ì„ ì ìœ¼ë¡œ í…Œì´ë¸” ê´€ê³„ ë° ìŠ¤í‚¤ë§ˆë¥¼ êµ¬ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.\nì´ˆê¸°ì— ë§Œê°œì˜ ë ˆì‹œí”¼ì™€ ê³µê³µë°ì´í„°ë¥¼ ë°ì´í„° ì†ŒìŠ¤ë¡œ ì‚¼ì•˜ê¸° ë•Œë¬¸ì—, ë§Œê°œì˜ ë ˆì‹œí”¼ì— ëŒ€í•œ DB _10000, ê³µê³µë°ì´í„°ì— ëŒ€í•œ DB foodë¡œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.\n_10000 DB ë‚´ í…Œì´ë¸”ì€ ë§Œê°œì˜ ë ˆì‹œí”¼ ë‚´ ê°ê°ì˜ í˜ì´ì§€ì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¡œ êµ¬ì„±ë˜ë©°, í¬ê²Œ ì¹´í…Œê³ ë¦¬, ë ˆì‹œí”¼, ì‚¬ìš©ì ë‹¨ìœ„ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në§Œê°œì˜ ë ˆì‹œí”¼ ë°ì´í„° ìˆ˜ì§‘ # í¬ë¡¤ë§ì—ì„œ ë°ì´í„° ìš”ì²­ ë° ê°€ê³µì„ ìœ„í•´ ì •ì˜ëœ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤ì´ ìˆëŠ”ë°, ë³„ë„ë¡œ ì½”ë“œë¥¼ ë³´ì—¬ì£¼ì§€ëŠ” ì•Šê³  í•´ë‹¹ í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ê°„ë‹¨íˆ ì–´ë–¤ ë™ì‘ì„ í•˜ëŠ”ì§€ë§Œ ì „ë‹¬ë“œë¦½ë‹ˆë‹¤.\nì¹´í…Œê³ ë¦¬ ì¶”ì¶œ # ë§Œê°œì˜ ë ˆì‹œí”¼ ì¹´í…Œê³ ë¦¬ëŠ” ë ˆì‹œí”¼ ê²€ìƒ‰ í˜ì´ì§€ì—ì„œ ê°„ë‹¨í•˜ê²Œ ì¶”ì¶œí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ê°œë°œì ë„êµ¬ ë˜ëŠ” requestsì— ëŒ€í•œ ì‘ë‹µì—ì„œ ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ì—¬ê¸°ì„œ get_headers() í•¨ìˆ˜ëŠ” User-Agent ë“± ê¸°ë³¸ì ì¸ ë¸Œë¼ìš°ì € ì •ë³´ê°€ ë‹´ê¸´ í—¤ë”ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.\nCopy python url = \u0026#34;https://www.10000recipe.com/recipe/list.html\u0026#34; headers = get_headers(url, referer=url) headers[\u0026#34;upgrade-insecure-requests\u0026#34;] = \u0026#39;1\u0026#39; response = session.get(url, params=params, headers=headers) source = BeautifulSoup(response.text, \u0026#34;html.parser\u0026#34;) cate_list = source.select_one(\u0026#34;div.cate_list\u0026#34;) pattern = \u0026#34;javascript:goSearchRecipe([\\d\\w()\u0026#39;,]+)\u0026#34; raw_cat = [(re_get(pattern, cat.attrs[\u0026#34;href\u0026#34;]),cat.text) for cat in cate_list.select(\u0026#34;a\u0026#34;) if \u0026#34;href\u0026#34; in cat.attrs] cat_map = lambda catType, catId, catName: {\u0026#34;categoryId\u0026#34;:catId, \u0026#34;categoryType\u0026#34;:catType, \u0026#34;categoryName\u0026#34;:catName} categories = [cat_map(*literal_eval(data), name) for data, name in raw_cat] categories = pd.DataFrame(categories) categories = categories[categories[\u0026#34;categoryId\u0026#34;]!=\u0026#39;\u0026#39;] categories.head() ë°ì´í„° ìˆ˜ì§‘ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ì˜ ë°ì´í„°ë¥¼ íšë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ncategoryId categoryType categoryName 63 cat4 ë°‘ë°˜ì°¬ 56 cat4 ë©”ì¸ë°˜ì°¬ 54 cat4 êµ­/íƒ• 55 cat4 ì°Œê°œ 60 cat4 ë””ì €íŠ¸ ë ˆì‹œí”¼ ëª©ë¡ ì¶”ì¶œ # ë ˆì‹œí”¼ ê²€ìƒ‰ í˜ì´ì§€ëŠ” ê²€ìƒ‰ì–´, ì •ë ¬ ê¸°ì¤€, í˜ì´ì§€, ì¹´í…Œê³ ë¦¬ë¥¼ ì¿¼ë¦¬ë¡œ ë°›ìŠµë‹ˆë‹¤. ë ˆì‹œí”¼ ëª©ë¡ì„ ì¶”ì¶œí•˜ëŠ”ë° ê²€ìƒ‰ì–´ë‚˜ ì¹´í…Œê³ ë¦¬ëŠ” í•„ìš”í•˜ì§€ ì•Šê³  ë™ì¼í•œ ì •ë ¬ ê¸°ì¤€ì—ì„œ ìˆ˜ì§‘í•˜ê¸° ë•Œë¬¸ì— ë°ì´í„° ìˆ˜ì§‘ ì‹œì—ëŠ” í˜ì´ì§€ì— ë°˜ë³µë¬¸ì„ ì ìš©í•˜ì—¬ ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ” ë²”ìœ„ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.\nCopy python ORDER_MAP = {\u0026#34;ì •í™•ìˆœ\u0026#34;:\u0026#34;accuracy\u0026#34;, \u0026#34;ìµœì‹ ìˆœ\u0026#34;:\u0026#34;date\u0026#34;, \u0026#34;ì¶”ì²œìˆœ\u0026#34;:\u0026#34;reco\u0026#34;} get_params = lambda **kwargs: {k:v for k,v in kwargs.items() if v} uri = \u0026#34;https://www.10000recipe.com/recipe/\u0026#34; def fetch(session: requests.Session, query=str(), sortType=\u0026#34;ì¶”ì²œìˆœ\u0026#34;, page=1, cat1=str(), cat2=str(), cat3=str(), cat4=str(), **kwargs) -\u0026gt; List[str]: url = uri+\u0026#34;list.html\u0026#34; params = get_params(q=query, order=ORDER_MAP[sortType], page=page, cat1=cat1, cat2=cat2, cat3=cat3, cat4=cat4) headers = get_headers(url, referer=url) headers[\u0026#34;upgrade-insecure-requests\u0026#34;] = \u0026#39;1\u0026#39; response = session.get(url, params=params, headers=headers) return parse(response.text, **kwargs) def parse(response: str, **kwargs) -\u0026gt; List[str]: source = BeautifulSoup(response, \u0026#39;html.parser\u0026#39;) uris = source.select(\u0026#34;a.common_sp_link\u0026#34;) ids = [uri.attrs[\u0026#34;href\u0026#34;].split(\u0026#39;/\u0026#39;)[-1] for uri in uris if \u0026#34;href\u0026#34; in uri.attrs] return ids ë°ì´í„° ìˆ˜ì§‘ ê²°ê³¼ë¡œëŠ” ë¬¸ìì—´ íƒ€ì…ì˜ ë ˆì‹œí”¼ ID ëª©ë¡ì„ íšë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në ˆì‹œí”¼ ì •ë³´ ì¶”ì¶œ # ë ˆì‹œí”¼ IDë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë ˆì‹œí”¼ ìƒì„¸ ì •ë³´ í˜ì´ì§€ì—ì„œ ë ˆì‹œí”¼ ì •ë³´ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤. ì†ŒìŠ¤ì½”ë“œ ë‚´ì—ì„œ ë ˆì‹œí”¼ ì •ë³´ê°€ JSON í˜•ì‹ìœ¼ë¡œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì¼ì¼íˆ HTML íƒœê·¸ë¥¼ íŒŒì‹±í•  í•„ìš” ì—†ì´ ë°ì´í„°ë¥¼ í•œë²ˆì— JSON ì˜¤ë¸Œì íŠ¸ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në°ì´í„°ë¥¼ ê°€ê³µí•˜ëŠ” map_recipe() í•¨ìˆ˜ ë‚´ì—ì„œ cast_int()ëŠ” ë°ì´í„°ë¥¼ ì •ìˆ˜í˜•ìœ¼ë¡œ ë³€í™˜í•  ë•Œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ê¸°ë³¸ê°’ 0ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ê³ , hier_get()ì€ ì¤‘ì²© ë”•ì…”ë„ˆë¦¬ì˜ì— ë‹¨ê³„ë³„ í‚¤ ëª©ë¡ì— ëŒ€í•œ ê°’ì„ ì•ˆì „í•˜ê²Œ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ í•¨ìˆ˜ì…ë‹ˆë‹¤.\nCopy python uri = \u0026#34;https://www.10000recipe.com/recipe/\u0026#34; def fetch(session: requests.Session, recipeId: str, **kwargs) -\u0026gt; Dict: url = uri+recipeId # https://www.10000recipe.com/recipe/6997297 headers = get_headers(url, referer=uri+\u0026#34;list.html\u0026#34;) headers[\u0026#34;upgrade-insecure-requests\u0026#34;] = \u0026#39;1\u0026#39; response = session.get(url, headers=headers) return parse(response.text, recipeId, **kwargs) def parse(response: str, recipeId: str, **kwargs) -\u0026gt; Dict: source = BeautifulSoup(response, \u0026#39;html.parser\u0026#39;) raw_json = source.select_one(\u0026#34;script[type=\\\u0026#34;application/ld+json\\\u0026#34;]\u0026#34;).text try: data = json.loads(raw_json) except: data = literal_eval(raw_json) return map_recipe(data, recipeId, source, **kwargs) def map_recipe(data: Dict, recipeId: str, source=None, **kwargs) -\u0026gt; Dict: recipe_info = {\u0026#34;recipeId\u0026#34;: recipeId} recipe_info[\u0026#34;name\u0026#34;] = data.get(\u0026#34;name\u0026#34;) recipe_info[\u0026#34;author\u0026#34;] = hier_get(data, [\u0026#34;author\u0026#34;,\u0026#34;name\u0026#34;]) recipe_info[\u0026#34;ratingValue\u0026#34;] = cast_int(hier_get(data, [\u0026#34;aggregateRating\u0026#34;,\u0026#34;ratingValue\u0026#34;])) recipe_info[\u0026#34;reviewCount\u0026#34;] = cast_int(hier_get(data, [\u0026#34;aggregateRating\u0026#34;,\u0026#34;reviewCount\u0026#34;])) recipe_info[\u0026#34;totalTime\u0026#34;] = data.get(\u0026#34;totalTime\u0026#34;) recipe_info[\u0026#34;recipeYield\u0026#34;] = data.get(\u0026#34;recipeYield\u0026#34;) try: recipe_info[\u0026#34;recipeIngredient\u0026#34;] = \u0026#39;,\u0026#39;.join(data[\u0026#34;recipeIngredient\u0026#34;]) except: recipe_info[\u0026#34;recipeIngredient\u0026#34;] = extract_ingredient(source, **kwargs) recipe_info[\u0026#34;recipeInstructions\u0026#34;] = \u0026#39;\\n\u0026#39;.join( [step.get(\u0026#34;text\u0026#34;,str()) for step in data.get(\u0026#34;recipeInstructions\u0026#34;,list()) if isinstance(step, dict)]) recipe_info[\u0026#34;createDate\u0026#34;] = data.get(\u0026#34;datePublished\u0026#34;) return recipe_info def extract_ingredient(source: Tag, **kwargs) -\u0026gt; str: cont_ingre = source.select_one(\u0026#34;div.cont_ingre\u0026#34;) if cont_ingre: return [ingre.split() for ingre in cont_ingre.select_one(\u0026#34;dd\u0026#34;).text.split(\u0026#39;,\u0026#39;)] else: return str() ë°ì´í„° ìˆ˜ì§‘ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬ëœ ë”•ì…”ë„ˆë¦¬ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy python { \u0026#34;recipeId\u0026#34;: \u0026#34;6997297\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;ë‘ë¶€ì§œì¡°\u0026#34;, \u0026#34;author\u0026#34;: \u0026#34;í˜¸ì´í˜¸ì´\u0026#34;, \u0026#34;ratingValue\u0026#34;: 5, \u0026#34;reviewCount\u0026#34;: 1, \u0026#34;totalTime\u0026#34;: \u0026#34;PT20M\u0026#34;, \u0026#34;recipeYield\u0026#34;: \u0026#34;1 servings\u0026#34;, \u0026#34;recipeIngredient\u0026#34;: \u0026#34;ë‘ë¶€ 30g,ë¼ì´ìŠ¤í˜ì´í¼ 2ì¥,ë¼ì§€ê³ ê¸° 5g,...\u0026#34;, \u0026#34;recipeInstructions\u0026#34;: \u0026#34;ë¶€ìœ„ëŠ” ìƒê´€ì—†ì§€ë§Œ ì €ëŠ” ì €ë ´í•˜ê³ ...\u0026#34;, \u0026#34;createDate\u0026#34;: \u0026#34;2023-02-19T13:37:04+09:00\u0026#34; } ì‹¤ì§ˆì ìœ¼ë¡œ í™œìš©í•  ë°ì´í„°ëŠ” ë ˆì‹œí”¼ëª… nameê³¼ ì¬ë£Œëª…ì¸ recipeIngredientì´ë©°, í‰ì , ë¦¬ë·° ìˆ˜, ì¡°ë¦¬ìˆœì„œ ë“±ë„ ì¶”ê°€ì ì¸ ë¶„ì„ì„ í†µí•´ í™œìš©ì„±ì„ ê¸°ëŒ€í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìš”ë¦¬ í›„ê¸° ì¶”ì¶œ # ë™ì¼í•œ ë ˆì‹œí”¼ ìƒì„¸ ì •ë³´ í˜ì´ì§€ì—ì„œ ìš”ë¦¬ í›„ê¸°ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në‹¨, ìš”ë¦¬ í›„ê¸°ëŠ” JSON í˜•ì‹ìœ¼ë¡œ ì •ë¦¬ë˜ì–´ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— HTML ì†ŒìŠ¤ë¥¼ íŒŒì‹±í•˜ì—¬ ëŒ€ìƒ ë¬¸ìì—´ì„ ì¶”ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.\në°ì´í„°ë¥¼ ê°€ê³µí•˜ëŠ” map_review() í•¨ìˆ˜ ë‚´ì—ì„œ re_get()ì€ ì •ê·œí‘œí˜„ì‹ íŒ¨í„´ì— ë§¤ì¹­ë˜ëŠ” ë¬¸ìì—´ì„ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ì´ê³ , select_text()ëŠ” BeautifulSoup íƒœê·¸ì—ì„œ CSS Selectorë¡œ ì•ˆì „í•˜ê²Œ ë¬¸ìì—´ì„ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.\nCopy python GENDER = {\u0026#34;info_name_m\u0026#34;:\u0026#34;M\u0026#34;, \u0026#34;info_name_f\u0026#34;:\u0026#34;F\u0026#34;} uri = \u0026#34;https://www.10000recipe.com/recipe/\u0026#34; rid_ptn = \u0026#34;replyReviewDiv_(\\d+)\u0026#34; uid_ptn = \u0026#34;/profile/review.html\\?uid=([\\d\\w]+)\u0026#34; date_ptn = \u0026#34;(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})\u0026#34; def fetch(session: requests.Session, recipeId: str, **kwargs) -\u0026gt; List[Dict]: url = uri+recipeId headers = get_headers(url, referer=uri+\u0026#34;list.html\u0026#34;) headers[\u0026#34;upgrade-insecure-requests\u0026#34;] = \u0026#39;1\u0026#39; response = session.get(url, headers=headers) return parse(response.text, recipeId, **kwargs) def parse(response: str, recipeId: str, **kwargs) -\u0026gt; List[Dict]: source = BeautifulSoup(response, \u0026#39;html.parser\u0026#39;) reply_divs = source.select(\u0026#34;div.view_reply\u0026#34;) review_div = [div for div in reply_divs if div.select_one(\u0026#34;div.reply_tit\u0026#34;).text.strip().startswith(\u0026#34;ìš”ë¦¬ í›„ê¸°\u0026#34;)] if review_div: review_list = review_div[0].select(\u0026#34;div.reply_list\u0026#34;) return [map_review(review, recipeId, **kwargs) for review in review_list] else: return list() def map_review(data: Tag, recipeId: str, **kwargs) -\u0026gt; Dict: review_info = dict() review_info[\u0026#34;reviewId\u0026#34;] = re_get(rid_ptn, data.select(\u0026#34;div\u0026#34;)[-1].attrs.get(\u0026#34;id\u0026#34;)) review_info[\u0026#34;recipeId\u0026#34;] = recipeId review_info[\u0026#34;userId\u0026#34;] = re_get(uid_ptn, data.select_one(\u0026#34;a\u0026#34;).attrs.get(\u0026#34;href\u0026#34;)) review_info[\u0026#34;contents\u0026#34;] = select_text(data, \u0026#34;p.reply_list_cont\u0026#34;) detail = data.select_one(\u0026#34;h4.media-heading\u0026#34;) if detail: review_info[\u0026#34;userName\u0026#34;] = select_text(detail, \u0026#34;b\u0026#34;) gender = detail.select_one(\u0026#34;b\u0026#34;).attrs.get(\u0026#34;class\u0026#34;) review_info[\u0026#34;userGender\u0026#34;] = GENDER.get(gender[0]) if gender else None review_info[\u0026#34;createDate\u0026#34;] = re_get(date_ptn, detail.text) return review_info ë°ì´í„° ìˆ˜ì§‘ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬ëœ ë”•ì…”ë„ˆë¦¬ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì—¬ê¸°ì„œ ìš”ë¦¬ í›„ê¸°ì™€ ë³„ë„ë¡œ ì‚¬ìš©ì ëª…ì¹­ê³¼ ì„±ë³„ì„ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy python { \u0026#34;reviewId\u0026#34;: \u0026#34;395018\u0026#34;, \u0026#34;recipeId\u0026#34;: \u0026#34;6843136\u0026#34;, \u0026#34;userId\u0026#34;: \u0026#34;58031746\u0026#34;, \u0026#34;contents\u0026#34;: \u0026#34;ì •ë§ ê°„ë‹¨í•œë° ì¤‘ë¶ˆë¡œí•˜ë‹ˆ ì¢€ íƒœì›Œë¨¹ì—ˆ... ë§›ì€ ìˆë„¤ìš¬ã…‹ã…‹ã…‹ã…‹ã…‹ë‹¤ìŒì—” ì¤‘ë¶ˆì´ë‘ ì•½ë¶ˆ ì‚¬ì´ë¡œ í•¨ ë”í•´ë°”ì•¼ê² ì–´ìš¬ã…‹ã…‹ã…‹ã„±ã…‹ã…‹ê°ì‚¼ë‘¥..â™¡â™¡\u0026#34;, \u0026#34;userName\u0026#34;: \u0026#34;ë‚˜ì°¡as\u0026#34;, \u0026#34;userGender\u0026#34;: \u0026#34;F\u0026#34;, \u0026#34;createDate\u0026#34;: \u0026#34;2020-11-09 17:14:02\u0026#34; } ëŒ“ê¸€ ì¶”ì¶œ # ë ˆì‹œí”¼ ìƒì„¸ ì •ë³´ í˜ì´ì§€ì—ì„œ ëŒ“ê¸€ì€ ë¯¸ë¦¬ë³´ê¸°ë§Œì´ ì œê³µë˜ë©° ì „ì²´ ëŒ“ê¸€ì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„œëŠ” ë³„ë„ì˜ í˜ì´ì§€ì— ì ‘ì†í•´ì•¼ í•©ë‹ˆë‹¤.\ní•´ë‹¹ í˜ì´ì§€ì˜ ì¶œë ¥ ê²°ê³¼ì—ì„œë„ ìš”ë¦¬ í›„ê¸°ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ HTML ì†ŒìŠ¤ë¥¼ íŒŒì‹±í•˜ì—¬ ëŒ€ìƒ ë¬¸ìì—´ì„ ì¶”ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.\nCopy python GENDER = {\u0026#34;info_name_m\u0026#34;:\u0026#34;M\u0026#34;, \u0026#34;info_name_f\u0026#34;:\u0026#34;F\u0026#34;} uri = \u0026#34;https://www.10000recipe.com/recipe/\u0026#34; cid_ptn = \u0026#34;replyCommentDiv_(\\d+)\u0026#34; uid_ptn = \u0026#34;/profile/recipe_comment.html\\?uid=([\\d\\w]+)\u0026#34; date_ptn = \u0026#34;(\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2})\u0026#34; def fetch(session: requests.Session, recipeId: str, page=1, **kwargs) -\u0026gt; List[Dict]: url = uri+\u0026#34;ajax.html\u0026#34; params = dict(q_mode=\u0026#34;getListComment\u0026#34;, seq=recipeId, page=page) headers = get_headers(url, referer=uri+recipeId) headers[\u0026#34;upgrade-insecure-requests\u0026#34;] = \u0026#39;1\u0026#39; response = session.get(url, params=params, headers=headers) return parse(response.text, recipeId, **kwargs) def parse(response: str, recipeId: str, **kwargs) -\u0026gt; List[Dict]: source = BeautifulSoup(response, \u0026#39;html.parser\u0026#39;) comment_list = source.select(\u0026#34;div.reply_list\u0026#34;) return [map_comment(comment, recipeId, **kwargs) for comment in comment_list] def map_comment(data: Tag, recipeId: str, **kwargs) -\u0026gt; Dict: comment_info = dict() comment_info[\u0026#34;commentId\u0026#34;] = re_get(cid_ptn, data.select(\u0026#34;div\u0026#34;)[-1].attrs.get(\u0026#34;id\u0026#34;)) comment_info[\u0026#34;recipeId\u0026#34;] = recipeId comment_info[\u0026#34;userId\u0026#34;] = re_get(uid_ptn, data.select_one(\u0026#34;a\u0026#34;).attrs.get(\u0026#34;href\u0026#34;)) comment_info[\u0026#34;contents\u0026#34;] = select_text(data, \u0026#34;div.media-body\u0026#34;).split(\u0026#39;|\u0026#39;)[-1] detail = data.select_one(\u0026#34;h4.media-heading\u0026#34;) if detail: comment_info[\u0026#34;userName\u0026#34;] = select_text(detail, \u0026#34;b\u0026#34;) gender = detail.select_one(\u0026#34;b\u0026#34;).attrs.get(\u0026#34;class\u0026#34;) comment_info[\u0026#34;userGender\u0026#34;] = GENDER.get(gender[0]) if gender else None comment_info[\u0026#34;createDate\u0026#34;] = re_get(date_ptn, detail.text) return comment_info review = fetch(session, \u0026#34;6843136\u0026#34;) review[0] ë°ì´í„° ìˆ˜ì§‘ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬ëœ ë”•ì…”ë„ˆë¦¬ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në°ì´í„° êµ¬ì¡°ëŠ” ìš”ë¦¬ í›„ê¸°ì™€ ë™ì¼í•©ë‹ˆë‹¤.\nCopy python { \u0026#34;commentId\u0026#34;: \u0026#34;39693405\u0026#34;, \u0026#34;recipeId\u0026#34;: \u0026#34;6843136\u0026#34;, \u0026#34;userId\u0026#34;: \u0026#34;89382542\u0026#34;, \u0026#34;contents\u0026#34;: \u0026#34;ì‹ ê³ ê·¸ëŸ¬ë„¤ì—¬..ì¬ë£Œì–‘ì´..ã…œ\u0026#34;, \u0026#34;userName\u0026#34;: \u0026#34;íœ˜ì•„ì—¬\u0026#34;, \u0026#34;userGender\u0026#34;: \u0026#34;F\u0026#34;, \u0026#34;createDate\u0026#34;: \u0026#34;2022-03-18 00:02\u0026#34; } "},{"id":26,"href":"/blog/smartstore-login-3/","title":"[Python] requestsë¡œ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ êµ¬í˜„í•˜ê¸° (3)","content":"ì•ì„  ë„¤ì´ë²„ ë¡œê·¸ì¸ êµ¬í˜„ ê³¼ì •ì„ í†µí•´ ë„¤ì´ë²„ ë¡œê·¸ì¸ì— ëŒ€í•´ ì´í•´í•˜ê³  ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” ì¿ í‚¤ ê°’ì˜ ì¼ë¶€ë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤.\nCopy python cookies = { \u0026#34;NNB\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;nid_inf\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_AUT\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_JKL\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_CHK\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NSI\u0026#34;: \u0026#34;...\u0026#34;, } í•˜ì§€ë§Œ, ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„°ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ í•„ìš”í•œ ì¿ í‚¤ ê°’ì€ CBI_SES, CBI_CHK, NSI ì„¸ ê°€ì§€ ê°’ì´ê¸° ë•Œë¬¸ì— ì§€ê¸ˆê¹Œì§€ëŠ” ì¤€ë¹„ ê³¼ì •ì— ë¶ˆê³¼í–ˆë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ ê³¼ì •ì„ ì´í•´í•˜ê³  ì§ì ‘ êµ¬í˜„í•´ë³´ë©´ì„œ SmartstoreLogin í´ë˜ìŠ¤ë¥¼ ì™„ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.\nìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ ì´í•´ # ì§€ê¸ˆê¹Œì§€ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„°ì˜ ë‘ ê°€ì§€ ë¡œê·¸ì¸ ë°©ì‹ ì¤‘ ë„¤ì´ë²„ ë¡œê·¸ì¸ ë°©ì‹ìœ¼ë¡œ ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´, ì‹¤ì œ ë„¤ì´ë²„ ë¡œê·¸ì¸ì— ëŒ€í•œ ì´í•´ ë° êµ¬í˜„ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\nìš”ì²­ ë‚´ì—­ íƒìƒ‰ ì‹œ ì£¼ì˜ì‚¬í•­ # ìƒˆ ì°½ì—ì„œ ë„ì›Œì§€ëŠ” ë„¤ì´ë²„ ë¡œê·¸ì¸ í˜ì´ì§€ëŠ” ë¡œê·¸ì¸ì´ ì™„ë£Œë˜ë©´ ë‹«í˜€ë²„ë¦¬ê¸° ë•Œë¬¸ì— ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë‚´ì—­ì„ í™•ì¸í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.\nì´ ê²½ìš° ê°œë°œì ë„êµ¬ Sources íƒ­ì—ì„œ Event Listener Breakpoints ë©”ë‰´ ì•„ë˜ Window \u0026gt; window.close ë¶€ë¶„ì„ ì„ íƒí•˜ë©´ ì°½ì´ ë‹«íˆëŠ” ìˆœê°„ì— ì¤‘ë‹¨ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në„¤ì´ë²„ ë¡œê·¸ì¸ê³¼ì˜ ì°¨ì´ì  # ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ì—ì„œì˜ ë„¤ì´ë²„ ë¡œê·¸ì¸ì€ ê¸°ì¡´ ë°©ì‹ê³¼ ë‹¤ì†Œì˜ ì°¨ì´ì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.\nì•„ë˜ëŠ” ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ POST ìš”ì²­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°ì´í„°ì…ë‹ˆë‹¤.\nCopy json { \u0026#34;localechange\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;dynamicKey\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;logintp\u0026#34;: \u0026#34;oauth2\u0026#34;, \u0026#34;encpw\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;enctp\u0026#34;: 1, \u0026#34;svctype\u0026#34;: 64, \u0026#34;smart_LEVEL\u0026#34;: 1, \u0026#34;bvsd\u0026#34;: { \u0026#34;uuid\u0026#34;:\u0026#34;...\u0026#34;, \u0026#34;encData\u0026#34;:\u0026#34;...\u0026#34; }, \u0026#34;encnm\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;locale\u0026#34;: \u0026#34;ko_KR\u0026#34;, \u0026#34;client_id\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;url\u0026#34;: \u0026#34;https://nid.naver.com/oauth2.0/authorize?response_type=code\u0026amp;state=...\u0026amp;client_id=...\u0026amp;redirect_uri=https%3A%2F%2Faccounts.commerce.naver.com%2Foauth%2Fcallback\u0026amp;locale=ko_KR\u0026amp;inapp_view=\u0026amp;oauth_os=\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;pw\u0026#34;: \u0026#34;\u0026#34; } ê¸°ì¡´ì˜ ë„¤ì´ë²„ ë¡œê·¸ì¸ ë°ì´í„°ì™€ ë¹„êµí–ˆì„ ë•Œ 3ê°œì˜ ê°’ì´ ì¶”ê°€ë˜ì—ˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nlogintp ì˜ ê²½ìš° \u0026quot;oauth2\u0026quot; ë¡œ ê³ ì •ëœ ê°’ìœ¼ë¡œ ë³´ì´ì§€ë§Œ, url ë‚´ state ì™€ client_id ëŠ” ì§€ê¸ˆê¹Œì§€ì˜ ê³¼ì •ì—ì„œëŠ” ì–»ì„ ìˆ˜ ì—†ì—ˆë˜ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ë¡œê·¸ì¸ì„ ìœ„í•´ ì¶”ê°€ì ì¸ ë™ì‘ì´ í•„ìš”í•´ ë³´ì…ë‹ˆë‹¤.\nOAuth URL ê°€ì ¸ì˜¤ê¸° # state ì™€ client_id ì˜ ê²½ìš° ë„¤ì´ë²„ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê³¼ì •ì—ì„œ ì´ë¯¸ ì „ë‹¬ë˜ëŠ” ê°’ì´ê¸° ë•Œë¬¸ì— í•´ë‹¹ í˜ì´ì§€ ì•ˆì—ì„œëŠ” ì¶œì²˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.\në”°ë¼ì„œ ë„¤ì´ë²„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ê¸° ìœ„í•´ ê±°ì¹˜ëŠ” ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ë„¤ì´ë²„ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ë„ìš°ëŠ” ê³¼ì •ì— ì§‘ì¤‘í•˜ì—¬ ë‘ ê°’ì´ ë°œìƒí•˜ëŠ” ì§€ì ì„ ì°¾ì•„ë³´ì•˜ê³ , graphql ì£¼ì†Œë¡œ ë³´ë‚¸ POST ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ url ì— í•´ë‹¹í•˜ëŠ” authUrl ê°’ì„ ë°›ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.\nì´ë ‡ê²Œ êµ¬í•œ client_id ë° url ê°’ì„ ë¡œê·¸ì¸ ë°ì´í„°ì— ë‹´ì•„ ìš”ì²­ì„ ë³´ë‚¼ ê²½ìš° ì¼ë°˜ì ì¸ ë„¤ì´ë²„ ë¡œê·¸ì¸ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” NID_AUT ë“±ì˜ ì¿ í‚¤ ê°’ì„ íšë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nGraphQL ë¡œê·¸ì¸ ë¶„ì„ # ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ì€ ë„¤ì´ë²„ ë¡œê·¸ì¸ì—ì„œ ê·¸ì¹˜ì§€ ì•Šê³  CBI_SES, CBI_CHK, NSI ì¿ í‚¤ ê°’ì„ ì¶”ê°€ë¡œ ì–»ì–´ì•¼ í•©ë‹ˆë‹¤.\nì´ ì¤‘ì—ì„œ CBI_SES ë¥¼ ì‘ë‹µ íŒŒì¼ ë‚´ì—ì„œ ê²€ìƒ‰í–ˆì„ ë•Œ graphql ì£¼ì†Œì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ CBI_SES ì™€ CBI_CHK ê°’ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\ní•´ë‹¹ ì£¼ì†ŒëŠ” ì•ì„œ ì¸ì¦ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì—ì„œ ë³´ì•˜ë˜ ê²ƒì¸ë° ë‹¹ì‹œ snsLoginBegin ë¼ëŠ” ëª…ì¹­ì˜ ì¿¼ë¦¬ì™€ëŠ” ë‹¤ë¥¸ snsLoginCallback ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶”ê°€ì ì¸ ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ì„ ì§ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në³€ìˆ˜ë¡œ ì „ë‹¬ë˜ëŠ” state ì˜ ê²½ìš° ì•ì—ì„œ êµ¬í•œ ê²ƒê³¼ ë™ì¼í•œ ê°’ì´ì§€ë§Œ, code ëŠ” ì•„ì§ê¹Œì§€ ë³¸ ì  ì—†ëŠ” ê°’ì…ë‹ˆë‹¤.\ní•˜ì§€ë§Œ, code ëŠ” ì–´ë– í•œ ì‘ë‹µ íŒŒì¼ ë‚´ì—ì„œë„ ì¶œì²˜ë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ì—†ê³ , code ì˜ ê°’ ìì²´ë¥¼ ê²€ìƒ‰í–ˆì„ ë•Œ oauth_token ì´ë¼ëŠ” í‚¤ì™€ ë™ì¼í•œ ê°’ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒ ë§ê³ ëŠ” ë³„ë‹¤ë¥¸ ë‹¨ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.\nì´ ê²½ìš° ë„¤ì´ë²„ ë¡œê·¸ì¸ í›„ì— ì—°ì†ì ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” ë‹¤ë¥¸ ìš”ì²­ ë‚´ì—­ì„ ì§ì ‘ ë“¤ì—¬ë‹¤ë´ì•¼ í–ˆê³ , ë‹¤í–‰íˆ ë°”ë¡œ ì•„ë˜ì˜ ì£¼ì†Œì— ëŒ€í•œ ì‘ë‹µ ë‚´ì—­ì—ì„œ oauth_token ê°’ì„ ë°›ì•„ë³¼ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nCopy html \u0026lt;html\u0026gt; \u0026lt;script language=javascript nonce=\u0026#34;4SzeR1mCGzDbnzr3s5rjQ1Li\u0026#34;\u0026gt; location.replace(\u0026#34;https://nid.naver.com/login/noauth/allow_oauth.nhn?oauth_token=...\u0026amp;with_pin\u0026amp;step=agree_term\u0026amp;inapp_view=\u0026amp;oauth_os=\u0026#34;); \u0026lt;/script\u0026gt; \u0026lt;/html\u0026gt; oauth_token ì˜ ê°’ì„ code ì— ë„£ì–´ì„œ state ì™€ í•¨ê»˜ graphql ì£¼ì†Œì— ìš”ì²­í•  ê²½ìš° ì‘ë‹µ í—¤ë”ì˜ Set-Cookie ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” CBI_SES ì™€ CBI_CHK ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤.\n2ë‹¨ê³„ ì¸ì¦ ë¶„ì„ # ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„°ëŠ” ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ ë°˜ë“œì‹œ 2ë‹¨ê³„ ì¸ì¦ì„ ê±°ì³ì•¼ í•©ë‹ˆë‹¤.\në§ˆì§€ë§‰ ë‚¨ì€ NSI ê°’ ë˜í•œ í•´ë‹¹ 2ë‹¨ê³„ ì¸ì¦ì„ ê±°ì³ì•¼ ì–»ì„ ìˆ˜ ìˆì„ ê²ƒì´ë¼ ê±±ì •í–ˆì§€ë§Œ, ë‹¤í–‰íˆ 2ë‹¨ê³„ ì¸ì¦ì„ ê±°ì¹˜ì§€ ì•Šì•„ë„ ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ë‚´ì—­ì—ì„œ NSIë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nPOST ìš”ì²­ì´ì§€ë§Œ ì „ë‹¬ë˜ëŠ” ë°ì´í„°ëŠ” ì•„ë˜ì™€ ê°™ì´ ë‹¨ìˆœí–ˆê¸°ì— ì¶”ê°€ì ì¸ ë¶„ì„ ì—†ì´ ë§ˆì§€ë§‰ NSI ê°’ì„ íšë“í–ˆìŠµë‹ˆë‹¤.\nCopy json {\u0026#34;url\u0026#34;: \u0026#34;https://sell.smartstore.naver.com/#/home/dashboard\u0026#34;} ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ êµ¬í˜„ # ì§€ê¸ˆê¹Œì§€ì˜ ê³¼ì •ì„ í†µí•´ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„°ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ í•„ìš”í•œ CBI_SES, CBI_CHK, NSI ê°’ì„ íšë“í•˜ëŠ” ë°©ë²•ì„ íŒŒì•…í–ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ SmartstoreLogin í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.\në„¤ì´ë²„ ë¡œê·¸ì¸ êµ¬í˜„ # ê¸°ì¡´ì˜ ë„¤ì´ë²„ ë¡œê·¸ì¸ ê¸°ëŠ¥ì— OAuth URLì„ ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„ì„ ì¶”ê°€ì‹œí‚¨ nid_login() ë° fetch_oauth_url() ë©”ì†Œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\nCopy python SMARTSTORE_URL = \u0026#34;https://sell.smartstore.naver.com/\u0026#34; SLOGIN_URL = \u0026#34;https://accounts.commerce.naver.com\u0026#34; GRAPHQL_DATA = str({ \u0026#34;operationName\u0026#34;: \u0026#34;snsLoginBegin\u0026#34;, \u0026#34;variables\u0026#34;: { \u0026#34;mode\u0026#34;: \u0026#34;login\u0026#34;, \u0026#34;snsCd\u0026#34;: \u0026#34;naver\u0026#34;, \u0026#34;svcUrl\u0026#34;: \u0026#34;https://sell.smartstore.naver.com/#/login-callback\u0026#34;}, \u0026#34;query\u0026#34;: \u0026#34;mutation snsLoginBegin($mode: String!, $snsCd: String!, $svcUrl: String!, \\ $oneTimeLoginSessionKey: String, $userInfos: [UserInfoEntry!]) {\\n snsBegin(\\n \\ snsLoginBeginRequest: {mode: $mode, snsCd: $snsCd, svcUrl: $svcUrl, oneTimeLoginSessionKey: \\ $oneTimeLoginSessionKey, userInfos: $userInfos}\\n ) {\\n authUrl\\n __typename\\n }\\n}\\n\u0026#34; }).replace(\u0026#39;\\\u0026#39;\u0026#39;,\u0026#39;\\\u0026#34;\u0026#39;) class SmartstoreLogin(NaverLogin): def fetch_oauth_url(self): referer = f\u0026#34;{SLOGIN_URL}/login?url={SMARTSTORE_URL}#/login-callback\u0026#34; headers = self.get_headers(host=SLOGIN_URL, referer=referer) response = self.post(urljoin(SLOGIN_URL, \u0026#34;graphql\u0026#34;), data=GRAPHQL_DATA, headers=headers) self.oauth_url = json.loads(response.text)[\u0026#34;data\u0026#34;][\u0026#34;snsBegin\u0026#34;][\u0026#34;authUrl\u0026#34;] self.oauth_params = {k:v.pop() for k,v in parse_qs(urlparse(self.oauth_url).query).items()} if \u0026#34;auth_type\u0026#34; in self.oauth_params: self.oauth_params.pop(\u0026#34;auth_type\u0026#34;) self.oauth_params = dict(self.oauth_params, **{\u0026#34;locale\u0026#34;:\u0026#34;ko_KR\u0026#34;,\u0026#34;inapp_view\u0026#34;:\u0026#39;\u0026#39;,\u0026#34;oauth_os\u0026#34;:\u0026#39;\u0026#39;}) graphql ì£¼ì†Œì— ëŒ€í•œ ìš”ì²­ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ êµ¬í˜„í•œ ê²ƒì´ GRAPHQL_DATAì´ë©°, ê·¸ ê²°ê³¼ë¡œ OAuth URLì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nOAuth URLì˜ íŒŒë¼ë¯¸í„°ëŠ” í–¥í›„ GraphQL ì¸ì¦ ê³¼ì •ì—ì„œ ì¬í™œìš©ë˜ê¸° ë•Œë¬¸ì— oauth_params ë³€ìˆ˜ì— ì €ì¥í•´ë‘¡ë‹ˆë‹¤.\nCopy python LOGIN_URL = \u0026#34;https://nid.naver.com/nidlogin.login\u0026#34; SLOGIN_DATA = lambda dynamicKey, encpw, bvsd, encnm, client_id: \\ dict(LOGIN_DATA(dynamicKey, encpw, bvsd, encnm), **{\u0026#34;logintp\u0026#34;:\u0026#34;oauth2\u0026#34;,\u0026#34;svctype\u0026#34;:\u0026#34;64\u0026#34;,\u0026#34;client_id\u0026#34;:client_id}) class SmartstoreLogin(NaverLogin): def nid_login(self): self.fetch_keys() self.set_encpw() self.set_bvsd() self.fetch_oauth_url() data = SLOGIN_DATA(self.dynamicKey, self.encpw, self.bvsd, self.encnm, self.oauth_params.get(\u0026#34;client_id\u0026#34;)) headers = self.get_headers(LOGIN_URL, referer=self.oauth_url) headers[\u0026#34;Content-Type\u0026#34;] = \u0026#34;application/x-www-form-urlencoded\u0026#34; headers[\u0026#34;Upgrade-Insecure-Requests\u0026#34;] = \u0026#34;1\u0026#34; response = self.post(LOGIN_URL, data=data, headers=headers) ë„¤ì´ë²„ ë¡œê·¸ì¸ ê³¼ì •ì—ì„œëŠ” bvsd ë¥¼ ìƒì„±í•œ í›„ OAuth URLì„ ì¶”ê°€ë¡œ ê°€ì ¸ì˜¤ê³  client_id ë¥¼ ê¸°ì¡´ì˜ ë¡œê·¸ì¸ ë°ì´í„° ë‚´ì— í¬í•¨ì‹œì¼œ POST ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.\ní•´ë‹¹ ë©”ì†Œë“œì˜ ê²°ê³¼ë¡œ NID_AUT, NID_JKL, NID_SES ë¥¼ ë¶€ì—¬ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nOAuth ë¡œê·¸ì¸ êµ¬í˜„ # OAuth ë¡œê·¸ì¸ì€ ë„¤ì´ë²„ ë¡œê·¸ì¸ê³¼ GraphQL ì¸ì¦ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.\ní˜„ì‹œì ì—ì„œ GraphQL ì¸ì¦ì— í•„ìš”í•œ ê²ƒì€ oauth_token ë¿ì´ê¸° ë•Œë¬¸ì— ì•ì„  ë„¤ì´ë²„ ë¡œê·¸ì¸ ê³¼ì •ì—ì„œ íšë“í•œ ì£¼ì†Œë¡œë¶€í„° oauth_token ì„ ê°€ì ¸ì˜¤ëŠ” ë©”ì†Œë“œ fetch_oauth_token()ê³¼ ì „ì²´ì ì¸ OAuth ë¡œê·¸ì¸ ê³¼ì •ì„ êµ¬í˜„í•œ oauth_login() ë©”ì†Œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\nCopy python OAUTH_URL = \u0026#34;https://nid.naver.com/oauth2.0/authorize\u0026#34; class SmartstoreLogin(NaverLogin): def fetch_oauth_token(self): headers = self.get_headers(LOGIN_URL, referer=LOGIN_URL, cookies=self.get_cookies()) response = self.get(OAUTH_URL, headers=headers, params=self.oauth_params) if re.search(\u0026#34;(?\u0026lt;=oauth_token\\=)(.*?)(?=\u0026amp;)\u0026#34;, response.text): self.oauth_token = re.search(\u0026#34;(?\u0026lt;=oauth_token\\=)(.*?)(?=\u0026amp;)\u0026#34;, response.text).group() Copy python OAUTH_DATA = lambda code, state: str({ \u0026#34;operationName\u0026#34;:\u0026#34;snsLoginCallback\u0026#34;, \u0026#34;variables\u0026#34;: { \u0026#34;code\u0026#34;: code, \u0026#34;state\u0026#34;: state}, \u0026#34;query\u0026#34;:\u0026#34;mutation snsLoginCallback($code: String!, $state: String!) \\ {\\n snsCallback(snsLoginCallbackRequest: {code: $code, state: $state}) \\ {\\n statCd\\n loginStatus\\n nextUrl\\n sessionKey\\n snsCd\\n \\ idNo\\n realnm\\n age\\n email\\n __typename\\n }\\n}\\n\u0026#34; }).replace(\u0026#39;\\\u0026#39;\u0026#39;,\u0026#39;\\\u0026#34;\u0026#39;) class SmartstoreLogin(NaverLogin): def oauth_login(self): self.nid_login() self.fetch_oauth_token() code, state = self.oauth_token, self.oauth_params.get(\u0026#34;state\u0026#34;) referer = SLOGIN_URL+f\u0026#34;/oauth/callback?code={code}\u0026amp;state={state}\u0026#34; headers = self.get_headers(host=SLOGIN_URL, referer=referer, cookies=self.get_cookies()) response = self.post(urljoin(SLOGIN_URL, \u0026#34;graphql\u0026#34;), data=OAUTH_DATA(code, state), headers=headers) 2ë‹¨ê³„ ì¸ì¦ êµ¬í˜„ # 2ë‹¨ê³„ ì¸ì¦ì„ ì§ì ‘ ìˆ˜í–‰í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.\nNSI ì¿ í‚¤ ê°’ì„ í• ë‹¹ë°›ì„ ìˆ˜ ìˆëŠ” ì£¼ì†Œë¡œ POST ìš”ì²­ì„ ë³´ë‚´ëŠ” two_factor_login() ë©”ì†Œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\nCopy python TWOLOGIN_URL = SMARTSTORE_URL+\u0026#34;api/login?url=https%3A%2F%2Fsell.smartstore.naver.com%2F%23%2Fhome%2Fdashboard\u0026#34; TWOLOGIN_DATA = {\u0026#34;url\u0026#34;: \u0026#34;https://sell.smartstore.naver.com/#/home/dashboard\u0026#34;} class SmartstoreLogin(NaverLogin): def two_factor_login(self): headers = self.get_headers(SMARTSTORE_URL, referer=SMARTSTORE_URL, cookies=self.get_cookies()) headers[\u0026#34;Content-Type\u0026#34;] = \u0026#34;application/json;charset=UTF-8\u0026#34; headers[\u0026#34;x-current-state\u0026#34;] = \u0026#34;https://sell.smartstore.naver.com/#/login-callback\u0026#34; headers[\u0026#34;x-current-statename\u0026#34;] = \u0026#34;login-callback\u0026#34; headers[\u0026#34;x-to-statename\u0026#34;] = \u0026#34;login-callback\u0026#34; response = self.post(TWOLOGIN_URL, data=TWOLOGIN_DATA, headers=headers) ë¡œê·¸ì¸ ë©”ì†Œë“œ êµ¬í˜„ # SmartstoreLogin ê°ì²´ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” login() ë©”ì†Œë“œë¥¼ í™œìš©í•©ë‹ˆë‹¤.\nCopy python class SmartstoreLogin(NaverLogin): def login(self): email_pattern = re.compile(\u0026#34;[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+\u0026#34;) self.seller_login() if email_pattern.search(self.userid) else self.oauth_login() self.two_factor_login() í–¥í›„ íŒë§¤ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•˜ëŠ” ê²½ìš°ë¥¼ ê³ ë ¤í•´ useridê°€ ì´ë©”ì¼ì¸ ê²½ìš° seller_login() ì´ë¼ëŠ” ë¯¸êµ¬í˜„ëœ ë©”ì†Œë“œë¥¼ ì‹¤í–‰í•˜ë„ë¡ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\nì¼ë°˜ì ì¸ ë„¤ì´ë²„ ì•„ì´ë””ë¥¼ ì‚¬ìš©í•  ê²½ìš°ì—” OAuth ë¡œê·¸ì¸ê³¼ 2ë‹¨ê³„ ì¸ì¦ì„ ê±°ì³ ì²˜ìŒ ëª©ì ìœ¼ë¡œ í–ˆë˜ ì•„ë˜ì˜ ëª¨ë“  ì¿ í‚¤ ê°’ì„ íšë“í•˜ê²Œ ë©ë‹ˆë‹¤.\nCopy python cookies = { \u0026#34;NNB\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;nid_inf\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_AUT\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_JKL\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_CHK\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NSI\u0026#34;: \u0026#34;...\u0026#34;, } í•´ë‹¹ ì¿ í‚¤ë¥¼ ê°€ì§„ SmartstoreLogin ê°ì²´ë¥¼ ì„¸ì…˜ ê°ì²´ë¡œ í™œìš©í•œë‹¤ë©´ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë‚´ ì–´ë–¤ ë°ì´í„°ë¼ë„ íŒŒì´ì¬ requests ëª¨ë“ˆë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.\n"},{"id":27,"href":"/blog/smartstore-login-2/","title":"[Python] requestsë¡œ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ êµ¬í˜„í•˜ê¸° (2)","content":"ì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° í˜ì´ì§€ì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ìë™í™” í”„ë¡œê·¸ë¨ì„ ì œì‘í•˜ê¸° ìœ„í•œ ì²« ë²ˆì§¸ ê³¼ì •ìœ¼ë¡œ ë„¤ì´ë²„ ë¡œê·¸ì¸ì„ êµ¬í˜„í•  ê²ƒì…ë‹ˆë‹¤.\nì•ì„  ê²Œì‹œê¸€ì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ë°©ì‹ì— ëŒ€í•´ ì•Œì•„ë³´ë©´ì„œ ë¡œê·¸ì¸ì´ í•„ìš”í•œ í˜ì´ì§€ì— ì ‘ê·¼í•˜ê¸° ë‹¤ìŒê³¼ ê°™ì€ ì¿ í‚¤ ê°’ì´ í•„ìš”í•¨ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤.\nCopy python cookies = { \u0026#34;NNB\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;nid_inf\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_AUT\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_JKL\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_CHK\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NSI\u0026#34;: \u0026#34;...\u0026#34;, } ìœ„ í‚¤ê°’ë“¤ì€ ì•ìœ¼ë¡œ ë¡œê·¸ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ íŒŒì•…í•˜ëŠ” ê³¼ì •ì—ì„œ ì¤‘ìš”í•˜ê²Œ í™œìš©ë©ë‹ˆë‹¤.\në„¤ì´ë²„ ë¡œê·¸ì¸ ì´í•´ # ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ ê³¼ì •ì—ì„œ ì§„í–‰ë˜ëŠ” ë„¤ì´ë²„ ë¡œê·¸ì¸ì€ ì¼ë°˜ì ì¸ ë„¤ì´ë²„ ë¡œê·¸ì¸ê³¼ëŠ” ë‹¤ë¥¸ ê³¼ì •ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.\në”°ë¼ì„œ ìš°ì„  ì¼ë°˜ì ì¸ ë„¤ì´ë²„ ë¡œê·¸ì¸ ê³¼ì •ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\ní•´ë‹¹ íŒŒíŠ¸ëŠ” ì•„ë˜ ê²Œì‹œê¸€ì„ ì°¸ê³ í•´ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\níŒŒì´ì¬#76 - íŒŒì´ì¬ í¬ë¡¤ë§ requests ë¡œ ë„¤ì´ë²„ ë¡œê·¸ì¸ í•˜ê¸° ê°œì¸ì ìœ¼ë¡œ íŒŒì´ì¬ í¬ë¡¤ë§ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ë‹¤ë³´ë©´ ë„¤ì´ë²„ì—ì„œ ì œê³µí•˜ëŠ” ë°ì´í„°ë¥¼ ì‚¬ìš©í• ë•Œê°€ ë§ìŠµë‹ˆë‹¤. ê·¸... ë„¤ì´ë²„ ë¸”ë¡œê·¸ | â–’ Blog Of Life â–’ ë„¤ì´ë²„ ë¡œê·¸ì¸ ìš”ì²­ ë¶„ì„ # ë„¤ì´ë²„ ë¡œê·¸ì¸ ê³¼ì •ì„ ë¶„ì„í•˜ê¸° ìœ„í•´ì„œëŠ” ìš°ì„  ë„¤ì´ë²„ ë¡œê·¸ì¸ì„ ìš”ì²­ì„ ì‹œë„í•˜ì—¬ ì „ë‹¬ë˜ëŠ” ê°’ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.\në„¤ì´ë²„ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸ì„ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œê²¬í•  ìˆ˜ ìˆëŠ” POST ìš”ì²­ì„ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„°ê°€ ì „ë‹¬ë¨ì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì•”í˜¸í™”ëœ ê°’ì„ ìƒëµí•˜ê³  í‚¤ë¡œ ì „ë‹¬ë˜ëŠ” ë‚´ìš©ì„ í™•ì¸í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\nCopy json { \u0026#34;localechange\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;dynamicKey\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;encpw\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;enctp\u0026#34;: 1, \u0026#34;svctype\u0026#34;: 1, \u0026#34;smart_LEVEL\u0026#34;: 1, \u0026#34;bvsd\u0026#34;: { \u0026#34;uuid\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;encData\u0026#34;: \u0026#34;...\u0026#34; }, \u0026#34;encnm\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;locale\u0026#34;: \u0026#34;ko_KR\u0026#34;, \u0026#34;url\u0026#34;: \u0026#34;https://www.naver.com\u0026#34;, \u0026#34;id\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;pw\u0026#34;: \u0026#34;\u0026#34; } ê³µë°±ì´ë‚˜ ê³ ì •ëœ ê°’ì„ ê°€ì§„ í‚¤ë¥¼ ì œì™¸í•˜ë©´ ê²°ê³¼ì ìœ¼ë¡œ dynamicKey, encpw, bvsd, encnm ë¥¼ ë°í˜€ë‚´ëŠ” ê²ƒì´ ì¤‘ìš”í•  ê²ƒì´ë¼ íŒë‹¨ë©ë‹ˆë‹¤.\në„¤ì´ë²„ ë¡œê·¸ì¸ í¼ ë¶„ì„ # í‚¤ì˜ ëª…ì¹­ë§Œìœ¼ë¡œëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë¡œê·¸ì¸ í˜ì´ì§€ ì†ŒìŠ¤ì—ì„œ í‚¤ëª…ì¹­ì„ ê²€ìƒ‰í•˜ì˜€ê³  ë„¤ì´ë²„ ë¡œê·¸ì¸ í¼ì—ì„œ í•˜ë‚˜ì˜ ë‹¨ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\ndynamicKey ì˜ ê²½ìš° ë¡œê·¸ì¸ í¼ì— ë™ì ìœ¼ë¡œ ë¶€ì—¬ë˜ëŠ” ê°’ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë‚˜ë¨¸ì§€ encpw, bvsd, encnm ì˜ ê°’ì€ ë¹„ì–´ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‘ë‹µì„ ë¶„ì„í•´ì•¼ í•©ë‹ˆë‹¤.\në„¤ì´ë²„ ë¡œê·¸ì¸ RSA ì•”í˜¸í™” # encpw ê°’ì— ëŒ€í•œ ë‹¨ì„œë¥¼ ì°¾ê¸° ìœ„í•´ ì „ì²´ ê²€ìƒ‰ì„ ìˆ˜í–‰í–ˆì„ ë•Œ common_202201.js ë‚´ë¶€ì—ì„œ RSA ì•”í˜¸í™” ì²˜ë¦¬ë¥¼ í†µí•´ ê°’ì„ ìƒì„±í•¨ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ ì¤‘ì—ì„œ ê°€ì¥ ì²˜ìŒ ë‹¨ê³„ë¡œ ì‹¤í–‰ë  ê²ƒì´ë¼ ì¶”ì¸¡ë˜ëŠ” ê²ƒì´ ì•„ë˜ confirmSubmit() í•¨ìˆ˜ì…ë‹ˆë‹¤.\ní•´ë‹¹ í•¨ìˆ˜ëŠ” ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ì˜ ì—¬ë¶€ë¥¼ ì²´í¬í•˜ê³  encryptIdPw() í•¨ìˆ˜ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë°”ë¡œ ë°‘ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” encryptIdPw() í•¨ìˆ˜ì˜ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\nCopy js function encryptIdPw() { var id = $(\u0026#34;id\u0026#34;); var pw = $(\u0026#34;pw\u0026#34;); var encpw = $(\u0026#34;encpw\u0026#34;); var rsa = new RSAKey; if (keySplit(session_keys)) { rsa.setPublic(evalue, nvalue); try{ encpw.value = rsa.encrypt( getLenChar(sessionkey) + sessionkey + getLenChar(id.value) + id.value + getLenChar(pw.value) + pw.value); } catch(e) { return false; } $(\u0026#39;enctp\u0026#39;).value = 1; id.value = \u0026#34;\u0026#34;; pw.value = \u0026#34;\u0026#34;; return true; } else { getKeyByRuntimeInclude(); return false; } return false; } í•´ë‹¹ í•¨ìˆ˜ëŠ” session_keys ë¼ëŠ” ê°’ì„ ì²˜ë¦¬í•˜ê³  RSA ì•”í˜¸í™”í•œ ê²°ê³¼ë¥¼ encpw ì˜ ê°’ìœ¼ë¡œ ëŒ€ì²´í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ í•´ë‹¹ ëª…ì¹­ì„ ê²€ìƒ‰í–ˆì„ ë•Œ session_keys ëŠ” Ajax í†µì‹ ì˜ ì‘ë‹µ ê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ë„¤ì´ë²„ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ svctype=262144 ë¥¼ ì¶”ê°€ì ì¸ íŒŒë¼ë¯¸í„°ë¡œ ì…ë ¥í•  ê²½ìš° ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ëª¨ë°”ì¼ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ í•´ë‹¹ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\në‹¤ì‹œ encryptIdPw() í•¨ìˆ˜ë¡œ ëŒì•„ê°€ì„œ session_keys ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ keySplit() í•¨ìˆ˜ë¥¼ ì°¾ì•„ë³´ì•˜ìŠµë‹ˆë‹¤.\nCopy js function keySplit(a) { keys = a.split(\u0026#34;,\u0026#34;); if (!a || !keys[0] || !keys[1] || !keys[2] || !keys[3]) { return false; } sessionkey = keys[0]; keyname = keys[1]; evalue = keys[2]; nvalue = keys[3]; $(\u0026#34;encnm\u0026#34;).value = keyname; return true } ëª¨ë°”ì¼ í˜ì´ì§€ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” session_keys ê°’ì€ ì½¤ë§ˆë¥¼ ê¸°ì¤€ìœ¼ë¡œ 4ê°œì˜ ê°’ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ìˆì—ˆëŠ”ë° í•´ë‹¹ í•¨ìˆ˜ì—ì„œëŠ” ê°ê°ì„ sessionKey, encnm, evalue, nvalue ìœ¼ë¡œ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.\nì—¬ê¸°ì„œ encnm ê°’ì„ ìš°ì„ ì ìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì—ˆê³ , ë‹¤ìŒìœ¼ë¡œ encpw ê°’ì„ ì°¾ê¸° ìœ„í•´ RSA ì•”í˜¸í™” ë¶€ë¶„ì„ íƒìƒ‰í•´ë´…ë‹ˆë‹¤.\nCopy js rsa.setPublic(evalue, nvalue); encpw.value = rsa.encrypt( getLenChar(sessionkey) + sessionkey + getLenChar(id.value) + id.value + getLenChar(pw.value) + pw.value); session_keys ì—ì„œ ë¶„ë¦¬ëœ evalue ì™€ nvalue ë¡œ RSA ê³µê°œí‚¤ë¥¼ ìƒì„±í•˜ê³  ë§ˆì°¬ê°€ì§€ë¡œ session_keysì— í¬í•¨ëœ sessionKey ë° ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸ì˜ ì¡°í•©ì„ ì•”í˜¸í™”í•œ ê²°ê³¼ê°€ encpwì„ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\níŒŒì´ì¬ì—ì„œëŠ” ê³µê°œí‚¤ ìƒì„±ì„ rsa.PublicKey() í•¨ìˆ˜ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©° rsa.encrypt() í•¨ìˆ˜ë¡œ RSA ì•”í˜¸í™”ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ë©ë‹ˆë‹¤.\nCopy python publicKey = rsa.PublicKey(int(nvalue,16), int(evalue,16)) value = \u0026#39;\u0026#39;.join([chr(len(key))+key for key in [sessionKey, id, pw]]) encpw = rsa.encrypt(value.encode(), publicKey).hex() ì—¬ê¸°ê¹Œì§€ì˜ ê³¼ì •ìœ¼ë¡œ dynamicKey, encpw, encnm ì˜ ê°’ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nbvsd ê°’ ìƒì„±í•˜ê¸° # ë§ˆì§€ë§‰ìœ¼ë¡œ í•„ìš”í•œ bvsd ê°’ì— ëŒ€í•œ ë‹¨ì„œëŠ” ì‘ë‹µ ë¬¸ì„œ ë‚´ì—ì„œ bvsd.1.3.8.min.js ë€ ëª…ì¹­ìœ¼ë¡œ ì•Œê¸° ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ ê·¸ ë‚´ìš©ì€ ê°€ë…ì„± ë©´ì—ì„œ ì‰½ê²Œ í•´ì„í•˜ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤.\në‹¤ë¥¸ ìë£Œë¥¼ ì°¸ê³ í–ˆì„ ë•Œ bvsd ëŠ” ë¸Œë¼ìš°ì €ê°€ ì •ìƒì ì¸ì§€ ì—¬ë¶€ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•œ ê°’ìœ¼ë¡œ í•´ë‹¹ ê°’ì´ ì—†ì„ ê²½ìš° ë¡œê·¸ì¸ ê³¼ì •ì—ì„œ ìº¡ì°¨ë¥¼ ë°œìƒì‹œí‚¨ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nbvsd.1.3.8.min.js ì—ì„œ ì£¼ëª©í•  ë¶€ë¶„ì€ uuid ë° encData ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì¸ë° ì•„ë˜ ì½”ë“œì—ì„œ encData ëŠ” o ë¼ëŠ” ê°’ì„ ì¸ì½”ë”©í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì¸¡ë©ë‹ˆë‹¤.\no ê°’ì„ ì½”ë“œ ë‚´ì—ì„œ ì°¾ì•„ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì´ ë””ë°”ì´ìŠ¤ì˜ ë§ˆìš°ìŠ¤ ìƒíƒœ ë“±ì„ ê¸°ë¡í•œ ê°’ì„ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.\nCopy js o = { a: n, b: \u0026#34;1.3.8\u0026#34;, c: (0, m[\u0026#34;default\u0026#34;])(), d: r, e: this._deviceOrientation.get(), f: this._deviceMotion.get(), g: this._mouse.get(), j: this._fpDuration || y.NOT_YET, h: this._fpHash || \u0026#34;\u0026#34;, i: this._fpComponent || [] }; í•˜ì§€ë§Œ ê°ê°ì˜ ê°’ì„ í•´ì„í•˜ê³  ìƒì„±í•˜ëŠ” ê²ƒì€ ì‰½ì§€ ì•Šì•˜ê¸°ì— ì´ë¯¸ ì™„ì„±ëœ ì½”ë“œë¥¼ ì°¸ê³ í•˜ì—¬ set_bvsd() ë©”ì†Œë“œë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\nencDataì˜ ì¸ì½”ë”©ì—ëŠ” lzstring ëª¨ë“ˆì˜ LZString.compressToEncodedURIComponent() í•¨ìˆ˜ë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤.\nCopy python from lzstring import LZString import uuid ENC_DATA = lambda uuid, userid, passwd: str({ \u0026#34;a\u0026#34;: f\u0026#34;{uuid}-4\u0026#34;, \u0026#34;b\u0026#34;: \u0026#34;1.3.4\u0026#34;, \u0026#34;d\u0026#34;: [{ \u0026#34;i\u0026#34;: \u0026#34;id\u0026#34;, \u0026#34;b\u0026#34;: {\u0026#34;a\u0026#34;: [\u0026#34;0\u0026#34;, userid]}, \u0026#34;d\u0026#34;: userid, \u0026#34;e\u0026#34;: \u0026#34;false\u0026#34;, \u0026#34;f\u0026#34;: \u0026#34;false\u0026#34; }, { \u0026#34;i\u0026#34;: passwd, \u0026#34;e\u0026#34;: \u0026#34;true\u0026#34;, \u0026#34;f\u0026#34;: \u0026#34;false\u0026#34; }], \u0026#34;h\u0026#34;: \u0026#34;1f\u0026#34;, \u0026#34;i\u0026#34;: {\u0026#34;a\u0026#34;: \u0026#34;Mozilla/5.0\u0026#34;} }).replace(\u0026#39;\\\u0026#39;\u0026#39;,\u0026#39;\\\u0026#34;\u0026#39;) class NaverLogin(LoginSpider): def set_bvsd(self): uuid4 = str(uuid.uuid4()) encData = LZString.compressToEncodedURIComponent(ENC_DATA(uuid4, self.userid, self.passwd)) self.bvsd = str({\u0026#34;uuid\u0026#34;:uuid4, \u0026#34;encData\u0026#34;:encData}).replace(\u0026#39;\\\u0026#39;\u0026#39;,\u0026#39;\\\u0026#34;\u0026#39;) ë„¤ì´ë²„ ë¡œê·¸ì¸ êµ¬í˜„ # ì§€ê¸ˆê¹Œì§€ì˜ ê³¼ì •ì„ í†µí•´ ë„¤ì´ë²„ ë¡œê·¸ì¸ì— í•„ìš”í•œ dynamicKey, encpw, bvsd, encnm ê°’ì„ ìƒì„±í•˜ëŠ” ë²•ì„ íŒŒì•…í–ˆìŠµë‹ˆë‹¤.\nì´ë¥¼ NaverLogin í´ë˜ìŠ¤ì˜ ë©”ì†Œë“œë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.\nRSA ì•”í˜¸í™” êµ¬í˜„ # ë¨¼ì € dynamicKey ì™€ í•¨ê»˜ encpw, encmn ìƒì„±ì— í•„ìš”í•œ session_keys ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ë©”ì†Œë“œ fetch_keys() ì™€, RSA ì•”í˜¸í™”ë¥¼ í†µí•´ encpw ê°’ì„ êµ¬í•˜ëŠ” set_encpw() ë©”ì†Œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\nCopy python from bs4 import BeautifulSoup import rsa LOGIN_URL = \u0026#34;https://nid.naver.com/nidlogin.login\u0026#34; class NaverLogin(LoginSpider): def fetch_keys(self): response = self.get(LOGIN_URL, headers=self.get_headers(host=LOGIN_URL), params={\u0026#34;svctype\u0026#34;:\u0026#34;262144\u0026#34;}) source = BeautifulSoup(response.text, \u0026#39;lxml\u0026#39;) keys = source.find(\u0026#34;input\u0026#34;, {\u0026#34;id\u0026#34;:\u0026#34;session_keys\u0026#34;}).attrs.get(\u0026#34;value\u0026#34;) self.sessionKey, self.encnm, n, e = keys.split(\u0026#34;,\u0026#34;) self.dynamicKey = source.find(\u0026#34;input\u0026#34;, {\u0026#34;id\u0026#34;:\u0026#34;dynamicKey\u0026#34;}).attrs.get(\u0026#34;value\u0026#34;) self.publicKey = rsa.PublicKey(int(n,16), int(e,16)) session_keys ì˜ ê²½ìš° ëª¨ë°”ì¼ ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œë§Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— svctype=262144 ë¥¼ GET ìš”ì²­ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•´ ëª¨ë°”ì¼ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\nnvalue ì™€ evalue ëŠ” ë³„ë„ì˜ ë³€ìˆ˜ë¡œ ì €ì¥í•˜ì§€ ì•Šê³  publicKey ë¥¼ ìƒì„±í•´ í´ë˜ìŠ¤ ë³€ìˆ˜ë¡œ ì €ì¥í•©ë‹ˆë‹¤.\nCopy python class NaverLogin(LoginSpider): def set_encpw(self): value = \u0026#34;\u0026#34;.join([chr(len(key))+key for key in [self.sessionKey, self.userid, self.passwd]]) self.encpw = rsa.encrypt(value.encode(), self.publicKey).hex() ì•ì—ì„œ ê°€ì ¸ì˜¨ sessionKey ì™€ í•¨ê»˜ ë¯¸ë¦¬ ì´ˆê¸°í™”ëœ ë„¤ì´ë²„ ì•„ì´ë”” ë° ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¡°í•© ë° ì•”í˜¸í™”í•˜ì—¬ encpw ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nPOST ìš”ì²­ êµ¬í˜„ # ë¯¸ë¦¬ ì •ì˜í•œ set_bvsd() ë©”ì†Œë“œë¥¼ í¬í•¨í•´ ëª¨ë“  ì¤€ë¹„ ê³¼ì •ì´ ë§ˆë¬´ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.\ní´ë˜ìŠ¤ ë³€ìˆ˜ë¡œ ì €ì¥ëœ ì•”í˜¸í™”ëœ ê°’ë“¤ì„ ë°ì´í„°ì— ë‹´ì•„ POST ë¡œê·¸ì¸ ìš”ì²­ì„ ë³´ë‚´ëŠ” login() ë©”ì†Œë“œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy python NAVER_URL = \u0026#34;https://www.naver.com\u0026#34; LOGIN_DATA = lambda dynamicKey, encpw, bvsd, encnm: { \u0026#34;localechange\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;dynamicKey\u0026#34;: dynamicKey, \u0026#34;encpw\u0026#34;: encpw, \u0026#34;enctp\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;svctype\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;smart_LEVEL\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;bvsd\u0026#34;: bvsd, \u0026#34;encnm\u0026#34;: encnm, \u0026#34;locale\u0026#34;: \u0026#34;ko_KR\u0026#34;, \u0026#34;url\u0026#34;: quote_plus(NAVER_URL), \u0026#34;id\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;pw\u0026#34;: \u0026#34;\u0026#34;, } class NaverLogin(LoginSpider): def login(self): self.fetch_keys() self.set_encpw() self.set_bvsd() data = LOGIN_DATA(self.dynamicKey, self.encpw, self.bvsd, self.encnm) headers = self.get_headers(LOGIN_URL, referer=LOGIN_URL) headers[\u0026#34;Content-Type\u0026#34;] = \u0026#34;application/x-www-form-urlencoded\u0026#34; headers[\u0026#34;Upgrade-Insecure-Requests\u0026#34;] = \u0026#34;1\u0026#34; self.post(LOGIN_URL, data=data, headers=headers) POST ìš”ì²­ ì‹œ ì „ë‹¬ë˜ì—ˆë˜ ë°ì´í„°ì™€ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•˜ëŠ” LOGIN_DATA í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ì•”í˜¸í™”ëœ ê°’ì„ ì „ë‹¬í•´ ìµœì¢…ì ì¸ POST ë°ì´í„°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\ní•´ë‹¹ ë°ì´í„°ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ê²½ìš° ì •ìƒì ì¸ ì‘ë‹µì„ ë°›ê²Œ ë˜ê³  NaverLogin ì„¸ì…˜ ê°ì²´ì˜ ì¿ í‚¤ ê°’ì„ í™•ì¸í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy python naver = NaverLogin(\u0026#34;userid\u0026#34;, \u0026#34;passwd\u0026#34;) naver.login() naver.get_cookies() ====================================== \u0026#39;NID_AUT=...; NID_JKL=...; NID_SES=...; nid_inf=1228467713\u0026#39; ë˜í•œ í•´ë‹¹ ê²°ê³¼ëŠ” ê°œë°œì ë„êµ¬ì—ì„œë„ ì‘ë‹µ í—¤ë”ì˜ set-cookie ê°’ì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì§€ê¸ˆê¹Œì§€ì˜ ê³¼ì •ìœ¼ë¡œ ë„¤ì´ë²„ ë¡œê·¸ì¸ ê³¼ì •ì„ ê±°ì³¤ì„ ë•Œ, ê²Œì‹œê¸€ì˜ ì„œë‘ì—ì„œ ì–¸ê¸‰í•œ ì¿ í‚¤ ê°’ì˜ ëª©ë¡ ì¤‘ì—ì„œ ì¼ë¶€ ê°’ì„ íšë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy python cookies = { \u0026#34;NNB\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;nid_inf\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_AUT\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_JKL\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_CHK\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NSI\u0026#34;: \u0026#34;...\u0026#34;, } ì´ ì¤‘ì—ì„œ NNB ì˜ ê²½ìš° ë„¤ì´ë²„ í˜ì´ì§€ ì ‘ì† ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ ë¶€ì—¬ë˜ëŠ” ê°’ì´ê¸° ë•Œë¬¸ì— ë¬´ì‹œí•˜ê³  NID_AUT, NID_JKL, NID_SES ê°€ ì±„ì›Œì¡ŒìŠµë‹ˆë‹¤.\në‚˜ë¨¸ì§€ ê°’ë“¤ì€ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ ê³¼ì •ì—ì„œ ì–»ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‹¤ìŒ ê²Œì‹œê¸€ì—ì„œ ë‹¤ë¤„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.\n"},{"id":28,"href":"/blog/smartstore-login-1/","title":"[Python] requestsë¡œ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ êµ¬í˜„í•˜ê¸° (1)","content":"ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„°ì—ì„œëŠ” ë§¤ì¶œ í–¥ìƒì— ë„ì›€ì„ ì£¼ëŠ” ìœ ìš©í•œ í†µê³„ ë°ì´í„°ë¥¼ ì œê³µí•´ì¤ë‹ˆë‹¤.\nì‡¼í•‘ëª° ë°ì´í„°ë¥¼ ë¶„ì„í•˜ëŠ” ì…ì¥ì—ì„œ ë¬´ë£Œë¡œ ì œê³µë˜ëŠ” ì´ëŸ° ë°ì´í„°ëŠ” í° ë„ì›€ì´ ë˜ì§€ë§Œ, ëŒ€ë¶€ë¶„ì´ ì—‘ì…€ íŒŒì¼ ë‹¤ìš´ë¡œë“œë¥¼ ì§€ì›í•˜ì§€ ì•Šê³  ë¹ˆë²ˆí•˜ê²Œ ìˆ˜ì¹˜ê°€ ë°”ë€ŒëŠ” ë°ì´í„°ë¥¼ ê°ê°ì˜ ë©”ë‰´ì—ì„œ ë§¤ë²ˆ í™•ì¸í•˜ê¸°ë„ ì–´ë µìŠµë‹ˆë‹¤. ì´ëŸ° ë°ì´í„°ë¥¼ ìë™í™” í”„ë¡œê·¸ë¨ìœ¼ë¡œ ìˆ˜ì§‘ ë° ì ì¬í•  ìˆ˜ ìˆë‹¤ë©´ ì—…ë¬´ íš¨ìœ¨ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\nì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” ì‹¤ì œ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ ë¡œê·¸ì¸ êµ¬í˜„ì— ì•ì„œ ë°ì´í„° ìˆ˜ì§‘ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì§„í–‰í•˜ê³  ë„¤ì´ë²„ ë¡œê·¸ì¸ êµ¬í˜„ì˜ ë°”íƒ•ì´ ë˜ëŠ” í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\në°ì´í„° ìˆ˜ì§‘ ê°œìš” # ë„¤ì´ë²„ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•  ë•Œ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ì•ˆì€ 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.\nì²« ë²ˆì§¸ëŠ” CSS Selector ë˜ëŠ” XPathë¥¼ í™œìš©í•´ ì›¹ì‚¬ì´íŠ¸ íŠ¹ì • ìœ„ì¹˜ì˜ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒ,\në‘ ë²ˆì§¸ëŠ” APIì— ìš”ì²­ì„ ë³´ë‚´ JSON í˜•íƒœì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤.\níŠ¹ì • ìœ„ì¹˜ì˜ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ì²« ë²ˆì§¸ ë°©ì‹ì€ UIì— ì˜ì¡´ì ì´ì–´ì„œ ì½”ë“œì˜ ì§€ì†ì„±ì„ ë³´ì¥í•˜ê¸° ì–´ë µê³  ì›í•˜ëŠ” ë°ì´í„°ì™€ ê´€ë ¨ì—†ëŠ” ì›¹ ì†ŒìŠ¤ ì „ì²´ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ë•Œë¬¸ì— ì†ë„ ë©´ì—ì„œë„ ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ, APIë¥¼ ì œê³µí•˜ëŠ” ê²½ìš° ë‘ ë²ˆì§¸ ë°©ì‹ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.\në°ì´í„° ìˆ˜ì§‘ ì‹œë‚˜ë¦¬ì˜¤ # ë„¤ì´ë²„ ì‡¼í•‘ì—ì„œ í‘œì‹œë˜ëŠ” ìƒí’ˆì˜ ìˆœìœ„ëŠ” ê²€ìƒ‰ì¸ê¸°ë„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²°ì •ë©ë‹ˆë‹¤. í‚¤ì›Œë“œë³„ ìƒìœ„ê¶Œ ìƒí’ˆì˜ ê²€ìƒ‰ì¸ê¸°ë„ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ì˜ˆì‹œë¡œ ë°ì´í„° ìˆ˜ì§‘ì„ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.\nìœ„ ì´ë¯¸ì§€ì—ì„œ ì™¼ìª½ ë¶€ë¶„ì€ ì‹¤ì œ UI, ì˜¤ë¥¸ìª½ ë¶€ë¶„ì€ HTML ì†ŒìŠ¤ ì…ë‹ˆë‹¤.\ní•´ë‹¹ ì†ŒìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤ë©´ div.popularity-product \u0026gt; div.box-border ìœ„ì¹˜ì—ì„œ dd íƒœê·¸ë¥¼ ìˆœì„œëŒ€ë¡œ ì§€ì •í•´ì„œ ê°ê°ì˜ ì¢…í•©, ì í•©ë„, ì¸ê¸°ë„ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní•´ë‹¹ ë°ì´í„°ë¥¼ ë¶„ì„ì— í™œìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì¸ê¸°ë„ ìˆ˜ì¹˜ë¥¼ êµ¬ì„±í•˜ëŠ” í´ë¦­ìˆ˜, íŒë§¤ì‹¤ì  ë“±ë„ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ìƒì„¸ë³´ê¸° í˜ì´ì§€ë¥¼ í™•ì¸í•´ì•¼í•˜ê³  ê²°ê³¼ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ìƒí’ˆì— ëŒ€í•œ ë°ì´í„°ë¥¼ ë³´ê¸° ìœ„í•´ ë‘ ê°œì˜ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•´ì•¼ í•©ë‹ˆë‹¤.\ní•˜ì§€ë§Œ ë„¤ì´ë²„ì˜ ëŒ€ë¶€ë¶„ì˜ ì›¹í˜ì´ì§€ëŠ” APIë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°€ì ¸ì˜¨ ë°ì´í„°ë¡œ êµ¬ì„±ë˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ APIë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤ë©´ ë”ìš± íš¨ìœ¨ì ì¸ ë°ì´í„° ìˆ˜ì§‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nì„œë²„ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ë°ì´í„°ë¥¼ í™•ì¸í•  ë•ŒëŠ” ì£¼ë¡œ ê°œë°œì ë„êµ¬ì˜ ë„¤íŠ¸ì›Œí¬ íƒ­ì„ í™œìš©í•©ë‹ˆë‹¤. ì›¹í˜ì´ì§€ ë¡œë“œ ì‹œ ê°€ì ¸ì˜¤ëŠ” ë¬¸ì„œë¥¼ í™•ì¸í•˜ë‹¤ë³´ë©´ ìœ„ ì´ë¯¸ì§€ì™€ ê°™ì´ ëª©í‘œë¡œ í•˜ëŠ” ë°ì´í„°ë¥¼ ë³´ë‚´ì£¼ëŠ” APIë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìƒˆ íƒ­ì—ì„œ í•´ë‹¹ API ì£¼ì†Œë¥¼ ìš”ì²­í•˜ë©´ ìœ„ ì´ë¯¸ì§€ ë‚´ ì˜¤ë¥¸ìª½ ë¶€ë¶„ê³¼ ê°™ì€ JSON í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì‹¤ì œ UIì—ì„œ ê°€ì ¸ì˜¤ê³ ì í•˜ëŠ” ì¢…í•©, ì í•©ë„, ì¸ê¸°ë„ ìˆ˜ì¹˜ë„ í•´ë‹¹ ë°ì´í„°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ì¶”ê°€ë¡œ í´ë¦­ìˆ˜, íŒë§¤ì‹¤ì  ë“±ì— ëŒ€í•œ ìˆ˜ì¹˜ ë°ì´í„°ë„ í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ APIë¥¼ í™œìš©í•˜ë©´ ë‹¤ìˆ˜ì˜ í˜ì´ì§€ì— ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ê³ ë„ ì¤„ì–´ë“¤ê²Œ ë©ë‹ˆë‹¤.\në¡œê·¸ì¸ì´ í•„ìš”í•œ í˜ì´ì§€ì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° # ì—¬ê¸°ê¹Œì§€ëŠ” ê°„ë‹¨í•´ë³´ì´ì§€ë§Œ ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë°ì´í„°ë¥¼ requests ëª¨ë“ˆë¡œ ê°€ì ¸ì˜¤ëŠ”ë°ëŠ” í•˜ë‚˜ì˜ ì¶”ê°€ì ì¸ ë¬¸ì œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.\në‹¨ìˆœí•œ GET ìš”ì²­ì¼ì§€ë¼ë„ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ê°–ê³  ìˆì§€ ì•Šë‹¤ë©´ ë°ì´í„°ë¥¼ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„°ì— ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ìœ„ API ì£¼ì†Œë¡œ ìš”ì²­ì„ ë³´ë‚´ê²Œ ëœë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy json { \u0026#34;error\u0026#34;: \u0026#34;Full authentication is required to access this resource\u0026#34; } ì´ ë¬¸ì œì— ëŒ€í•œ í•´ê²°ë°©ë²•ì€ í—¤ë”ì— ìˆìŠµë‹ˆë‹¤. ê°œë°œì ë„êµ¬ ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ í•˜ë‚˜ì˜ ë¬¸ì„œë¥¼ í´ë¦­í•˜ê³  Headers íƒ­ì—ì„œ ìŠ¤í¬ë¡¤ì„ ë‚´ë¦¬ë©´ ì•„ë˜ì™€ ê°™ì€ Request Headers ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì‹œ ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì •ë³´ë¥¼ í™•ì¸í•  ëª©ì ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ì— ì¿ í‚¤ë¼ëŠ” ì•”í˜¸í™”ëœ ì¸ì¦ ì •ë³´ë¥¼ ë‚¨ê¹ë‹ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ í•´ë‹¹ ì •ë³´ë¥¼ í—¤ë”ì— ë‹´ì•„ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²½ìš°ì—ë§Œ ì„œë²„ê°€ ì˜¬ë°”ë¥¸ ì‘ë‹µì„ ì „ë‹¬í•©ë‹ˆë‹¤.\nrequests ëª¨ë“ˆì—ì„œëŠ” ì´ëŸ¬í•œ ê³¼ì •ì„ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy python headers = {\u0026#34;cookie\u0026#34;: \u0026#34;...\u0026#34;} response = requests.get(url, headers=headers) í•˜ì§€ë§Œ ì¼ë°˜ì ì¸ ì¿ í‚¤ ê°’ì€ 30ë¶„ì˜ ìœ í†µê¸°í•œì´ ìˆê¸° ë•Œë¬¸ì—, ë§¤ë²ˆ ì¿ í‚¤ ê°’ì„ ê°±ì‹ í•´ì•¼ í•˜ëŠ”ë° ìë™í™” í”„ë¡œê·¸ë¨ì„ ëŒë¦¬ê¸° ì „ì— ì§ì ‘ ë¡œê·¸ì¸í•´ì„œ ì¿ í‚¤ ê°’ì„ ê°±ì‹ í•˜ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ëª»í•©ë‹ˆë‹¤.\nê²°ê³¼ì ìœ¼ë¡œ ë¡œê·¸ì¸ì´ í•„ìš”í•œ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ í˜ì´ì§€ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œëŠ” ìë™í™”ëœ ë¡œê·¸ì¸ ê³¼ì •ì„ ê±°ì³ì„œ ì¿ í‚¤ ê°’ì„ ê°±ì‹ í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\nì¿ í‚¤ í™•ì¸í•˜ê¸° # í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìš”ì²­í•˜ëŠ” í—¤ë” ë‚´ì—­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì •ë³´ëŠ” í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\nCopy json { \u0026#34;NNB\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;nid_inf\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_AUT\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NID_JKL\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_SES\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;CBI_CHK\u0026#34;: \u0026#34;...\u0026#34;, \u0026#34;NSI\u0026#34;: \u0026#34;...\u0026#34; } ì´ëŠ” ì•ìœ¼ë¡œ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ì„ êµ¬í˜„í•˜ëŠ”ë°ì„œ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼í•  ëª©ë¡ì…ë‹ˆë‹¤.\nì§€ê¸ˆì€ ì´ ê°’ë“¤ì´ ì–´ë–¤ ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ì–´ë””ì„œ ë°œìƒí•˜ëŠ” ê°’ì¸ì§€ ì•Œ ìˆ˜ëŠ” ì—†ì§€ë§Œ, ì„œë²„ë¡œë¶€í„° í•´ë‹¹ ê°’ë“¤ì„ ë°›ì•„ì˜¤ëŠ” ê²ƒì— ì§‘ì¤‘í•˜ì—¬ ë¡œê·¸ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ íŒŒì•…í•˜ê³  ë¡œê·¸ì¸ ì§„í–‰ ê³¼ì •ì„ ì¿ í‚¤ ê°’ì„ í†µí•´ ì‹œê°ì ìœ¼ë¡œ ì ê²€í•  ê²ƒì…ë‹ˆë‹¤.\nìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ ê°œìš” # ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ íƒìƒ‰í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\në©”ì¸ í˜ì´ì§€ì—ì„œ ë¡œê·¸ì¸í•˜ê¸° ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ì´ë™í•˜ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ ì‹¤ì œ ë¡œê·¸ì¸ì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤. ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ì—ëŠ” íŒë§¤ì ì•„ì´ë””ë¡œ ë¡œê·¸ì¸í•˜ëŠ” ë°©ì‹ê³¼ ë„¤ì´ë²„ ì•„ì´ë””ë¡œ ë¡œê·¸ì¸í•˜ëŠ” ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.\nìš°ì„ ì ìœ¼ë¡œ ë„¤ì´ë²„ ì•„ì´ë””ë¡œ ë¡œê·¸ì¸í•˜ëŠ” ë°©ì‹ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.\në„¤ì´ë²„ ë¡œê·¸ì¸ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì— ê´€í•´ì„  ì¢‹ì€ ì„ ë¡€ê°€ ìˆì–´ ë§ì€ ë¶€ë¶„ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ë‚´ìš©ì€ ì•„ë˜ ë§í¬ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\níŒŒì´ì¬#76 - íŒŒì´ì¬ í¬ë¡¤ë§ requests ë¡œ ë„¤ì´ë²„ ë¡œê·¸ì¸ í•˜ê¸° ê°œì¸ì ìœ¼ë¡œ íŒŒì´ì¬ í¬ë¡¤ë§ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ë‹¤ë³´ë©´ ë„¤ì´ë²„ì—ì„œ ì œê³µí•˜ëŠ” ë°ì´í„°ë¥¼ ì‚¬ìš©í• ë•Œê°€ ë§ìŠµë‹ˆë‹¤. ê·¸... ë„¤ì´ë²„ ë¸”ë¡œê·¸ | â–’ Blog Of Life â–’ í´ë˜ìŠ¤ ì •ì˜ # ë„¤ì´ë²„ ë¡œê·¸ì¸ ê¸°ëŠ¥ì€ ìë™í™” í”„ë¡œê·¸ë¨ì—ì„œ ì§€ì†ì ìœ¼ë¡œ í™œìš©ë  ê²ƒì´ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ í´ë˜ìŠ¤ì—ì„œ ë©”ì†Œë“œë¡œ êµ¬í˜„í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\në¨¼ì € requests ëª¨ë“ˆì˜ Session í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” NaverLogin í´ë˜ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\nNaverLoginì€ ë„¤ì´ë²„ IDì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë‹¨ìˆœí•œ ê¸°ëŠ¥ë§Œì„ êµ¬í˜„í–ˆì§€ë§Œ requests.Session í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•˜ê¸° ë•Œë¬¸ì— ì›¹í˜ì´ì§€ ìš”ì²­ê³¼ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\nCopy python class NaverLogin(requests.Session): def __init__(self, userid: str, passwd: str, **kwargs): super().__init__(**kwargs) self.userid = userid self.passwd = passwd ê·¸ë¦¬ê³  NaverLogin ì„ ìƒì†ë°›ëŠ” SmartstoreLogin í´ë˜ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ë„¤ì´ë²„ ë¡œê·¸ì¸ê³¼ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„°ì—ì„œ ì§„í–‰ë˜ëŠ” ë„¤ì´ë²„ ë¡œê·¸ì¸ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— NaverLogin ë©”ì†Œë“œì˜ ì¼ë¶€ë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\nCopy python class SmartstoreLogin(NaverLogin): def __init__(self, userid=str(), passwd=str(), **kwargs): super().__init__(userid, passwd, **kwargs) ì¶”ê°€ì ìœ¼ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ ìš”ì²­ ê³¼ì •ì—ì„œ ë¹ˆë²ˆí•˜ê²Œ ì •ì˜í•´ì•¼ í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ ìƒì„±ì„ ê°„ë‹¨í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ë©”ì†Œë“œë¥¼ ì •ì˜í•˜ê² ìŠµë‹ˆë‹¤.\ní—¤ë” ìƒì„± ë©”ì†Œë“œ ì •ì˜ # requests ëª¨ë“ˆì€ ê¸°ë³¸ì ìœ¼ë¡œ í—¤ë”ë¥¼ ê°–ê³  ìˆì§€ ì•ŠëŠ”ë° ì´ ìƒíƒœë¡œ ë‹¤ìˆ˜ì˜ ì›¹í˜ì´ì§€ì— ìš”ì²­ì„ ë³´ë‚¸ë‹¤ë©´ ë¡œë´‡ìœ¼ë¡œ ê°„ì£¼ë‹¹í•´ ì°¨ë‹¨ë‹¹í•  ê²ƒì…ë‹ˆë‹¤.\nì„ì˜ì˜ ì›¹í˜ì´ì§€ì— ìš”ì²­ì„ ë³´ë‚¼ ë•Œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ìš”ì²­ í—¤ë” HEADERS ë¥¼ ê¸°ë³¸ ë°”íƒ•ìœ¼ë¡œ, ì›¹í˜ì´ì§€ ë³„ë¡œ ìµœì í™”ëœ í—¤ë”ë¥¼ ìƒì„±í•˜ëŠ” get_headers() ë©”ì†Œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\nCopy python HEADERS = { \u0026#34;Accept\u0026#34;: \u0026#34;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\u0026#34;, \u0026#34;Accept-Encoding\u0026#34;: \u0026#34;gzip, deflate, br\u0026#34;, \u0026#34;Accept-Language\u0026#34;: \u0026#34;ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7\u0026#34;, \u0026#34;Connection\u0026#34;: \u0026#34;keep-alive\u0026#34;, \u0026#34;sec-ch-ua\u0026#34;: \u0026#39;\u0026#34;Chromium\u0026#34;;v=\u0026#34;106\u0026#34;, \u0026#34;Google Chrome\u0026#34;;v=\u0026#34;106\u0026#34;, \u0026#34;Not;A=Brand\u0026#34;;v=\u0026#34;99\u0026#34;\u0026#39;, \u0026#34;sec-ch-ua-mobile\u0026#34;: \u0026#34;?0\u0026#34;, \u0026#34;sec-ch-ua-platform\u0026#34;: \u0026#39;\u0026#34;Windows\u0026#34;\u0026#39;, \u0026#34;Sec-Fetch-Dest\u0026#34;: \u0026#34;empty\u0026#34;, \u0026#34;Sec-Fetch-Mode\u0026#34;: \u0026#34;cors\u0026#34;, \u0026#34;Sec-Fetch-Site\u0026#34;: \u0026#34;same-origin\u0026#34;, \u0026#34;User-Agent\u0026#34;: \u0026#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36\u0026#34;, } Copy python from urllib.parse import urlparse class NaverLogin(requests.Session): def get_headers(self, authority=str(), referer=str(), cookies=str(), host=str(), **kwargs) -\u0026gt; Dict[str,Any]: headers = HEADERS.copy() if authority: headers[\u0026#34;Authority\u0026#34;] = urlparse(authority).hostname if host: headers[\u0026#34;Host\u0026#34;] = urlparse(host).hostname if referer: headers[\u0026#34;Referer\u0026#34;] = referer if cookies: headers[\u0026#34;Cookie\u0026#34;] = cookies return dict(headers, **kwargs) í˜¸ìŠ¤íŠ¸ëª…ì„ ì˜ë¯¸í•˜ëŠ” Authority ë˜ëŠ” Host, ë¦¬ë‹¤ì´ë ‰íŠ¸ ì „ ê²½ë¡œë¥¼ ì˜ë¯¸í•˜ëŠ” Referer, ê·¸ë¦¬ê³  ì¿ í‚¤ë¥¼ ì˜ë¯¸í•˜ëŠ” Cookie ë“±ì˜ ê°’ì€ ìˆ˜ì‹œë¡œ ë³€í•˜ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ ì…ë ¥ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤.\nì¿ í‚¤ ìƒì„± ë©”ì†Œë“œ ì •ì˜ # í—¤ë”ì™€ í•¨ê»˜ í™œìš©ë˜ëŠ” ì¿ í‚¤ëŠ” í—¤ë”ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì›¹í˜ì´ì§€ ìš”ì²­ ì‹œ ë¹ˆë²ˆíˆ í™œìš©ë˜ëŠ”ë° requests ëª¨ë“ˆì˜ ì¿ í‚¤ ìë£Œí˜•ì¸ RequestsCookieJar ë¥¼ í—¤ë”ì— ì§ì ‘ í¬í•¨ì‹œí‚¬ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ì¿ í‚¤ë¥¼ ì ì ˆí•œ í˜•íƒœì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” get_cookies() ë©”ì†Œë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.\nCopy python from requests.cookies import RequestsCookieJar class NaverLogin(requests.Session): def get_cookies(self, **kwargs) -\u0026gt; str: return self.parse_cookies(dict(self.cookies, **kwargs)) def parse_cookies(self, cookies: RequestsCookieJar) -\u0026gt; str: return \u0026#34;; \u0026#34;.join([str(key)+\u0026#34;=\u0026#34;+str(value) for key,value in cookies.items()]) ë§ˆì¹˜ë©° # ì´ë²ˆ ê²Œì‹œê¸€ì—ì„œëŠ” ë‘ ê°€ì§€ ë°ì´í„° ìˆ˜ì§‘ ë°©ì‹ì„ ì˜ˆì‹œë¥¼ í†µí•´ ì•Œì•„ë³´ì•˜ê³  ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´ì„¼í„° ë¡œê·¸ì¸ì˜ ë°”íƒ•ì´ ë˜ëŠ” í´ë˜ìŠ¤ì™€ ë©”ì†Œë“œë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\në‹¤ìŒ ê²Œì‹œê¸€ì—ì„œëŠ” ë„¤ì´ë²„ ë¡œê·¸ì¸ì„ ë³¸ê²©ì ìœ¼ë¡œ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.\n"},{"id":29,"href":"/blog/hugo-blog-old-3/","title":"Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° [2022ë…„] (3) - PaperMod í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•","content":"ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•  ë•Œ ê¸°ìˆ ì , ì‹œê°„ì  í•œê³„ ë•Œë¬¸ì— ì´ë¯¸ ë§Œë“¤ì–´ì§„ í…Œë§ˆë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤. ì œê°€ Hugo ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ ë•Œë„ ì´ëŸ¬í•œ ë¬¸ì œ ë•Œë¬¸ì— PaperMod í…Œë§ˆë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, ë¸”ë¡œê·¸ë¥¼ ë³´ë‹¤ë³´ë©´ ë§Œì¡±ìŠ¤ëŸ½ì§€ ëª»í•œ ë¶€ë¶„ì´ ë°œê²¬ë©ë‹ˆë‹¤.\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ì œê°€ PaperMod í…Œë§ˆë¥¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•œ ê³¼ì •ì„ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\nArchive, Search ì¶”ê°€í•˜ê¸° # PaperMod í…Œë§ˆë¥¼ ê°€ì ¸ì˜¤ë©´ì„œ ê°€ì¥ ì‹ ê²½ì“°ì˜€ë˜ ë¶€ë¶„ì€ ë©”ì¸ ë©”ë‰´ê°€ Categories, Tags ë‘ ê°œ ë¿ì´ì—ˆë‹¨ ì ì…ë‹ˆë‹¤.\nArchiveëŠ” ê·¸ë ‡ë‹¤ì³ë„ Search ê¸°ëŠ¥ì€ ë¹¼ë¨¹ì„ ìˆ˜ ì—†ëŠ” ë¶€ë¶„ì´ë¼ ìƒê°í•˜ê¸° ë•Œë¬¸ì—, Hugo ë° PaperMod ë‚´ ì´ìŠˆë¥¼ ì°¸ê³ í•˜ì—¬ ê´€ë ¨ëœ ë‚´ìš©ì„ íƒìƒ‰í–ˆìŠµë‹ˆë‹¤.\në‹¤í–‰íˆ PaperMod í…Œë§ˆì—ì„œ í•´ë‹¹ ê¸°ëŠ¥ì„ ì—°ê²°í•˜ì§€ ì•Šì•˜ì„ ë¿, ê¸°ëŠ¥ì— ëŒ€í•œ ë ˆì´ì•„ì›ƒì€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— content/ ë””ë ‰í† ë¦¬ ì•„ë˜ ë‹¤ìŒê³¼ ê°™ì€ íŒŒì¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\nCopy yaml # content/archive.md --- title: \u0026#34;Archive\u0026#34; layout: \u0026#34;archives\u0026#34; url: \u0026#34;/archive\u0026#34; summary: \u0026#34;archive\u0026#34; --- Copy yaml # content/search.md --- title: \u0026#34;Search\u0026#34; layout: \u0026#34;search\u0026#34; url: \u0026#34;/search\u0026#34; summary: \u0026#34;search\u0026#34; --- ì¶”ê°€ë¡œ, ì„¤ì •ì—ì„œë„ í•´ë‹¹ íŒŒì¼ì„ ì¸ì‹í•´ì•¼ë˜ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì •ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. post/ ì™¸ì— ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ë¥¼ ë“±ë¡í•˜ê³  ì‹¶ì€ ê²½ìš°ì—ë„ í•´ë‹¹ í‚¤ê°’ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy yaml params: mainsections: [\u0026#34;page\u0026#34;, \u0026#34;post\u0026#34;, \u0026#34;archive\u0026#34;, \u0026#34;search\u0026#34;] ë§ˆì§€ë§‰ìœ¼ë¡œ, ë©”ì¸ ë©”ë‰´ì—ì„œ í•´ë‹¹ ë§í¬ë¡œ ì´ë™í•˜ê¸° ìœ„í•œ ë°”ë¡œê°€ê¸°ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ì¹´í…Œê³ ë¦¬, íƒœê·¸ ë“±ì´ ìˆì„ê±´ë° weight ê°’ì„ í†µí•´ ì ì ˆí•˜ê²Œ ìœ„ì¹˜ë¥¼ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy yaml menu: main: - identifier: archive name: Archive url: /archive/ weight: 10 - identifier: search name: Search url: /search/ weight: 20 ìœ„ì™€ ê°™ì€ ê³¼ì •ì„ í†µí•´ Archive, Search ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\nê²€ìƒ‰ ì—”ì§„ ë“±ë¡í•˜ê¸° # ê²€ìƒ‰ ì—”ì§„ì— ë“±ë¡í•˜ê¸° ìœ„í•œ ê³¼ì •ì€ í•´ë‹¹ ì˜ìƒì„ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. ì €ëŠ” ìœ„ ê³¼ì •ì—ì„œ ë¸”ë¡œê·¸ ë‚´ì— ì¶”ê°€í•´ì•¼ í•  Site Verification Tagë¥¼ ì¶”ê°€í•˜ëŠ” ë²•ì„ ì „ë‹¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\nPaperMod í…Œë§ˆì—ì„œëŠ” ì•„ë˜ì²˜ëŸ¼ í•´ë‹¹ ë¶€ë¶„ì´ ë§Œë“¤ì–´ì ¸ ìˆê¸° ë•Œë¬¸ì— í¬ê²Œ ê±±ì •í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” layouts/partials/ ë‚´ì— head.html íŒŒì¼ì—ì„œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.\nCopy html {{- if site.Params.analytics.google.SiteVerificationTag }} \u0026lt;meta name=\u0026#34;google-site-verification\u0026#34; content=\u0026#34;{{ site.Params.analytics.google.SiteVerificationTag }}\u0026#34;\u0026gt; {{- end }} {{- if site.Params.analytics.yandex.SiteVerificationTag }} \u0026lt;meta name=\u0026#34;yandex-verification\u0026#34; content=\u0026#34;{{ site.Params.analytics.yandex.SiteVerificationTag }}\u0026#34;\u0026gt; {{- end }} {{- if site.Params.analytics.bing.SiteVerificationTag }} \u0026lt;meta name=\u0026#34;msvalidate.01\u0026#34; content=\u0026#34;{{ site.Params.analytics.bing.SiteVerificationTag }}\u0026#34;\u0026gt; {{- end }} {{- if site.Params.analytics.naver.SiteVerificationTag }} \u0026lt;meta name=\u0026#34;naver-site-verification\u0026#34; content=\u0026#34;{{ site.Params.analytics.naver.SiteVerificationTag }}\u0026#34;\u0026gt; {{- end }} êµ¬ê¸€, ë„¤ì´ë²„ ì™¸ì— Bing, Yandexë¥¼ ì§€ì›í•˜ë©° ì €ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬ê¸€ê³¼ ë„¤ì´ë²„ë§Œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.\nCopy yaml params: analytics: google: SiteVerificationTag: \u0026lt;YOUR-VERIFICATION-TAG\u0026gt; naver: SiteVerificationTag: \u0026lt;YOUR-VERIFICATION-TAG\u0026gt; ë²ˆì™¸ë¡œ Google Tag ë“± headì— ì¶”ê°€ë¡œ ì…ë ¥í•  ë¶€ë¶„ì´ ìˆë‹¤ë©´, ë™ì¼í•œ ìœ„ì¹˜ì— extend_head.htmlì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì•„ë˜ëŠ” ì œê°€ extend_head.html ë‚´ì— Google Tagë¥¼ ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.\nCopy html {{- if site.GoogleAnalytics }} {{- /* Google tag (gtag.js) */}} \u0026lt;script async src=\u0026#34;https://www.googletagmanager.com/gtag/js?id={{ site.GoogleAnalytics }}\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag(\u0026#39;js\u0026#39;, new Date()); gtag(\u0026#39;config\u0026#39;, \u0026#39;{{ site.GoogleAnalytics }}\u0026#39;); \u0026lt;/script\u0026gt; {{- end }} KaTex ì¶”ê°€í•˜ê¸° # KaTexëŠ” ì›¹ì—ì„œ ìˆ˜ì‹ì„ í‘œí˜„í•˜ê¸° ìœ„í•œ ë°©ì‹ì…ë‹ˆë‹¤. ì œ ê³¼ê±° ê²Œì‹œê¸€ì—” KaTex í‘œê¸°ë²•ì„ ì‚¬ìš©í•œ ê²ƒì´ ì¡´ì¬í•˜ëŠ”ë° ì´ê²ƒì´ ì œëŒ€ë¡œ í‘œì‹œë˜ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.\nì €ëŠ” ê³µì‹ ë¬¸ì„œ ëŒ€ì‹  Stack Overflow ë“±ì„ ì°¸ê³ í•´ ì•„ë˜ ì½”ë“œë¥¼ extend_head.htmlì— ì¶”ê°€í–ˆëŠ”ë°, ì•„ì‰½ê²Œë„ ì¶œì²˜ëŠ” ë‚¨ê²¨ë‘ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\nCopy html \u0026lt;script\u0026gt; MathJax = { tex: { inlineMath: [[\u0026#39;$\u0026#39;, \u0026#39;$\u0026#39;], [\u0026#39;\\\\(\u0026#39;, \u0026#39;\\\\)\u0026#39;]], displayMath: [[\u0026#39;$$\u0026#39;,\u0026#39;$$\u0026#39;], [\u0026#39;\\\\[\u0026#39;, \u0026#39;\\\\]\u0026#39;]], processEscapes: true, processEnvironments: true }, options: { skipHtmlTags: [\u0026#39;script\u0026#39;, \u0026#39;noscript\u0026#39;, \u0026#39;style\u0026#39;, \u0026#39;textarea\u0026#39;, \u0026#39;pre\u0026#39;] } }; window.addEventListener(\u0026#39;load\u0026#39;, (event) =\u0026gt; { document.querySelectorAll(\u0026#34;mjx-container\u0026#34;).forEach(function(x){ x.parentElement.classList += \u0026#39;has-jax\u0026#39;}) }); \u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://polyfill.io/v3/polyfill.min.js?features=es6\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34; id=\u0026#34;MathJax-script\u0026#34; async src=\u0026#34;https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; Cover ì´ë¯¸ì§€ ê°„í¸í•˜ê²Œ ì§€ì •í•˜ê¸° # ì €ëŠ” Github ì €ì¥ì†Œ ë‚´ì— ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ì†ì„±ê°’ì— ì—°ê²°í•´ ë¸”ë¡œê·¸ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•˜ëŠ”ë°, ê²Œì‹œê¸€ì„ ì‘ì„±í•  ë•Œë§ˆë‹¤ ì§€ì •í•˜ê²Œ ë˜ëŠ” Cover ì´ë¯¸ì§€ì˜ ê²½ìš° ë§¤ë²ˆ ì „ì²´ ë§í¬ë¥¼ ì§€ì •í•˜ëŠ”ê²Œ ë¶ˆí¸í–ˆìŠµë‹ˆë‹¤.\nëŒ€í‘œì ìœ¼ë¡œ í•´ë‹¹ ê²Œì‹œê¸€ì˜ Cover ì´ë¯¸ì§€ ì£¼ì†ŒëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\nCopy html https://github.com/minyeamer/til/blob/main/.media/covers/hugo-logo.png?raw=true ì €ëŠ” ì—¬ê¸°ì„œ hugo-logo.pngë¥¼ ì œì™¸í•œ ì•ë’¤ì˜ ìš”ì†Œê°€ ë¶ˆí•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì¸ì‹í–ˆê³  ì„¤ì • íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì´ prefix, suffixë¼ëŠ” í‚¤ê°’ìœ¼ë¡œ ì§€ì •í•˜ê²Œ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.\nCopy yaml params: cover: prefix: \u0026#34;https://github.com/minyeamer/til/blob/main/.media/covers/\u0026#34; suffix: \u0026#34;?raw=true\u0026#34; ê·¸ë¦¬ê³  í•´ë‹¹ ì„¤ì •ì„ ì ìš©ì‹œí‚¤ê¸° ìœ„í•´ ì‹¤ì§ˆì ìœ¼ë¡œ Cover ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•˜ëŠ” layouts/partials/ ì•„ë˜ cover.html íŒŒì¼ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì£¼ì„ìœ¼ë¡œ ì§€ì •ëœ ë¶€ë¶„ì´ ì›ë³¸ì´ë©°, image í‚¤ê°’ì˜ ì•ë’¤ë¡œ prefixì™€ suffixë¥¼ ë§ë¶™ì˜€ìŠµë‹ˆë‹¤.\nCopy html \u0026lt;!-- {{- if $addLink }}\u0026lt;a href=\u0026#34;{{ (.Params.cover.image) | absURL }}\u0026#34; target=\u0026#34;_blank\u0026#34; rel=\u0026#34;noopener noreferrer\u0026#34;\u0026gt;{{ end -}} \u0026lt;img loading=\u0026#34;lazy\u0026#34; src=\u0026#34;{{ (.Params.cover.image) | absURL }}\u0026#34; alt=\u0026#34;{{ $alt }}\u0026#34;\u0026gt; --\u0026gt; {{- if $addLink }}\u0026lt;a href=\u0026#34;{{ if site.Params.cover.prefix }}{{ site.Params.cover.prefix }}{{ end }}{{ .Params.cover.image }}{{ if site.Params.cover.suffix }}{{ site.Params.cover.suffix }}{{ end }}\u0026#34; target=\u0026#34;_blank\u0026#34; rel=\u0026#34;noopener noreferrer\u0026#34;\u0026gt;{{ end -}} \u0026lt;img loading=\u0026#34;lazy\u0026#34; src=\u0026#34;{{ if site.Params.cover.prefix }}{{ site.Params.cover.prefix }}{{ end }}{{ .Params.cover.image }}{{ if site.Params.cover.suffix }}{{ site.Params.cover.suffix }}{{ end }}\u0026#34; alt=\u0026#34;{{ $alt }}\u0026#34;\u0026gt; ê¸°íƒ€ ì„¤ì • # ë„ˆë¹„ ì„¤ì • # ì´ˆê¸°ì— PaperMod í…Œë§ˆë¥¼ ì‚¬ìš©í•  ë•Œ ë„ˆë¹„ê°€ ì¢ì•„ ë¶ˆí¸í•œ ëŠë‚Œì´ ìˆì—ˆìŠµë‹ˆë‹¤. í•´ë‹¹ ì„¤ì •ì€ css íŒŒì¼ë¡œ ì§€ì •í•  ê²ƒì´ë¼ ìƒê°í–ˆê³ , assets/css/core/ ê²½ë¡œì— ìˆëŠ” theme-vars.css íŒŒì¼ì„ ë°œê²¬í•´ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ 720pxì—ì„œ 900pxë¡œ ëŠ˜ì–´ë‚˜ ì¾Œì í•˜ê²Œ ë¸”ë¡œê·¸ë¥¼ ë³¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nCopy css :root { --main-width: 900px; ... } ìƒˆ íƒ­ì—ì„œ ë§í¬ ì—´ê¸° # ë‹¤ìŒìœ¼ë¡œ ê´€ì‹¬ì„ ê°€ì§„ ê±´ ê¹ƒí—ˆë¸Œì—ì„œ ë§¤ë²ˆ ë¶ˆí¸í•˜ê²Œ ìƒê°í–ˆë˜ ë§í¬ ì˜¤í”ˆ ë°©ì‹ì¸ë°, ê°œì¸ì ìœ¼ë¡œëŠ” í˜„ì¬ íƒ­ì´ ì•„ë‹Œ ìƒˆ íƒ­ì—ì„œ ì—´ë¦¬ëŠ” ë°©ì‹ì„ ì„ í˜¸í•˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ë¶€ë¶„ì˜ ìˆ˜ì •ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.\në‹¤í–‰íˆ Hugo ì´ìŠˆ ë‚´ìš© ì¤‘ Simple way to open in a new tab ì´ë¼ëŠ” ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì„ ì°¸ê³ í•´ íŒŒì¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” layouts/_default/_markup/ ê²½ë¡œì— ì¶”ê°€í•œ render-link.html íŒŒì¼ì…ë‹ˆë‹¤.\nCopy html \u0026lt;a href=\u0026#34;{{ .Destination | safeURL }}\u0026#34;{{ with .Title}} title=\u0026#34;{{ . }}\u0026#34;{{ end }}{{ if strings.HasPrefix .Destination \u0026#34;http\u0026#34; }} target=\u0026#34;_blank\u0026#34; rel=\u0026#34;noopener\u0026#34;{{ end }}\u0026gt;{{ .Text | safeHTML }}\u0026lt;/a\u0026gt; í¬ìŠ¤íŠ¸ ìˆ˜ì • # ë§ˆì§€ë§‰ìœ¼ë¡œ í¬ìŠ¤íŠ¸ ìˆ˜ì • ë²„íŠ¼ì— ë¬¸ì œë¥¼ ì¸ì‹í–ˆìŠµë‹ˆë‹¤. ë¬¼ë¡ , ëª¨ë“  í¬ìŠ¤íŠ¸ëŠ” ë¡œì»¬ì—ì„œ ì‘ì„±í•˜ê³  ìˆ˜ì •í•˜ì§€ë§Œ, ì˜¤ë¥˜ê°€ ë°œìƒí•˜ëŠ” ë²„íŠ¼ì„ ê·¸ëƒ¥ ë†”ë‘˜ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.\nGoì— ëŒ€í•´ ì˜ ì•Œì§€ ëª»í•´ ìµœì„ ì˜ ê¸°ëŠ¥ì´ë¼ê³  ìƒê°í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ê²€ìƒ‰ì„ í†µí•´ ë°œê²¬í•œ replace í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ê¸°ì¡´ ê²½ë¡œì—ì„œ ì˜¤ë¥˜ë¥¼ ì¼ìœ¼í‚¤ëŠ” ë¶€ë¶„ì„ ì œê±°í–ˆìŠµë‹ˆë‹¤.\nCopy html {{- if or .Params.editPost.URL site.Params.editPost.URL -}} {{- $fileUrlPath := path.Join .File.Path }} {{- if or .Params.author site.Params.author (.Param \u0026#34;ShowReadingTime\u0026#34;) (not .Date.IsZero) .IsTranslated }}\u0026amp;nbsp;|\u0026amp;nbsp;{{- end -}} \u0026lt;a href=\u0026#39;{{ .Params.editPost.URL | default site.Params.editPost.URL }}{{ if .Params.editPost.appendFilePath | default ( site.Params.editPost.appendFilePath | default false ) }}/{{ replace $fileUrlPath site.Params.editPost.ignoreFilePath \u0026#34;\u0026#34; 1 }}{{ end }}\u0026#39; rel=\u0026#34;noopener noreferrer\u0026#34; target=\u0026#34;_blank\u0026#34;\u0026gt; {{- .Params.editPost.Text | default (site.Params.editPost.Text | default (i18n \u0026#34;edit_post\u0026#34; | default \u0026#34;Edit\u0026#34;)) -}} \u0026lt;/a\u0026gt; {{- end }} ê°œì„ ì‚¬í•­ # í˜„ì¬ PaperMod í…Œë§ˆì˜ ì¹´í…Œê³ ë¦¬ëŠ” ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ íƒœê·¸ì™€ ë™ì¼í•œ ë¦¬ìŠ¤íŠ¸ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ëŠ”ë°, ê°œì¸ì ìœ¼ë¡œëŠ” íŠ¸ë¦¬ í˜•íƒœì˜ ê³„ì¸µì‹ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.\nì–¸ì œë‚˜ì²˜ëŸ¼ PaperMod ì´ìŠˆë¥¼ íƒìƒ‰í•˜ë˜ ì¤‘ ì´ìŠˆ Tree-style category list page #24ë¥¼ ë°œê²¬í–ˆëŠ”ë°, ì•„ë˜ ê·¸ë¦¼ì²˜ëŸ¼ ì œê°€ ë¨¸ë¦¿ì†ì— ê·¸ë¦¬ë˜ ë°©ì‹ì„ ê·¸ëŒ€ë¡œ í‘œí˜„í•˜ì—¬ í° ê´€ì‹¬ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.\ní•´ë‹¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ë¶„ê»˜ ë©”ì¼ì„ ë³´ë‚´ ì°¸ê³  ìë£Œë¥¼ ì–»ì—ˆì§€ë§Œ, ì•„ì§ê¹Œì§„ ì‹œê°„ì  ì—¬ìœ ê°€ ë¶€ì¡±í•´ í•´ë‹¹ ì‘ì—…ì„ ì²˜ë¦¬í•˜ì§€ ëª»í•œ ìƒíƒœì…ë‹ˆë‹¤.\ní–¥í›„ ê°œì„ ë˜ê¸°ë¥¼ í¬ë§í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.\në§ˆì¹˜ë©° # Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° ì‹œë¦¬ì¦ˆì˜ ë§ˆì§€ë§‰ìœ¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê³¼ì •ì„ ì†Œê°œí–ˆìŠµë‹ˆë‹¤. ì»¤ìŠ¤í„°ë§ˆì´ì§•ì€ ê·¸ë•Œê·¸ë•Œ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„ì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ë³¸ì¸ì˜ ì…ë§›ì— ë§›ëŠ” ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” í…Œë§ˆì˜ êµ¬ì¡°ë¥¼ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.\nì•„ì§ Goì— ëŒ€í•´ì„œë„ ì˜ ëª°ë¼ ê²€ìƒ‰ì„ í†µí•´ ìš”ë ¹ê» ì°¾ì•„ë‚´ëŠ” ìˆ˜ì¤€ì´ì§€ë§Œ, Goì— ìµìˆ™í•´ì§€ê²Œ ëœë‹¤ë©´ ë™ì  ToC ë“± ê¸°ëŠ¥ì˜ ê°œì„ ì„ ê¸°ëŒ€í•´ ë³¼ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.\ní•´ë‹¹ ê²Œì‹œê¸€ì„ í†µí•´ Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸°ì— ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.\nì°¸ê³  ìë£Œ # EP09. êµ¬ê¸€, ë„¤ì´ë²„ ê²€ìƒ‰ì—”ì§„ ë“±ë¡í•˜ê¸° KaTex Simple way to open in a new tab [Feature][Discussion] Tree-style category list page "},{"id":30,"href":"/blog/hugo-blog-old-2/","title":"Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° [2022ë…„] (2) - Utterances ëŒ“ê¸€ ì‹œìŠ¤í…œ ì„¤ì¹˜ ë° ì„¤ì •","content":"Hugo ë¸”ë¡œê·¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.\nì œê°€ ì‚¬ìš©í•˜ëŠ” PaperMod í…Œë§ˆì—ì„œëŠ” ì„œë“œíŒŒí‹° ì„œë¹„ìŠ¤ì¸ Disqusë¥¼ ìœ„í•œ ë ˆì´ì•„ì›ƒì´ ì¡´ì¬í•˜ì§€ë§Œ, ì €ëŠ” ê¸°ë³¸ì ì¸ ë¸”ë¡œê·¸ ìš´ì˜ì„ Github í”Œë«í¼ ë‚´ì—ì„œ êµ¬ì„±í•˜ê³  ì‹¶ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ë ¤ í•©ë‹ˆë‹¤.\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Utterances ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\nUtterances ì„¤ì¹˜í•˜ê¸° # UtterancesëŠ” Github issues ê¸°ë°˜ìœ¼ë¡œ ëŒ“ê¸€ì„ ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë¬´ë£Œ í”Œëœì—ì„œ ê´‘ê³ ê°€ ë¶™ëŠ” Disqusì™€ ë‹¤ë¥´ê²Œ ë³„ë„ì˜ ìœ ë£Œ í”Œëœì´ ì—†ì–´ ê°„í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nUtterances ì„¤ì¹˜ëŠ” ë‹¨ìˆœíˆ ë ˆì´ì•„ì›ƒ ìƒì—ì„œ ëŒ“ê¸€ì´ ìœ„ì¹˜í•  ê³³ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‚½ì…í•˜ë©´ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ, ì„ í–‰ì ìœ¼ë¡œ í•´ë‹¹ ë§í¬ë¥¼ í†µí•´ Utterancesì™€ ì—°ë™ì‹œí‚¬ ì €ì¥ì†Œë¥¼ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤.\në¬´ë£Œ í”Œëœ ì„ íƒ í›„ Utterancesë¥¼ ì ìš©í•  ì €ì¥ì†Œë¥¼ ì„ íƒí•˜ê²Œ ë˜ëŠ”ë° ëª¨ë“  ì €ì¥ì†Œë¥¼ ì§€ì •í•´ë„ ë˜ì§€ë§Œ, ì €ëŠ” ëŒ“ê¸€ì„ ê´€ë¦¬í•  ì €ì¥ì†Œë§Œ ì§€ì •í•˜ê² ìŠµë‹ˆë‹¤.\nê°„ë‹¨í•˜ê²Œ Utterances ì ìš©ì´ ì™„ë£Œë˜ë©´ ì•„ë˜ ê³µì‹ ë¬¸ì„œ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.\nutterances A lightweight commenting system using GitHub issues. utteranc.es ê³µì‹ ë¬¸ì„œì—ì„œ ì €ì¥ì†Œ ì´ë¦„, ì´ìŠˆ ë§µí•‘ ë°©ì‹ ë“±ì„ ì§€ì •í•˜ë©´ í•´ë‹¹í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤. ì €ëŠ” í¬ìŠ¤íŠ¸ ì œëª©ì´ ë³€ê²½ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— pathnameì„ ê¸°ì¤€ìœ¼ë¡œ ì´ìŠˆë¥¼ ìƒì„±í•˜ê³ , ì‚¬ìš©ì ì‹œìŠ¤í…œ ì„¤ì •ì— í˜¸í™˜ë˜ëŠ” Preferred Color Scheme í…Œë§ˆë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\nCopy html \u0026lt;script src=\u0026#34;https://utteranc.es/client.js\u0026#34; repo=\u0026#34;[ENTER REPO HERE]\u0026#34; issue-term=\u0026#34;pathname\u0026#34; theme=\u0026#34;github-light\u0026#34; crossorigin=\u0026#34;anonymous\u0026#34; async\u0026gt; \u0026lt;/script\u0026gt; ìŠ¤í¬ë¦½íŠ¸ ì‚½ì…í•˜ê¸° # PaperMod í…Œë§ˆì—ëŠ” layouts/partials/ ìœ„ì¹˜ì— comments.html ì´ë¼ëŠ” ë ˆì´ì•„ì›ƒì´ ì¡´ì¬í•©ë‹ˆë‹¤. í…Œë§ˆ ë³„ë¡œ ë ˆì´ì•„ì›ƒì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í…Œë§ˆì˜ ê²½ìš° ì´ìŠˆ ë“±ì„ ì°¸ê³ í•˜ì—¬ êµ¬ì¡°ë¥¼ íŒŒì•…í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\nCopy html {{- /* Comments area start */ -}} {{- /* to add comments read =\u0026gt; https://gohugo.io/content-management/comments/ */ -}} {{- if $.Site.Params.utteranc.enable -}} \u0026lt;script src=\u0026#34;https://utteranc.es/client.js\u0026#34; repo=\u0026#34;{{ .Site.Params.utteranc.repo }}\u0026#34; issue-term=\u0026#34;{{ .Site.Params.utteranc.issueTerm }}\u0026#34; {{- if $.Site.Params.utteranc.label -}}label=\u0026#34;{{ .Site.Params.utteranc.label }}\u0026#34;{{- end }} theme=\u0026#34;{{ .Site.Params.utteranc.theme }}\u0026#34; crossorigin=\u0026#34;{{ .Site.Params.utteranc.crossorigin }}\u0026#34; async\u0026gt; \u0026lt;/script\u0026gt; {{- end }} {{- /* Comments area end */ -}} ë‹¨ìˆœí•˜ê²Œ ë ˆì´ì•„ì›ƒì— ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™ì—¬ë„£ì–´ë„ ë˜ì§€ë§Œ, í–¥í›„ ì†ì„±ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ ë¶ˆí•„ìš”í•˜ê²Œ í…Œë§ˆë¥¼ ìˆ˜ì •í•˜ëŠ” ê²½ìš°ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì„¤ì • íŒŒì¼ì„ í†µí•´ ë™ì ìœ¼ë¡œ ì†ì„±ê°’ì„ ì§‘ì–´ë„£ë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.\nHugo HTML ì½”ë“œ ë‚´ì— ì´ì¤‘ ì¤‘ê´„í˜¸({{ }})ëŠ” Go í…œí”Œë¦¿ì„ ì½”ë”©í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ, ì•„ë˜ì™€ ê°™ì€ ì„¤ì • íŒŒì¼ì„ ì½ì–´ì„œ ê°ê°ì˜ í‚¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ í• ë‹¹í•©ë‹ˆë‹¤.\nì´ì— ëŒ€í•œ ìì„¸í•œ ì‚¬ìš©ë²•ì€ Hugo ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy yaml params: utteranc: enable: true repo: \u0026#34;minyeamer/minyeamer.github.io\u0026#34; issueTerm: \u0026#34;pathname\u0026#34; label: \u0026#34;comments\u0026#34; theme: \u0026#34;preferred-color-scheme\u0026#34; crossorigin: \u0026#34;anonymous\u0026#34; ì •ìƒì ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ê°€ ì‚½ì…ë˜ì—ˆë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ëŒ“ê¸€ì„ ì…ë ¥í•˜ëŠ” ë¶€ë¶„ì´ í‘œì‹œë©ë‹ˆë‹¤.\nëŒ“ê¸€ ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ì ìš©ë˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì‹¤í—˜ì ìœ¼ë¡œ ëŒ“ê¸€ì„ ì‘ì„±í•´ë´…ë‹ˆë‹¤. ì €ë„ ê³¼ê±° ê²Œì‹œê¸€ì— ëŒ“ê¸€ì„ ì‘ì„±í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì˜¬ë¼ì˜¨ ì´ìŠˆë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤.\në§ˆì¹˜ë©° # Hugo ë¸”ë¡œê·¸ë¥¼ í†µí•œ ì†Œí†µì„ ê¸°ëŒ€í•˜ì—¬ ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ìƒê°ë³´ë‹¤ ê°„ë‹¨í•˜ê¸° ë•Œë¬¸ì— ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ë¥¼ ê¾¸ë¯¸ë©´ì„œ ëŒ“ê¸€ ê¸°ëŠ¥ì„ í¬ë§í•˜ì‹œëŠ” ë¶„ë“¤ì´ë¼ë©´ Utterancesë¥¼ ì ê·¹ í™œìš©í•´ë³´ì‹œê¸°ë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.\në§ˆì§€ë§‰ í¬ìŠ¤íŠ¸ë¡œëŠ” PaperMod í…Œë§ˆë¥¼ ìˆ˜ì •í•œ ê³¼ì •ì„ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. Hugo í…Œë§ˆë¼ë¦¬ ê³µí†µì ì¸ ë¶€ë¶„ì´ ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í…Œë§ˆë¥¼ ì‚¬ìš©í•˜ì‹œë”ë¼ë„ ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.\nì°¸ê³  ìë£Œ # Utterances Documents Introduction to Hugo Templating "},{"id":31,"href":"/blog/hugo-blog-old-1/","title":"Hugo ë¸”ë¡œê·¸ ë§Œë“¤ê¸° [2022ë…„] (1) - PaperMod í…Œë§ˆ ì„¤ì¹˜ ë° Github Pages ë°°í¬","content":"ì–¼ë§ˆ ì „, í‹°ìŠ¤í† ë¦¬ ë¸”ë¡œê·¸ì—ì„œ Jekyll ë¸”ë¡œê·¸ë¡œ ì´ë™í–ˆëŠ”ë°, ì²˜ìŒ ê¸°ëŒ€í–ˆë˜ submoduleì„ í™œìš©í•œ íš¨ìœ¨ì ì¸ ì €ì¥ì†Œ ì—°ë™ì—ì„œ ì–´ë ¤ì›€ì„ ê²ªê³  ë‹¤ë¥¸ ëŒ€ì•ˆì„ íƒìƒ‰í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\nJekyll ë¸”ë¡œê·¸ë¥¼ ì‚¬ìš©í•¨ì— ìˆì–´ì„œ, Ruby ì–¸ì–´ë¡œ êµ¬ì„±ëœ ë¸”ë¡œê·¸ êµ¬ì¡°ì— ëŒ€í•´ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ë°ë‹¤ê°€ ë¡œì»¬ í™˜ê²½ì—ì„œ Jekyll ë¸”ë¡œê·¸ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ”ë°ë„ ë‚œí•­ì„ ê²ªì—ˆëŠ”ë°, ì›¹ìƒì—ì„œ ìë™ ë°°í¬ê°€ ì´ë£¨ì–´ì§€ëŠ” ê³¼ì •ì—ì„œ submoduleì¸ TIL ì €ì¥ì†Œë¥¼ í¬ìŠ¤íŠ¸ë¡œ ì¸ì‹í•˜ì§€ ëª»í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.\nJekyll ë¸”ë¡œê·¸ì˜ ëŒ€ì•ˆìœ¼ë¡œ Hexo ë° Hugo í”„ë ˆì„ì›Œí¬ì— ì£¼ëª©í–ˆê³ , ë‘ ì œí’ˆì˜ ì¥ë‹¨ì ì„ ë¹„êµí•˜ì—¬ ìƒëŒ€ì ìœ¼ë¡œ ë°°í¬ê°€ ë¹ ë¥´ê³  í˜„ì¬ê¹Œì§€ë„ ì—…ë°ì´íŠ¸ê°€ ì´ë£¨ì–´ì§€ëŠ” Hugoë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ì œê°€ Hugo ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•œ ê³¼ì •ì„ ê°„ëµí•œ ì„¤ëª…ê³¼ í•¨ê»˜ ì•ˆë‚´í•©ë‹ˆë‹¤.\ní…Œë§ˆ ì„ íƒí•˜ê¸° # ë¸”ë¡œê·¸ì˜ ëª¨ë“  í˜ì´ì§€ ë ˆì´ì•„ì›ƒì„ ë§Œë“¤ ê³„íšì´ ì•„ë‹ˆë¼ë©´ ë¸”ë¡œê·¸ ì„ íƒì— ìˆì–´ í…Œë§ˆ ì„ ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. HugoëŠ” ì•„ë˜ í˜ì´ì§€ì—ì„œ ë‹¤ì–‘í•œ í…Œë§ˆë¥¼ ì œê³µí•˜ë©°, íƒœê·¸ë¥¼ í†µí•´ ë¸”ë¡œê·¸ ì™¸ì—ë„ ëª©ì ì— ë§ëŠ” í…Œë§ˆë¥¼ ì°¾ì•„ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¯¸ë¦¬ë³´ê¸°ë§Œìœ¼ë¡œ ì•Œê¸° ì–´ë µë‹¤ë©´ ì œì‘ìê°€ ì œê³µí•˜ëŠ” ë°ëª¨ ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸í•´ë³¼ ìˆ˜ ìˆê³ , ì•„ë˜ ì•ˆë‚´ë“œë¦´ Hugo ì„¤ì¹˜ë¥¼ í†µí•´ ë¡œì»¬ì—ì„œ exampleSiteë¥¼ í™•ì¸í•´ ë³¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nHugo Themes The worldâ€™s fastest framework for building websites themes.gohugo.io Jekyll ë¸”ë¡œê·¸ë¥¼ ì‚¬ìš©í–ˆì„ ë‹¹ì‹œ ì ìš©í–ˆë˜ Chirpy í…Œë§ˆëŠ” ì‚¬ì´ë“œ ë©”ë‰´, ê³„ì¸µì‹ ì¹´í…Œê³ ë¦¬, ë™ì  TOC ë“± ì œê°€ ì¶”êµ¬í•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆì—ˆëŠ”ë°, Hugoì—ëŠ” ì €ì˜ ì·¨í–¥ì„ ì™„ë²½íˆ ë§Œì¡±ì‹œí‚¤ëŠ” í…Œë§ˆê°€ ì—†ì—ˆìŠµë‹ˆë‹¤.\nê·¸ë‚˜ë§ˆ ê´œì°®ì•˜ë˜ LoveIt í…Œë§ˆì˜ ê²½ìš° ì„¤ì • ê³³ê³³ì— ì¤‘êµ­ì–´ê°€ í¬í•¨ë˜ì–´ ìˆì–´ ì´í•´í•˜ê¸° ì–´ë µê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ê²°êµ­, ì €ëŠ” ëª¨ë“  í…Œë§ˆë¥¼ ë‘˜ëŸ¬ë³¸ í›„ ë‹¤ë£¨ê¸° ì‰¬ì›Œë³´ì´ë©´ì„œ ì™¸ì ìœ¼ë¡œë„ ê´œì°®ì•˜ë˜ PaperMod í…Œë§ˆë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.\nHugo ë¸”ë¡œê·¸ êµ¬ì„±í•˜ê¸° # ì´ë²ˆ Hugo ë¸”ë¡œê·¸ êµ¬ì„±ì€ Mac í™˜ê²½ì—ì„œ ì§„í–‰ë˜ì—ˆìœ¼ë©°, ë‹¤ë¥¸ í™˜ê²½ì˜ êµ¬ì„± ë°©ì‹ì€ ì œê³µë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nHugo ì„¤ì¹˜ # Mac ì‚¬ìš©ìë¼ë©´ Homebrewë¥¼ í†µí•´ ì‰½ê²Œ Hugoë¥¼ ì„¤ì¹˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í„°ë¯¸ë„ì— ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ ì„¤ì¹˜ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\nCopy bash brew install hugo ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´, ë²„ì „ ì •ë³´ë¥¼ ì¶œë ¥í•´ì„œ ì •ìƒ ì„¤ì¹˜ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\nCopy bash % hugo version hugo v0.102.2+extended darwin/arm64 BuildDate=unknown Github ì €ì¥ì†Œ ìƒì„± # HugoëŠ” ì›ë³¸ ë°ì´í„° ë° ì„¤ì • íŒŒì¼ì´ í¬í•¨ë  ê³µê°„ê³¼, ë Œë”ë§ëœ í˜ì´ì§€ê°€ ì €ì¥ë  ê³µê°„ì´ í•„ìš”í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œëŠ” ë¶„ë¦¬ëœ ì €ì¥ì†Œë¥¼ í†µí•´ êµ¬í˜„í•˜ì§€ë§Œ, ì•ì„œ Jekyll ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•´ë³´ë©´ì„œ ë¸Œëœì¹˜ë¥¼ í†µí•´ í•˜ë‚˜ì˜ ì €ì¥ì†Œì—ì„œ ë‘ ê°œì˜ ê³µê°„ì„ ê´€ë¦¬í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ íŒë‹¨í–ˆìŠµë‹ˆë‹¤.\ní•˜ë‚˜ì˜ ì €ì¥ì†Œë¥¼ mainê³¼ gh-pages, ë‘ ê°œì˜ ë¸Œëœì¹˜ë¡œ ë‚˜ëˆ„ì–´ êµ¬ì„±í•  ê³„íšì´ë©°, ìš°ì„ ì ìœ¼ë¡œ \u0026lt;USERNAME\u0026gt;.github.io ëª…ì¹­ì˜ ì €ì¥ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nHugo í”„ë¡œì íŠ¸ ìƒì„± # ì¼ë°˜ì ì¸ ì›¹ í”„ë ˆì„ì›Œí¬ì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ëŠ” ê²ƒì²˜ëŸ¼, Hugoì—ì„œë„ ê¸°ë³¸ í…œí”Œë¦¿ì„ ì œê³µí•©ë‹ˆë‹¤. ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê³ , ì´ë¦„ì€ ììœ ë¡­ê²Œ ì§€ì •í•´ë„ ë©ë‹ˆë‹¤.\nCopy bash % hugo new site \u0026lt;NAME\u0026gt; ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ë§Œë“¤ì–´ì§„ í…Œë§ˆë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ëŒ€ë¶€ë¶„ì˜ êµ¬ì„±ìš”ì†Œë“¤ì´ themes/ ë””ë ‰í† ë¦¬ ë‚´ì— ìœ„ì¹˜í•˜ê²Œ ë˜ë©°, í¬ìŠ¤íŠ¸ë¥¼ ìœ„í•œ content/, ì´ë¯¸ì§€ ë“±ì„ ìœ„í•œ static/ ë””ë ‰í† ë¦¬ ì™¸ì—” ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nCopy bash . â”œâ”€â”€ archetypes â”‚Â â””â”€â”€ default.md â”œâ”€â”€ config.toml â”œâ”€â”€ content â”œâ”€â”€ data â”œâ”€â”€ layouts â”œâ”€â”€ public â”œâ”€â”€ static â””â”€â”€ themes ì €ì¥ì†Œ ì—°ë™ # í…Œë§ˆë¥¼ ë¶ˆëŸ¬ì˜¤ê¸°ì— ì•ì„œ git ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•œ í›„, ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì›ê²© ì €ì¥ì†Œì™€ ì—°ë™í•©ë‹ˆë‹¤.\nCopy bash % git init % git add . % git commit -m \u0026#34;feat: new site\u0026#34; % git branch -M main % git remote add origin https://github.com/\u0026lt;USERNAME\u0026gt;/\u0026lt;USERNAME\u0026gt;.github.io.git % git push -u origin main ì¶”ê°€ì ìœ¼ë¡œ, ë Œë”ë§ëœ í˜ì´ì§€ê°€ ì €ì¥ë˜ê³  ì‹¤ì§ˆì ì¸ ë°°í¬ê°€ ì´ë£¨ì–´ì§€ëŠ” ë¸Œëœì¹˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\nCopy bash % git branch gh-pages main % git checkout gh-pages % git push origin gh-pages % git checkout main Hugoì—ì„œ í˜ì´ì§€ë¥¼ ë Œë”ë§í•œ ê²°ê³¼ëŠ” public/ ë””ë ‰í† ë¦¬ì— ì €ì¥ë˜ë©°, ì´ë¥¼ gh-pages ë¸Œëœì¹˜ì™€ ì—°ê²°í•´ì•¼ í•©ë‹ˆë‹¤.\nê¸°ì¡´ì— ì¡´ì¬í•˜ëŠ” ë¹ˆ ë””ë ‰í† ë¦¬ë¥¼ ì œê±°í•˜ê³  gh-pages ë¸Œëœì¹˜ë¥¼ main ë¸Œëœì¹˜ì˜ submoduleë¡œ ì—°ê²°í•©ë‹ˆë‹¤. submoduleì— ëŒ€í•œ ê°œë…ì€ í•´ë‹¹ ì˜ìƒì„ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ë¼ë©°, ë‹¨ìˆœí•˜ê²Œ ì„¤ëª…í•˜ìë©´ ë™ê¸°í™” ê¸°ëŠ¥ì…ë‹ˆë‹¤.\nCopy bash % rm -rf public % git submodule add -b gh-pages https://github.com/\u0026lt;USERNAME\u0026gt;/\u0026lt;USERNAME\u0026gt;.github.io.git public % git add public % git add .gitmodules % git commit -m \u0026#34;feat: add submodule for github pages\u0026#34; % git push í…Œë§ˆ ë¶ˆëŸ¬ì˜¤ê¸° # git ì„¤ì •ì„ ì™„ë£Œí•œ í›„, ë¯¸ë¦¬ ì •í•´ë‘ì—ˆë˜ í…Œë§ˆë¥¼ themes/ ë””ë ‰í† ë¦¬ ë‚´ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.\në§ˆì°¬ê°€ì§€ë¡œ submoduleì„ í™œìš©í•˜ë©°, í…Œë§ˆì˜ ë””ë ‰í† ë¦¬ëª…ì€ ë°˜ë“œì‹œ í…Œë§ˆ ì„¤ì •ì— ëª…ì‹œëœ ê²ƒê³¼ ë™ì¼í•œ ì´ë¦„ì´ì–´ì•¼ í•©ë‹ˆë‹¤. ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ ê³ ë ¤í•˜ë©´ ì›ë³¸ ì €ì¥ì†Œê°€ ì•„ë‹Œ ë³„ë„ë¡œ forkí•œ ì €ì¥ì†Œë¥¼ ì—°ê²°ì‹œí‚¤ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.\nCopy bash % git submodule add https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod % git add themes/PaperMod % git add .gitmodules % git commit -m \u0026#34;feat: import hugo theme\u0026#34; ë§Œì•½ fork ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì›ë³¸ ì €ì¥ì†Œì˜ ë³€ê²½ì‚¬í•­ì„ ì—…ë°ì´íŠ¸í•˜ê³  ì‹¶ë‹¤ë©´, ì›ë³¸ ì €ì¥ì†Œë¥¼ ìƒˆë¡œìš´ ì›ê²© ì €ì¥ì†Œë¡œ ë“±ë¡í•´ pull ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.\nCopy python git remote add upstream https://github.com/adityatelange/hugo-PaperMod git fetch upstream git merge upstream/master git commit -m \u0026#34;update: pull upstream\u0026#34; ì•„ë˜ëŠ” PaperMod í…Œë§ˆì˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°ì…ë‹ˆë‹¤. í…Œë§ˆë¥¼ ìˆ˜ì •í•  ì¼ì´ ìˆë‹¤ë©´ ì•„ë˜ êµ¬ì¡°ë¥¼ ì°¸ê³ í•´ í•„ìš”í•œ íŒŒì¼ì— ì ‘ê·¼í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash themes/PaperMod â”œâ”€â”€ LICENSE â”œâ”€â”€ README.md â”œâ”€â”€ assets â”‚Â â”œâ”€â”€ css â”‚Â â”‚Â â”œâ”€â”€ common â”‚Â â”‚Â â”œâ”€â”€ core â”‚Â â”‚Â â”œâ”€â”€ extended â”‚Â â”‚Â â”œâ”€â”€ hljs â”‚Â â”‚Â â””â”€â”€ includes â”‚Â â””â”€â”€ js â”œâ”€â”€ go.mod â”œâ”€â”€ i18n â”œâ”€â”€ images â”œâ”€â”€ layouts â”‚Â â”œâ”€â”€ 404.html â”‚Â â”œâ”€â”€ _default â”‚Â â”‚Â â””â”€â”€ _markup â”‚Â â”œâ”€â”€ partials â”‚Â â”œâ”€â”€ robots.txt â”‚Â â””â”€â”€ shortcodes â””â”€â”€ theme.toml Hugo ì„¤ì • # Hugo ë¸”ë¡œê·¸ ì„¤ì •ì€ config íŒŒì¼ì—ì„œ ì§€ì •í•  ìˆ˜ ìˆê³ , toml, yaml, json í˜•ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤.\ní…Œë§ˆë¥¼ ì‚¬ìš©í•  ê²½ìš° ì»¤ìŠ¤í…€ í‚¤ê°€ ì¡´ì¬í•  ìˆ˜ ìˆì–´ ë³„ë„ì˜ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤. Hugo ê³µì‹ ì„¤ì •ì— ê´€í•œ ë¬¸ì„œì™€ PaperMod ì„¤ì •ì— ê´€í•œ ë¬¸ì„œëŠ” ì•„ë˜ë¥¼ ì°¸ê³ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\nAll settings The complete list of Hugo configuration settings. gohugo.io Installation A fast, clean, responsive Hugo theme. Contribute to adityatelange/hugo-PaperMod development by creating an account on â€¦ GitHub ì œ ì„¤ì • íŒŒì¼ì˜ ê²½ìš° ì»¤ìŠ¤í„°ë§ˆì´ì§•ì„ í†µí•´ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” í‚¤ê°€ ì¡´ì¬í•  ìˆ˜ ìˆì§€ë§Œ, ë™ì¼í•œ í…Œë§ˆë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì¼ë¶€ë¶„ì„ ì°¸ê³ í•´ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆì„ê±°ë¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.\nHugo ë°°í¬ # HugoëŠ” hugo -t \u0026lt;THEMES\u0026gt; ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¡œì»¬ì—ì„œ í˜ì´ì§€ ë Œë”ë§ì„ ì§„í–‰í•  ìˆ˜ ìˆê³ , ê·¸ ê²°ê³¼ì¸ public/ ë””ë ‰í† ë¦¬ ë‚´ ë‚´ìš©ì„ gh-pagesì— pushí•˜ì—¬ ë°°í¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.\në°°í¬ì— ì•ì„œ, ê¹ƒí—ˆë¸Œì—ì„œ ì œê³µí•˜ëŠ” Github Pagesê°€ gh-pages ë¸Œëœì¹˜ë¥¼ ì°¸ê³ í•˜ë„ë¡ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ ì €ì¥ì†Œ ì„¤ì •ì—ì„œ ë¹Œë“œ ë° ë°°í¬ ëŒ€ìƒ ë¸Œëœì¹˜ë¥¼ ì§€ì •í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.\nìœ„ì™€ ê°™ì´ ìˆ˜ë™ìœ¼ë¡œ ë°°í¬í•  ê²½ìš° ë‘ ë²ˆì˜ push ê³¼ì •ì„ ê±°ì³ì•¼ í•©ë‹ˆë‹¤. ë§¤ë²ˆ ì´ ê³¼ì •ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì€ ë¶ˆí¸í•˜ê¸° ë•Œë¬¸ì— ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ì—¬ ì‘ì—…ì„ ë‹¨ìˆœí™”í•©ë‹ˆë‹¤. í•´ë‹¹ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ë¥¸ í¬ìŠ¤íŠ¸ë¥¼ ì°¸ê³ í•´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\nCopy bash #!/bin/bash echo -e \u0026#34;\\033[0;32mDeploying updates to GitHub...\\033[0m\u0026#34; # Build the project. # hugo -t \u0026lt;your theme\u0026gt; hugo -t PaperMod # Go to public folder, submodule commit cd public # Add changes to git. git add . # Commit changes. msg=\u0026#34;rebuilding site `date`\u0026#34; if [ $# -eq 1 ] then msg=\u0026#34;$1\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; # Push source and build repos. git push origin gh-pages # Come back up to the project root cd .. # Commit and push to main branch git add . msg=\u0026#34;rebuilding site `date`\u0026#34; if [ $# -eq 1 ] then msg=\u0026#34;$1\u0026#34; fi git commit -m \u0026#34;$msg\u0026#34; git push origin main ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì— ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•˜ê³  ì‹¤í–‰í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash % chmod 777 deploy.sh % ./deploy.sh ë°°í¬ê°€ ì™„ë£Œë˜ë©´, https://\\\u0026lt;USERNAME\\\u0026gt;.github.io ì£¼ì†Œë¡œ ì ‘ì†í•´ ë¸”ë¡œê·¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní¬ìŠ¤íŠ¸ ì‘ì„±í•˜ê¸° # Hugo í¬ìŠ¤íŠ¸ëŠ” ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ìƒì„±í•  ìˆ˜ ìˆê³ , ë³„ë„ì˜ markdown íŒŒì¼ì„ content/post/ ê²½ë¡œ ë‚´ì— ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.\nCopy bash % hugo new post/\u0026lt;FILENAME\u0026gt;.md Front Matter # ì œëª©, ì‘ì„±ì¼ì ë“±ì„ ì§€ì •í•˜ê¸° ìœ„í•´ í¬ìŠ¤íŠ¸ ìƒë‹¨ì— Front Matterë¼ê³  í•˜ëŠ” í† í°ì„ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.\nFront MatterëŠ” ì„¤ì • íŒŒì¼ê³¼ ë™ì¼í•˜ê²Œ toml, yaml, json í˜•ì‹ì„ ì§€ì›í•˜ë©°, Hugo ê³µì‹ ë¬¸ì„œ ë˜ëŠ” PaperModì—ì„œ ì•ˆë‚´í•˜ëŠ” ì•„ë˜í˜•ì‹ì„ ì°¸ê³ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy yaml --- title: \u0026#34;My 1st post\u0026#34; date: 2020-09-15T11:30:03+00:00 # weight: 1 # aliases: [\u0026#34;/first\u0026#34;] tags: [\u0026#34;first\u0026#34;] author: \u0026#34;Me\u0026#34; # author: [\u0026#34;Me\u0026#34;, \u0026#34;You\u0026#34;] # multiple authors showToc: true TocOpen: false draft: false hidemeta: false comments: false description: \u0026#34;Desc Text.\u0026#34; canonicalURL: \u0026#34;https://canonical.url/to/page\u0026#34; disableHLJS: true # to disable highlightjs disableShare: false disableHLJS: false hideSummary: false searchHidden: true ShowReadingTime: true ShowBreadCrumbs: true ShowPostNavLinks: true ShowWordCount: true ShowRssButtonInSectionTermList: true UseHugoToc: true cover: image: \u0026#34;\u0026lt;image path/url\u0026gt;\u0026#34; # image path/url alt: \u0026#34;\u0026lt;alt text\u0026gt;\u0026#34; # alt text caption: \u0026#34;\u0026lt;text\u0026gt;\u0026#34; # display caption under cover relative: false # when using page bundles set this to true hidden: true # only hide on current single page editPost: URL: \u0026#34;https://github.com/\u0026lt;path_to_repo\u0026gt;/content\u0026#34; Text: \u0026#34;Suggest Changes\u0026#34; # edit text appendFilePath: true # to append file path to Edit link --- ê²Œì‹œê¸€ ì €ì¥ì†Œ ì—°ë™ # ì €ëŠ” ê¸°ì¡´ TIL ì €ì¥ì†Œë¥¼ ê²Œì‹œê¸€ë¡œ í™œìš©í•  ì˜ˆì •ì´ì—ˆê¸°ì—, content/post/ ë””ë ‰í† ë¦¬ë¥¼ TIL ì €ì¥ì†Œì˜ submoduleë¡œ ëŒ€ì²´í–ˆìŠµë‹ˆë‹¤.\nCopy bash % git submodule add https://github.com/minyeamer/til.git content/post/ % git add content/post/ % git add .gitmodules % git commit -m \u0026#34;feat: add til repository as post\u0026#34; ì´ë ‡ê²Œ ì„¤ì •í–ˆì„ ë•Œ ì¥ì ì€ TIL ì €ì¥ì†Œì— ë³€ê²½ì‚¬í•­ì´ ë°œìƒí–ˆì„ ê²½ìš°, ì•„ë˜ì™€ ê°™ì€ ë‹¨ í•œ ì¤„ì˜ ëª…ë ¹ì–´ë¡œ ë¸”ë¡œê·¸ ì €ì¥ì†Œì—ì„œ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ ëª…ë ¹ì–´ëŠ” ë¬¼ë¡ , í…Œë§ˆì™€ ê°™ì€ ë‹¤ë¥¸ submoduleì—ë„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nCopy bash % git submodule update --remote ë§ˆì¹˜ë©° # Jekyll ë¸”ë¡œê·¸ì™€ ë©°ì¹ ê°„ ì”¨ë¦„í•˜ë‹¤ Hugoë¡œ ì´ë™í•´ ê¸°ì¡´ì˜ ëª©í‘œë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. Chirpy í…Œë§ˆë¥¼ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì´ ì•„ì‰½ì§€ë§Œ, PaperModì˜ ì½”ë“œëŠ” ì•Œê¸° ì‰½ê²Œ ì‘ì„±ë˜ì–´ ìˆì–´ ì‹œê°„ì  ì—¬ìœ ë§Œ ìˆë‹¤ë©´ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì—ì„œ ì–´ë ¤ì›€ì´ ì—†ì„ ê²ƒì´ë¼ íŒë‹¨í•©ë‹ˆë‹¤.\nì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Hugo ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•˜ê³  í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê³¼ì •ì„ ì „ë‹¬í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì—” Utterances ìœ„ì ¯ì„ í™œìš©í•´ ëŒ“ê¸€ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\nì°¸ê³  ìë£Œ # Hugo Documents PaperMod Documents ë¸”ë¡œê·¸ êµ¬ì¶•ê¸° (1) Hugo + Githubìœ¼ë¡œ ê°œì¸ ë¸”ë¡œê·¸ ë§Œë“¤ê¸° ì €ì¥ì†Œ ì•ˆì— ì €ì¥ì†Œ - git submodule "},{"id":32,"href":"/blog/jekyll-blog/","title":"ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ ì‹œì‘í•˜ê¸° | Jekyll Chirpy í…Œë§ˆ ì„¤ì¹˜ ë° ë°°í¬ ê°€ì´ë“œ","content":"ë¸”ë¡œê·¸ë¥¼ ì²˜ìŒ ì‹œì‘í•¨ì— ìˆì–´ì„œ ëª¨ë“  ê²ƒì´ ì¤€ë¹„ëœ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ì˜ í¸ì˜ì„±ì€ ë¬´ì‹œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì €ë„ ì²˜ìŒì—” ì½”ë“œë¥¼ ì§ì ‘ ê±´ë“œë¦¬ëŠ” ììœ ë„ ë†’ì€ ë°©ì‹ì˜ ë¸”ë¡œê·¸ì— ì§„ì… ì¥ë²½ì„ ëŠë¼ê³  ê°€ë³ê²Œ ì‹œì‘í•  ìˆ˜ ìˆëŠ” í‹°ìŠ¤í† ë¦¬ë¥¼ í†µí•´ ë¸”ë¡œê·¸ì— ì…ë¬¸í–ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ, ê°œë°œì  ì§€ì‹ì„ í•™ìŠµí•˜ë©´ì„œ ê¹ƒí—ˆë¸Œì— ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œë¥¼ ì˜¬ë¦¬ëŠ” ë¹ˆë„ê°€ ëŠ˜ì–´ë‚¬ê³ , ê¹ƒí—ˆë¸Œì— ì˜¬ë¦° ë¬¸ì„œë¥¼ êµ³ì´ í‹°ìŠ¤í† ë¦¬ë¡œ ë‹¤ì‹œ ì˜®ê²¨ ë‹´ëŠ” ê²ƒì— ë¶ˆí¸í•¨ì„ ëŠë¼ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.\në§ˆí¬ë‹¤ìš´ ë¬¸ì„œë¥¼ ìì£¼ ì‘ì„±í•˜ê³  ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œë¥¼ í•™ìŠµ ë…¸íŠ¸ë¡œ í™œìš©í•œë‹¤ë©´, ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•´ë³´ëŠ” ê²ƒì´ ë¬¸ì„œë¥¼ í†µí•©ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ë§¤ë ¥ì ì´ë¼ ìƒê°í•©ë‹ˆë‹¤.\ní˜„ì¬ëŠ” ë§‰ ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ë¥¼ ê¾¸ë ¤ì„œ ì ì‘í•´ê°€ëŠ” ë‹¨ê³„ì— ë¶ˆê³¼í•˜ì§€ë§Œ, ì›¹ì—ì„œ ì •ì  íŒŒì¼ì„ ìˆ˜ì§‘í•˜ëŠ” ê¸°ìˆ ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤ë©´ ì¤‘ë³µëœ ìë£Œë¥¼ ìƒì„±í•  í•„ìš” ì—†ì´ TIL ì €ì¥ì†Œ ìì²´ë¥¼ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì €ì¥ì†Œë¡œë„ í™œìš©í•  ìˆ˜ ìˆì„ ê²ƒì´ë¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.\në¸”ë¡œê·¸ë¥¼ ê°œì„¤í•˜ê³  ì²˜ìŒ ì‘ì„±í•˜ëŠ” ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“  ê³¼ì •ì„ ì†Œê°œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\ní…Œë§ˆ ì„ íƒ ë° ê°€ì ¸ì˜¤ê¸° # ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ë¥¼ ìƒì„±í•˜ëŠ”ë° ìˆì–´ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ ì´ Jekyllì´ë¼ëŠ” ì‚¬ì´íŠ¸ ìƒì„± ì—”ì§„ ì…ë‹ˆë‹¤.\nJekyllì„ êµ¬ì„±í•˜ëŠ” Rubyì™€ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±ì— ëŒ€í•œ ì´í•´ê°€ ìˆë‹¤ë©´ ë”ìš± ììœ ë„ ë†’ì€ ì‘ì—…ì„ í•  ìˆ˜ ìˆì§€ë§Œ, ë‹¤í–‰íˆ ì´ë¥¼ ëª¨ë¥¼ì§€ë¼ë„ ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì´ ë§Œë“  í…Œë§ˆë¥¼ ê°€ì ¸ì™€ ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nJekyll í…Œë§ˆëŠ” ì•„ë˜ì™€ ê°™ì€ ì‚¬ì´íŠ¸ë¥¼ ì°¸ì¡°í•˜ì—¬ ë§ˆìŒì— ë“œëŠ” UIë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nJekyll Themes â€“ a curated directory Find the best Jekyll themes for your next project â€“ a curated directory of themes, templates and resources for building â€¦ jekyllthemes.io Jekyll Themesjekyllthemes.org ë¬´ë£Œë¡œ ê°€ì ¸ë‹¤ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ í…Œë§ˆ ì¤‘ ê°œì¸ì ìœ¼ë¡œ ë§ˆìŒì— ë“œëŠ” Chirpy í…Œë§ˆë¥¼ í™œìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.\ní…Œë§ˆ ë³„ë¡œ ì ìš© ë° í™œìš©í•˜ëŠ” ë°©ì‹ì— ë‹¤ì†Œ ì°¨ì´ê°€ ìˆì§€ë§Œ, Chirpy ê°™ì€ ê²½ìš° ì•„ë˜ íŠœí† ë¦¬ì–¼ ì‚¬ì´íŠ¸ê°€ ë§Œë“¤ì–´ì ¸ ìˆì–´ ë¹„êµì  ì‰½ê²Œ ë¸”ë¡œê·¸ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nChirpy A minimal, responsive and feature-rich Jekyll theme for technical writing. Chirpy ë¸”ë¡œê·¸ ë°°í¬í•˜ê¸° # Chirpy í…Œë§ˆë¥¼ ì„¤ì¹˜í•˜ê³  ë°°í¬í•˜ëŠ” ë°©ë²•ì—” ë‘ ê°€ì§€ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤.\nChirpy Starterë¥¼ í†µí•´ ê°„ë‹¨í•˜ê²Œ ì„¤ì¹˜í•˜ê¸°\níŠœí† ë¦¬ì–¼ì—ì„œëŠ” Jekyllì„ ì „í˜€ ëª¨ë¥´ëŠ” ì‚¬ìš©ìë„ ì‰½ê²Œ í…Œë§ˆë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ íŒŒì¼ì´ ë§ˆë ¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œë¥¼ ìƒì„±í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ë‹¨ìˆœí•œ ë²„íŠ¼ í´ë¦­ë§Œìœ¼ë¡œ ì™„ì„±ëœ ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nGithubì—ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ fork ë°›ì•„ ì§ì ‘ ì„¤ì¹˜í•˜ê¸°\nìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ë“± ë‹¤ì†Œì˜ ì‘ì—…ì´ ì¶”ê°€ë˜ì§€ë§Œ, ë¸”ë¡œê·¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì— ìœ ë¦¬í•œ ë°©ì‹ì…ë‹ˆë‹¤. Jekyllì„ ë‹¤ë¤„ë³¼ ì¤„ ì•ˆë‹¤ë©´ ì§ì ‘ ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì·¨í–¥ì— ë§ëŠ” ë°©ì‹ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì €ëŠ” Jekyllì— ì¹œìˆ™í•œ í¸ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— 1ë²ˆì§¸ ë°©ë²•ì„ í†µí•´ ì„¤ì¹˜ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.\nì´ë•Œ, ì €ì¥ì†Œ ì´ë¦„ì€ \u0026lt;GH_USERNAME\u0026gt;.github.io í˜•ì‹ìœ¼ë¡œ ì§€ì •í•´ì•¼ í•˜ë©°, \u0026lt;GH_USERNAME\u0026gt;ì—ëŠ” ê¹ƒí—ˆë¸Œ ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.\nì´ë ‡ê²Œ ì €ì¥ì†Œë¥¼ ìƒì„±í•˜ë©´ ìë™ìœ¼ë¡œ ë°°í¬ê¹Œì§€ ë˜ëŠ”ë°, Actions íƒ­ì„ í†µí•´ ì•„ë˜ì²˜ëŸ¼ ì§„í–‰ì‚¬í•­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\në¹Œë“œ ë° ë°°í¬ê°€ ì™„ë£Œë˜ë©´ https://\u0026lt;ì €ì¥ì†Œ ì´ë¦„\u0026gt; ì£¼ì†Œë¥¼ í†µí•´ ë¸”ë¡œê·¸ í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ë°, 2022ë…„ 8ì›” ê¸°ì¤€ì—ì„œ í•´ë‹¹ í…Œë§ˆë¥¼ ê°€ì ¸ì˜¨ ì§í›„ì—” --- layout: home # Index page --- í…ìŠ¤íŠ¸ë§Œ ì¡´ì¬í•˜ëŠ” í™”ë©´ì„ ë§ˆì£¼í•˜ê²Œ ë©ë‹ˆë‹¤.\nì´ê²ƒì€ í˜„ì¬ Github Pagesê°€ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ì§€ ì•ŠëŠ” main ë¸Œëœì¹˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ê³  ìˆëŠ” ê²ƒì´ ì›ì¸ìœ¼ë¡œ, Settings íƒ­ ì•„ë˜ Pages ë©”ë‰´ë¥¼ í´ë¦­í–ˆì„ ë•Œ ë³´ì´ëŠ” Branch ë¶€ë¶„ì„ gh-pagesë¡œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.\në¸”ë¡œê·¸ ì„¤ì •í•˜ê¸° # í–¥í›„ ë¸”ë¡œê·¸ í˜¸ìŠ¤íŒ… ë° ì‚¬ì´íŠ¸ ì œëª©ì„ ìˆ˜ì •í•˜ëŠ” ë“±ì˜ ì„¤ì •ì„ ìœ„í•´ _config.yml íŒŒì¼ì„ ìˆ˜ì •í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.\nì œê°€ ë¸”ë¡œê·¸ ì„¸íŒ…ì— ë„ì›€ì„ ë°›ì€ ê²Œì‹œê¸€ë¡œë¶€í„° ì¼ë¶€ í•­ëª©ì— ëŒ€í•œ ì„¤ëª…ì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.\ní•­ëª© ê°’ ì„¤ëª… timezone Asia/Seoul ì‹œê°„ëŒ€ë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ ì„œìš¸ í‘œì¤€ì‹œë¡œ ì„¤ì •í•©ë‹ˆë‹¤. title ë¸”ë¡œê·¸ ì œëª© í”„ë¡œí•„ ì‚¬ì§„ ì•„ë˜ í° ê¸€ì”¨ë¡œ ì œëª©ì´ í‘œì‹œë©ë‹ˆë‹¤. tagline í”„ë¡œí•„ ì„¤ëª… ë¸”ë¡œê·¸ ì œëª© ì•„ë˜ì— ì‘ì€ ê¸€ì”¨ë¡œ ë¶€ì—°ì„¤ëª…ì„ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. description SEO êµ¬ê¸€ ê²€ìƒ‰ì— ì–´ë–¤ í‚¤ì›Œë“œë¡œ ë‚´ ë¸”ë¡œê·¸ë¥¼ ê²€ìƒ‰í•˜ê²Œ í•  ê²ƒì¸ê°€ë¥¼ ì •ì˜í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤. url https://*.github.io ë¸”ë¡œê·¸ì™€ ì—°ê²°ëœ urlì„ ì…ë ¥í•©ë‹ˆë‹¤. github Github ID ë³¸ì¸ì˜ github ì•„ì´ë””ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. twitter.username Twitter ID íŠ¸ìœ„í„°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì•„ì´ë””ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. social.name ì´ë¦„ í¬ìŠ¤íŠ¸ ë“±ì— ì‘ì„±ìë¡œ í‘œì‹œí•  ë‚˜ì˜ ì´ë¦„ì„ ì…ë ¥í•©ë‹ˆë‹¤. social.email ì´ë©”ì¼ ë‚˜ì˜ ì´ë©”ì¼ ê³„ì •ì„ ì…ë ¥í•©ë‹ˆë‹¤. social.links ì†Œì…œ ë§í¬ë“¤ íŠ¸ìœ„í„°, í˜ì´ìŠ¤ë¶ ë“± ë‚´ê°€ ì‚¬ìš©í•˜ê³  ìˆëŠ” ì†Œì…œ ì„œë¹„ìŠ¤ì˜ ë‚˜ì˜ í™ˆ urlì„ ì…ë ¥í•©ë‹ˆë‹¤. avatar í”„ë¡œí•„ ì‚¬ì§„ ë¸”ë¡œê·¸ ì™¼ìª½ ìƒë‹¨ì— í‘œì‹œë  í”„ë¡œí•„ ì‚¬ì§„ì˜ ê²½ë¡œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. toc true í¬ìŠ¤íŠ¸ ì˜¤ë¥¸ìª½ì— ëª©ì°¨ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. paginate 10 í•œ ëª©ë¡ì— ëª‡ ê°œì˜ ê¸€ì„ í‘œì‹œí•  ê²ƒì¸ì§€ ì§€ì •í•©ë‹ˆë‹¤. ì´ ë¶€ë¶„ì€ ì €ì˜ ì„¤ì • íŒŒì¼ _config.yml ë˜ëŠ” github ë‚´ ê²€ìƒ‰ì„ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ì‚¬ìš©ì ë¶„ë“¤ì˜ ì„¤ì • íŒŒì¼ì„ ì°¸ê³ í•˜ë©´ ì›í•˜ëŠ” ë¶€ë¶„ì„ ìˆ˜ì •í•˜ëŠ”ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.\n_config.yml íŒŒì¼ì´ ìˆ˜ì • ë“± ì €ì¥ì†Œì— ë³€í™”ê°€ ë°œìƒí•˜ë©´ ìë™ìœ¼ë¡œ ë¹Œë“œ ë° ë°°í¬ ê³¼ì •ì´ ìˆ˜í–‰ë˜ë©°, ë³€ê²½ì‚¬í•­ì´ ì ìš©ë˜ëŠ”ë° ì•½ê°„ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\ní¬ìŠ¤íŠ¸ ì‘ì„±í•˜ê¸° # Jekyllì€ ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ìœ¼ë¡œ ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì— ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´ í•´ë‹¹ ê²Œì‹œê¸€ì„ ì°¸ê³ í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. VS Code ë˜ëŠ” ê¸°íƒ€ ì›¹ í¸ì§‘ê¸°ë¥¼ í™œìš©í•˜ë©´ ë§ˆí¬ë‹¤ìš´ ì‘ì„± ë‚´ìš©ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë Œë”ë§í•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nê²Œì‹œê¸€ì— ëŒ€í•œ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì€ _posts ë””ë ‰í† ë¦¬ ë‚´ì— ìœ„ì¹˜ì‹œí‚¤ê³ , yyyy-mm-dd-ì œëª©.mdì˜ í˜•ì‹ìœ¼ë¡œ íŒŒì¼ ì´ë¦„ì„ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì œëª©ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì€ ì‹¤ì œ í¬ìŠ¤íŠ¸ ì œëª©ì´ ì•„ë‹Œ, urlë¡œ í™œìš©ë˜ëŠ” ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì— ê²Œì‹œê¸€ì˜ ë‚´ìš©ì„ ì§ì‘í•˜ê²Œ í•˜ëŠ” ê°„ë‹¨í•œ ë‹¨ì–´ë‚˜ ë¬¸ì¥ì„ í™œìš©í•˜ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤.\në§ˆí¬ë‹¤ìš´ íŒŒì¼ì˜ ìƒë‹¨ì—” Front Matterë¼ê³  í•˜ëŠ” Jekyll ê²Œì‹œê¸€ì—ì„œ í—ˆìš©í•˜ëŠ” ê·œì¹™ì„ í†µí•´ ê²Œì‹œê¸€ ì œëª©, ì‘ì„±ì¼ì, ì¹´í…Œê³ ë¦¬, íƒœê·¸ ë“±ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ íŠœí† ë¦¬ì–¼ì„ ì°¸ì¡°í•  ìˆ˜ë„ ìˆê³ , í•´ë‹¹ ê²Œì‹œê¸€ì— ëŒ€í•œ raw íŒŒì¼ì„ í™•ì¸í•´ë³´ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.\në§ˆì¹˜ë©° # ê³¼ê±° ê¹ƒí—ˆë¸Œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ë ¤ê³  í–ˆì„ ë•ŒëŠ” Jekyllì„ ì§ì ‘ ë‹¤ë¤„ì•¼ í•´ì„œ ì‰½ê²Œ ì ‘ê·¼í•˜ì§€ ëª»í–ˆëŠ”ë°, ì´ì œëŠ” ê·¸ëŸ´ í•„ìš” ì—†ì´ ì™„ì„±ëœ íŒ¨í‚¤ì§€ë¥¼ ê°€ì ¸ë‹¤ ì“¸ ìˆ˜ ìˆê²Œ ë˜ì–´ì„œ ë§ì´ í¸í•´ì¡Œë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.\nì°¸ê³  ìë£Œ # Chirpy Documents ê¹ƒí—™(GitHub) ë¸”ë¡œê·¸ 10ë¶„ì•ˆì— ì™„ì„±í•˜ê¸° Jekyll Chirpy í…Œë§ˆ ì‚¬ìš©í•˜ì—¬ ë¸”ë¡œê·¸ ë§Œë“¤ê¸° Github ë¸”ë¡œê·¸ í…Œë§ˆì ìš©í•˜ê¸°(Chirpy) "},{"id":33,"href":"/blog/dacon-shop-review/","title":"DACON ì‡¼í•‘ëª° ë¦¬ë·° í‰ì  ë¶„ë¥˜ - KoELECTRAì™€ RoBERTa ì•™ìƒë¸”ë¡œ 2ìœ„ ë‹¬ì„±","content":" ì‡¼í•‘ëª° ë¦¬ë·° í‰ì  ë¶„ë¥˜ AI í•´ì»¤í†¤ ì¶œì²˜ : DACON - Data Science Competition dacon.io Introduction # ì‡¼í•‘ëª°ì—ì„œ ìƒí’ˆì„ ê³ ë¥´ëŠ”ë° ìˆì–´ì„œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ ë¦¬ë·°ì™€ í‰ì ì„ ì°¸ê³ í•˜ê²Œ ë˜ëŠ”ë°, ìƒí’ˆ ë¦¬ë·° í…ìŠ¤íŠ¸ì™€ í‰ì  ì‚¬ì´ì— ì–´ë–¤ ê´€ê³„ê°€ ìˆëŠ”ì§€, ë¦¬ë·° í…ìŠ¤íŠ¸ë§Œìœ¼ë¡œ í‰ì ì„ ì˜ˆì¸¡ê°€ëŠ¥í•œì§€ì— ëŒ€í•´ ì‹¤í—˜í•©ë‹ˆë‹¤. 1ì , 2ì , 4ì , 5ì ìœ¼ë¡œ ë¶„ë¥˜ëœ í‰ì  ë³„ë¡œ ì›Œë“œ í´ë¼ìš°ë“œë¥¼ í™œìš©í•´ ë¹ˆë„ìˆ˜ê°€ ë§ì€ ë‹¨ì–´ë¥¼ ì‹œê°í™”í•´ë³´ê³ , ë‹¤ì¤‘ ë¶„ë¥˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì–¸ì–´ ëª¨ë¸ì„ í•™ìŠµì‹œí‚¨ ê²°ê³¼ë¥¼ ë¹„êµí•  ê³„íšìœ¼ë¡œ í”„ë¡œì íŠ¸ ì§„í–‰í•©ë‹ˆë‹¤. í‰ì  ë³„ ë¶ˆê· í˜•ì´ ì¡´ì¬í•´ F1-Scoreë¡œ í‰ê°€í•˜ëŠ” ê²ƒì´ ì´ìƒì ì´ë¼ íŒë‹¨í•˜ì§€ë§Œ, ëŒ€íšŒì˜ íŒë‹¨ ê¸°ì¤€ì— ë§ê²Œ Accuracyë¥¼ í™œìš©í•˜ê³ , ì „ì²´ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤‘ 50%ì— ëŒ€í•œ ì ìˆ˜ë¥¼ ì§€í‘œë¡œ í™œìš©í•©ë‹ˆë‹¤. Fine-tuningëœ KoELECTRA ë° RoBERTa ëª¨ë¸ì— ëŒ€í•œ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ hard-votingí•˜ì—¬ accuracy ê¸°ì¤€ 0.7116 ì ìœ¼ë¡œ 550íŒ€ ì¤‘ 2ìœ„ì— ìœ„ì¹˜í–ˆìŠµë‹ˆë‹¤. Private 2nd | 0.7116 | KoELECTAR+RoBERTa | Hard-Voting ì•Œê³ ë¦¬ì¦˜ | NLP | ë¶„ë¥˜ | ë¦¬ë·° | Accuracy dacon.io Data # ì‡¼í•‘ëª° ë¦¬ë·° ë°ì´í„° ìƒ˜í”Œ ì•„ì´ë””(id), ì‡¼í•‘ëª° ë¦¬ë·° í…ìŠ¤íŠ¸(reviews), ìƒí’ˆ í‰ì (target)ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ì´ 25000ê°œì˜ í–‰ì— ëŒ€í•´ì„œ, ê°ê°ì˜ ë¦¬ë·° í…ìŠ¤íŠ¸ì— 1, 2, 4, 5 ì¤‘ í•˜ë‚˜ì˜ í‰ì ì´ ë¼ë²¨ë§ëœ êµ¬ì¡°ì…ë‹ˆë‹¤. EDA # í† í°í™”ëœ ë‹¨ì–´ë¥¼ ì›Œë“œ í´ë¼ìš°ë“œë¡œ ì‹œê°í™” í–ˆì„ ë•Œ, ë‚®ì€ í‰ì ì˜ ë¦¬ë·°ì—ì„œëŠ” 'ì•ˆ'ê³¼ ê°™ì€ ë¶€ì •ì ì¸ ë‹¨ì–´ê°€, ë†’ì€ í‰ì ì˜ ë¦¬ë·°ì—ì„œëŠ” 'ì˜', 'ì¢‹ì•„ìš”'ì™€ ê°™ì€ ê¸ì •ì ì¸ ë‹¨ì–´ê°€ ìì£¼ ì–¸ê¸‰ë¨ì´ í™•ì¸ë©ë‹ˆë‹¤. 'ì¬êµ¬ë§¤' ë‹¨ì–´ ì—­ì‹œ ë†’ì€ í‰ì ì˜ ë¦¬ë·°ì—ì„œ ë”ìš± ë§ì€ ë¹„ì¤‘ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, 'ë°°ì†¡' ë‹¨ì–´ì˜ ê²½ìš° ëª¨ë“  í‰ì ì˜ ë¦¬ë·°ì—ì„œ ìœ ì‚¬í•œ ë¹„ì¤‘ì„ ê°€ì§‘ë‹ˆë‹¤. í‰ì  1ì  ë¦¬ë·°ì—ì„œ ë¹ˆë„ìˆ˜ê°€ ë§ì€ ë‹¨ì–´ í‰ì  2ì  ë¦¬ë·°ì—ì„œ ë¹ˆë„ìˆ˜ê°€ ë§ì€ ë‹¨ì–´ í‰ì  4ì  ë¦¬ë·°ì—ì„œ ë¹ˆë„ìˆ˜ê°€ ë§ì€ ë‹¨ì–´ í‰ì  5ì  ë¦¬ë·°ì—ì„œ ë¹ˆë„ìˆ˜ê°€ ë§ì€ ë‹¨ì–´ í‰ì  ë³„ ë¦¬ë·° ìˆ˜ë¥¼ ì‹œê°í™” í–ˆì„ ë•Œ, ìµœëŒ€ 4ë°°ì— ë‹¬í•˜ëŠ” ë¶ˆê· í˜•ì´ ì¡´ì¬í•¨ì´ í™•ì¸ë©ë‹ˆë‹¤. ë°ì´í„° ì¦ê°•ì„ í†µí•´ ê° í‰ì  ê°„ ë¹„ìœ¨ì„ ë§ì¶°ì•¼í•  ê²ƒì´ë¼ íŒë‹¨ë©ë‹ˆë‹¤. ì›ë³¸ ë°ì´í„°ì˜ ë¶ˆê· í˜•ì ì¸ í‰ì  ë³„ ë¦¬ë·° ìˆ˜ ì´ìƒì ì¸ í‰ì  ë³„ ë¦¬ë·° ìˆ˜ Data Augmentation # Reverse Translation # í•œê¸€ ë¦¬ë·°ë¥¼ ì˜ì–´ë¡œ ë²ˆì—­í•˜ê³  ë‹¤ì‹œ í•œê¸€ë¡œ ì—­ë²ˆì—­í•˜ì—¬ ì˜ë¯¸ì˜ ë³€ì§ˆì—†ì´ ë¬¸ì¥ì˜ í‘œí˜„ë§Œì„ ë³€í™˜í–ˆìŠµë‹ˆë‹¤. ì´ˆê¸°ì—” êµ¬ê¸€ ë²ˆì—­ APIë¥¼ êµ¬í˜„í•œ googletrans ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë²ˆì—­ì„ ì‹œë„í–ˆì§€ë§Œ, 'ë³„ë¡œ'ë¥¼ 'good'ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë“± í•µì‹¬ í‚¤ì›Œë“œì— ëŒ€í•œ ë²ˆì—­ì´ ì˜¬ë°”ë¥´ì§€ ëª»í•´ ë‹¤ë¥¸ ë°©ì•ˆì„ íƒìƒ‰í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ, íŒŒíŒŒê³  í¬ë¡¤ë§ì„ í™œìš©í–ˆì„ ë•Œ, êµ¬ê¸€ ë²ˆì—­ë³´ë‹¤ ìƒëŒ€ì ìœ¼ë¡œ ì •í™•ë„ê°€ ë†’ì•˜ì§€ë§Œ, ë‹¨ì–´ ë²ˆì—­ì„ ì‹œë„í•˜ê³  ê²°ê³¼ë¥¼ ìˆ˜ì§‘í•˜ëŠ”ë° í‰ê·  3ì´ˆì˜ ë”œë ˆì´ê°€ ìš”êµ¬ë˜ì–´ ì‹œê°„ì  ì†ì‹¤ì´ ì»¸ìŠµë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ, ìš”ì²­ ë¹„ìš©ì´ ë°œìƒí•˜ëŠ” íŒŒíŒŒê³  APIë¥¼ í†µí•´ ì—­ë²ˆì—­ì„ ìˆ˜í–‰í•˜ì§€ë§Œ, í¬ë ˆë”§ì„ í™œìš©í•´ ë¹„ìš©ì„ ìµœì†Œí™”í•˜ê³ , í¬ë ˆë”§ì„ ì´ˆê³¼í•˜ëŠ” ë°ì´í„°ì— í•œí•´ íŒŒíŒŒê³  í¬ë¡¤ë§ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤. NLPAUG # ì—­ë²ˆì—­ì„ í†µí•œ 2ë°°ì˜ ì¦ê°€ë¡œë„ í‰ì  ë³„ ë¦¬ë·° ë¹„ìœ¨ì„ ë§ì¶œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ì¶”ê°€ì ì¸ í…ìŠ¤íŠ¸ ì¦ê°• ê¸°ë²•ìœ¼ë¡œ NLPAUGì˜ ë™ì˜ì–´ ë³€í™˜ í•¨ìˆ˜ë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤. 'red apple'ì„ 'ruby apple'ë¡œ ëŒ€ì²´í•˜ëŠ” ì‹ìœ¼ë¡œ ë¬¸ì¥ì˜ í‘œí˜„ì„ ë³€í™˜í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, NLPAUGì—ì„œ ì§€ì›ë˜ëŠ” WordNetì— í•œêµ­ì–´ ë™ì˜ì–´ ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, í•´ë‹¹ ê¸°ë²•ì„ ì ìš©í•˜ê¸° ìœ„í•´ì„  ì˜ì–´ë¡œ ë²ˆì—­ëœ ë¬¸ì¥ì„ í™œìš©í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. í‰ì  5ì ê³¼ 2ë°° ì´ìƒì˜ ì°¨ì´ë¥¼ ë³´ì´ëŠ” 1ì ê³¼ 4ì  ë¦¬ë·°ì— í•œí•´ ì—­ë²ˆì—­ ì „ì— NLPAUGë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤. hanspell # ë°ì´í„°ì— ì •ê·œ í‘œí˜„ì‹ê³¼ hanspell ë§ì¶¤ë²• ê²€ì‚¬ë¥¼ ì ìš©í•´ í…ìŠ¤íŠ¸ ì •ê·œí™” ì‘ì—… ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ ì›ë³¸ ë°ì´í„°, ì¦ê°•ëœ ë°ì´í„°, ê°ê°ì— ëŒ€í•´ ì •ê·œí™”ëœ ë°ì´í„°ì˜ 4ê°€ì§€ í•™ìŠµ ë°ì´í„°ë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. Experiments # ì„œë¡œ ë‹¤ë¥¸ ëª¨ë¸ ê°„ ë¹„êµ # í•™ìŠµ ì‹œê°„ì˜ ë‹¨ì¶•ì„ ìœ„í•´ ELECTRA ëª¨ë¸ì„ ì¤‘ì‹¬ì ìœ¼ë¡œ ë¹„êµë¥¼ ì‹œë„í•˜ì˜€ìœ¼ë©°, ëŒ€íšŒì—ì„œ ë ˆí¼ëŸ°ìŠ¤ë¡œ ê³µìœ ëœ RoBERTa ëª¨ë¸ì„ ë¹„êµ ëŒ€ìƒì— ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. í•œêµ­ì–´ë¥¼ ì§€ì›í•˜ëŠ” KoELECTRA ëª¨ë¸ ì¤‘ì—ì„œ ê°€ì¥ ê¸°ë³¸ì ì¸ v3 ëª¨ë¸ê³¼ NER ì‘ì—…ì— ì‚¬ìš©ë˜ëŠ” ner ëª¨ë¸, ë‹¤ë¥¸ ì œì‘ìê°€ ê°ì • ë¶„ì„ì— ë§ê²Œ fine-tuningí•œ jaehyeong ëª¨ë¸, ë§ˆì§€ë§‰ìœ¼ë¡œ RoBERTa Large ëª¨ë¸ì„ ì„ ì •í•˜ì˜€ê³ , ë™ì¼í•œ ì„¤ì •ìœ¼ë¡œ 2 epochë¥¼ í•™ìŠµí•œ ê²°ê³¼ë¥¼ ë¹„êµí–ˆìŠµë‹ˆë‹¤. Base ëª¨ë¸ì€ 64, Large ëª¨ë¸ì—” 32 batch sizeë¥¼ ì ìš©í•˜ì˜€ê³ (Colab RAM ì œí•œ), valid size 0.1, learning rate 1e-5 ì„¤ì •ì— ëŒ€í•´ 2 epochsë¥¼ ìˆ˜í–‰í•˜ì—¬ accuracyë¥¼ í‰ê°€í–ˆìŠµë‹ˆë‹¤. íŒŒë¼ë¯¸í„° ìˆ˜ ë•Œë¬¸ì´ì§€ ê²€ì¦ ë°ì´í„°ì— ëŒ€í•œ í‰ê°€ ì ìˆ˜ì—ì„œëŠ” RoBERTa ëª¨ë¸ì´ ì•ì„°ì§€ë§Œ, ëŒ€íšŒìš© í…ŒìŠ¤íŠ¸ ë°ì´í„°ì— ëŒ€í•´ì„œëŠ” KoELECTRA jaehyeong ëª¨ë¸ê³¼ RoBERTa ëª¨ë¸ì˜ ì„±ëŠ¥ì´ ìœ ì‚¬í–ˆìŠµë‹ˆë‹¤. í•™ìŠµ ë°ì´í„° ê°„ ë¹„êµ # ì•ì„  ì‘ì—…ì—ì„œ KoELECTRA ëª¨ë¸ê³¼ RoBERTa ëª¨ë¸ ê°„ ì„±ëŠ¥ ì°¨ì´ê°€ ê·¹ì‹¬í•˜ì§€ ì•Šì€ ê²ƒì„ í™•ì¸í•˜ê³ , KoELECTRA ëª¨ë¸ ì¤‘ ê°€ì¥ ì„±ëŠ¥ì´ ë†’ì€ jaehyeong ëª¨ë¸ì„ ê¸°ì¤€ìœ¼ë¡œ í•™ìŠµ ë°ì´í„° ê°„ ë¹„êµë¥¼ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤. ì›ë³¸ ë°ì´í„°(vanilla), ì¦ê°•ëœ ë°ì´í„°(aug), ì •ê·œí™”ëœ ì›ë³¸ ë°ì´í„°(cleaned_vanilla), ì •ê·œí™”ëœ ì¦ê°• ë°ì´í„°(cleaned_aug)ë¥¼ ê°ê° í™œìš©í•´ í•™ìŠµí•œ ê²°ê³¼ë¥¼ ë¹„êµí–ˆìŠµë‹ˆë‹¤. í•˜ì´í¼íŒŒë¼ë¯¸í„°ëŠ” ì•ì„  ì‘ì—…ê³¼ ë™ì¼í•˜ë©°, 2 epochsë¥¼ ìˆ˜í–‰í•˜ì—¬ accuracyë¥¼ í‰ê°€í–ˆìŠµë‹ˆë‹¤. ê²€ì¦ ë°ì´í„°ì— ëŒ€í•œ í‰ê°€ ì ìˆ˜ëŠ” aug ë°ì´í„°ê°€ ì•ì„°ì§€ë§Œ, ëŒ€íšŒìš© í…ŒìŠ¤íŠ¸ ë°ì´í„°ì— ëŒ€í•´ì„œëŠ” aug ë°ì´í„°ì˜ ì˜ˆì¸¡ ì„±ëŠ¥ì´ ê°€ì¥ ë‚®ê³  vanilla ë°ì´í„°ê°€ ê°€ì¥ ë†’ì•˜ìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ë°ì´í„° ê°„ ë¹„êµ # ì„œë¡œ ë‹¤ë¥¸ í•™ìŠµ ë°ì´í„°ì— ëŒ€í•´ ìµœì í™”ëœ ëª¨ë¸ ê°„ì— í…ŒìŠ¤íŠ¸ ë°ì´í„° ë³„ ì˜ˆì¸¡ ì„±ëŠ¥ì„ ë¹„êµí–ˆìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” ì›ë³¸ ë°ì´í„°(vanilla)ì™€ ì •ê·œí™”ëœ ë°ì´í„°(cleaned)ë¡œ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì „ì²´ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤‘ 50%ì— ëŒ€í•œ ì ìˆ˜ë¥¼ ê¸°ë¡í•˜ëŠ” ëŒ€íšŒì˜ í‰ê°€ ê¸°ì¤€ì„ í™œìš©í•´ ê°ê°ì˜ ì˜ˆì¸¡ ê²°ê³¼ ê°„ì— ì ìˆ˜ë¥¼ ë¹„êµí–ˆì„ ë•Œ, ì˜¤íˆë ¤ ì›ë³¸ ë°ì´í„°ê°€ ë†’ì€ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ê²°ê³¼ê°€ ë°œìƒí•œ ì›ì¸ì„ íŒŒì•…í•˜ê¸° ìœ„í•´ ê°ê°ì˜ ë°ì´í„°ì— ëŒ€í•´ EDAë¥¼ ë‹¤ì‹œ ìˆ˜í–‰í–ˆì„ ë•Œ, ê°€ì¥ ë§ì€ ë°ì´í„° ì¦ê°•ì´ ë°œìƒí•œ í‰ì  4ì  ë¦¬ë·°ì˜ ë‹¨ì–´ ë¹„ìœ¨ì´ í¬ê²Œ ë³€í™”í•¨ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì›ë³¸ ë°ì´í„°ì—ì„œ í‰ì  4ì  ë¦¬ë·°ì˜ ë‹¨ì–´ ë¹„ìœ¨ ì¦ê°•/ì •ê·œí™”ëœ ë°ì´í„°ì—ì„œ í‰ì  4ì  ë¦¬ë·°ì˜ ë‹¨ì–´ ë¹„ìœ¨ NLPAUGì˜ ë™ì˜ì–´ ë³€í™˜ì´ ì›ì¸ì¸ ê²ƒìœ¼ë¡œ ì¶”ì •ë˜ì–´ ë‹¤ë¥¸ ì¦ê°•ë²•ì„ ì ìš©í•  í•„ìš”ê°€ ìˆì§€ë§Œ, ë°ì´í„° ì „ì²˜ë¦¬ë¶€í„° ë‹¤ì‹œ ìˆ˜í–‰í•˜ëŠ” ê²ƒê³¼ ëª¨ë¸ë§ì„ ê°œì„ í•˜ëŠ” ê²ƒì„ ë³‘í–‰í• ë§Œí•œ ì—¬ìœ ê°€ ì—†ë‹¤ê³  íŒë‹¨í•´ ë”ì´ìƒì˜ ë°ì´í„° ë³€í™˜ ì—†ì´ ë‹¤ìŒ ë‹¨ê³„ì¸ ì•™ìƒë¸”ë¡œ ì „í™˜í–ˆìŠµë‹ˆë‹¤. Ensemble # KoELECTRA, RoBERTa ëª¨ë¸ê³¼ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ í™œìš©í•´ ì˜ˆì¸¡í•œ ê²°ê³¼ë¥¼ í†µí•´ hard-voting ë° soft-voting ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤. ì›ë³¸ ë°ì´í„°ë¥¼ í™œìš©í•´ í•™ìŠµí•œ KoELECTRA, RoBERTa ëª¨ë¸ì˜ ì˜ˆì¸¡ê°’ì— hard-votingì„ ì ìš©í•œ ê²°ê³¼ê°€ ê°€ì¥ ë†’ì€ ì ìˆ˜ë¥¼ ë³´ì˜€ìœ¼ë©°, soft-votingì€ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ ì ìˆ˜ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤. Conclusion # ë¼ë²¨ ê°„ ë¶ˆê· í˜•ì„ ê·¹ë³µí•˜ê¸° ìœ„í•´ ì—­ë²ˆì—­, ë™ì˜ì–´ ë³€í™˜ ë“±ì˜ ë‹¤ì–‘í•œ ìì—°ì–´ ë°ì´í„° ì¦ê°• ê¸°ë²•ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤. ê°ê°ì˜ ELECTRA ëª¨ë¸ê³¼ RoBERTa Large ëª¨ë¸ì„ ë¹„êµí–ˆì„ ë•Œ, íŒŒë¼ë¯¸í„°ì˜ ìˆ˜ê°€ ê°€ì¥ ë§ì€ RoBERTa ëª¨ë¸ì˜ ì„±ëŠ¥ì´ ì•ì„°ì§€ë§Œ ELECTRA ëª¨ë¸ê³¼ì˜ ì°¨ì´ê°€ í¬ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ëª¨ë¸ ê²½ëŸ‰í™”ë¥¼ ê³ ë ¤í•  ê²½ìš°ì—” ELECTRAë¥¼ í™œìš©í•˜ëŠ”ê²Œ ë” ìœ ë¦¬í•  ê²ƒì…ë‹ˆë‹¤. ë°ì´í„°ì— ë”°ë¥¸ ì„±ëŠ¥ ë³€í™”ë¥¼ ë¹„êµí•˜ëŠ” ê³¼ì •ì—ì„œ ì „ì²˜ë¦¬ëœ ë°ì´í„°ê°€ ì›ë³¸ ë°ì´í„°ë³´ë‹¤ ë‚®ì€ ì„±ëŠ¥ì„ ë°œìƒì‹œí‚¤ëŠ” ê²ƒì„ ì¸ì§€í•˜ê³  ë‘ ë°ì´í„°ë¥¼ ë¹„êµí•˜ì˜€ì„ ë•Œ ì˜ëª»ëœ ì „ì²˜ë¦¬ë¡œ ì¸í•´ ë…¸ì´ì¦ˆê°€ ë°œìƒí•œ ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. í…ìŠ¤íŠ¸ ì •ê·œí™”ë¥¼ ìˆ˜í–‰í•œ ê²½ìš°ê°€ ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ë³´ë‹¤ ë‚®ì€ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ê²½í–¥ì´ ìˆì—ˆê³ , ì´ë¥¼ í†µí•´ ë¹„ì •ê·œí™”ëœ í…ìŠ¤íŠ¸ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” ë§íˆ¬ë‚˜ ì´ëª¨í‹°ì½˜ ë“±ì˜ í‘œí˜„ì´ ê°ì • ë¶„ì„ ì‘ì—…ì— ì ì§€ ì•Šì€ ì˜í–¥ì„ ì£¼ëŠ” ê²ƒì´ë¼ ì¶”ì¸¡í•©ë‹ˆë‹¤. Post-Project # ìì—°ì–´ ì²˜ë¦¬ì—ì„œ í™œìš©ë˜ëŠ” ë°ì´í„° ì¦ê°• ê¸°ë²•ì— ëŒ€í•´ ì•Œì•„ë³¼ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê¸°íšŒê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ELECTRA ëª¨ë¸ì„ í™œìš©í•œ ë•ë¶„ì— ì§§ì€ ì‹œê°„ ì•ˆì— ë‹¤ì–‘í•œ ì¡°ê±´ì—ì„œ ì„±ëŠ¥ì„ í‰ê°€í•  ìˆ˜ ìˆì—ˆê³ , ë¶„ë¥˜ ì‘ì—… íŒŒì´í”„ë¼ì¸ì„ ë§Œë“œëŠ” ê³¼ì •ì—ì„œ HuggingFaceì˜ í™œìš©ë²•ì— ëŒ€í•´ì„œë„ ìµí ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, HuggingFaceì˜ ê²½ìš° ë„ˆë¬´ ê°„ëµí™”ëœ ë¶€ë¶„ì´ ë§ì•„ PyTorchë¥¼ ë°°ìš´ë‹¤ëŠ” ëª©ì ì—ëŠ” ë¶€í•©í•˜ì§€ ì•Šì•˜ê³ , Dropoutê³¼ ê°™ì€ ê³¼ì í•© ë°©ì§€ ê¸°ë²•ë“¤ì„ ì ìš©í•˜ëŠ”ë°ë„ ì–´ë ¤ì›€ì„ ê²ªì—ˆìŠµë‹ˆë‹¤. ê³ ìˆ˜ì¤€ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‚¬ìš©í•˜ê¸°ì—” í¸ë¦¬í•˜ì§€ë§Œ ì‘ì—…ì˜ ë³µì¡ë„ê°€ ì¦ê°€í• ìˆ˜ë¡ ì œì•½ì´ ë§ì•„ì§ì„ ëŠê¼ˆê³ , ì´ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ë°”ë‹¥ë¶€í„° ëª¨ë¸ë§ ì½”ë“œë¥¼ ì§œëŠ” ê²½í—˜ì˜ ì¤‘ìš”ì„±ì„ ë‹¤ì‹œ í•œë²ˆ ì¸ì‹í•©ë‹ˆë‹¤. "},{"id":34,"href":"/blog/dacon-audio-mnist/","title":"DACON ìŒì„± ë¶„ë¥˜ ê²½ì§„ëŒ€íšŒ - Mel Spectrogramê³¼ MFCC ì•™ìƒë¸”ë¡œ 97% ì •í™•ë„ ë‹¬ì„±","content":" ìŒì„± ë¶„ë¥˜ AI í•´ì»¤í†¤ ì¶œì²˜ : DACON - Data Science Competition dacon.io ë¶„ì„ ëª©í‘œ ë° ê²°ê³¼ # ìŒì„± ë…¹ìŒ ë°ì´í„°ë¥¼ 0ë¶€í„° 9 ì‚¬ì´ì˜ ìˆ«ì ë¼ë²¨ë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤. ìŒì„± ë°ì´í„° í•™ìŠµì— ëŒ€í•œ ì²´í—˜ì„ ëª©ì ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤. Mel Spectrogram, MFCC ë°©ì‹ìœ¼ë¡œ ì¶”ì¶œí•œ featureë¥¼ ê°ê° ResNet ì‘ìš© ëª¨ë¸ì— í•™ìŠµì‹œí‚¤ê³ \nê²°ê³¼ë¥¼ ensembleí•˜ì—¬ accuracyë¥¼ 0.9725ê¹Œì§€ í–¥ìƒí–ˆìŠµë‹ˆë‹¤. í•™ìŠµ ë°ì´í„° # ìŒì„± íŒŒì¼ ë° ë¼ë²¨ ë°ì´í„° ìŒì„± íŒŒì¼ ì´ë¦„ê³¼ ìˆ«ì ë¼ë²¨ì„ ì—°ê´€ì‹œí‚¨ csv íŒŒì¼ê³¼ ìŒì„± ë…¹ìŒ ë°ì´í„°ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. Copy text # train/ 249.wav sample rate: 20000 , audio shape: (11267,) length: 0.56335 secs ========================================== 513.wav sample rate: 20000 , audio shape: (12640,) length: 0.632 secs ========================================== 507.wav sample rate: 20000 , audio shape: (12845,) length: 0.64225 secs ========================================== EDA # ğŸ¦»ğŸ» Mel Spectrogram, MFCC ë°©ì‹ìœ¼ë¡œ ì¶”ì¶œí•œ featureë¥¼ ì´ë¯¸ì§€ í˜•íƒœë¡œ ì‹œê°í™”í–ˆìŠµë‹ˆë‹¤.\nMel Spectrogram: ì£¼íŒŒìˆ˜ì— ë”°ë¼ ê°ì§€ ëŠ¥ë ¥ì´ ë³€í•˜ëŠ” ë‹¬íŒ½ì´ê´€ì˜ ê³µì‹ì„ ì ìš©í•œ spectrogramì…ë‹ˆë‹¤. MFCC: Mel Spectrogramì— ëŒ€í•´ í–‰ë ¬ì„ ì••ì¶•í•´ì„œ í‘œí˜„í•´ì£¼ëŠ” DCT ì—°ì‚°ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. Mel Spectrogramì€ í•œì •ì ì¸ ë„ë©”ì¸ì—ì„œ, MFCCëŠ” ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œ ë” ì¢‹ì€ ì„±ëŠ¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ğŸ’¨ ëª¨ë¸ í•™ìŠµì„ ìœ„í•´ ì§§ì€ ê¸¸ì´ì˜ ì˜¤ë””ì˜¤ì— paddingì„ ë¶™ì´ê³  np.arrayë¡œ ë³€í™˜í•œ í›„ ëœë¤í•œ ë°ì´í„° ì‹œê°í™”í–ˆìŠµë‹ˆë‹¤.\nëª¨ë¸ í•™ìŠµ # ResNetì˜ ResBlockì„ ì‘ìš©í•˜ì—¬ ëª¨ë¸ ìƒì„±í–ˆìŠµë‹ˆë‹¤. 5-Fold êµì°¨ê²€ì¦ì„ ì‹¤ì‹œí•˜ë©´ì„œ, ê°ê°ì˜ ë™ì¼í•œ ëª¨ë¸ì— Mel Spectrogram, MFCC featureë¥¼ í•™ìŠµì‹œì¼œ\nì„œë¡œì˜ ì˜ˆì¸¡ê°’ ë° accuracyë¥¼ ë¹„êµí–ˆìŠµë‹ˆë‹¤. ë‘ ê°€ì§€ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ ensembleí•˜ì—¬ ìµœì¢…ì ìœ¼ë¡œ 0.9765ì˜ í‰ê·  accuracy ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤. 1 Fold 2 Fold 3 Fold 4 Fold 5 Fold Mel Spectrogram 0.9500 0.9525 0.9175 0.9600 0.9225 MFCC 0.9650 0.9250 0.9550 0.9300 0.9575 Ensemble 0.9875 0.9675 0.9750 0.9775 0.9750 ì—ëŸ¬ ì²˜ë¦¬ # â— ìŒì„± íŒŒì¼ ì²˜ë¦¬ë¥¼ ìœ„í•œ Librosa ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì˜ì¡´ì„±ì¸ SoundFile ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê´€ë ¨ëœ ì—ëŸ¬ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\ntried: '.../site-packages/\\_soundfile\\_data/libsndfile.dylib' (no such file) ğŸ”§ ê´€ë ¨ ì´ìŠˆ #310ì„ ì°¸ì¡°í•˜ì—¬ ë‹¤ìš´ë¡œë“œë°›ì€ libsndfile.dylib íŒŒì¼ì„ ì§ì ‘ í•´ë‹¹ ê²½ë¡œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\níšŒê³  # ë² ì´ìŠ¤ë¼ì¸ê³¼ ë‹¤ë¥¸ ë¶„ì´ ì˜¬ë ¤ì¤€ ì½”ë“œ ê³µìœ ë¥¼ ë§ì´ ì°¸ê³ í•˜ë‹¤ë³´ë‹ˆ ìì‹ ë§Œì˜ ë¶„ì„ì„ í•´ë³¼ ìˆ˜ ì—†ì–´ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤. ìŒì„± ë°ì´í„° ë¶„ì„ ê³¼ì •ì„ ì²´í—˜í•˜ëŠ” ì¢‹ì€ ê¸°íšŒê°€ ë˜ì—ˆìœ¼ë©°,\në‹¤ë¥¸ ìŒì„± ë°ì´í„°ì— ì´ë²ˆì— ë°°ìš´ ë¶„ì„ ë°©ì‹ì„ ì ìš©í•´ë³´ê³  ì‹¶ì€ ê¸°ëŒ€ê°ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤. "},{"id":35,"href":"/blog/dacon-consumption-prediction/","title":"DACON ì†Œë¹„ì ë°ì´í„° ê¸°ë°˜ ì†Œë¹„ ì˜ˆì¸¡ AI ê²½ì§„ëŒ€íšŒ - EDA + Soft Voting Ensemble","content":" [0.16691] EDA ë° Ensembleì„ í™œìš©í•œ ë°ì´í„° ì˜ˆì¸¡ ì •í˜• | NMAE dacon.io ë¶„ì„ ëª©í‘œ ë° ê²°ê³¼ # ì†Œë¹„ì ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê³ ê°ì˜ ì œí’ˆ ì´ ì†Œë¹„ëŸ‰ì„ ì˜ˆì¸¡í–ˆìŠµë‹ˆë‹¤. íŒ€ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ìŠµë“í•œ EDA ì‹œê°í™”ë¥¼ ìµœëŒ€í•œ í™œìš©í•´ë³´ëŠ” ê²ƒì„ ëª©ì ìœ¼ë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. Ensemble ê¸°ë²• ì¤‘ Soft Voting ë°©ì‹ì„ ì‚¬ìš©í•´ NMAE ê¸°ì¤€ 0.18533 ìˆ˜ì¹˜ë¥¼ ë‹¬ì„±í•˜ì—¬ 36ìœ„ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤. í•™ìŠµ ë°ì´í„° # ì†Œë¹„ì ë°ì´í„° ë² ì´ìŠ¤ë¼ì¸ì—ì„œ ë°ì´í„° ê²°ì¸¡ì¹˜ê°€ ì—†ìŒì„ í™•ì¸ë°›ê³  ì „ì²˜ë¦¬ ì—†ì´ EDA ì§„í–‰í–ˆìŠµë‹ˆë‹¤. EDA # Target # ì˜ˆì¸¡í•´ì•¼í•  ì†Œë¹„ëŸ‰ ë°ì´í„°ëŠ” 6ë¶€í„° 2525 ì‚¬ì´ì˜ ë²”ìœ„ì— ì¡´ì¬í•˜ë©°, ì „ì²´ ë°ì´í„° ì¤‘ 50í¼ì„¼íŠ¸ ì´ìƒì´ 500 ì´í•˜ì˜ ê°’ì— í¸í–¥ë¨ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ì¶œìƒ ì—°ë„ì™€ ì†Œë“ # ì¶œìƒ ì—°ë„ì™€ ì†Œë“ ë°ì´í„°ì—ì„œ ì´ìƒì¹˜ê°€ ìˆìŒì„ í™•ì¸í•˜ê³  í•´ë‹¹ ë°ì´í„°ë¥¼ ì œì™¸í•œ ê·¸ë˜í”„ë¥¼ ìƒˆë¡­ê²Œ í‘œì‹œí–ˆìŠµë‹ˆë‹¤. ë‘ ë°ì´í„° ê°„ì— ê´€ê³„ê°€ ìˆìŒì„ ê¸°ëŒ€í•˜ë©° ì¶œìƒ ì—°ë„ì— ë”°ë¥¸ ì†Œë“ì˜ ì´í•©ê³¼ í‰ê· ê°’ ê·¸ë˜í”„ë¥¼ ì¶”ê°€ë¡œ í‘œì‹œí–ˆìŠµë‹ˆë‹¤. ì¤‘ë…„ì¸µì—ì„œ ê°€ì¥ ë†’ì€ ì†Œë“ì´ ë‚˜íƒ€ë‚¨ì„ ì•Œ ìˆ˜ ìˆì—ˆê³ , ì²­ë…„ì¸µê³¼ ë…¸ë…„ì¸µì—ì„œëŠ” ë°˜ëŒ€ì˜ ê²°ê³¼ë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤. êµ¬ë§¤ ê±´ìˆ˜ # êµ¬ë§¤ ê±´ìˆ˜ ë°ì´í„°ì—ì„œë„ ì¼ë¶€ ì´ìƒì¹˜ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ í™•ì¸í–ˆì§€ë§Œ, ì´ìƒì¹˜ì˜ ìˆ˜ê°€ ë¬´ì‹œí•  ìˆ˜ëŠ” ì—†ëŠ” ìˆ˜ì¤€ì´ê³  ì‹¤ì œë¡œ ì´ìƒì¹˜ë¥¼ ë‚¨ê²¨ë‘” ê²½ìš°ì— ë” ë†’ì€ ì„±ëŠ¥ì´ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ê³ ê° ë“±ë¡ ì¼ì # ë¬¸ìì—´ë¡œ ëœ ë‚ ì§œ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•´ ì—°, ì›”, ì¼ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë¥¼ ê°ê° ê·¸ë˜í”„ë¡œ í‘œì‹œí–ˆìŠµë‹ˆë‹¤. ë²”ì£¼í˜• ë°ì´í„° # ë‚˜ë¨¸ì§€ ë²”ì£¼í˜• ë°ì´í„°ë„ ê·¸ë˜í”„ë¡œ í‘œì‹œí•˜ì—¬ ê° ë²”ì£¼ì˜ ë¶„í¬ë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ê²°í˜¼ ìƒíƒœ ë°ì´í„°ì— í•œí•´ì„œ ê°™ì€ ì¢…ë¥˜ì˜ ë²”ì£¼ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì–´ì„œ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„± ì¸ì§€í–ˆìŠµë‹ˆë‹¤. ë°ì´í„° ì „ì²˜ë¦¬ # ë¬¸ìì—´ë¡œ ëœ ë²”ì£¼í˜• ë°ì´í„°ì— Label Encoding ì ìš©í–ˆìŠµë‹ˆë‹¤. ë”ìš± ë‹¤ì–‘í•œ íŠ¹ì§•ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ê¸°ì¡´ ë³€ìˆ˜ë“¤ë¡œë¶€í„° íŒŒìƒ ë³€ìˆ˜ ìƒì„±í–ˆìŠµë‹ˆë‹¤. train ë°ì´í„°ì— í•œì •í•´ì„œ ì¶œìƒ ì—°ë„ì™€ ì†Œë“ì—ì„œ ë°œê²¬ëœ ì´ìƒì¹˜ ì œê±°í–ˆìŠµë‹ˆë‹¤. ìˆ«ìí˜• ë°ì´í„°ì™€ ë²”ì£¼í˜• ë°ì´í„°ì— ê°ê° Standardization ë° One-Hot Encoding ì ìš©í–ˆìŠµë‹ˆë‹¤. ëª¨ë¸ ìµœì í™” # Pycaretìœ¼ë¡œ í•´ë‹¹ ë°ì´í„°ì—ì„œ íšŒê·€ ëª¨ë¸ ê°„ ë¹„êµë¥¼ ì§„í–‰í•˜ì—¬ ê°€ì ¸ê°ˆ ëª¨ë¸ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ê°ê°ì˜ ëª¨ë¸ì— ëŒ€í•´ NMAE ì ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ Optunaë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹í–ˆìŠµë‹ˆë‹¤. ê°œë³„ ëª¨ë¸ì˜ ëª¨ë“  ì¡°í•©ì— ëŒ€í•´ Soft Votingì„ ì‹œë„í•˜ì˜€ì„ ë•Œ, LGBM, XGB, CatBoost, GBRì˜ ì¡°í•©ì´ ê°€ì¥ ë†’ì€ ì„±ëŠ¥ì„ ë³´ì—¬ì¤Œì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ Hard Voting ë°©ì‹ì„ ì‚¬ìš©í•´ ëª¨ë“  ì¡°í•©ì— ëŒ€í•´ ë¹„êµí•´ë´¤ì§€ë§Œ Soft Votingì˜ ì„±ëŠ¥ì—” ëª»ë¯¸ì³¤ìŠµë‹ˆë‹¤. íšŒê³  # ë¨¸ì‹ ëŸ¬ë‹ì— ëŒ€í•œ ê¹Šì´ê°€ ê¹Šì§€ ì•Šë‹¤ë³´ë‹ˆ ë§¤ë²ˆ Ensembleì„ ì§„í–‰í•  ë•Œ ëª¨ë“  ê²½ìš°ì— ëŒ€í•´ í™•ì¸í•´ ë³´ëŠ”ë°, í•´ë‹¹ ì‘ì—…ì— ê¸´ ì‹œê°„ì´ ìš”êµ¬ë˜ê³  ìì› ì‚¬ìš©ëŸ‰ë„ ë§Œë§Œì¹˜ ì•Šê¸°ì— ë‹¤ë¥¸ ë°©ë²•ì„ íƒìƒ‰í•  í•„ìš”ì„±ì„ ëŠê¼ˆìŠµë‹ˆë‹¤. ìˆœìœ„ê°€ ë§¤ê²¨ì§€ëŠ” ëŒ€íšŒì— ì°¸ê°€í•´ë³´ë‹ˆ ì•„ì§ ë§ì´ ë¶€ì¡±í•¨ì„ ëŠê¼ˆìŠµë‹ˆë‹¤. "},{"id":36,"href":"/blog/big-o-list/","title":"Big-O ì‹œê°„ë³µì¡ë„ ì •ë¦¬ | List, Set, Dictionary, Sort, Search","content":"List # Operation Example Big-O Index l[i] O(1) Store l[i] = 0 O(1) Length len(l) O(1) Append l.append(x) O(1) Pop l.pop() O(1) Slice l[a:b] O(b-a) Construction list(x) O(len(x)) Check l1 == l2 O(len(n)) Insert l[a:b] = x O(n) Containment x in l O(n) Copy l.copy() O(n) Remove l.remove() O(n) Count l.count(x) O(n) Index l.index(x) O(n) Pop l.pop(i) O(n) Extreme value min(l)/max(l) O(n) Iteration for v in l: O(n) Reverse l.reverse() O(n) Sort l.sort() O(n Log n) Multiply k * l O(k n) Set # Operation Example Big-O Length len(s) O(1) Add s.add(x) O(1) Containment x in s O(1) Remove s.remove() O(1) Pop s.pop() O(1) Construction set(x) O(len(x)) Check s1 == s2 O(len(s)) Union s + t O(len(s)+len(t)) Intersection s \u0026amp; t O(len(s)+len(t)) Difference s - t O(len(s)+len(t)) Symmetric Diff s ^ t O(len(s)+len(t)) Iteration for v in s: O(n) Copy s.copy() O(n) Dictionary # Operation Example Big-O Index d[k] O(1) Store d[k] = v O(1) Length len(d) O(1) Pop d.pop() O(1) View d.keys() O(1) Construction dict(x) O(len(x)) Iteration for k in d: O(n) Sort # Method Best Average Worst Insertion Sort O(n) O(n^2) O(n^2) Selection Sort O(n^2) O(n^2) O(n^2) Bubble Sort O(n^2) O(n^2) O(n^2) Shell Sort O(n) O(n^1.5) O(n^1.5) Quick Sort O(n log n) O(n log n) O(n^2) Heap Sort O(n log n) O(n log n) O(n log n) Merge Sort O(n log n) O(n log n) O(n log n) Radix Sort O(dn) O(dn) O(dn) Search # Method Search Insert Delete Sequential O(n) O(1) O(n) Binary O(log n) O(log n + n) O(log n + n) Binary Search Tree (Balanced) O(log n) O(log n) O(log n) Binary Search Tree (Left-Associative) O(n) O(n) O(n) Hashing (Best) O(1) O(1) O(1) Hashing (Worst) O(n) O(n) O(n) Heap # Operation Example Big-O Push heapq.heappush(heap, x) O(log n) Pop heapq.heappop(heap) O(log n) Construction heapq.heapify(heap) O(n) BFS # Nì€ ë…¸ë“œ, EëŠ” ê°„ì„ ì¼ ë•Œ # ì¸ì ‘ ë¦¬ìŠ¤íŠ¸: O(N+E) ì¸ì ‘ í–‰ë ¬: O(N^2) "},{"id":37,"href":"/blog/baekjoon-1197-mst/","title":"[Python] ë°±ì¤€ 1197 - ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ (Gold 4)","content":" 1197ë²ˆ: ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ ê·¸ë˜í”„ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê·¸ ê·¸ë˜í”„ì˜ ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ëŠ”, ì£¼ì–´ì§„ ê·¸ë˜í”„ì˜ ëª¨ë“  ì •ì ë“¤ì„ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ ê·¸ë˜í”„ ì¤‘ì—ì„œ ê·¸ ê°€ì¤‘ì¹˜ì˜ í•©ì´ ìµœì†Œì¸ íŠ¸ë¦¬ë¥¼ ë§í•œë‹¤. www.acmicpc.net í•´ë‹¹ ë¬¸ì œëŠ” nê°œì˜ ì •ì ë“¤ì— ëŒ€í•œ ê°„ì„ ë“¤ ì¤‘ì—ì„œ ê°€ì¥ ê°€ì¤‘ì¹˜ê°€ ì‘ì€ ê²½ë¡œì˜ ê°€ì¤‘ì¹˜ë¥¼ ì°¾ëŠ” ê²ƒì´ë‹¤.Â ì •ë‹µ í’€ì´ë³´ë‹¤ëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì‹œë„í•˜ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ì„ ë°œì „ì‹œí‚¤ëŠ” ê³¼ì •ì„ ì„œìˆ í•œë‹¤.\nDFS # ì²˜ìŒì—” ë…¸ë“œí•˜ë©´ DFSì™€ BFS ë°–ì— ëª°ëê¸° ë•Œë¬¸ì— ë‹¹ì—°í•˜ê²Œ DFSë¡œ ì ‘ê·¼í–ˆë‹¤.\në¨¼ì € ë¶€ëª¨, ìì‹, ê°€ì¤‘ì¹˜, ì¸ë±ìŠ¤ë¥¼ ë³€ìˆ˜ë¡œ ê°€ì§€ëŠ” Node í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•˜ì—¬ ê°„ì„ ì˜ ì •ë³´ë¥¼ ë…¸ë“œ ë‚´ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥í•˜ê²Œ í•œë‹¤.\nì „ì²´ ë…¸ë“œ ì¤‘ ìì‹ ë…¸ë“œë¥¼ ê°€ì§„ ë…¸ë“œì— í•œí•´ ê°€ì¤‘ì¹˜ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.\ní•´ë‹¹ í•¨ìˆ˜ëŠ” rootì—ì„œë¶€í„° end-pointê¹Œì§€ ìˆœíšŒí•˜ë©´ì„œ ê°€ì¤‘ì¹˜ í•©ì˜ ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤. í•¨ìˆ˜ì˜ ê²°ê³¼ëŠ” ë”°ë¡œ ë°˜í™˜ë˜ì§€ ì•Šê³  root ë…¸ë“œì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥ëœë‹¤. ì´ëŸ¬í•œ ë…¼ë¦¬ë¥¼ ê°€ì§€ê³  ì‘ì„±í•œ ì•Œê³ ë¦¬ì¦˜ì´ ê¸€ ë°‘ì— ìˆëŠ” ì²« ë²ˆì§¸ ì½”ë“œì´ë‹¤.\ní•˜ì§€ë§Œ í•´ë‹¹ ì½”ë“œëŠ” 1ì´ˆì˜ ì‹œê°„ ì œí•œ ì•ˆì— ëŒì•„ê°€ê¸°ì—” ë¬´ë¦¬ê°€ ìˆì—ˆë‹¤.\nì²« ë²ˆì§¸ ì•Œê³ ë¦¬ì¦˜ # Copy python class Node: def __init__(self, index): self.index = index self.data = 2147483647 self.parent = [] self.child = [] def print_node(self): print(self.index, self.data, self.parent, self.child) def spanning_tree(nodes, check, root, parent, data): for child in parent.child: weight = data + child[1] child = nodes[child[0]] if child.child: if not check[child.index]: spanning_tree(nodes, check, root, child, weight) else: check[parent.index] = True if weight \u0026lt; root.data: root.data = weight V, E = map(int, input().split()) graph = [Node(i) for i in range(V+1)] visited = [False for _ in range(V+1)] for _ in range(E): A, B, C = map(int, input().split()) graph[A].child.append((B,C)) graph[B].parent.append((A,C)) min_weight = 2147483647 for node in graph: if node.child and not node.parent: spanning_tree(graph, visited, node, node, 0) if node.data \u0026lt; min_weight: min_weight = node.data print(min_weight) í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ # DFSë¡œ ì•ˆëœë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹«ê³  ì§ˆë¬¸ê¸€ì„ í›‘ì–´ë³¸ í›„ í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ê¸°ë¡œ í–ˆë‹¤.\nìš°ì„  ê³ ë ¤í•´ì•¼í•  ê²ƒì€ í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì´ ëª¨ë“  ë…¸ë“œë¥¼ ì—°ê²°ì‹œí‚¤ê¸° ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ì´ë¼ëŠ” ê²ƒì´ë‹¤.\ní•´ë‹¹ ë¬¸ì œëŠ” root ë…¸ë“œì—ì„œë¶€í„° ì‹œì‘í•˜ëŠ” ëª¨ë“  ê²½ë¡œë¥¼ ê³ ë ¤í•´ì•¼ í•˜ëŠ”ë° í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•  ê²½ìš° ê°€ì¥ ì‘ì€ ê°€ì¤‘ì¹˜ë¡œ ì‹œì‘í•˜ëŠ” ê²½ë¡œë§Œì„ ì„ íƒí•˜ê³  ë‚˜ë¨¸ì§€ë¥¼ ë¬´ì‹œí•˜ê²Œ ëœë‹¤.\nì´ ê²½ìš° ë°œìƒí•˜ëŠ” ë°˜ë¡€ê°€ ë‹¤ìŒê³¼ ê°™ë‹¤. Copy text 3 3 1 2 2 1 3 3 2 3 9999 output: 10001 answer: 3 í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì— ì˜í•´ 1 -\u0026gt; 2ì˜ ê°„ì„ ì„ ì„ íƒí•˜ê³  1 -\u0026gt; 3ì˜ ê°„ì„ ì„ ë¬´ì‹œí•  ê²½ìš° ìµœì¢…ì ìœ¼ë¡œëŠ” 1 -\u0026gt; 2 -\u0026gt; 3ì˜ ê²½ë¡œì— ëŒ€í•œ ê°€ì¤‘ì¹˜ 10001ì„ ê²°ê³¼ë¡œ ì–»ê²Œ ëœë‹¤. ì´ì— ëŒ€í•œ í•´ê²°ì±…ìœ¼ë¡œ ìƒê°í•œ ê²ƒì´ EtherChannelì˜ Active/Passive ê°œë…ì´ë‹¤. ì•ì„œ ì‹œë„í•œ DFS ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ì— í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì„ ì¡°í•©í•´ì„œ ëª¨ë“  ê²½ë¡œë¥¼ íƒìƒ‰í•˜ëŠ”ë° ê°€ì¤‘ì¹˜ê°€ ê°€ì¥ ì‘ì€ ê²½ë¡œë¡œ ì´ì–´ì§€ëŠ” ìì‹ ë…¸ë“œë¥¼ Activeë¡œ, ë‚˜ë¨¸ì§€ë¥¼ Passiveë¡œ ë¶„ë¥˜í•œë‹¤. ë§Œì•½ í•œ ë…¸ë“œì— ìƒˆë¡œìš´ ìì‹ ë…¸ë“œê°€ ì¶”ê°€ë˜ë©´ ìì‹ ë…¸ë“œë“¤ì˜ ê°€ì¤‘ì¹˜ë¥¼ ë¹„êµí•´ì„œ Activeë¥¼ ê°±ì‹ í•˜ê³  í•´ë‹¹ ë…¸ë“œì˜ ë¶€ëª¨ ë…¸ë“œë¥¼ íƒ€ê³  ì˜¬ë¼ê°€ë©° ë™ì¼í•œ ì‘ì—…ì„ ë°˜ë³µí•œë‹¤. í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì€ root ë…¸ë“œì—ì„œë¶€í„° ëª¨ë“  ìì‹ ë…¸ë“œë¥¼ íƒìƒ‰í•´ì•¼ í–ˆë˜ DFS ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ê³¼ëŠ” ë°˜ëŒ€ë¡œ ìì‹ ë…¸ë“œì—ì„œë¶€í„° root ë…¸ë“œê¹Œì§€ì˜ ê²½ë¡œë§Œì„ íƒìƒ‰í•˜ê¸° ë•Œë¬¸ì— ì‹œê°„ ì´ˆê³¼ë¥¼ í”¼í•  ìˆ˜ ìˆì—ˆë‹¤.\ní•˜ì§€ë§Œ ì—¬ëŸ¬ ì¡°ê±´ë“¤ì„ ê³ ë ¤í•˜ë‹¤ë³´ë‹ˆ ì‘ì„±ìì¸ ë‚˜ì¡°ì°¨ë„ ì•Œì•„ë³´ê¸° í˜ë“¤ì •ë„ë¡œ ì½”ë“œê°€ ë§ì´ ë³µì¡í•´ì¡Œê³  root ë…¸ë“œê°€ ê¸°ì¤€ì¸ë° êµ³ì´ ì•„ë˜ì„œë¶€í„° ìœ„ë¥¼ íƒìƒ‰í•˜ëŠ” ë°©ì‹ì´ ë§ˆìŒì— ë“¤ì§€ ì•Šì•˜ë‹¤. ê·¸ë¦¬ê³  ê°€ì¥ í° ë¬¸ì œëŠ” í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì—ë„ ë°˜ë¡€ê°€ ìˆì–´ì„œ ì •ë‹µì´ ë  ìˆ˜ ì—†ì—ˆë‹¤ëŠ” ê²ƒì´ë‹¤.\në‘ ë²ˆì§¸ ì•Œê³ ë¦¬ì¦˜ # Copy python class Node: def __init__(self, index): self.index = index self.data = 0 self.root = self self.parent = self self.active = None self.passive = [] def get_branch(self): if self.active: return self.passive + [self.active] else: return [] def set_branch(self, node, data): if self.root == node.root: if data \u0026lt; node.data: node.parent = self node.data = data else: node.root = self.root node.parent = self node.data += data if not self.active: self.active = node self.data += node.data node.data = self.data else: self.passive.append(node) self.update_data() def update_data(self): branch = self.get_branch() branch.sort(key=lambda n: n.data, reverse=True) active = branch.pop() if active != self.active: self.active = active self.passive = branch self.data = self.active.data def union_root(source: Node, target: Node, data: int) -\u0026gt; None: root = source.root if target.root in [source, source.root, target]: source.set_branch(target, data) while source != root: source = source.parent source.update_data() V, E = map(int, input().split()) graph = [Node(i) for i in range(V + 1)] edge_dict = {} for _ in range(E): A, B, C = map(int, input().split()) edge_dict[(A, B)] = C edge_list = sorted(edge_dict.items(), key=lambda x: [x[1], x[0]]) for (a, b), c in edge_list: node_a, node_b = graph[a], graph[b] if node_a.parent != node_b.parent: union_root(node_a, node_b, c) weight = 2147483647 for edge_node in graph: if (edge_node.root == edge_node) and edge_node.get_branch(): if edge_node.data \u0026lt; weight: weight = edge_node.data print(weight) í”„ë¦¼ ì•Œê³ ë¦¬ì¦˜ # í•˜ë£¨ë™ì•ˆ ê³ ë¯¼í•œ ëì— í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì„ í¬ê¸°í•˜ê³  ì´ì™€ ë¹„ìŠ·í•˜ë‹¤ëŠ” í”„ë¦¼ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ê²Œ ë˜ì—ˆë‹¤.\nì´ì œê¹Œì§€ ì‚¬ìš©í–ˆë˜ Node ì¸ìŠ¤í„´ìŠ¤ ë‚´ì— ëª¨ë“  ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ì ‘ê·¼ë°©ì‹ì„ ë²„ë¦¬ê³  í”„ë¦¼ ì•Œê³ ë¦¬ì¦˜ì˜ ê¸°ë³¸ì— ì§‘ì¤‘í–ˆë‹¤.\në¶€ëª¨ ë…¸ë“œì˜ ê°’ì„ ìì‹ ë…¸ë“œì˜ ë°°ì—´ ê°’ì— ì €ì¥í•˜ëŠ” Union-Find ì•Œê³ ë¦¬ì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ê³  ëª¨ë“  ë…¸ë“œì— ëŒ€í•´ í”„ë¦¼ ì•Œê³ ë¦¬ì¦˜ì„ ìˆ˜í–‰í•˜ì—¬ ìµœì†Œ ê°€ì¤‘ì¹˜ë¥¼ êµ¬í•˜ëŠ” ë°©ì‹ì„ êµ¬ìƒí–ˆë‹¤.\ní•˜ì§€ë§Œ ì´ ê²½ìš°ì— ë‘ ê°€ì§€ ë¬¸ì œì ì´ ìˆì—ˆë‹¤.\ní”„ë¦¼ ì•Œê³ ë¦¬ì¦˜ë„ ê²°êµ­ ëª¨ë“  ë…¸ë“œë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•œ ì•Œê³ ë¦¬ì¦˜ì´ê¸° ë•Œë¬¸ì— rootì—ì„œ end-pointê¹Œì§€ ê°”ë‹¤ í•˜ë”ë¼ë„ ê±°ê¸°ì„œ ë©ˆì¶”ì§€ ì•Šê³  ë‹¤ë¥¸ ê²½ë¡œë¥¼ íƒìƒ‰í•˜ëŠ” ë¬¸ì œê°€ ìƒê¸´ë‹¤.\ní•´ë‹¹ ë¬¸ì œì— ëŒ€í•œ í•´ê²°ì±…ìœ¼ë¡œ Find ì—°ì‚°ì„ ì‘ìš©í•œ ê¹Šì´ íƒìƒ‰ ê³¼ì •ì„ ì¶”ê°€í–ˆë‹¤. ë§¤ ë°˜ë³µë§ˆë‹¤ í˜„ì¬ ë…¸ë“œì— ëŒ€í•´ Find ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê³  ì¬ê·€í•œ íšŸìˆ˜ ë°˜í™˜í•˜ì—¬ ê¹Šì´ë¡œ ì§€ì •í•œë‹¤. ê¹Šì´ê°€ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ì§€ ì•Šì„ ê²½ìš° end-pointê¹Œì§€ ë„ë‹¬í–ˆë‹¤ íŒë‹¨í•˜ì—¬ ë°˜ë³µì„ ë©ˆì¶˜ë‹¤. ëª¨ë“  ê²½ë¡œì˜ ê¹Šì´ê°€ 1ì¼ ê²½ìš° 1ë²ˆ ì¡°ê±´ì„ ë¬´ì‹œí•˜ê³  ë‹¤ë¥¸ ê²½ë¡œë¥¼ íƒìƒ‰í•˜ëŠ” ë¬¸ì œê°€ ìˆë‹¤.\nroot ë…¸ë“œì—ì„œ ì‹œì‘í–ˆëŠ”ë° ë‹¤ì‹œ root ë…¸ë“œë¡œ ëŒì•„ì˜¬ ê²½ìš° í•´ë‹¹ ë…¸ë“œ ìì²´ë¥¼ ë¬´ì‹œí•œë‹¤. ìœ„ ì¡°ê±´ì— ê±¸ë¦´ ê²½ìš° ì–‘ì˜ ë¬´í•œëŒ€ ê°’ì„ ë°˜í™˜í•˜ì—¬ ê°€ì¤‘ì¹˜ íŒë‹¨ ê³¼ì •ì—ì„œ ì œì™¸ì‹œí‚¬ ìˆ˜ ìˆì—ˆë‹¤. ì´ë ‡ê²Œ ë§ì€ ì‹œí–‰ì°©ì˜¤ë¥¼ ê±°ì³¤ì§€ë§Œ í•˜ë‚˜ë¥¼ í•´ê²°í•˜ë©´ ë‹¤ë¥¸ ë¹ˆí‹ˆì´ ìƒê²¨ë²„ë ¤ í¬ê¸°í•  ìˆ˜ë°–ì— ì—†ì—ˆë‹¤. ì‹¬ì§€ì–´ ë°±ì¤€ì—ì„œëŠ” heapdict ëª¨ë“ˆì„ ì§€ì›í•˜ì§€ ì•Šì•„ í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•  ìˆ˜ë„ ì—†ì—ˆë‹¤. ì–¸ì  ê°€ ì´ ë¬¸ì œë¥¼ ì™„ë²½í•˜ê²Œ í•´ê²°í•˜ê¸° ìœ„í•´ ë””ë²„ê·¸ ê°’ì„ ë‚¨ê¸´ë‹¤. ì„¸ ë²ˆì§¸ ì•Œê³ ë¦¬ì¦˜ # Copy python def prim(nodes: dict, start: int) -\u0026gt; int or float: mst, keys, pi = [], heapdict(), dict() depth, total_weight = -1, 0 for n in nodes.keys(): keys[n] = float(\u0026#39;inf\u0026#39;) pi[n] = None keys[start], pi[start] = 0, start while keys: current_node, current_key = keys.popitem() current_depth = get_depth(pi, start, current_node, 0) if current_depth \u0026lt;= depth: if pi[current_node] == start: return float(\u0026#39;inf\u0026#39;) break depth = current_depth mst.append([pi[current_node], current_node, current_key]) total_weight += current_key for adjacent, weight in nodes[current_node].items(): if adjacent in keys and weight \u0026lt; keys[adjacent]: keys[adjacent] = weight pi[adjacent] = current_node return total_weight def get_depth(nodes: dict, root: int, start: int, data: int) -\u0026gt; int: if start == root: return data if nodes[start] == root: return data+1 return get_depth(nodes, root, nodes[start], data+1) V, E = map(int, input().split()) graph = defaultdict(dict) for _ in range(E): A, B, C = map(int, input().split()) graph[A][B] = C graph[B][A] = C weight_list = [] for node in graph.keys(): heapq.heappush(weight_list, prim(graph, node)) print(heapq.heappop(weight_list)) Copy text 3 3 1 2 2 1 3 3 2 3 9999 graph = {1: {2: 1, 3: 3}, 2: {1: 1, 3: 2}, 3: {2: 2, 1: 3}} mst1 = [[1, 1, 0], [1, 2, 1], [2, 3, 2]], weight: 3 mst2 = [[2, 2, 0], [2, 1, 1], [2, 3, 2]], weight: 3 mst3 = [[3, 3, 0], [3, 2, 2], [2, 1, 1]], weight: 3 output: 3 answer: 3 6 8 1 3 -1 1 5 3 1 6 2 2 5 5 2 6 6 3 4 9 3 5 -1 5 6 -1 graph = {1: {3: -1, 5: 3, 6: 2}, 3: {1: -1, 4: 9, 5: -1}, 5: {1: 3, 2: 5, 3: -1, 6: -1}, 6: {1: 2, 2: 6, 5: -1}, 2: {5: 5, 6: 6}, 4: {3: 9}} mst1 = [[1, 1, 0], [1, 3, -1], [3, 5, -1], [5, 6, -1], [5, 2, 5], [3, 4, 9]], w = 11 mst2 = [[3, 3, 0], [3, 5, -1], [5, 6, -1], [3, 1, -1], [5, 2, 5], [3, 4, 9]], w = 11 mst3 = [[5, 5, 0], [5, 6, -1], [5, 3, -1], [3, 1, -1], [5, 2, 5], [3, 4, 9]] 11 mst4 = [[6, 6, 0], [6, 5, -1], [5, 3, -1], [3, 1, -1], [5, 2, 5], [3, 4, 9]] 11 mst5 = [[2, 2, 0], [2, 5, 5], [5, 6, -1], [5, 3, -1], [3, 1, -1], [3, 4, 9]] 11 mst6 = [[4, 4, 0], [4, 3, 9], [3, 5, -1], [5, 6, -1], [3, 1, -1], [5, 2, 5]] 11 output: 11 answer: -3 3 3 1 2 2 1 3 3 2 3 9999 graph = {1: {2: 2, 3: 3}, 2: {1: 2, 3: 9999}, 3: {1: 3, 2: 9999}} mst1 = [[1, 1, 0], [1, 2, 2], [1, 3, 3]], weight = 5 mst2 = [[2, 2, 0], [2, 1, 2], [1, 3, 3]], weight = 5 mst3 = [[3, 3, 0], [3, 1, 3], [1, 2, 2]], weight = 5 output: 5 answer: 3 ê²°ë¡  # í•´ë‹¹ ë¬¸ì œì— ëŒ€í•œ ì •ë‹µì„ ì°¾ì•„ë³¸ ê²°ê³¼ í”„ë¦¼ ì•Œê³ ë¦¬ì¦˜ì„ heapdict ì—†ì´ êµ¬í˜„í•œ ì•Œê³ ë¦¬ì¦˜ì„ ë³´ì•˜ëŠ”ë° ë…¸ë“œì— ëŒ€í•œ ë°©ë¬¸ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ì—¬ ê²½ë¡œë¥¼ êµ¬í•˜ëŠ” ë°©ì‹ì´ì—ˆë‹¤.\në°±ì¤€ì—ì„œëŠ” í•´ë‹¹ ë¬¸ì œê°€ í†µê³¼ë˜ì—ˆì§€ë§Œ ìœ„ ì„¸ ê°œì˜ ë°ì´í„°ë¥¼ ë„£ì—ˆì„ ë•Œ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ê°’ì´ ë‚˜ì™”ë‹¤. ì•„ë§ˆ ë‚´ê°€ ë¬¸ì œë¥¼ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í–ˆê±°ë‚˜ ì±„ì  ë°ì´í„° ìì²´ê°€ ì ì–´ì„œ ê·¸ë¬ì„ ê²ƒì´ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ë‹¤ë¥¸ ì‚¬ëŒì´ ì‘ì„±í•œ ì •ë‹µì„ ë³´ê²Œ ëì§€ë§Œ ì™„ì „íˆ ë‚©ë“í•˜ì§€ëŠ” ëª»í–ˆë‹¤.\nì •ë‹µ ì•Œê³ ë¦¬ì¦˜ # Copy python V, E = map(int, input().split()) graph = [[] for _ in range(V+1)] visited = [False for _ in range(V+1)] heap = [[0, 1]] for _ in range(E): A, B, C = map(int, input().split()) graph[A].append([C, B]) graph[B].append([C, A]) total_weight = 0 node_cnt = 0 while heap: if node_cnt == V: break weight, node = heapq.heappop(heap) if not visited[node]: visited[node] = True total_weight += weight node_cnt += 1 for i in graph[node]: heapq.heappush(heap, i) print(total_weight) "},{"id":38,"href":"/blog/algorithm-basics/","title":"íŒŒì´ì¬ ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë”” ë…¸íŠ¸ - Set, Heap, DFS, BFS ì •ë¦¬","content":"ìë£Œêµ¬ì¡° # Set # ë°±ì¤€ 1107ë²ˆ(ë¦¬ëª¨ì»¨) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œëŠ” íŠ¹ì • ê¸¸ì´ì˜ ë¬¸ìì—´ì— ëŒ€í•´ ê°€ëŠ¥í•œ ëª¨ë“  ì¡°í•©ì„ íƒìƒ‰í•´ì•¼ í•˜ëŠ”ë° ì‹œê°„ë³µì¡ë„ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì¤‘ë³µì´ ì—†ëŠ” ì§‘í•©ì„ ì‚¬ìš© ë¹ˆì§‘í•©ì€ set() ëª…ë ¹ì–´ë¡œ ê°„ë‹¨í•˜ê²Œ ì •ì˜ Setì€ Dictionaryì™€ ë™ì¼í•œ Hash Table ê¸°ë°˜ì´ê¸° ë•Œë¬¸ì— x in s ì—°ì‚°ì˜ ì‹œê°„ë³µì¡ë„ê°€ O(1) ë¦¬ìŠ¤íŠ¸ì˜ x in s ì—°ì‚° ì‹œê°„ë³µì¡ë„ê°€ O(n) ì¸ ê²ƒê³¼ëŠ” í° ì°¨ì´ Setì„ í™œìš©í•œ ì½”ë“œ ì¼ë¶€ # Copy python buttons = set([str(i) for i in range(10)]) channels = {N,} diff = {abs(int_N-100)} if M \u0026gt; 0: buttons -= set(list(input().split())) channels = set() for i in range(1, count+1): product = itertools.product(buttons, repeat=i) channels|= set(map(\u0026#39;\u0026#39;.join, product)) min_chan, max_chan = \u0026#39;0\u0026#39;, \u0026#39;1\u0026#39; for _ in range(count-1): min_chan += max(buttons) for _ in range(count): max_chan += min(buttons) if set(max_chan) \u0026amp; buttons == set(max_chan): channels.add(max_chan) if set(min_chan) \u0026amp; buttons == set(min_chan): channels.add(min_chan) Dictionary # ë°±ì¤€ 1620ë²ˆ(ë‚˜ëŠ”ì•¼ í¬ì¼“ëª¬ ë§ˆìŠ¤í„° ì´ë‹¤ì†œ) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œëŠ” ë¬¸ìì—´ ë˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ì…ë ¥í–ˆì„ ë•Œ ëŒ€ì¹­ë˜ëŠ” ê°’ì„ ì¶œë ¥í•´ì•¼ í•˜ëŠ”ë° ì²˜ìŒì—” ì‹œê°„ë³µì¡ë„ê°€ O(n) ì¸ List ì˜ index(x) ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒ ë¬¸ìì—´ê³¼ ì¸ë±ìŠ¤ì˜ ê´€ê³„ë¥¼ Dictionaryë¡œ êµ¬í˜„í•´ íƒìƒ‰ ì‹œê°„ë³µì¡ë„ë¥¼ O(1) ë¡œ ê°œì„  Coutner # ë°±ì¤€ 10816ë²ˆ(ìˆ«ìì¹´ë“œ 2) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œëŠ” ìˆ«ì ì¹´ë“œì˜ ê°’ì„ ì…ë ¥í–ˆì„ ë•Œ í•´ë‹¹ ì¹´ë“œì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•´ì•¼ í•˜ëŠ”ë° ì²˜ìŒì—” ì‹œê°„ë³µì¡ë„ê°€ O(n) ì¸ List ì˜ count(x) ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒ ì „ì²´ ì¹´ë“œì— ëŒ€í•œ Counterë¥¼ ì •ì˜í•˜ì—¬ íƒìƒ‰ ì‹œê°„ë³µì¡ë„ë¥¼ O(1) ë¡œ ê°œì„  Heap # ë°±ì¤€ 7662ë²ˆ(ì´ì¤‘ ìš°ì„ ìˆœìœ„ í) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œëŠ” ìµœì†Ÿê°’ê³¼ ìµœëŒ“ê°’ ì‚­ì œ ê¸°ëŠ¥ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆëŠ” ì´ì¤‘ ìš°ì„ ìˆœìœ„ íë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒ ì²˜ìŒì—” List ì˜ pop(x), index(x), max(x)/min(x) ë¥¼ í˜¼í•©í•˜ì—¬ ì‚¬ìš©í•œ ê²ƒ ë•Œë¬¸ì— O(n^3) ì´ìƒì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ë§Œë“¤ì–´ì„œ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒ ë‘ë²ˆì§¸ ì‹œë„ì—ì„  List ì˜ pop(x) ì™€ heapq ëª¨ë“ˆì˜ heappop(x) ë¥¼ ì‚¬ìš©í•´ ì‹œê°„ë³µì¡ë„ë¥¼ O(1) ë¡œ ê°œì„  í•˜ì§€ë§Œ, Heapì€ ì´ì§„íŠ¸ë¦¬ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ì™€ëŠ” êµ¬ì¡°ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ì¸ë±ìŠ¤ë¡œ ì°¸ì¡° ì‹œ ì—ëŸ¬ê°€ ë°œìƒ ì„¸ë²ˆì§¸ ì‹œë„ì—ì„  ë‹¨ì¼ íë¥¼ Max Heapê³¼ Min Heapìœ¼ë¡œ ë‚˜ëˆ„ê³  ê°ê°ì—ì„œ heappop(x), heappush(x) ë¥¼ ìˆ˜í–‰ í•˜ì§€ë§Œ, Max Heap ë˜ëŠ” Min Heapì—ì„œ ì‚­ì œëœ ê°’ì´ ë°˜ëŒ€ìª½ Heapì—ì„œ ë‚¨ì•„ìˆëŠ” ê²½ìš°ê°€ ìˆì–´ ì—ëŸ¬ê°€ ë°œìƒ í•´ë‹¹ ì—ëŸ¬ì— ëŒ€í•œ í•´ê²°ì±…ìœ¼ë¡œ Max Heapê³¼ Min Heapì„ ë™ê¸°í™”ë¥¼ ì‹œí‚¤ëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ, ê°’ì´ ìœ íš¨í•œì§€ íŒë‹¨í•˜ëŠ” Dictionary ë¥¼ êµ¬í˜„í•´ ê°’ì— ëŒ€í•œ ì°¸/ê±°ì§“ ì—¬ë¶€ë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ë²•ì„ ì´ìš© í•´ë‹¹ Dictionaryë¥¼ heappop(x) ì‚¬ìš© ì‹œ í•œ ë²ˆ, ìµœëŒ€/ìµœì†Ÿê°’ ì¶œë ¥ ì‹œ í•œ ë²ˆì”© ì°¸ì¡°í•´ ì—ëŸ¬ í•´ê²° Heapì„ í™œìš©í•œ ì½”ë“œ ì¼ë¶€ # Copy python if cmd == \u0026#39;I\u0026#39;: n = int(n) heapq.heappush(min_Q, n) heapq.heappush(max_Q, -n) try: valid[n] += 1 except KeyError: valid[n] = 1 ins += 1 elif cmd == \u0026#39;D\u0026#39;: try: if n == \u0026#39;1\u0026#39;: max_pop = -heapq.heappop(max_Q) while not valid[max_pop]: max_pop = -heapq.heappop(max_Q) valid[max_pop] -= 1 ins -= 1 elif n == \u0026#39;-1\u0026#39;: min_pop = heapq.heappop(min_Q) while not valid[min_pop]: min_pop = heapq.heappop(min_Q) valid[min_pop] -= 1 ins -= 1 except IndexError: min_Q, max_Q = [], [] continue Copy python max_pop, min_pop = 0, 0 while True: max_pop = -heapq.heappop(max_Q) if valid[max_pop]: break while True: min_pop = heapq.heappop(min_Q) if valid[min_pop]: break print(max_pop, min_pop) ì¡°í•©/ìˆœì—´ # Combination # ë°±ì¤€ 1010ë²ˆ(ë‹¤ë¦¬ ë†“ê¸°) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œëŠ” ê°•ì— ë‹¤ë¦¬ë¥¼ ë†“ëŠ” ê²½ìš°ì˜ ìˆ˜ë¥¼ ì¶œë ¥í•´ì•¼ í•˜ëŠ”ë° math ëª¨ë“ˆì˜ comb í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ê²½ìš°ì˜ ìˆ˜ë¥¼ ê³„ì‚° Permutation # ë°±ì¤€ 1107ë²ˆ(ë¦¬ëª¨ì»¨) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œì—ì„œ íŠ¹ì • ê¸¸ì´ì˜ ë¬¸ìì—´ì— ëŒ€í•´ ê°€ëŠ¥í•œ ëª¨ë“  ì¡°í•©ì„ ë‚˜ì—´í•˜ëŠ”ë°, ìˆœì„œë¥¼ ê³ ë ¤í•˜ê³  ì¤‘ë³µì„ í—ˆìš©í•˜ê¸° ìœ„í•´ ì¤‘ë³µ ìˆœì—´(Product)ì„ ì‚¬ìš© Permutationì„ í™œìš©í•œ ì½”ë“œ ì¼ë¶€ # Copy python buttons = set([str(i) for i in range(10)]) ... for i in range(1, count+1): product = itertools.product(buttons, repeat=i) channels|= set(map(\u0026#39;\u0026#39;.join, product)) íƒìƒ‰ # Binary Search # ë°±ì¤€ 1654ë²ˆ(ëœì„  ìë¥´ê¸°) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œëŠ” ì„œë¡œ ë‹¤ë¥¸ ê¸¸ì´ì˜ ì„ ë“¤ì„ ë™ì¼í•œ ê¸¸ì´ë¡œ ê°€ì¥ ê¸¸ê²Œ ì˜ë¼ì•¼ ë˜ëŠ”ë° ì²˜ìŒì—” ê°€ì¥ ê¸´ ì„ ë¶€í„° ê°€ì¥ ì§§ì€ ì„ ê¹Œì§€ì˜ ë²”ìœ„ ë‚´ì—ì„œ ì™„ì „íƒìƒ‰ì„ ì§„í–‰í•˜ì—¬ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒ ì™„ì „íƒìƒ‰ì„ ì´ë¶„íƒìƒ‰ìœ¼ë¡œ ëŒ€ì²´í•˜ì—¬ ì‹œê°„ë³µì¡ë„ ê°œì„  Binary Searchë¥¼ í™œìš©í•œ ì½”ë“œ ì¼ë¶€ # Copy python while mn \u0026lt; mx: md = (mx + mn) // 2 count = 0 for i in range(K): count += k[i] // md if count \u0026lt; N: mx = md else: mn = md + 1 ê·¸ë˜í”„ # DFS/BFS # ë°±ì¤€ 1260ë²ˆ(DFSì™€ BFS) ë¬¸ì œë¥¼ í’€ ë•Œ ì‚¬ìš© í•´ë‹¹ ë¬¸ì œëŠ” DFSì™€ BFSë¡œ íƒìƒ‰í–ˆì„ ë•Œì˜ ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” ê¸°ë³¸ì ì¸ ë¬¸ì œ DFSëŠ” ê¹Šì´ ë¥¼ ìš°ì„ ì ìœ¼ë¡œ íƒìƒ‰, BFSëŠ” ë„ˆë¹„ ë¥¼ ìš°ì„ ì ìœ¼ë¡œ íƒìƒ‰ DFSëŠ” ê²½ë¡œì˜ íŠ¹ì§•ì„ ì €ì¥í•  ë•Œ ì‚¬ìš©, BFSëŠ” ìµœë‹¨ê±°ë¦¬ë¥¼ êµ¬í•  ë•Œ ì‚¬ìš© DFSëŠ” ìŠ¤íƒ ë˜ëŠ” ì¬ê·€í•¨ìˆ˜ ë¡œ êµ¬í˜„, BFSëŠ” í(ë°í¬) ë¥¼ ì´ìš©í•´ì„œ êµ¬í˜„ DFS/BFSë¥¼ í™œìš©í•œ ì½”ë“œ ì¼ë¶€ # Copy python def dfs(nodes, visited, node): visited[node] = True next_nodes = nodes[node] while next_nodes: next_node = heapq.heappop(next_nodes) if not visited[next_node]: print(next_node, end=\u0026#39; \u0026#39;) dfs(nodes, visited, next_node) Copy python def bfs(nodes, visited, root): queue = deque() visited[root] = True queue.append(root) while queue: node = queue.popleft() visited[node] = True print(node, end=\u0026#39; \u0026#39;) next_nodes = nodes[node] while next_nodes: next_node = heapq.heappop(next_nodes) if not visited[next_node]: visited[next_node] = True queue.append(next_node) Union-Find Algorithm # ë‘ ë…¸ë“œê°€ ê°™ì€ ê·¸ë˜í”„ì— ì†í•˜ëŠ”ì§€ íŒë³„í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ë…¸ë“œë¥¼ í•©ì¹˜ëŠ” Union ì—°ì‚°ê³¼ ë£¨íŠ¸ ë…¸ë“œë¥¼ ì°¾ëŠ” Find ì—°ì‚°ìœ¼ë¡œ ì´ë£¨ì–´ì§ ë°°ì—´ì— ë‚˜ì—´ëœ ëª¨ë“  ë…¸ë“œë“¤ì€ ê¸°ë³¸ì ìœ¼ë¡œ ìê¸° ìì‹ ì˜ ê°’ì„ ê°€ì§ ë…¸ë“œë¥¼ í•©ì¹  ë•Œ ìì‹ ë…¸ë“œì˜ ë°°ì—´ ê°’ì— ë¶€ëª¨ ë…¸ë“œì˜ ë°°ì—´ ê°’ì„ ë„£ìŒ íŒŒì´ì¬ êµ¬í˜„ ì½”ë“œ # Copy python def find(graph: list, x: int) -\u0026gt; int: if graph[x] == x: return x graph[x] = find(graph, graph[x]) def union(graph: list, x: int, y: int) -\u0026gt; None: x = find(graph, x) y = find(graph, y) if x == y: return graph[y] = x Kruskal's Algorithm # ê°€ì¥ ì ì€ ë¹„ìš©ìœ¼ë¡œ ëª¨ë“  ë…¸ë“œë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ (ìµœì†Œ ë¹„ìš© ì‹ ì¥ íŠ¸ë¦¬) ëª¨ë“  ê°„ì„  ì •ë³´ë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œ ë’¤ ë¹„ìš©ì´ ì ì€ ê°„ì„ ë¶€í„° ê·¸ë˜í”„ì— í¬í•¨ ì°¸ê³ ìë£Œ:Â https://blog.naver.com/ndb796/221230994142 íŒŒì´ì¬ êµ¬í˜„ ì½”ë“œ # Copy python class Edge: def __init__(self, a: int, b: int, cost: int): self.parent = a self.child = b self.cost = cost def get_parent(graph: list, x: int) -\u0026gt; int: if graph[x] == x: return x graph[x] = get_parent(graph, graph[x]) def union_parent(graph: list, a: int, b: int) -\u0026gt; None: a = get_parent(graph, a) b = get_parent(graph, b) if a \u0026lt; b: graph[b] = a else: graph[a] = b def find(graph: list, a: int, b: int) -\u0026gt; int: a = get_parent(graph, a) b = get_parent(graph, b) if a == b: return True else: return False def sort_edge(edge_list: list) -\u0026gt; list: return sorted(edge_list, key=lambda x: [x.cost, x.parent, x.child]) def union_edge(graph: list, edge_list: list) -\u0026gt; int: cost = 0 for edge in edge_list: if not find(graph, edge.parent, edge.child): cost += edge.cost union_parent(graph, edge.parent, edge.child) return cost Prim's Algorithm # ì‹œì‘ ì •ì ì„ ì„ íƒí•œ í›„, ì •ì ì— ì¸ì ‘í•œ ê°„ì„  ì¤‘ ìµœì†Œ ë¹„ìš©ì˜ ê°„ì„ ì„ ì—°ê²°í•˜ì—¬ ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬(MST)ë¥¼ í™•ì¥í•´ê°€ëŠ” ë°©ì‹ Kruskal's Algorithm ì´Â ë¹„ìš©ì´ ê°€ì¥ ì‘ì€ ê°„ì„ ë¶€í„°Â ë‹¤ìŒ ê°„ì„ ì„ ì„ íƒí•˜ëŠ”ë° ë°˜í•´, Prim's Algorithm ì€Â íŠ¹ì • ì •ì ì—ì„œë¶€í„°Â ë‹¤ìŒ ì •ì ì„ ê°±ì‹ í•´ë‚˜ê°€ë©° ë¹„ìš©ì´ ì‘ì€ ê°„ì„ ì„ ì„ íƒ Prim's Algorithmì˜ ì‹œê°„ ë³µì¡ë„ëŠ” ìµœì•…ì˜ ê²½ìš°Â O(E log E) (while êµ¬ë¬¸ì—ì„œ ëª¨ë“  ê°„ì„ ì— ëŒ€í•´ ë°˜ë³µí•˜ê³ , ìµœì†Œ í™ êµ¬ì¡°ë¥¼ ì‚¬ìš©) ì°¸ê³ ìë£Œ:Â www.fun-coding.org/Chapter20-prim-live.html íŒŒì´ì¬ êµ¬í˜„ ì½”ë“œ # Copy python def prim(edge_list: list, start_node: int) -\u0026gt; list: mst = list() adjacent_edge_list = defaultdict(list) for weight, n1, n2 in edge_list: adjacent_edge_list[n1].append((weight, n1, n2)) adjacent_edge_list[n1].append((weight, n2, n1)) connected_nodes = {start_node} candidate_edge_list = adjacent_edge_list[start_node] heapq.heapify(candidate_edge_list) while candidate_edge_list: weight, n1, n2 = heapq.heappop(candidate_edge_list) if n2 not in connected_nodes: connected_nodes.add(n2) mst.append((weight, n1, n2)) for edge in adjacent_edge_list[n2]: if edge[2] not in connected_nodes: heapq.heappush(candidate_edge_list, edge) return mst Prim's Algorithm ê°œì„  # ê°„ì„ ì´ ì•„ë‹ŒÂ ë…¸ë“œë¥¼ ì¤‘ì‹¬ ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ íë¥¼ ì ìš© ë…¸ë“œë§ˆë‹¤ Key ê°’ì„ ê°€ì§€ê³  ìˆê³ , Key ê°’ì„ ìš°ì„ ìˆœìœ„ íì— ë„£ìŒ Key ê°’ì´ 0ì¸ ì •ì ì˜ ì¸ì ‘í•œ ì •ì ë“¤ì— ëŒ€í•´ Key ê°’ê³¼ ì—°ê²°ëœ ë¹„ìš©ì„ ë¹„êµí•˜ì—¬ Key ê°’ì´ ì‘ìœ¼ë©´ í•´ë‹¹ ì •ì ì˜ Key ê°’ì„ ê°±ì‹  ê°œì„ ëœ Prim's Algorithmì˜ ì‹œê°„ ë³µì¡ë„ëŠ”Â O(E log V) í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ heapdict ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© (ê¸°ì¡´ì˜ heap ë‚´ìš©ì„ ì—…ë°ì´íŠ¸í•˜ë©´ ì•Œì•„ì„œ ìµœì†Œ í™ì˜ êµ¬ì¡°ë¡œ ì—…ë°ì´íŠ¸ë¨) íŒŒì´ì¬ êµ¬í˜„ ì½”ë“œ # Copy python from heapdict import heapdict def prim(graph: dict, start_node: int) -\u0026gt; (list, int): mst, keys, pi, total_weight = list(), heapdict(), dict(), 0 for node in graph.keys(): keys[node] = float(\u0026#39;inf\u0026#39;) pi[node] = None keys[start_node], pi[start_node] = 0, start_node while keys: current_node, current_key = keys.popitem() mst.append([pi[current_node], current_node, current_key]) total_weight += current_key for adjacent, weight in graph[current_node].items(): if adjacent in keys and weight \u0026lt; keys[adjacent]: keys[adjacent] = weight pi[adjacent] = current_node return mst, total_weight ì—°ì‚°ì ì˜¤ë²„ë¡œë”© # ì—°ì‚°ì ì˜¤ë²„ë¡œë”©ì€ ì¸ìŠ¤í„´ìŠ¤ ê°ì²´ë¼ë¦¬ ì„œë¡œ ì—°ì‚°ì„ í•  ìˆ˜ ìˆê²Œ ê¸°ì¡´ ì—°ì‚°ìì˜ ê¸°ëŠ¥ì„ ì¤‘ë³µìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê²ƒ ì—°ì‚°ì ì˜¤ë²„ë¡œë”©ì˜ ì˜ˆì‹œ Method Operator Example __add__(self, other) + (Binomial) A + B, A += B __pos__(self) + (Unary) +A _sub__(self, other) - (Binomial) A - B, A -= B __neg__(self) - (Unary) -A __mul__(self, other) * A * B, A *= B __truediv__(self, other) / A / B, A /= B __floordiv__(self, other) // A // B, A //= B __mod__(self, other) % A % B, A %= B __pow__(self, other) pow(), ** pow(A, B), A ** B __eq__(self, other) == A == B __lt__(self, other) \u0026lt; A \u0026lt; B __gt__(self, other) \u0026gt; A \u0026gt; B __lshift__(self, other) \u0026lt;\u0026lt; A \u0026lt;\u0026lt; B __rshift__(self, other) \u0026gt;\u0026gt; A \u0026gt;\u0026gt; B __and__(self, other) \u0026amp; A \u0026amp; B, A \u0026amp;= B __xor__(self, other) ^ A ^ B, A ^= B __or__(self, other) | A |B, A |= B __invert__(self) ~ ~A __abs__(self) abs() abs(A) "}]