<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><meta name=keywords content="TIL,Algorithm"><meta name=description content="Algorithm Study"><meta name=author content="minyeamer"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><link rel=canonical href=https://minyeamer.github.io/post/study/2022/2022-03/2022-03-06/><meta name=google-site-verification content="u1tWcHmHUZWfFT1cHaku6sqU-bK40N3WLR-C-4VUWN0"><meta name=naver-site-verification content="6eaf8e9da1a6104780f056f1a7797fe5a3a5a0da"><meta property="og:url" content="https://minyeamer.github.io/post/study/2022/2022-03/2022-03-06/"><meta property="og:site_name" content="Minystory"><meta property="og:title" content="2022-03-06 Log"><meta property="og:description" content="Algorithm Study"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-06T20:00:00+09:00"><meta property="article:modified_time" content="2022-03-06T20:00:00+09:00"><meta property="article:tag" content="TIL"><meta property="article:tag" content="Algorithm"><title>2022-03-06 Log | Minystory</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://minyeamer.github.io/post/study/2022/2022-03/2022-03-06/><link rel=stylesheet href=/book.min.b806db2fcd7252f443c9368f219d473f25aaf586f28798bf9f651f41a7225060.css integrity="sha256-uAbbL81yUvRDyTaPIZ1HPyWq9Ybyh5i/n2UfQaciUGA=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/search-input.min.25901006165b642d19a996db15ba3fb29bba415c2ffcfe138ac0af40df3ee4eb.js integrity="sha256-JZAQBhZbZC0ZqZbbFbo/spu6QVwv/P4TisCvQN8+5Os=" crossorigin=anonymous></script><link rel=preload href=/search-data.min.b0e1b42f927aec8bb7d54995be39485efe34e26282f96f491b8830611aeb6bbf.json as=fetch crossorigin><script>window.SEARCH_DATA_URL="/search-data.min.b0e1b42f927aec8bb7d54995be39485efe34e26282f96f491b8830611aeb6bbf.json"</script><script defer src=/search.min.f30f9834d4764fd9751da64098c954d01085f648ba9ca421a3c97582f8c47253.js integrity="sha256-8w+YNNR2T9l1HaZAmMlU0BCF9ki6nKQho8l1gvjEclM=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-BWECRMSX3V"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BWECRMSX3V")</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css crossorigin=anonymous><script defer src=/scroll-progress.min.841ade7e507a5f6d59c4e7bf2fe2b2ca034070677ff7957eec55610a024dd776.js integrity="sha256-hBreflB6X21ZxOe/L+KyygNAcGd/95V+7FVhCgJN13Y=" crossorigin=anonymous></script><script defer src=/dark-mode.min.e41c6440ffd9967d6f6a419ff3ce09b862009fe1646ab265f5cb2817d2a508e3.js integrity="sha256-5BxkQP/Zln1vakGf884JuGIAn+FkarJl9csoF9KlCOM=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js></script><script defer src=/copy-code.min.aaeef965f0b4992e55f976edaecb34a89d414e1791caa18c3f4f4376c6d8b5a8.js integrity="sha256-qu75ZfC0mS5V+Xbtrss0qJ1BTheRyqGMP09DdsbYtag=" crossorigin=anonymous></script><script defer src=/toc-highlightjs.093016f0ef312174ad862fdcf5792e88ab5442bd39beecc38d15643f71ab5c31.min integrity="sha256-CTAW8O8xIXSthi/c9XkuiKtUQr05vuzDjRVkP3GrXDE=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-post book-layout-post"><div class=scroll-progress><div class=scroll-progress-bar></div></div><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><div class=sidebar-profile><div class=profile-img-wrap><a href=https://minyeamer.github.io/><img src="https://avatars.githubusercontent.com/u/17109173?v=4" alt=Profile class=profile-img></a></div><div class=sidebar-social><a href=https://github.com/minyeamer target=_blank title=GitHub><i class="fa-brands fa-github"></i>
</a><a href=/categories/ title=Categories><i class="fa-solid fa-folder"></i>
</a><a href=/tags/ title=Tags><i class="fa-solid fa-tags"></i>
</a><button id=dark-mode-toggle class=dark-mode-toggle aria-label="Toggle dark mode">
<i class="fa-solid fa-circle-half-stroke"></i></button></div></div><h2 class=book-brand><a class="flex align-center" href=/><span>Minystory</span></a></h2><div class="book-search hidden"><div class=search-input-container><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/ onkeydown='event.key==="Enter"&&goToSearchPage()'>
<button type=button id=book-search-button class=book-search-btn onclick=goToSearchPage()>
<i class="fa-solid fa-magnifying-glass"></i></button></div><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden");function goToSearchPage(){const t=document.getElementById("book-search-input"),e=t.value.trim();e&&(window.location.href="/search/?q="+encodeURIComponent(e))}</script><div class=book-categories><input type=checkbox class="hidden toggle" id=categories-control checked>
<label for=categories-control class="categories-toggle categories-link"><a href=/categories/><i class="fa-solid fa-folder"></i>
<span>전체</span>
<span class=category-count>(126)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul class=categories-menu id=categories-menu><li><input type=checkbox class="hidden toggle" id=cat-algorithm>
<label for=cat-algorithm class="categories-toggle categories-link"><a href=/categories/algorithm/><i class="fa-solid fa-folder"></i>
Algorithm
<span class=category-count>(51)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-link><a href=/categories/algorithm/baekjoon/><i class="fa-solid fa-file"></i>
Baekjoon
<span class=category-count>(31)</span></a></li><li class=categories-link><a href=/categories/algorithm/leetcode/><i class="fa-solid fa-file"></i>
LeetCode
<span class=category-count>(2)</span></a></li><li class=categories-link><a href=/categories/algorithm/programmers/><i class="fa-solid fa-file"></i>
Programmers
<span class=category-count>(17)</span></a></li><li class=categories-link><a href=/categories/algorithm/references/><i class="fa-solid fa-file"></i>
References
<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-blog>
<label for=cat-blog class="categories-toggle categories-link"><a href=/categories/blog/><i class="fa-solid fa-folder"></i>
Blog
<span class=category-count>(5)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-link><a href=/categories/blog/review/><i class="fa-solid fa-file"></i>
Review
<span class=category-count>(1)</span></a></li><li class=categories-link><a href=/categories/blog/tech/><i class="fa-solid fa-file"></i>
Tech
<span class=category-count>(4)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-book>
<label for=cat-book class="categories-toggle categories-link"><a href=/categories/book/><i class="fa-solid fa-folder"></i>
Book
<span class=category-count>(1)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-link><a href=/categories/book/finance/><i class="fa-solid fa-file"></i>
Finance
<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-data>
<label for=cat-data class="categories-toggle categories-link"><a href=/categories/data/><i class="fa-solid fa-folder"></i>
Data
<span class=category-count>(4)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-link><a href=/categories/data/crawling/><i class="fa-solid fa-file"></i>
Crawling
<span class=category-count>(4)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-diary>
<label for=cat-diary class="categories-toggle categories-link"><a href=/categories/diary/><i class="fa-solid fa-folder"></i>
Diary
<span class=category-count>(3)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-link><a href=/categories/diary/2022/><i class="fa-solid fa-file"></i>
2022
<span class=category-count>(2)</span></a></li><li class=categories-link><a href=/categories/diary/2023/><i class="fa-solid fa-file"></i>
2023
<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-study>
<label for=cat-study class="categories-toggle categories-link"><a href=/categories/study/><i class="fa-solid fa-folder"></i>
Study
<span class=category-count>(61)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-link><a href=/categories/study/2022/><i class="fa-solid fa-file"></i>
2022
<span class=category-count>(16)</span></a></li><li class=categories-link><a href=/categories/study/2023/><i class="fa-solid fa-file"></i>
2023
<span class=category-count>(10)</span></a></li><li class=categories-link><a href=/categories/study/ai-school/><i class="fa-solid fa-file"></i>
AI SCHOOL
<span class=category-count>(34)</span></a></li><li class=categories-link><a href=/categories/study/datacamp/><i class="fa-solid fa-file"></i>
DataCamp
<span class=category-count>(1)</span></a></li></ul></li></ul></div><div class=recent-posts><div class=recent-posts-header><i class="fa-solid fa-clock"></i>
<span>최신글</span></div><ul class=recent-posts-list><li class=recent-post-item><a href=/post/study/2023/2023-04/2023-04-02/ title="2023-04-02 Log"><div class=recent-post-title>2023-04-02 Log</div><div class=recent-post-date><time datetime=2023-04-02>2023.04.02</time></div></a></li><li class=recent-post-item><a href=/post/data/crawling/10000-recipe/ title="[Python] 만개의 레시피 데이터 수집"><div class=recent-post-title>[Python] 만개의 레시피 데이터 수집</div><div class=recent-post-date><time datetime=2023-03-26>2023.03.26</time></div></a></li><li class=recent-post-item><a href=/post/study/2023/2023-03/2023-03-25/ title="2023-03-25 Log"><div class=recent-post-title>2023-03-25 Log</div><div class=recent-post-date><time datetime=2023-03-25>2023.03.25</time></div></a></li><li class=recent-post-item><a href=/post/study/2023/2023-03/2023-03-21/ title="2023-03-21 Log"><div class=recent-post-title>2023-03-21 Log</div><div class=recent-post-date><time datetime=2023-03-21>2023.03.21</time></div></a></li><li class=recent-post-item><a href=/post/study/2023/2023-02/2023-02-19/ title="2023-02-19 Log"><div class=recent-post-title>2023-02-19 Log</div><div class=recent-post-date><time datetime=2023-02-19>2023.02.19</time></div></a></li></ul></div></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><i class="fa-solid fa-bars book-icon" id=menu-icon></i></label><h3><a href=https://minyeamer.github.io/ class=site-title>Minystory</a></h3><label for=toc-control><i class="fa-solid fa-list book-icon" id=toc-icon></i></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#prims-algorithm-개선>Prim&rsquo;s Algorithm 개선</a></li><li><a href=#struggling-with-a-problem>struggling with a problem</a></li></ul></nav><div class=book-nav><button class=book-nav-btn3 onclick='window.scrollTo({top:0,behavior:"smooth"})' title="Go to top">
<i class="fa fa-chevron-up"></i>
</button>
<button class=book-nav-btn3 onclick='window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})' title="Go to bottom">
<i class="fa fa-chevron-down"></i>
<button class=book-nav-btn3 onclick=history.back() title="Go back">
<i class="fa-solid fa-arrow-left"></i></button></div></aside></header><article class="markdown book-article"><header class=post-header><div class=post-header-category><a href=/categories/study/2022/ class=post-header-category-link>Study/2022</a></div><h1 class=post-header-title>2022-03-06 Log</h1><div class=post-header-date><time datetime=2022-03-06T20:00:00+09:00>2022. 3. 6. 20:00</time></div></header><h1 id=defaultdict>defaultdict()
<a class=anchor href=#defaultdict>#</a></h1><ul><li>collections 모듈에 포함된 dict의 서브 클래스</li><li>dict와 작동 방식은 동일하지만 인자로 주어진 객체의 기본값을 초기값으로 지정 가능</li></ul><div class=book-codeblock data-lang=python><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>int_dict</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>int</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>int_dict</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>defaultdict</span><span class=p>(</span><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>int</span><span class=s1>&#39;&gt;, </span><span class=si>{}</span><span class=s1>)</span></span></span></code></pre></div></div><ul><li>int를 인자로 넣을 경우 값을 지정하지 않은 키는 그 값이 0으로 지정됨</li></ul><div class=book-codeblock data-lang=python><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>int_dict</span><span class=p>[</span><span class=s1>&#39;key1&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>int_dict</span>
</span></span><span class=line><span class=cl><span class=n>defaultdict</span><span class=p>(</span><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>int</span><span class=s1>&#39;&gt;, {&#39;</span><span class=n>key</span><span class=s1>&#39;: 0})</span></span></span></code></pre></div></div><h1 id=infinite>infinite
<a class=anchor href=#infinite>#</a></h1><ul><li>양의 무한대 <code>float('inf')</code></li><li>음의 무한대 <code>float('-inf')</code></li></ul><h1 id=prims-algorithm>Prim&rsquo;s Algorithm
<a class=anchor href=#prims-algorithm>#</a></h1><ul><li>시작 정점을 선택한 후, 정점에 인접한 간선 중 최소 비용의 간선을 연결하여<br>최소 신장 트리(MST)를 확장해가는 방식</li><li><strong>Kruskal&rsquo;s Algorithm</strong>이 <strong>비용이 가장 작은 간선부터</strong> 다음 간선을 선택하는데 반해,<br><strong>Prim&rsquo;s Algorithm</strong>은 <strong>특정 정점에서부터</strong> 다음 정점을 갱신해나가며 비용이 작은 간선을 선택</li><li>Prim&rsquo;s Algorithm의 시간 복잡도는 최악의 경우 <strong>O(E log E</strong>)<br>(while 구문에서 모든 간선에 대해 반복하고, 최소 힙 구조를 사용)</li><li>Reference: <a href=https://www.fun-coding.org/Chapter20-prim-live.html>www.fun-coding.org/Chapter20-prim-live.html</a></li></ul><blockquote class=book-hint><p><strong>파이썬 구현 코드</strong></p></blockquote><div class=book-codeblock data-lang=python><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>prim</span><span class=p>(</span><span class=n>edge_list</span><span class=p>:</span> <span class=nb>list</span><span class=p>,</span> <span class=n>start_node</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>mst</span> <span class=o>=</span> <span class=nb>list</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>adjacent_edge_list</span> <span class=o>=</span> <span class=n>defaultdict</span><span class=p>(</span><span class=nb>list</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>weight</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span> <span class=ow>in</span> <span class=n>edge_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>adjacent_edge_list</span><span class=p>[</span><span class=n>n1</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>weight</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>adjacent_edge_list</span><span class=p>[</span><span class=n>n1</span><span class=p>]</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>weight</span><span class=p>,</span> <span class=n>n2</span><span class=p>,</span> <span class=n>n1</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>connected_nodes</span> <span class=o>=</span> <span class=p>{</span><span class=n>start_node</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>candidate_edge_list</span> <span class=o>=</span> <span class=n>adjacent_edge_list</span><span class=p>[</span><span class=n>start_node</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>heapq</span><span class=o>.</span><span class=n>heapify</span><span class=p>(</span><span class=n>candidate_edge_list</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>candidate_edge_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>weight</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span> <span class=o>=</span> <span class=n>heapq</span><span class=o>.</span><span class=n>heappop</span><span class=p>(</span><span class=n>candidate_edge_list</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>n2</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>connected_nodes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>connected_nodes</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>n2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>mst</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>weight</span><span class=p>,</span> <span class=n>n1</span><span class=p>,</span> <span class=n>n2</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>edge</span> <span class=ow>in</span> <span class=n>adjacent_edge_list</span><span class=p>[</span><span class=n>n2</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>edge</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>connected_nodes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>heapq</span><span class=o>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>candidate_edge_list</span><span class=p>,</span> <span class=n>edge</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>mst</span></span></span></code></pre></div></div><h2 id=prims-algorithm-개선>Prim&rsquo;s Algorithm 개선
<a class=anchor href=#prims-algorithm-%ea%b0%9c%ec%84%a0>#</a></h2><ul><li>간선이 아닌 <strong>노드를 중심</strong>으로 우선순위 큐를 적용</li><li>노드마다 Key 값을 가지고 있고, Key 값을 우선순위 큐에 넣음</li><li>Key 값이 0인 정점의 인접한 정점들에 대해 Key 값과 연결된 비용을 비교하여<br>Key 값이 작으면 해당 정점의 Key 값을 갱신</li><li>개선된 Prim&rsquo;s Algorithm의 시간 복잡도는 <strong>O(E log V</strong>)</li><li>해당 알고리즘을 구현하기 위해 heapdict 라이브러리 사용<br>(기존의 heap 내용을 업데이트하면 알아서 최소 힙의 구조로 업데이트됨)</li></ul><blockquote class=book-hint><p><strong>파이썬 구현 코드</strong></p></blockquote><div class=book-codeblock data-lang=python><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>heapdict</span> <span class=kn>import</span> <span class=n>heapdict</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>prim</span><span class=p>(</span><span class=n>graph</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span> <span class=n>start_node</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=p>(</span><span class=nb>list</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>mst</span><span class=p>,</span> <span class=n>keys</span><span class=p>,</span> <span class=n>pi</span><span class=p>,</span> <span class=n>total_weight</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(),</span> <span class=n>heapdict</span><span class=p>(),</span> <span class=nb>dict</span><span class=p>(),</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>node</span> <span class=ow>in</span> <span class=n>graph</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>keys</span><span class=p>[</span><span class=n>node</span><span class=p>]</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>pi</span><span class=p>[</span><span class=n>node</span><span class=p>]</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=n>keys</span><span class=p>[</span><span class=n>start_node</span><span class=p>],</span> <span class=n>pi</span><span class=p>[</span><span class=n>start_node</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>start_node</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>keys</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>current_node</span><span class=p>,</span> <span class=n>current_key</span> <span class=o>=</span> <span class=n>keys</span><span class=o>.</span><span class=n>popitem</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>mst</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>pi</span><span class=p>[</span><span class=n>current_node</span><span class=p>],</span> <span class=n>current_node</span><span class=p>,</span> <span class=n>current_key</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>total_weight</span> <span class=o>+=</span> <span class=n>current_key</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>adjacent</span><span class=p>,</span> <span class=n>weight</span> <span class=ow>in</span> <span class=n>graph</span><span class=p>[</span><span class=n>current_node</span><span class=p>]</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>adjacent</span> <span class=ow>in</span> <span class=n>keys</span> <span class=ow>and</span> <span class=n>weight</span> <span class=o>&lt;</span> <span class=n>keys</span><span class=p>[</span><span class=n>adjacent</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>                <span class=n>keys</span><span class=p>[</span><span class=n>adjacent</span><span class=p>]</span> <span class=o>=</span> <span class=n>weight</span>
</span></span><span class=line><span class=cl>                <span class=n>pi</span><span class=p>[</span><span class=n>adjacent</span><span class=p>]</span> <span class=o>=</span> <span class=n>current_node</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>mst</span><span class=p>,</span> <span class=n>total_weight</span></span></span></code></pre></div></div><h2 id=struggling-with-a-problem>struggling with a problem
<a class=anchor href=#struggling-with-a-problem>#</a></h2><ul><li>백준 골드 5를 혼자서 푼 후 기고만장해져서 골드 4의 1197번 문제에 도전해보았다.</li><li>이틀에 걸쳐 도전했지만 포기하고 정답을 보게되었음에도 문제를 해결한 것 같지 않다.</li><li>해당 문제는 n개의 정점들에 대한 간선들 중에서 가장 가중치가 작은 경로의 가중치를 찾는 것이다.</li></ul><blockquote class=book-hint><p><strong>처음엔 노드하면 DFS와 BFS 밖에 몰랐기 때문에 당연하게 DFS로 접근했다:</strong></p></blockquote><ol><li>먼저 부모, 자식, 가중치, 인덱스를 변수로 가지는 Node 클래스를 선언하여<br>간선의 정보를 노드 내 인스턴스 변수에 저장하게 한다.</li><li>전체 노드 중 자식 노드를 가진 노드에 한해 가중치 최솟값을 구하는 함수를 실행한다.</li><li>해당 함수는 root에서부터 end-point까지 순회하면서 가중치 합의 최솟값을 구하는 동작을 수행한다.</li><li>함수의 결과는 따로 반환되지 않고 root 노드의 인스턴스 변수에 저장된다.</li></ol><ul><li>이러한 논리를 가지고 작성한 알고리즘이 글 밑에 있는 첫 번째 코드이다.</li><li>하지만 해당 코드는 1초의 시간 제한 안에 돌아가기엔 무리가 있었다.</li></ul><blockquote class=book-hint><p><strong>DFS로 안된다는 것을 깨닫고 질문글을 훑어본 후 크루스칼 알고리즘을 선택하기로 했다:</strong></p></blockquote><ul><li>우선 고려해야될 것은 크루스칼 알고리즘이 모든 노드를 연결시키기 위한 알고리즘이라는 것이다.</li><li>해당 문제는 root 노드에서부터 시작하는 모든 경로를 고려해야 하는데 크루스칼 알고리즘을<br>사용할 경우 가장 작은 가중치로 시작하는 경로만을 선택하고 나머지를 무시하게 된다.</li><li>이 경우 발생하는 반례가 다음과 같다.</li></ul><div class=book-codeblock data-lang=bash><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>3</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>2</span> <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>3</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>2</span> <span class=m>3</span> <span class=m>9999</span>
</span></span><span class=line><span class=cl>output: <span class=m>10001</span>
</span></span><span class=line><span class=cl>answer: <span class=m>3</span></span></span></code></pre></div></div><ol><li>크루스칼 알고리즘에 의해 1 -> 2의 간선을 선택하고 1 -> 3의 간선을 무시할 경우<br>최종적으로는 1 -> 2 -> 3의 경로에 대한 가중치 10001을 결과로 얻게 된다.</li><li>이에 대한 해결책으로 생각한 것이 EtherChannel의 Active/Passive 개념이다.</li><li>앞서 시도한 DFS 기반 알고리즘에 크루스칼 알고리즘을 조합해서 모든 경로를 탐색하는데<br>가중치가 가장 작은 경로로 이어지는 자식 노드를 Active로, 나머지를 Passive로 분류한다.</li><li>만약 한 노드에 새로운 자식 노드가 추가되면 자식 노드들의 가중치를 비교해서 Active를 갱신하고<br>해당 노드의 부모 노드를 타고 올라가며 동일한 작업을 반복한다.</li></ol><ul><li>해당 알고리즘은 root 노드에서부터 모든 자식 노드를 탐색해야 했던 DFS 기반 알고리즘과는 반대로<br>자식 노드에서부터 root 노드까지의 경로만을 탐색하기 때문에 시간 초과를 피할 수 있었다.</li><li>하지만 여러 조건들을 고려하다보니 작성자인 나조차도 알아보기 힘들정도로 코드가 많이 복잡해졌고<br>root 노드가 기준인데 굳이 아래서부터 위를 탐색하는 방식이 마음에 들지 않았다.</li><li>그리고 가장 큰 문제는 해당 알고리즘에도 반례가 있어서 정답이 될 수 없었다는 것이다.</li></ul><blockquote class=book-hint><p><strong>하루동안 고민한 끝에 크루스칼 알고리즘을 포기하고 이와 비슷하다는 프림 알고리즘을 선택하게 되었다:</strong></p></blockquote><ul><li>이제까지 사용했던 Node 인스턴스 내에 모든 정보를 저장하는 접근방식을 버리고<br>프림 알고리즘의 기본에 집중했다.</li><li>부모 노드의 값을 자식 노드의 배열 값에 저장하는 Union-Find 알고리즘을 기반으로 그래프를 그리고<br>모든 노드에 대해 프림 알고리즘을 수행하여 최소 가중치를 구하는 방식을 구상했다.</li><li>하지만 이 경우에 두 가지 문제점이 있었다.</li></ul><ol><li>프림 알고리즘도 결국 모든 노드를 연결하기 위한 알고리즘이기 때문에,<br>root에서 end-point까지 갔다 하더라도 거기서 멈추지 않고 다른 경로를 탐색하는 문제가 생긴다.<ul><li>해당 문제에 대한 해결책으로 Find 연산을 응용한 깊이 탐색 과정을 추가했다.</li><li>매 반복마다 현재 노드에 대해 Find 연산을 수행하고 재귀한 횟수 반환하여 깊이로 지정한다.</li><li>깊이가 지속적으로 증가하지 않을 경우 end-point까지 도달했다 판단하여 반복을 멈춘다.</li></ul></li><li>모든 경로의 깊이가 1일 경우 1번 조건을 무시하고 다른 경로를 탐색하는 문제가 있다.<ul><li>root 노드에서 시작했는데 다시 root 노드로 돌아올 경우 해당 노드 자체를 무시한다.</li><li>위 조건에 걸릴 경우 양의 무한대 값을 반환하여 가중치 판단 과정에서 제외시킬 수 있었다.</li></ul></li></ol><ul><li>이렇게 많은 시행착오를 거쳤지만 하나를 해결하면 다른 빈틈이 생겨버려 포기할 수밖에 없었다.</li><li>심지어 백준에서는 heapdict 모듈을 지원하지 않아 해당 알고리즘을 활용할 수도 없었다.</li><li>언젠가 이 문제를 완벽하게 해결하기 위해 디버그 값을 남긴다.</li></ul><div class=book-codeblock data-lang=bash><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>3</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>2</span> <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>3</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>2</span> <span class=m>3</span> <span class=m>9999</span>
</span></span><span class=line><span class=cl><span class=nv>graph</span> <span class=o>=</span> <span class=o>{</span>1: <span class=o>{</span>2: 1, 3: 3<span class=o>}</span>, 2: <span class=o>{</span>1: 1, 3: 2<span class=o>}</span>, 3: <span class=o>{</span>2: 2, 1: 3<span class=o>}}</span>
</span></span><span class=line><span class=cl><span class=nv>mst1</span> <span class=o>=</span> <span class=o>[[</span>1, 1, 0<span class=o>]</span>, <span class=o>[</span>1, 2, 1<span class=o>]</span>, <span class=o>[</span>2, 3, 2<span class=o>]]</span>, weight: <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>mst2</span> <span class=o>=</span> <span class=o>[[</span>2, 2, 0<span class=o>]</span>, <span class=o>[</span>2, 1, 1<span class=o>]</span>, <span class=o>[</span>2, 3, 2<span class=o>]]</span>, weight: <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>mst3</span> <span class=o>=</span> <span class=o>[[</span>3, 3, 0<span class=o>]</span>, <span class=o>[</span>3, 2, 2<span class=o>]</span>, <span class=o>[</span>2, 1, 1<span class=o>]]</span>, weight: <span class=m>3</span>
</span></span><span class=line><span class=cl>output: <span class=m>3</span>
</span></span><span class=line><span class=cl>answer: <span class=m>3</span></span></span></code></pre></div></div><div class=book-codeblock data-lang=bash><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>6</span> <span class=m>8</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>3</span> -1
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>5</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>6</span> <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=m>2</span> <span class=m>5</span> <span class=m>5</span>
</span></span><span class=line><span class=cl><span class=m>2</span> <span class=m>6</span> <span class=m>6</span>
</span></span><span class=line><span class=cl><span class=m>3</span> <span class=m>4</span> <span class=m>9</span>
</span></span><span class=line><span class=cl><span class=m>3</span> <span class=m>5</span> -1
</span></span><span class=line><span class=cl><span class=m>5</span> <span class=m>6</span> -1
</span></span><span class=line><span class=cl><span class=nv>graph</span> <span class=o>=</span> <span class=o>{</span>1: <span class=o>{</span>3: -1, 5: 3, 6: 2<span class=o>}</span>, 3: <span class=o>{</span>1: -1, 4: 9, 5: -1<span class=o>}</span>, 5: <span class=o>{</span>1: 3, 2: 5, 3: -1, 6: -1<span class=o>}</span>, 6: <span class=o>{</span>1: 2, 2: 6, 5: -1<span class=o>}</span>, 2: <span class=o>{</span>5: 5, 6: 6<span class=o>}</span>, 4: <span class=o>{</span>3: 9<span class=o>}}</span>
</span></span><span class=line><span class=cl><span class=nv>mst1</span> <span class=o>=</span> <span class=o>[[</span>1, 1, 0<span class=o>]</span>, <span class=o>[</span>1, 3, -1<span class=o>]</span>, <span class=o>[</span>3, 5, -1<span class=o>]</span>, <span class=o>[</span>5, 6, -1<span class=o>]</span>, <span class=o>[</span>5, 2, 5<span class=o>]</span>, <span class=o>[</span>3, 4, 9<span class=o>]]</span>, <span class=nv>w</span> <span class=o>=</span> <span class=m>11</span>
</span></span><span class=line><span class=cl><span class=nv>mst2</span> <span class=o>=</span> <span class=o>[[</span>3, 3, 0<span class=o>]</span>, <span class=o>[</span>3, 5, -1<span class=o>]</span>, <span class=o>[</span>5, 6, -1<span class=o>]</span>, <span class=o>[</span>3, 1, -1<span class=o>]</span>, <span class=o>[</span>5, 2, 5<span class=o>]</span>, <span class=o>[</span>3, 4, 9<span class=o>]]</span>, <span class=nv>w</span> <span class=o>=</span>  <span class=m>11</span>
</span></span><span class=line><span class=cl><span class=nv>mst3</span> <span class=o>=</span> <span class=o>[[</span>5, 5, 0<span class=o>]</span>, <span class=o>[</span>5, 6, -1<span class=o>]</span>, <span class=o>[</span>5, 3, -1<span class=o>]</span>, <span class=o>[</span>3, 1, -1<span class=o>]</span>, <span class=o>[</span>5, 2, 5<span class=o>]</span>, <span class=o>[</span>3, 4, 9<span class=o>]]</span> <span class=m>11</span>
</span></span><span class=line><span class=cl><span class=nv>mst4</span> <span class=o>=</span> <span class=o>[[</span>6, 6, 0<span class=o>]</span>, <span class=o>[</span>6, 5, -1<span class=o>]</span>, <span class=o>[</span>5, 3, -1<span class=o>]</span>, <span class=o>[</span>3, 1, -1<span class=o>]</span>, <span class=o>[</span>5, 2, 5<span class=o>]</span>, <span class=o>[</span>3, 4, 9<span class=o>]]</span> <span class=m>11</span>
</span></span><span class=line><span class=cl><span class=nv>mst5</span> <span class=o>=</span> <span class=o>[[</span>2, 2, 0<span class=o>]</span>, <span class=o>[</span>2, 5, 5<span class=o>]</span>, <span class=o>[</span>5, 6, -1<span class=o>]</span>, <span class=o>[</span>5, 3, -1<span class=o>]</span>, <span class=o>[</span>3, 1, -1<span class=o>]</span>, <span class=o>[</span>3, 4, 9<span class=o>]]</span> <span class=m>11</span>
</span></span><span class=line><span class=cl><span class=nv>mst6</span> <span class=o>=</span> <span class=o>[[</span>4, 4, 0<span class=o>]</span>, <span class=o>[</span>4, 3, 9<span class=o>]</span>, <span class=o>[</span>3, 5, -1<span class=o>]</span>, <span class=o>[</span>5, 6, -1<span class=o>]</span>, <span class=o>[</span>3, 1, -1<span class=o>]</span>, <span class=o>[</span>5, 2, 5<span class=o>]]</span> <span class=m>11</span>
</span></span><span class=line><span class=cl>output: <span class=m>11</span>
</span></span><span class=line><span class=cl>answer: -3</span></span></code></pre></div></div><div class=book-codeblock data-lang=bash><div class=code-actions><button class="code-copy-btn code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=m>3</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>2</span> <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=m>1</span> <span class=m>3</span> <span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>2</span> <span class=m>3</span> <span class=m>9999</span>
</span></span><span class=line><span class=cl><span class=nv>graph</span> <span class=o>=</span> <span class=o>{</span>1: <span class=o>{</span>2: 2, 3: 3<span class=o>}</span>, 2: <span class=o>{</span>1: 2, 3: 9999<span class=o>}</span>, 3: <span class=o>{</span>1: 3, 2: 9999<span class=o>}}</span>
</span></span><span class=line><span class=cl><span class=nv>mst1</span> <span class=o>=</span> <span class=o>[[</span>1, 1, 0<span class=o>]</span>, <span class=o>[</span>1, 2, 2<span class=o>]</span>, <span class=o>[</span>1, 3, 3<span class=o>]]</span>, <span class=nv>weight</span> <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl><span class=nv>mst2</span> <span class=o>=</span> <span class=o>[[</span>2, 2, 0<span class=o>]</span>, <span class=o>[</span>2, 1, 2<span class=o>]</span>, <span class=o>[</span>1, 3, 3<span class=o>]]</span>, <span class=nv>weight</span> <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl><span class=nv>mst3</span> <span class=o>=</span> <span class=o>[[</span>3, 3, 0<span class=o>]</span>, <span class=o>[</span>3, 1, 3<span class=o>]</span>, <span class=o>[</span>1, 2, 2<span class=o>]]</span>, <span class=nv>weight</span> <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl>output: <span class=m>5</span>
</span></span><span class=line><span class=cl>answer: <span class=m>3</span></span></span></code></pre></div></div><blockquote class=book-hint><p><strong>결론:</strong></p></blockquote><ul><li>해당 문제에 대한 정답을 찾아본 결과 프림 알고리즘을 heapdict 없이 구현한 알고리즘을 보았는데<br>노드에 대한 방문 여부를 판단하여 경로를 구하는 방식이었다.</li><li>백준에서는 해당 문제가 통과되었지만 위 세 개의 데이터를 넣었을 때 예상과 다른 값이 나왔다.</li><li>아마 내가 문제를 제대로 이해하지 못했거나 채점 데이터 자체가 적어서 그랬을 것이다.</li><li>결과적으로 다른 사람이 작성한 정답을 보게 됐지만 완전히 납득하지는 못했다.</li></ul><details><summary>My First Algorithm (DFS)</summary><pre class=python><code>
class Node:
    def __init__(self, index):
        self.index = index
        self.data = 2147483647
        self.parent = []
        self.child = []
<pre><code>def print_node(self):
    print(self.index, self.data, self.parent, self.child)
</code></pre><p>def spanning_tree(nodes, check, root, parent, data):
for child in parent.child:
weight = data + child[1]
child = nodes[child[0]]
if child.child:
if not check[child.index]:
spanning_tree(nodes, check, root, child, weight)
else:
check[parent.index] = True
if weight &lt; root.data:
root.data = weight</p><p>V, E = map(int, input().split())
graph = [Node(i) for i in range(V+1)]
visited = [False for _ in range(V+1)]</p><p>for _ in range(E):
A, B, C = map(int, input().split())
graph[A].child.append((B,C))
graph[B].parent.append((A,C))</p><p>min_weight = 2147483647</p><p>for node in graph:
if node.child and not node.parent:
spanning_tree(graph, visited, node, node, 0)
if node.data &lt; min_weight:
min_weight = node.data</p><p>print(min_weight)</code></pre></p></details><details><summary>My Second Algorithm (Kruskal's Algorithm)</summary><pre class=python><code>
class Node:
    def __init__(self, index):
        self.index = index
        self.data = 0
        self.root = self
        self.parent = self
        self.active = None
        self.passive = []
<pre><code>def get_branch(self):
    if self.active:
        return self.passive + [self.active]
    else:
        return []

def set_branch(self, node, data):
    if self.root == node.root:
        if data &lt; node.data:
            node.parent = self
            node.data = data
    else:
        node.root = self.root
        node.parent = self
        node.data += data
    if not self.active:
        self.active = node
        self.data += node.data
        node.data = self.data
    else:
        self.passive.append(node)
    self.update_data()

def update_data(self):
    branch = self.get_branch()
    branch.sort(key=lambda n: n.data, reverse=True)
    active = branch.pop()
    if active != self.active:
        self.active = active
        self.passive = branch
    self.data = self.active.data
</code></pre><p>def union_root(source: Node, target: Node, data: int) -> None:
root = source.root
if target.root in [source, source.root, target]:
source.set_branch(target, data)
while source != root:
source = source.parent
source.update_data()</p><p>V, E = map(int, input().split())</p><p>graph = [Node(i) for i in range(V + 1)]
edge_dict = {}</p><p>for _ in range(E):
A, B, C = map(int, input().split())
edge_dict[(A, B)] = C</p><p>edge_list = sorted(edge_dict.items(), key=lambda x: [x[1], x[0]])</p><p>for (a, b), c in edge_list:
node_a, node_b = graph[a], graph[b]
if node_a.parent != node_b.parent:
union_root(node_a, node_b, c)</p><p>weight = 2147483647</p><p>for edge_node in graph:
if (edge_node.root == edge_node) and edge_node.get_branch():
if edge_node.data &lt; weight:
weight = edge_node.data</p><p>print(weight)</code></pre></p></details><details><summary>My Third Algorithm (Prim's Algorithm)</summary><pre class=python><code>
def prim(nodes: dict, start: int) -> int or float:
    mst, keys, pi = [], heapdict(), dict()
    depth, total_weight = -1, 0
<pre><code>for n in nodes.keys():
    keys[n] = float('inf')
    pi[n] = None
keys[start], pi[start] = 0, start

while keys:
    current_node, current_key = keys.popitem()
    current_depth = get_depth(pi, start, current_node, 0)
    if current_depth &lt;= depth:
        if pi[current_node] == start:
            return float('inf')
        break
    depth = current_depth
    mst.append([pi[current_node], current_node, current_key])
    total_weight += current_key

    for adjacent, weight in nodes[current_node].items():
        if adjacent in keys and weight &lt; keys[adjacent]:
            keys[adjacent] = weight
            pi[adjacent] = current_node

return total_weight
</code></pre><p>def get_depth(nodes: dict, root: int, start: int, data: int) -> int:
if start == root:
return data
if nodes[start] == root:
return data+1
return get_depth(nodes, root, nodes[start], data+1)</p><p>V, E = map(int, input().split())
graph = defaultdict(dict)</p><p>for _ in range(E):
A, B, C = map(int, input().split())
graph[A][B] = C
graph[B][A] = C</p><p>weight_list = []
for node in graph.keys():
heapq.heappush(weight_list, prim(graph, node))</p><p>print(heapq.heappop(weight_list))</code></pre></p></details><details><summary>Answer Algorithm</summary><pre class=python><code>
V, E = map(int, input().split())
graph = [[] for _ in range(V+1)]
visited = [False for _ in range(V+1)]
heap = [[0, 1]]
for _ in range(E):
    A, B, C = map(int, input().split())
    graph[A].append([C, B])
    graph[B].append([C, A])
<p>total_weight = 0
node_cnt = 0
while heap:
if node_cnt == V:
break
weight, node = heapq.heappop(heap)
if not visited[node]:
visited[node] = True
total_weight += weight
node_cnt += 1
for i in graph[node]:
heapq.heappush(heap, i)</p>
<p>print(total_weight)
</code></pre></p></details><p><br><b>Userful Reference</b><br><a href=https://csacademy.com/app/graph_editor/>Graph Editor</a></p></article><div class=book-mobile-nav><button class=book-nav-btn3 onclick='window.scrollTo({top:0,behavior:"smooth"})' title="Go to top">
<i class="fa fa-chevron-up"></i>
</button>
<button class=book-nav-btn3 onclick='window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})' title="Go to bottom">
<i class="fa fa-chevron-down"></i>
<button class=book-nav-btn3 onclick=history.back() title="Go back">
<i class="fa-solid fa-arrow-left"></i></button></div><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class=post-tags><a href=/tags/til/ class=tag>#TIL</a>
<a href=/tags/algorithm/ class=tag>#Algorithm</a></div><div class=post-navigation><a href=/post/study/2022/2022-06/2022-06-19/ class="post-nav-link post-nav-prev"><span class=post-nav-direction><i class="fa-solid fa-backward"></i> PREV</span>
<span class=post-nav-title>2022-06-19 Log</span>
</a><a href=/post/study/2022/2022-03/2022-03-05/ class="post-nav-link post-nav-next"><span class=post-nav-direction>NEXT <i class="fa-solid fa-forward"></i></span>
<span class=post-nav-title>2022-03-05 Log</span></a></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div class=book-comments><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://minyeamer.github.io/post/study/2022/2022-03/2022-03-06/",this.page.identifier="https://minyeamer.github.io/post/study/2022/2022-03/2022-03-06/"};(function(){var e=document,t=e.createElement("script");t.src="https://minyeamer.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})();function reloadDisqus(){window.DISQUS&&DISQUS.reset({reload:!0,config:function(){this.page.url="https://minyeamer.github.io/post/study/2022/2022-03/2022-03-06/",this.page.identifier="https://minyeamer.github.io/post/study/2022/2022-03/2022-03-06/"}})}</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#prims-algorithm-개선>Prim&rsquo;s Algorithm 개선</a></li><li><a href=#struggling-with-a-problem>struggling with a problem</a></li></ul></nav><div class=book-nav><button class=book-nav-btn3 onclick='window.scrollTo({top:0,behavior:"smooth"})' title="Go to top">
<i class="fa fa-chevron-up"></i>
</button>
<button class=book-nav-btn3 onclick='window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})' title="Go to bottom">
<i class="fa fa-chevron-down"></i>
<button class=book-nav-btn3 onclick=history.back() title="Go back">
<i class="fa-solid fa-arrow-left"></i></button></div></div></aside></main></body></html>