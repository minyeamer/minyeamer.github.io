(function(){"use strict";const e=256+768*1.3,o="menu-expanded";let i=0;function t(){const e=localStorage.getItem(o);return e===null||e==="true"}function s(n,s=!0){const i=document.querySelector(".site-menu"),o=document.querySelector(".menu-display-button");if(!i)return;s||(i.style.transition="none",o&&(o.style.transition="none")),n?(o&&(o.style.display="none"),i.classList.remove("menu-hidden")):(i.classList.add("menu-hidden"),o&&(s?setTimeout(()=>{!t()&&window.innerWidth>e&&(o.style.display="block")},300):o.style.display="block")),s||(i.offsetHeight,i.style.transition="",o&&(o.offsetHeight,o.style.transition=""))}function n(n){const a=document.getElementById("menu-control"),r=document.querySelector(".site-menu");if(!a||!r)return;if(i=window.pageYOffset||document.documentElement.scrollTop,window.innerWidth>e){const i=t(),e=n!==0[0]?n:!i;localStorage.setItem(o,e),s(e,!0)}else n!==0[0]?a.checked=n:a.checked=!a.checked;requestAnimationFrame(()=>{window.scrollTo(0,i)})}function a(){const o=document.getElementById("menu-control"),i=document.querySelector(".site-menu"),a=document.querySelector(".site-menu .menu-content");if(a){const e=document.createElement("button");e.className="menu-toggle-button",e.innerHTML='<i class="fa-solid fa-bars"></i>',e.setAttribute("aria-label","메뉴 접기/펼치기"),e.setAttribute("title","메뉴 접기/펼치기"),e.addEventListener("click",e=>{e.preventDefault(),n()}),a.insertBefore(e,a.firstChild)}if(i){const o=document.createElement("button");o.className="menu-display-button",o.innerHTML='<i class="fa-solid fa-bars"></i>',o.setAttribute("aria-label","메뉴 펼치기"),o.setAttribute("title","메뉴 펼치기"),o.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),n(!0)}),document.body.appendChild(o),window.innerWidth>e&&(s(t(),!1),document.documentElement.classList.remove("menu-initial-collapsed"))}const r=document.querySelector('label[for="menu-control"]');r&&r.addEventListener("click",e=>{e.preventDefault(),n()}),document.addEventListener("click",s=>{const a=window.innerWidth>e,r=a?t():o&&o.checked;if(!r)return;const c=i&&i.contains(s.target),l=s.target.closest('.menu-toggle-button, .menu-display-button, label[for="menu-control"]');!c&&!l&&!a&&n(!1)}),document.addEventListener("keydown",t=>{const s=window.innerWidth>e;if(!s&&t.key==="Escape"){const e=o&&o.checked;e&&n(!1)}});let c;window.addEventListener("resize",()=>{clearTimeout(c),c=setTimeout(()=>{if(window.innerWidth>e)o&&(o.checked=!1),s(t(),!1);else{i&&i.classList.remove("menu-hidden");const e=document.querySelector(".menu-display-button");e&&(e.style.display="none")}},250)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()})()