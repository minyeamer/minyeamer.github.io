<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><meta name=author content><meta name=keywords content="Hugo,Blog,휴고 테마,휴고 레이아웃,HTML,CSS,JavaScript,Hugo Book,커스터마이징,블로그 목차"><meta name=description content="Hugo Book 테마의 구조를 이해하고 메인 레이아웃을 개선하는 방법을 소개합니다. 메뉴 영역에 프로필 사진과 소셜 링크를 추가하고, 목차 영역에 하이라이트와 스크롤 이동 버튼을 …"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><link rel=icon href=https://minyeamer.github.io/images/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://minyeamer.github.io/images/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://minyeamer.github.io/images/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://minyeamer.github.io/images/favicons/apple-touch-icon.png><link rel=mask-icon href=https://minyeamer.github.io/images/favicons/apple-touch-icon.png><meta name=google-site-verification content="u1tWcHmHUZWfFT1cHaku6sqU-bK40N3WLR-C-4VUWN0"><meta name=naver-site-verification content="6eaf8e9da1a6104780f056f1a7797fe5a3a5a0da"><meta property="og:title" content="Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선"><meta property="og:description" content="Hugo Book 테마의 구조를 이해하고 메인 레이아웃을 개선하는 방법을 소개합니다. 메뉴 영역에 프로필 사진과 소셜 링크를 추가하고, 목차 영역에 하이라이트와 스크롤 이동 버튼을 …"><meta property="og:type" content="article"><meta property="og:url" content="https://minyeamer.github.io/blog/hugo-blog-2/"><meta property="og:image" content="https://dl.dropboxusercontent.com/scl/fi/hp31764bfpm55wanzj5le/hugo-00-logo.webp?rlkey=rkezagmfupugt717a5fx2xqs2&amp;raw=1"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-04T01:50:16+09:00"><meta property="article:modified_time" content="2025-11-04T01:50:16+09:00"><meta property="og:see_also" content="https://minyeamer.github.io/blog/hugo-blog-5/"><meta property="og:see_also" content="https://minyeamer.github.io/blog/hugo-blog-4/"><meta property="og:see_also" content="https://minyeamer.github.io/blog/hugo-blog-3/"><meta property="og:see_also" content="https://minyeamer.github.io/blog/hugo-blog-1/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dl.dropboxusercontent.com/scl/fi/hp31764bfpm55wanzj5le/hugo-00-logo.webp?rlkey=rkezagmfupugt717a5fx2xqs2&amp;raw=1"><meta name=twitter:title content="Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선"><meta name=twitter:description content="Hugo Book 테마의 구조를 이해하고 메인 레이아웃을 개선하는 방법을 소개합니다. 메뉴 영역에 프로필 사진과 소셜 링크를 추가하고, 목차 영역에 하이라이트와 스크롤 이동 버튼을 …"><meta name=twitter:site content="@https://x.com/minyeamer"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://minyeamer.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선","item":"https://minyeamer.github.io/blog/hugo-blog-2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선","name":"Hugo Book 테마 커스터마이징 - 메뉴\/목차\/헤더 레이아웃 개선","description":"Hugo Book 테마의 구조를 이해하고 메인 레이아웃을 개선하는 방법을 소개합니다. 메뉴 영역에 프로필 사진과 소셜 링크를 추가하고, 목차 영역에 하이라이트와 스크롤 이동 버튼을 구현하는 과정을 안내합니다.\n","keywords":["Hugo, Blog, 휴고 테마, 휴고 레이아웃, HTML, CSS, JavaScript, Hugo Book, 커스터마이징, 블로그 목차"],"articleBody":" Hugo 블로그 만들기 1. Hugo 블로그 만들기 - Git Submodule로 구성하고 배포하기 2. Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선 3. Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현 4. Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기 5. Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터) 숨기기 목록 보기 2/5 AI 요약 \u0026 가이드\nHugo 블로그의 외형을 결정짓는 메인 레이아웃(메뉴, 목차, 헤더) 을 직접 뜯어고치며 프론트엔드 역량을 키워보세요. 템플릿 구조에 대한 기초 지식부터 CSS/JS를 활용한 세부 기능 구현까지 단계별로 설명합니다.\n테마 구조 분석: Hugo의 템플릿 구조와 Book 테마의 구성 요소 파악 메뉴 기능 개선: 사이드바 위치 고정부터 프로필 사진, 소셜 링크 연동으로 퍼스널 브랜딩 강화 독자 편의성 향상: 현재 읽고 있는 위치를 알려주는 목차 하이라이트와 이동 버튼으로 사용자 경험 극대화 반응형 최적화: 모바일 환경에서도 끊김 없는 사용성을 제공하는 헤더 디자인 개선 앞선 게시글에서 Hugo 테마에 대해 둘러보고 Hugo 프로젝트 구조를 설계하는 방법을 알아보았습니다.\nHugo 서버 실행하기 #Github Pages를 이용해 블로그를 github.io 주소로 배포해보았지만 테마를 개선하는 과정에서는 변경사항을 즉각적으로 확인해보기 위해 로컬에서 서버를 실행해 보는게 좋습니다.\nHugo 서버를 실행하려면 hugo server 명령어를 사용할 수 있습니다.\nCopy bash % hugo server Watching for changes in .../{archetypes,content,static,themes} ... Web Server is available at http://localhost:1313/ (bind address 127.0.0.1)기본적으로는 1313 포트에서 서버가 실행되며 --port \u003c포트번호\u003e 옵션을 추가하면 서버가 할당될 포트를 직접 지정할 수 있습니다.\n서버를 실행하면 터미널에서 출력되는 주소 http://localhost:1313/ 를 통해 블로그에 접속할 수 있습니다.\n이렇게 서버를 실행했을 때 장점은 테마를 수정할 때마다 자동으로 빌드되어 변경사항이 즉각적으로 반영된다는 점입니다. 만약 변경사항이 적용되지 않는다면 서버를 실행할 때 --disableFastRender 옵션을 추가하거나 브라우저에서 캐시를 삭제해 볼 수 있습니다.\nBook 테마 알아보기 #앞선 게시글에서 Book 테마에 대해 둘러보면서 앞으로 해당 테마를 바탕으로 레이아웃을 개선해보겠다고 전달드렸습니다.\nBook 테마 가져오기 #Github에 올라온 hugo-book 저장소를 Fork하여 개인 소유의 저장소로 가져오면 앞으로의 변경사항을 관리하는데 편리합니다.\n저 또한 Book 테마를 개선하기 위해 hugo-book-custom이라는 별도의 저장소를 Fork해서 만들었습니다.\nFork한 저장소를 git clone 명령어로 로컬 경로로 가져와 코드를 확인해보겠습니다.\nCopy bash git clone https://github.com/minyeamer/hugo-book-customHugo 템플릿 구조 #Hugo v0.146.0 공식문서에서 안내하는 폴더 구조를 알아보겠습니다.\nNew template system in Hugo v0.146.0 Overview of the new template system in Hugo v0.146.0. gohugo.io layouts/ 경로 아래에 다음과 같은 경로로 레이아웃을 구성하도록 권장합니다.\n여기서 가장 기본이 되는 템플릿이 layouts/baseof.html 이고, 템플릿을 헤더, 목차 등 역할에 따라 작은 부분으로 나눠 layouts/_partials/ 경로에 배치시킵니다. layouts/baseof.html 에서는 이러한 부분 템플릿을 동적으로 가져옵니다.\nCopy bash layouts/ ├── baseof.html ├── baseof.term.html ├── home.html ├── page.html ├── section.html ├── taxonomy.html ├── term.html ├── term.mylayout.en.rss.xml ├── _markup/ │ ├── render-codeblock-go.term.mylayout.no.rss.xml │ └── render-link.html ├── _partials/ │ └── mypartial.html ├── _shortcodes/ │ ├── myshortcode.html │ └── myshortcode.section.mylayout.en.rss.xml ├── docs/ │ ├── baseof.html │ ├── _shortcodes/ │ │ └── myshortcode.html │ └── api/ │ ├── mylayout.html │ ├── page.html │ └── _markup/ │ └── render-link.html └── tags/ ├── taxonomy.html ├── term.html └── blue └── list.htmlBook 테마 구조 #layouts/docs/ 경로를 활용하는 Hugo 공식문서와 다르게 Book 테마는 layouts/_partials/ 경로에 docs 폴더를 배치시켰습니다. 따라서, 대부분의 테마 수정 작업은 layouts/_partials/docs/ 경로에서 진행됩니다.\nCopy bash layouts/_partials/docs/ ├── ... ├── brand.html ├── ... ├── footer.html ├── header.html ├── ... ├── html-head.html ├── ... ├── menu.html ├── ... └── toc.htmlBook 테마의 layouts/_partials/docs/ 경로에는 다양한 템플릿이 있지만, 그 중에서 주로 보게될 것은 위 파일들 입니다.\nbrand.html : 메뉴에서 블로그 제목을 표시합니다. footer.html : 본문 하단에 이전, 다음 게시글 및 글 수정 링크를 표시합니다. header.html : 본문 상단에 메뉴 또는 목차 영역을 펼치고 접는 버튼을 표시합니다. html-head.html : 메타(meta) 태그 등 태그 내에 들어갈 요소들을 나열합니다. menu.html : 본문 좌측 메뉴를 표시합니다. 여기서 brand.html 을 호출합니다. toc.html : 본문 우측에 목차(Table of Contents)를 표시합니다. 하지만, 기능적으로 무언가를 추가할게 아니라면, 단순히 시각적으로 테마를 변경하고자 한다면 템플릿 파일을 직접 건들지는 않고 CSS 파일을 주로 수정합니다.\nBook 테마의 CSS 파일들은 assets/ 경로 아래에 위치합니다.\nCopy bash assets/ ├── _custom.scss ├── _defaults.scss ├── ... ├── _main.scss ├── _markdown.scss ├── ... ├── _shortcodes.scss └── ...assets/ 경로의 파일들 중에서 위 파일들을 주로 수정합니다.\n_custom.scss : 사용자 커스터마이징을 위한 스타일을 작성합니다. _defaults.scss : 폰트 크기, 색상 등이 변수로 정의되어 있습니다. _main.scss : 메뉴, 목차 등 메인 레이아웃에 대한 스타일이 작성되어 있습니다. _markdown.scss : 마크다운을 HTML로 렌더링한 결과에 대한 스타일이 작성되어 있습니다. _shortcodes.scss : 마크다운 작성 시 미리 정해진 짧은 코드를 호출하는 경우가 있는데 이에 대한 스타일이 작성되어 있습니다. 이 외에 JS 파일 등도 assets/ 경로에 위치합니다.\nExample Site #앞으로 Book 테마를 수정하게 되는데 아무런 글도 없으면 스타일이 어떻게 적용되었는지 확인하기 어렵습니다.\n이미 작성한 게시글이 있다면 content/ 경로에 가져다 놓아도 좋지만, 그러한 게시글이 없을 경우엔 테마에서 제공하는 exampleSite/ 를 참고할 수 있습니다.\nBook 테마의 Example Site는 영어, 히브리어, 중국어로 작성된 각각의 폴더로 나누어져 있는데, 이번 프로젝트에서 다국어 텍스트를 고려하지는 않으므로 영어 문서로 구성된 content.en/ 폴더 내 파일들을 현재 프로젝트의 content/ 경로로 가져옵니다.\nCopy bash exampleSite/content.en/ ├── _index.md ├── docs │ ├── example │ │ ├── _index.md │ │ └── ... │ └── ... ├── posts │ ├── _index.md │ └── ....md └── showcases.md그리고, exampleSite/ 경로 바로 아래에 있는 hugo.yaml 설정 파일도 현재 프로젝트로 가져옵니다.\n해당 파일은 Hugo 블로그를 구성하는데 필요한 파라미터 등의 설정 정보가 기록되어 있는데, TOML, YAML, JSON 등 다양한 형식을 지원합니다. Hugo 프로젝트를 시작할 때 hugo.toml 이라는 파일이 기본적으로 생성되었을 것인데, TOML 형식은 중첩된 구조를 표현하기에는 번거로워 YAML 형식을 사용합니다.\n설정 파일에 대해서는 필요한 순간에 설명드릴 예정이지만, 설정 파일 상단에서 baseUrl 및 theme 값은 지금 변경해두는게 좋습니다.\nCopy yaml baseURL: http://localhost:1313/ title: Hugo Book theme: BookbaseUrl 은 기본값으로 http://localhost:1313/hugo-book/ 경로가 적용되어 있는데, 매번 테스트 페이지에 접근할 때마다 hugo-book/ 경로를 추가하는게 불편하여 제거했습니다.\ntheme 은 기본값으로 hugo-book 이 적용되어 있는데, themes/ 경로에 위치한 Book 테마의 폴더명을 입력해야 합니다.\n메인 레이아웃 개선하기 #Book 테마는 다음과 같은 형태를 가집니다.\n브라우저에서 태그 바로 아래에 있는 .container 요소를 클랙해보면 아래와 같이 메뉴, 본문, 목차 3개의 부분으로 나눠져 있는 것을 확인할 수 있습니다. HTML 소스코드에서 각각의 요소에 대한 클래스를 확인해보면 book-menu, book-page, book-toc 로 지정되어 있습니다.\n브라우저의 너비를 줄이다 보면 메뉴와 목차 영역이 사라지고 헤더 영역이 나타나게 됩니다. 헤더 영역은 book-header 클래스로 특정할 수 있습니다. 헤더 양옆의 버튼을 클릭하면 메뉴(왼쪽 버튼)와 목차(오른쪽 버튼)가 다시 나타납니다.\n이번 게시글에서는 메뉴, 목차, 헤더 영역을 순차적으로 개선해보겠습니다.\n메뉴 영역 개선하기 #Book 테마에서 메뉴 영역은 아래 이미지에서 선택된 부분입니다.\n좌측 사이드바에 해당하는 메뉴 영역은 book-menu 클래스가 적용된 요소로 감싸져 있으며, baseof.html 파일에서 다음과 같이 menu.html 템플릿 파일을 호출합니다.\nCopy html {{ define \"menu-container\" }} \u003caside class=\"book-menu\"\u003e \u003cdiv class=\"book-menu-content\"\u003e {{ template \"menu\" . }} \u003c/div\u003e \u003c/aside\u003e {{ end }}menu.html 템플릿 파일은 layouts/_partials/docs/ 경로에 있으며, 이름에서 알 수 있듯이 검색창을 나타내는 docs/search 템플릿이 두 번째로 호출되고, 그 가장 먼저 호출되는 docs/brand 템플릿이 이번 문단에서 개선하고자 하는 부분입니다.\nCopy html \u003cnav\u003e {{ partial \"docs/brand\" . }} {{ partial \"docs/search\" . }} \u003c/nav\u003e다시 위 이미지와 아래 개선하고 싶은 사항을 같이 보면서 어떤 점을 해결해야 하는지 생각해보겠습니다.\n좌측에는 메뉴 영역을 표시합니다. 프로필 사진을 표시합니다. 클릭하면 블로그 홈페이지와 연결됩니다. 소셜 링크 또는 기능성 버튼을 표시합니다. 1. 메뉴 영역 위치 고정하기 #일단, 결론적으로 제가 희망하는 디자인은 아래 이미지와 같습니다. 티스토리의 hELLO 테마입니다.\n위 스타일을 구현하는데 있어 문제점은 메뉴 영역이 어중간하게 화면 좌측 중간에 위치한다는 점입니다.\nBook 테마에서는 메뉴 영역에 배경색이 없어서 자연스러워 보이지만, 저는 메뉴 영역과 본문 영역의 경계를 명확히 하기 위해 배경색을 넣어보면서 해당 문제점을 발견했습니다.\n이러한 스타일을 만들어낸 assets/_main.scss 파일의 .book-menu 부분을 확인해보니까 flex 속성이 적용되어 있었습니다. 메뉴, 본문, 목차 영역이 나란히 붙어있고 모니터의 너비가 길어질수록 좌우에 공백이 생기게 됩니다.\nCopy scss // assets/_main.scss .book-menu { flex: 0 0 $menu-width; font-size: var(--font-size-smaller); // ... }메뉴 영역을 고정시키려면 position: fixed; 속성을 부여하고, 좌측 끝에 고정시키기 위해 top: 0; left: 0; 속성을 추가로 부여합니다. 나머지 width: $menu-width; flex-shrink: 0; 속성은 메뉴 영역의 너비를 고정시키는 스타일입니다.\n참고로, 배경색은 .book-menu 하위의 .book-menu-content 요소에 적용했습니다.\nCopy scss .book-menu { position: fixed; top: 0; left: 0; width: $menu-width; flex-shrink: 0; .book-menu-content { background: var(--gray-200); // ... } // ... }아직 목차 영역의 차례는 아니지만, 목차 영역도 메뉴 영역과 동일하게 우측 끝에 고정시킬 필요가 있어 미리 적용하겠습니다.\n목차 영역에 해당하는 book-toc 클래스가 적용된 요소를 대상으로 top: 0; right: 0; 부분만 다르게 하여 .book-menu 와 동일한 속성을 적용했습니다.\nCopy scss .book-toc { position: fixed; top: 0; right: 0; width: $menu-width; flex-shrink: 0; // ... }이렇게 적용했을 때, 본문 영역이 가운데 위치하지 않고 메뉴 영역에 치우친 쪽으로 정렬됩니다.\n가운데 정렬하기 위해 본문 영역에 해당하는 book-page 클래스가 적용된 요소를 대상으로 margin: 0 auto; 속성을 적용하면 본문 영역 양 옆에 자동으로 동일한 크기의 여백을 만들어 줍니다.\n초기 Book 테마에는 min-width 속성만 적용되어 있는데, 본문이 전체 영역을 차지해버려 여백이 만들어지지 않기 때문에 max-width 속성을 추가합니다.\n$body-max-width 변수는 기본적으로 없을건데, 저는 assets/_defaults.scss 파일에서 $body-max-width: 48rem; 라인을 추가해 본문의 최대 너비가 48rem이 되도록 적용했습니다. (앞으로의 진행 과정에서 기존에 존재하지 않는 변수를 정의하여 사용하는 경우가 있을텐데, $padding-24 등 직관적으로 이해할 수 있는 변수에 대한 설명은 생략하겠습니다.)\nCopy scss .book-page { max-width: $body-max-width; min-width: $body-min-width; margin: 0 auto; flex: 1 1 0; padding: $padding-16; }위 스타일을 적용하면 아래 이미지와 같이 좌측 끝의 고정된 위치에 메뉴가 보여집니다.\n잘 보이기 위해 브라우저의 너비를 1500px 정도로 줄이고 캡쳐한 것인데, 여기서 브라우저의 너비를 1200px까지 줄여보니까 아래 이미지처럼 본문이 메뉴 및 목차 영역 뒤에 겹쳐서 숨어버리는 현상이 발생했습니다.\n메뉴, 본문, 목차 영역이 flexible하게 정렬된 기존의 스타일과 다르게 메뉴와 목차 영역을 position 속성으로 양끝에 고정시키면서 본문 영역과 독립적인 요소가 되었습니다. 이로 인해 본문 영역이 메뉴와 목차 영역을 인식하지 못하고 침범하게 된 것입니다.\n본문 메뉴가 메뉴와 목차 영역에 겹치지 않기 위해 다양한 해결 방법들이 있겠지만, 저는 Book 테마에서 이미 만들어놓은 반응형 디자인을 사용했습니다.\nCopy scss @media screen and (max-width: $mobile-breakpoint) { .book-menu { visibility: hidden; margin-inline-start: -$menu-width; z-index: 1; } .book-toc { display: none; } .book-header { display: block; } // ... }@media screen and (max-width: $mobile-breakpoint) 는 화면의 너비가 $mobile-breakpoint 보다 작아지는 경우를 기점으로 발생하는 조건문 입니다.\nassets/_defaults.scss 파일에서 $mobile-breakpoint 는 $menu-width + $body-min-width * 1.2 + $toc-width 정도의 크기를 가집니다. 계산하면 56rem 정도 되는데, 화면의 너비가 이보다 작아지면 메뉴와 목차 영역을 숨기고 헤더를 표시하게 됩니다. (헤더에 대한 설명은 헤더를 개선할 때 할 예정이지만, 헤더에서 메뉴와 목차를 펼치고 접을 수 있습니다.)\n변경된 스타일에서 본문이 메뉴 및 목차와 겹치게 되는 지점은 메뉴와 목차 영역의 너비에 $body-max-width 길이를 더한 크기입니다. 즉, $mobile-breakpoint 에서 $body-min-width 를 $body-max-width 로 바꿔주기만 하면 됩니다. 이렇게 변경하고 다시 계산하면 93.6rem이 되어 본문이 메뉴 및 목차와 겹치지 않게 됩니다.\nCopy scss $mobile-breakpoint: $menu-width + $body-max-width * 1.2 + $toc-width !default;이렇게 해결된 줄 알았지만, 32인치 모니터 및 모바일 기기를 사용하는 입장에서 문제가 없었던 것이고 13인치 노트북에서 블로그에 접속해보니까 모바일처럼 메뉴와 본문이 숨겨져 보였습니다. 그래서 이후에 단일 $mobile-breakpoint 를 $wide-breakpoint, $toc-breakpoint, $menu-breakpoint 3단계로 나누고 $wide-breakpoint 지점에서 본문의 너비를 한 번 줄여주어 11인치 너비까지는 메뉴와 목차가 전부 표시되도록 수정했습니다. 이 부분은 각자의 화면 크기에 맞춰 직접 진행해보시기 바랍니다.\n2. 프로필 사진을 표시하기 #현재까지의 변경사항을 적용하면 블로그가 아래와 같이 보여집니다.\n메뉴 영역에서 블로그 제목만 있고 눈길을 끌만한 이미지가 없습니다. 이번에는 제목 위에 프로필 사진을 추가해보겠습니다.\n메뉴 영역 개선하기 문단의 첫 부분에서 설명했듯이 블로그 제목이 위치한 템플릿은 layouts/_partials/docs/brand.html 파일입니다. 파일의 내용은 다음과 같습니다.\nCopy html \u003ch2 class=\"book-brand\"\u003e \u003ca class=\"flex align-center\" href=\"{{ cond (not .Site.Home.File) .Sites.Default.Home.RelPermalink .Site.Home.RelPermalink }}\"\u003e {{- with .Site.Params.BookLogo -}} \u003cimg src=\"{{ . | relURL }}\" alt=\"{{ partial \"docs/text/i18n\" \"Logo\" }}\" /\u003e {{- end -}} \u003cspan\u003e{{ .Site.Title }}\u003c/span\u003e \u003c/a\u003e \u003c/h2\u003e설정 파일에서 BookLogo 파라미터를 추가하면 제목 옆에 로고를 표시하는듯 하지만, 프로필 사진은 이보다 더 크게 제목 위에 나타낼 것이기 때문에 새로운 요소를 추가하겠습니다. (프로필 사진을 원형으로 표현하는 CSS 스타일도 assets/_custom.scss 에 적용합니다.)\nHTML Copy html \u003cdiv class=\"sidebar-profile\"\u003e \u003cdiv class=\"profile-img-wrap\"\u003e \u003ca href=\"{{ .Site.BaseURL }}\"\u003e \u003cimg src=\"{{ .Site.Params.BookMenu.profileImage }}\" alt=\"Profile\" class=\"profile-img\" /\u003e \u003c/a\u003e \u003c/div\u003e \u003c/div\u003e \u003ch2 class=\"book-brand\"\u003e \u003c/h2\u003e CSS Copy scss // assets/_custom.scss .profile-img-wrap { border-radius: 50%; overflow: hidden; margin-bottom: 1rem; } .profile-img { width: 100%; height: 100%; object-fit: contain; border-radius: 50%; display: block; } 템플릿에서 {{ .Site.Params.BookMenu.profileImage }} 부분은 설정 파일에서 파라미터를 호출하는 부분입니다. 기본 설정 파일은 Hugo 프로젝트 루트 경로에 있는 hugo.toml 파일입니다. 해당 파일에서 profileImage 파라미터를 추가해야 하는데 YAML 형식에서는 이렇게 추가할 수 있습니다.\nCopy yaml # hugo.yaml params: BookMenu: profileImage: \"\u003c프로필-사진-주소\u003e\"프로필 사진의 주소까지 설정한 결과는 아래 이미지와 같습니다.\n3. 소셜 링크를 표시하기 #다음으로, 프로필 사진 아래에, 그리고 블로그 제목 위에 소셜 링크를 표시할 것입니다.\nbrand.html 템플릿에 소셜 링크를 추가하면 되는 것은 이미 알고 있으므로 부가적인 설명없이 바로 추가해보겠습니다.\nHTML Copy html \u003cdiv class=\"sidebar-profile\"\u003e \u003cdiv class=\"profile-img-wrap\"\u003e \u003c/div\u003e \u003cdiv class=\"sidebar-social\"\u003e \u003ca href=\"{{ .Site.Params.BookMenu.githubLink }}\" target=\"_blank\" title=\"GitHub\" {{ if not .Site.Params.BookMenu.githubLink }}class=\"disabled\"{{ end }}\u003e \u003ci class=\"fa-brands fa-github\"\u003e\u003c/i\u003e \u003c/a\u003e \u003ca href=\"{{ .Site.Params.BookMenu.linkedinLink }}\" target=\"_blank\" title=\"LinkedIn\" {{ if not .Site.Params.BookMenu.linkedinLink }}class=\"disabled\"{{ end }}\u003e \u003ci class=\"fa-brands fa-linkedin\"\u003e\u003c/i\u003e \u003c/a\u003e \u003ca href=\"{{ .Site.Params.BookMenu.notionLink }}\" target=\"_blank\" title=\"Notion\" {{ if not .Site.Params.BookMenu.notionLink }}class=\"disabled\"{{ end }}\u003e \u003ci class=\"fa-brands fa-notion\"\u003e\u003c/i\u003e \u003c/a\u003e \u003ca href=\"{{ .Site.Params.BookMenu.twitterLink }}\" target=\"_blank\" title=\"Twitter\" {{ if not .Site.Params.BookMenu.twitterLink }}class=\"disabled\"{{ end }}\u003e \u003ci class=\"fa-brands fa-twitter\"\u003e\u003c/i\u003e \u003c/a\u003e \u003c/div\u003e \u003c/div\u003e \u003ch2 class=\"book-brand\"\u003e \u003c/h2\u003e CSS Copy scss // assets/_custom.scss .sidebar-social { display: flex; justify-content: center; align-items: center; gap: 0.5rem; font-size: 1.5rem; width: 100%; margin-bottom: 1rem; } .sidebar-social a, i { color: --color-social-link; font-size: 2rem; flex: 1 1 0; text-align: center; transition: color 0.2s; } .sidebar-social a.disabled { pointer-events: none; opacity: 0.5; cursor: default; } 총 4개의 소셜 링크 [ 깃허브, 링크드인, 노션, 트위터 ] 를 추가했습니다.\n태그에서 if 문을 사용하는 것을 볼 수 있는데, 이는 소셜 링크를 가리키는 BookMenu.githubLink 등의 파라미터가 설정 파일에 없을 경우 추가되는 구문입니다. 소셜 링크가 없으면 아래 CSS 설정에서 활용될 disabled 클래스가 적용되어 링크가 비활성화됩니다.\n그리고, 태그의 내용을 보면 알 수 있듯이 소셜 플랫폼에 대한 로고 이미지가 아니라 태그 아이콘을 사용하고 있습니다. 이것은 Font Awesome에서 제공하는 스타일인데, 이를 사용하기 위해 외부 소스의 CSS 파일을 가져와야 합니다.\nFont Awesome The internet\u0026#39;s icon library + toolkit. Used by millions of designers, devs, \u0026amp; content creators. Open-source. … fontawesome.com Book 테마 구조 문단에서 했던 것처럼 태그 내에 들어갈 요소는 layouts/_partials/docs/html-head.html 템플릿에 추가합니다.\nCopy html \u003clink rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css\" crossorigin=\"anonymous\" /\u003e로고 이미지를 사용했다면 소셜 로고 크기를 조절하기 위해 width 속성을 적용해야 하지만, 텍스트 유형인 태그를 사용하기 때문에 font-size 속성으로 크기를 조절해주어야 합니다. (--color-social-link 변수는 라이트 모드와 다크 모드에 따라 달라지는데, 아직 다크 모드를 추가하기 전이므로 #fff 색상을 적용해주세요. 변수가 정의되지 않아도 오류는 발생하지 않습니다.)\n또한, 소설 링크를 설정 파일에서 추가하지 않았을 경우에 추가되는 disabled 클래스에 링크를 비활성화하는 스타일을 적용했습니다.\n소셜 링크까지 추가한 결과는 아래 이미지와 같습니다.\n추후에 카테고리, 태그 등을 추가하기 위해 메뉴 영역을 수정할 일이 있지만, 이번 게시글에서는 메뉴 영역에 대해 여기까지 진행하겠습니다.\n목차 영역 개선하기 #Book 테마에서 목차 영역은 아래 이미지에서 선택된 부분입니다.\n위 이미지는 메뉴 영역을 개선하기 전인 Example Site 기준이고, 메뉴 영역을 위치 고정하기 문단에서 목차 영역도 우측 끝에 고정시켰습니다. (너무 끝에 붙어있으면 보기 안좋아 1.5rem 수준의 여백을 추가했습니다.)\n목차 영역은 book-toc 클래스가 적용된 요소로 감싸져 있으며, baseof.html 파일에서 다음과 같이 toc 템플릿을 호출합니다.\nCopy html {{ define \"toc-container\" }} {{ if partial \"docs/toc-show\" . }} \u003caside class=\"book-toc\"\u003e \u003cdiv class=\"book-toc-content\"\u003e {{ template \"toc\" . }} \u003c/div\u003e \u003c/aside\u003e {{ end }} {{ end }}toc.html 템플릿 파일은 layouts/_partials/docs/ 경로에 있는데, 내용은 별 거 없습니다. Hugo 공식문서 TableOfContents를 보면 {{ .TableOfContents }} 템플릿을 통해 목차를 만들 수 있다고 안내되어 있습니다. Book 테마에서도 Hugo에 내장된 목차 템플릿을 호출하여 목차를 생성합니다.\nCopy html {{ partial \"docs/inject/toc-before\" . }} {{ .TableOfContents }} {{ partial \"docs/inject/toc-after\" . }}참고로, 같은 경로에 있는 toc-show.html 파일은 baseof.html 에서 book-toc 를 생성할지 결정하는 역할을 수행하는데 내용을 보면 nav#TableOfContents 영역이 있는지 검사합니다.\nCopy html {{ return default (not (eq .TableOfContents \"\u003cnav id=\\\"TableOfContents\\\"\u003e\u003c/nav\u003e\")) (default .Site.Params.BookToC .Params.BookToC) }}다시 Hugo 공식문서 TableOfContents를 보면 목차 영역이 아래 HTML 형태로 만들어지는 것을 알 수 있습니다. #TableOfContents 요소를 대상으로 CSS 스타일을 적용할 일이 있어서 알고 있으면 좋습니다.\nCopy text Section 1 Section 1.1 Section 1.2 Section 2 목차 영역에서는 어떤 점을 해결하면 좋을지 생각해보겠습니다.\n목차와 본문의 사이에 목차의 길이만큼 구분선을 추가합니다. 스크롤이 위치한 목차를 하이라이트로 강조합니다. 우측 하단의 고정된 위치에 이동 버튼을 추가합니다. 맨 위로 이동, 맨 아래로 이동, 뒤로 가기 버튼을 세로로 나열합니다. 1. 목차 옆에 구분선 추가하기 #단순히 목차 영역에 border 속성을 추가하면 되지만, 목차 영역을 어디까지 볼 것인지 고려해야 합니다.\nbook-toc 클래스가 적용된 요소는 목차를 포함한 우측 사이드바 전체 영역입니다. book-toc 클래스를 대상으로 border 속성을 추가하면 본문과 목차 사이에 끝없이 긴 라인이 만들어질 것입니다.\n제가 원하는 것은 목차 텍스트가 있는 영역에만 border 속성을 추가하는 것입니다.\nBook 테마의 toc.html 템플릿만 보았다면 어디에 border 속성을 추가해야 하는지 알 수 없지만, Hugo 공식문서 TableOfContents를 통해 #TableOfContents 요소가 목차 텍스트가 있는 영역이란 것을 확인했습니다.\n이제 assets/_main.scss 파일에 스타일을 추가하겠습니다.\nCopy scss // assets/_main.scss #TableOfContents { margin-top: 2rem; padding-left: 1rem; border-left: 1px solid var(--toc-font-color); a { color: var(--toc-font-color); } }단순히 border 속성만 추가하면 구분선과 목차 텍스트가 딱 붙어버리기 때문에 적당한 여백을 추가했습니다.\n저는 구분선의 색상을 나타내는 --toc-font-color 변수에 검은색(black)을 지정했습니다. 추가로, 목차를 구성하는 태그가 링크와 동일한 파란색 글씨색을 가져서 보기 안좋아 구분선과 동일한 색상을 적용했는데, 이 부분은 취향에 맞게 수정해보시기 바랍니다.\n목차 영역을 돋보이기 위해 잠시 본문의 헤딩을 늘렸습니다.\n2. 목차 하이라이트 적용하기 #독자에게 게시글에서 자신이 어떤 위치에 있는지 알려주는 것은 가독성을 크게 향상시킬 수 있다고 생각합니다.\n하지만, 이러한 기능을 구현하는 방법을 몰라 코파일럿의 Sonnet 4.5 모델에게 목차 하이라이트를 구현하는 방법을 물어보았습니다. 프롬프트는 특별히 길게 쓴건 아니라서 따로 저장해두진 않았는데, 에이전트 모드로 Book 테마 경로를 첨부하여 문맥을 제공하였고 아래와 같은 코드가 생성되었습니다.\nJavaScript Copy js // assets/toc-highlight.js document.addEventListener('DOMContentLoaded', function() { const headings = document.querySelectorAll('h2[id], h3[id]'); function getVisibleToc() { const bookToc = document.querySelector('.book-toc'); if (bookToc) { const style = window.getComputedStyle(bookToc); if (style.visibility === 'visible') { return bookToc.querySelector('#TableOfContents'); } } return document.querySelector('#TableOfContents'); } const observer = new IntersectionObserver(entries =\u003e { entries.forEach(entry =\u003e { const id = entry.target.getAttribute('id'); const toc = getVisibleToc() const tocLinks = toc.querySelectorAll('a'); const correspondingTocLink = toc.querySelector(`a[href=\"#${id}\"]`); if (correspondingTocLink) { if (entry.isIntersecting) { tocLinks.forEach(link =\u003e link.classList.remove('active')); correspondingTocLink.classList.add('active'); } } }); }, { rootMargin: '0px 0px -70% 0px' }); headings.forEach(heading =\u003e { observer.observe(heading); }); }); CSS Copy scss // assets/_main.scss #TableOfContents { // ... a.active { color: var(--toc-active-color); font-weight: bold; } } 자바스크립트로 기능을 정의하는데 익숙하지는 않지만, 함수명 등으로 유추해봤을 때 getVisibleToc() 함수에서 #TableOfContents 요소를 가져와 toc 상수에 할당하는데 사용되는 것으로 보입니다. 그리고, toc 상수로부터 태그들을 꺼내서 순회하면서 태그가 가리키는 헤딩 요소가 화면에 들어오면 active 클래스를 추가한다고 해석할 수 있습니다.\nCSS 스타일을 통해 active 클래스인 요소에 대해서만 하이라이트를 적용했습니다. --toc-active-color 변수는 제가 입맛에 맞게 바꾼 색상인데 라이트 모드에서는 다른 목차 글씨 색상과 동일한 검은색(black)이며, font-weight: bold; 속성으로 글씨를 굵게하는 것으로 하이라이트를 표현했습니다.\n이렇게하면 목차 하이라이트가 적용되지만, assets/ 경로에 새로 추가한 자바스크립트 파일은 layouts/_partials/docs/html-head.html 템플릿에서 호출해주어야 합니다.\nCopy html {{- $tocHighlightJS := resources.Get \"toc-highlight.js\" | resources.ExecuteAsTemplate \"toc-highlightjs\" . | resources.Minify | resources.Fingerprint }} \u003cscript defer src=\"{{ partial \"docs/links/resource-precache\" $tocHighlightJS }}\" {{ template \"integrity\" $tocHighlightJS }}\u003e\u003c/script\u003e이렇게 적용하면 아래 이미지와 같이 현재 보고 있는 헤딩이 목차에서 하이라이트됩니다. 스크롤을 할만큼 본문이 길지 않지만, 이미지를 기준으로 \"제목 2-3\" 헤딩을 현재 보고 있는 것으로 인식하여 목차에서 \"제목 2-3\" 항목이 굵은 글씨로 강조되고 있습니다.\n3. 스크롤 이동 버튼 추가하기 #제가 경험해 본 웹사이트 중에서 우측 하단에 스크롤 이동 버튼을 놓는 경우가 종종 있었습니다. PC에서는 굳이 이러한 버튼을 안써도 키보드 단축키로 이동하기 쉽지만, 모바일에서는 그 긴 스크롤을 일일이 내리기 불편해 있으면 매우 편한 기능이라고 생각합니다.\n그렇다면 이 버튼을 어느 템플릿에 넣으면 좋을지 생각해봐야 합니다.\n새로운 템플릿을 만들어서 toc.html 템플릿에서 호출할 수도 있지만, 저는 layouts/_partials/docs/inject/ 경로에 있는 toc-after.html 템플릿에 추가하는게 적절하다고 생각했습니다.\n이유는 toc.html 템플릿에서 이미 해당 템플릿을 호출하고 있고, toc-after.html 템플릿 자체는 비어있는 파일이라 새로운 템플릿 파일을 만드는 것과 별 차이가 없다고 판단했기 때문입니다.\nCopy html {{ partial \"docs/inject/toc-before\" . }} {{ .TableOfContents }} {{ partial \"docs/inject/toc-after\" . }}toc-after.html 에 다음 3개의 버튼을 추가했습니다. onclick 이벤트에 대해서 위에서부터 스크롤을 맨 위로, 스크롤을 맨 아래로, 그리고 이전 페이지로 이동하는 3가지 기능을 하는 버튼입니다.\nHTML Copy html \u003cdiv class=\"book-nav\"\u003e \u003cbutton class=\"book-nav-btn3\" onclick=\"window.scrollTo({top: 0, behavior: 'smooth'})\" title=\"Go to top\"\u003e \u003ci class=\"fa fa-chevron-up\"\u003e\u003c/i\u003e \u003c/button\u003e \u003cbutton class=\"book-nav-btn3\" onclick=\"window.scrollTo({top: document.body.scrollHeight, behavior: 'smooth'})\" title=\"Go to bottom\"\u003e \u003ci class=\"fa fa-chevron-down\"\u003e\u003c/i\u003e \u003cbutton class=\"book-nav-btn3\" onclick=\"history.back()\" title=\"Go back\"\u003e \u003ci class=\"fa-solid fa-arrow-left\"\u003e\u003c/i\u003e \u003c/button\u003e \u003c/div\u003e CSS Copy scss // assets/_main.scss .book-nav, .book-mobile-nav { position: fixed; bottom: 0; right: 0; margin-bottom: $padding-16; margin-right: $padding-16; display: flex; align-items: flex-end; flex-direction: column; .book-nav-btn3 { width: $font-size-40; height: $font-size-40; margin: $padding-4; border: 0px; border-radius: 50%; background: var(--gray-200); color: var(--body-font-color); cursor: pointer; i { font-size: $font-size-20; } } // ... } CSS 스타일에서 스크롤 이동 버튼을 표현하는데 핵심적인 속성은 border-radius: 50%; 및 background: var(--gray-200); 입니다. Font Awesome에서 가져온 단순한 화살표 아이콘을 동그란 버튼처럼 가공해 보기 좋아졌습니다. 그런데, 이렇게 적용했을 때 스크롤 이동 버튼이 우측 끝에 너무 딱 붙어있어서 book-toc 영역 전체에 margin-right: $padding-48; 속성을 추가했습니다.\n스크롤 이동 버튼까지 추가한 결과는 아래와 같습니다. (하단에 있는 버튼이 잘 보이기 위해 브라우저 높이를 450px 정도로 줄였습니다.)\n목차 영역은 여기서 완성입니다. 나중에 다크 모드를 적용할 때 전용 색상 스타일을 추가할 일이 있지만, 더 이상 목차 영역에 새로운 기능을 추가하는 경우는 없습니다.\n헤더 영역 개선하기 #헤더 영역은 브라우저 너비가 일정 크기 이상 줄어들 때만 나타나는 모바일 전용 헤더입니다.\n헤더 영역은 book-header 클래스가 적용된 요소로 감싸져 있으며, baseof.html 파일에서 다음과 같이 header 템플릿을 호출합니다. book-header 의 바로 위를 보면 본문을 나타내는 book-page 요소의 하위에 헤더 영역이 있음을 알 수 있습니다.\nCopy html \u003cdiv class=\"book-page\"\u003e \u003cheader class=\"book-header\"\u003e {{ template \"header\" . }} \u003c/header\u003e header.html 템플릿 파일은 layouts/_partials/docs/ 경로에 있는데 내용은 직관적으로 읽힙니다. 메뉴 버튼을 의미하는 menu-control 요소, 제목을 가리키는 태그, 그리고 목차 버튼을 의미하는 toc-control 요소가 있습니다.\nCopy html \u003cdiv class=\"flex align-center justify-between\"\u003e \u003clabel for=\"menu-control\"\u003e \u003cimg src=\"{{ partial \"docs/icon\" \"menu\" }}\" class=\"book-icon\" alt=\"{{ partial \"docs/text/i18n\" \"Menu\" }}\" /\u003e \u003c/label\u003e \u003ch3\u003e{{ partial \"docs/title\" . }}\u003c/h3\u003e \u003clabel for=\"toc-control\"\u003e {{ if partial \"docs/toc-show\" . }} \u003cimg src=\"{{ partial \"docs/icon\" \"toc\" }}\" class=\"book-icon\" alt=\"{{ partial \"docs/text/i18n\" \"Table of Contents\" }}\" /\u003e {{ end }} \u003c/label\u003e \u003c/div\u003e헤더 영역에서는 어떤 점을 해결하면 좋을지 생각해보겠습니다.\n헤더 영역의 가운데에는 블로그 제목을 표시하고 홈페이지로 이동하는 링크를 설정합니다. 헤더 영역은 반투명한 배경색을 가지고 스크롤 위치에 관계없이 고정됩니다. 헤더 영역은 특별히 수정할건 없습니다.\n먼저, 제목에 홈페이지로 이동하는 링크를 거는건 아래처럼 간단합니다.\nCopy html \u003ch3\u003e \u003ca href=\"{{ .Site.BaseURL }}\" class=\"site-title\"\u003e{{ .Site.Title }}\u003c/a\u003e \u003c/h3\u003e다음으로, 헤더에 반투명한 배경색을 넣고 상단에 고정하는건 아래 스타일을 적용하면 됩니다.\nCopy scss // assets/_main.scss .book-header { display: block; position: sticky; opacity: 0.9; top: 0; background-color: var(--body-background); padding: 1rem; }기존 Book 테마에서는 모바일 화면에서 스크롤하면 헤더가 사라져버려 메뉴 및 목차 버튼을 클릭하기 위해 매번 맨 위로 이동해야 하는 불편함이 있었습니다.\n그래서 헤더 영역을 상단에 고정시켜 봤는데, 문제가 이 버튼을 클릭하면 자동으로 맨 위로 올라가 버립니다. 결국 의도했던 동작을 수행하지 못해 아직까지 해결책을 찾고 있는데, 해결되었다면 해당 게시글에 업데이트 하겠습니다.\n스크롤을 내려보면 헤더가 반투명하게 보이면서 헤더 밑에 있는 본문을 읽을 수 있습니다.\n다음 게시글에서는 카테고리와 태그 기능을 추가하고, 관련 게시글을 목록을 보여주는 템플릿을 작성하는 과정을 진행하겠습니다. 카테고리와 태그 기능은 특히 내용이 길어서 다음 게시글로 분리하게 되었는데, 다음 게시글에서 이를 포함한 메뉴 영역을 완성할 수 있게 됩니다.\n","wordCount":"3657","inLanguage":"ko","image":"https:\/\/dl.dropboxusercontent.com\/scl\/fi\/hp31764bfpm55wanzj5le\/hugo-00-logo.webp?rlkey=rkezagmfupugt717a5fx2xqs2\u0026raw=1","datePublished":"2025-11-04T01:50:16+09:00","dateModified":"2025-11-04T01:50:16+09:00","author":{"@type":"Person","name":"minyeamer"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://minyeamer.github.io/blog/hugo-blog-2/"},"publisher":{"@type":"Person","name":"Minystory","logo":{"@type":"ImageObject","url":"https://minyeamer.github.io/images/favicons/favicon.ico"}}}</script><script>(function(){const e=256+768*1.3;window.innerWidth>e&&localStorage.getItem("menu-expanded")==="false"&&document.documentElement.classList.add("menu-initial-collapsed")})()</script><title>Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선</title><link rel=icon href=/images/favicon.ico><link rel=manifest href=/data/manifest.json><link rel=canonical href=https://minyeamer.github.io/blog/hugo-blog-2/><link rel=stylesheet href=/main.min.6051a89cb99914270b8e92de78f55e2ee0c234cddc563590e40e0a85eb6ce78f.css integrity="sha256-YFGonLmZFCcLjpLeePVeLuDCNM3cVjWQ5A4Khets548=" crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-BJ8Z9RMBPJ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BJ8Z9RMBPJ")</script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css crossorigin=anonymous><script>(function(){const e=console.warn;console.warn=function(...n){const t=(new Error).stack||"";if(t.includes("highlight.min.js")||t.includes("highlightjs-line-numbers"))return;e.apply(console,n)}})()</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js crossorigin=anonymous></script><script>window.siteI18n=window.siteI18n||{},window.siteI18n.defaultLang="en"</script><script>window.siteI18n.dataUrl="/data/i18n.min.a69d97976d04e681499d74d71f0019de3d6ed9f29a55bc606a9459d1454b3b65.json"</script><script>window.siteI18n.initData=function(){return window.siteI18n.data?Promise.resolve(window.siteI18n.data):fetch(window.siteI18n.dataUrl).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(e=>(window.siteI18n.data=e,window.siteI18n.data))},window.siteI18n.getLanguage=function(e={}){const s="site-language",t=localStorage.getItem(s);if(t)return t;const n=(navigator.language||navigator.userLanguage).split("-")[0];return!e||e[n]?n:window.siteI18n.defaultLang},window.siteI18n.translate=function(e,t=""){if(window.siteI18n.data){const n=window.siteI18n.getLanguage(),t=window.siteI18n.data[n];if(t&&e in t)return t[e]}return t},void window.siteI18n.initData().catch(()=>{})</script><script defer src=/js/core/i18n.min.c076e5ad51c454cca138121312827bfde8c5526a930ce57cea2207f501fea0d7.js integrity="sha256-wHblrVHEVMyhOBITEoJ7/ejFUmqTDOV86iIH9QH+oNc=" crossorigin=anonymous></script><script defer src=/js/partials/scroll-progress.min.841ade7e507a5f6d59c4e7bf2fe2b2ca034070677ff7957eec55610a024dd776.js integrity="sha256-hBreflB6X21ZxOe/L+KyygNAcGd/95V+7FVhCgJN13Y=" crossorigin=anonymous></script><script defer src=/js/partials/menu-toggle.min.7ee0f34ad37a564fe94803318b77c9128244ae7747bf68a99f5c639cd14ee1bc.js integrity="sha256-fuDzStN6Vk/pSAMxi3fJEoJErndHv2ipn1xjnNFO4bw=" crossorigin=anonymous></script><script defer src=/js/partials/toc-toggle.min.245e40eb40fe121e595f13897569556fa17b72530600a710a00a5d636dbf140d.js integrity="sha256-JF5A60D+Eh5ZXxOJdWlVb6F7clMGAKcQoApdY22/FA0=" crossorigin=anonymous></script><script defer src=/js/core/set-theme.min.986446861d7c48b101b4a6f53724b7fc97d6efec2a87906c6630cb9e503897c4.js integrity="sha256-mGRGhh18SLEBtKb1NyS3/JfW7+wqh5BsZjDLnlA4l8Q=" crossorigin=anonymous></script><script defer src=/js/shortcodes/copy-code.min.e18ffc44cf6beb1757c467945bb2897b0e1cb2ee52f08b460ee3ee57f0db6d60.js integrity="sha256-4Y/8RM9r6xdXxGeUW7KJew4csu5S8ItGDuPuV/DbbWA=" crossorigin=anonymous></script><script defer src=/js/partials/toc-highlight.min.7917ead4ecb7378779bfbf3f988251ac76bd55ca7f12fd5919870777dbcd6095.js integrity="sha256-eRfq1Oy3N4d5v78/mIJRrHa9Vcp/Ev1ZGYcHd9vNYJU=" crossorigin=anonymous></script><script defer src=/js/partials/reading-time.min.9dae1dd14e75a79711e28a5864bf1fe636869815c32110f680ff8e1d61bfdf28.js integrity="sha256-na4d0U51p5cR4opYZL8f5jaGmBXDIRD2gP+OHWG/3yg=" crossorigin=anonymous></script><script defer src=/js/shortcodes/image-zoom.min.bb446c50cbec91f1b4fdfbb9f695d753ef4811f43de0a9411201c8466ffe204a.js integrity="sha256-u0RsUMvskfG0/fu59pXXU+9IEfQ94KlBEgHIRm/+IEo=" crossorigin=anonymous></script><script defer src=/js/shortcodes/data-table.min.d20aaf7f506ee989f91746098231f979e58b8435513de0d4f05eefb9c45743e7.js integrity="sha256-0gqvf1Bu6Yn5F0YJgjH5eeWLhDVRPeDU8F7vucRXQ+c=" crossorigin=anonymous></script><script>window.siteSearch=window.siteSearch||{}</script><script>window.siteSearch.contentUrl="/data/content.min.0d9c35258206161520526aeccdea6826417931b6c7dda3db171fe4099b3a26f1.json"</script><script>window.siteSearch.categoriesUrl="/data/categories.min.a110e9708cdf79e3dc8d271224586cc9deffc0232514190c37e24dc74470851c.json"</script><script>window.siteSearch.tagsUrl="/data/tags.min.d80e1fb9a5142d159b8e7e3b9adea10216e811adf810f15fbe9bd79b2b6c83d8.json"</script><script defer src=/fuse.min.js></script><script defer src=/js/search/init.min.ee793e2de351fef268c6642567b4af23bd3763c2cb74f767e7240807e394417d.js integrity="sha256-7nk+LeNR/vJoxmQlZ7SvI703Y8LLdPdn5yQIB+OUQX0=" crossorigin=anonymous></script><script defer src=/js/search/input.min.d9380107ad7925e0b0ba621d64e1648e8119523b6f8cff46cdf240117921a06b.js integrity="sha256-2TgBB615JeCwumIdZOFkjoEZUjtvjP9GzfJAEXkhoGs=" crossorigin=anonymous></script><script defer src=/js/search/list.min.19c27643078f3be0fb15443fbb4903ffe3234c85373d568e3de7478ac45b16e5.js integrity="sha256-GcJ2QwePO+D7FUQ/u0kD/+MjTIU3PVaOPedHisRbFuU=" crossorigin=anonymous></script></head><body class="site-kind-page site-type-posts site-layout-post" dir=ltr><div class=scroll-progress><div class=scroll-progress-bar></div></div><label class=image-overlay-wrap for=image-overlay-toggle><input class="hidden toggle" type=checkbox id=image-overlay-toggle><div class=image-overlay></div></label><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><div class=menu-overlay></div><main class=container><aside class=site-menu aria-label=메뉴 data-i18n-id=menu.aside.tooltip data-i18n-attrs=aira-label><div class=menu-content><nav><div class=menu-profile><div class=profile-image-wrap><a href=https://minyeamer.github.io/><img src=/images/profile/menu.jpg alt=Profile class=profile-image decoding=async></a></div><h2 class=profile-title><a class="flex align-center" href=https://minyeamer.github.io/><span>Minystory</span></a></h2></div><div class=menu-links><a href=https://github.com/minyeamer target=_blank id=github-link title=GitHub><i class="fa-brands fa-github"></i>
</a><a href=/categories/ id=categories-link title=Categories><i class="fa-solid fa-folder"></i>
</a><a href=/tags/ id=tags-link title=Tags><i class="fa-solid fa-tags"></i>
</a><button class=dark-mode-toggle id=theme-toggle-button aria-label="Toggle color scheme">
<i class="fa-solid fa-circle-half-stroke"></i></button></div><div class=menu-search id=search-input data-hotkeys=s/ role=button tabindex=0 aria-label=검색 data-i18n-id=search.action.label data-i18n-attrs=aira-label><i class="fa-solid fa-magnifying-glass search-icon"></i>
<span class=search-placeholder data-i18n-id=search.input.label data-i18n-text='{"`/`": "$code"}'><code>/</code> 를 눌러 검색하세요</span></div><div class=menu-categories><input type=checkbox class="hidden toggle" id=categories-control checked>
<label for=categories-control class="categories-label categories-toggle"><a href=/categories/ class=categories-root><i class="fa-solid fa-folder"></i>
<span data-i18n-id=categories.root.label data-i18n-text>전체
</span><span class=category-count>(41)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li><input type=checkbox class="hidden toggle" id=cat-algorithm>
<label for=cat-algorithm class="categories-label categories-toggle"><a href="/search/?category1=Algorithm"><i class="fa-solid fa-folder"></i>Algorithm<span class=category-count>(4)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Algorithm&category2=Graph"><i class="fa-solid fa-file"></i>Graph<span class=category-count>(1)</span></a></li><li class=categories-label><a href="/search/?category1=Algorithm&category2=Python"><i class="fa-solid fa-file"></i>Python<span class=category-count>(2)</span></a></li><li class=categories-label><a href="/search/?category1=Algorithm&category2=SQL"><i class="fa-solid fa-file"></i>SQL<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-cloud>
<label for=cat-cloud class="categories-label categories-toggle"><a href="/search/?category1=Cloud"><i class="fa-solid fa-folder"></i>Cloud<span class=category-count>(2)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Cloud&category2=Kubernetes"><i class="fa-solid fa-file"></i>Kubernetes<span class=category-count>(2)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-data-analysis>
<label for=cat-data-analysis class="categories-label categories-toggle"><a href="/search/?category1=Data%20Analysis"><i class="fa-solid fa-folder"></i>Data Analysis<span class=category-count>(3)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Data%20Analysis&category2=Dacon"><i class="fa-solid fa-file"></i>Dacon<span class=category-count>(3)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-data-engineering>
<label for=cat-data-engineering class="categories-label categories-toggle"><a href="/search/?category1=Data%20Engineering"><i class="fa-solid fa-folder"></i>Data Engineering<span class=category-count>(19)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Apache%20Airflow"><i class="fa-solid fa-file"></i>Apache Airflow<span class=category-count>(7)</span></a></li><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Apache%20Spark"><i class="fa-solid fa-file"></i>Apache Spark<span class=category-count>(8)</span></a></li><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Crawling"><i class="fa-solid fa-file"></i>Crawling<span class=category-count>(4)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-frontend>
<label for=cat-frontend class="categories-label categories-toggle"><a href="/search/?category1=Frontend"><i class="fa-solid fa-folder"></i>Frontend<span class=category-count>(10)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Frontend&category2=Blog"><i class="fa-solid fa-file"></i>Blog<span class=category-count>(10)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-linux>
<label for=cat-linux class="categories-label categories-toggle"><a href="/search/?category1=Linux"><i class="fa-solid fa-folder"></i>Linux<span class=category-count>(1)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Linux&category2=Ubuntu"><i class="fa-solid fa-file"></i>Ubuntu<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-project>
<label for=cat-project class="categories-label categories-toggle"><a href="/search/?category1=Project"><i class="fa-solid fa-folder"></i>Project<span class=category-count>(2)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Project&category2=Open%20Source"><i class="fa-solid fa-file"></i>Open Source<span class=category-count>(1)</span></a></li><li class=categories-label><a href="/search/?category1=Project&category2=Tools"><i class="fa-solid fa-file"></i>Tools<span class=category-count>(1)</span></a></li></ul></li></ul></div><div class=recent-posts><div class=recent-post-label><i class="fa-solid fa-clock"></i>
<span data-i18n-id=menu.recent.posts data-i18n-text>최신글</span></div><ul class=recent-post-list><li class=recent-post-item><a href=/blog/hugo-seotax-1/ title="Hugo 서택스(SeoTax) 테마 제작기 - 동적 렌더링으로 확장된 검색"><div class=recent-post-title>Hugo 서택스(SeoTax) 테마 제작기 - 동적 렌더링으로 확장된 검색</div><div class=recent-post-date><time datetime=2026-01-25>2026.01.25</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-5/ title="Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터)"><div class=recent-post-title>Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터)</div><div class=recent-post-date><time datetime=2025-12-15>2025.12.15</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-4/ title="Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기"><div class=recent-post-title>Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기</div><div class=recent-post-date><time datetime=2025-12-14>2025.12.14</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-3/ title="Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현"><div class=recent-post-title>Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현</div><div class=recent-post-date><time datetime=2025-11-22>2025.11.22</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-2/ title="Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선"><div class=recent-post-title>Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선</div><div class=recent-post-date><time datetime=2025-11-04>2025.11.04</time></div></a></li></ul></div></nav><script>(function(){var e=document.querySelector("aside .menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=main-wrap><header class=site-header><div class="flex align-center justify-between"><label for=menu-control aria-label="메뉴 접기/펼치기" title="메뉴 접기/펼치기" data-i18n-id=menu.toggle.tooltip data-i18n-attrs=aria-label,title><i class="fa-solid fa-bars menu-icon" id=menu-icon></i></label><div class=mobile-search id=mobile-search-input role=button tabindex=0 aria-label=검색 data-i18n-id=search.action.label data-i18n-attrs=aria-label><i class="fa-solid fa-magnifying-glass search-icon"></i>
<span class=mobile-title>Minystory</span>
<i class=mobile-title-pad></i></div><label for=toc-control aria-label="목차 접기/펼치기" title="목차 접기/펼치기" data-i18n-id=toc.toggle.tooltip data-i18n-attrs=aria-label,title><i class="fa-solid fa-list menu-icon" id=toc-icon></i></label></div></header><article class="content-wrap markdown" id=content-wrap><header class=content-header><div class=content-category><a href="/search/?category1=Frontend&category2=Blog" class=content-category-link>Frontend/Blog</a></div><h1 class=content-title>Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선</h1><div class=content-datetime><time datetime=2025-11-04T01:50:16+09:00>2025. 11. 04. 01:50
</time><span id=reading-time></span></div></header><div class=content-cover-wrap><img src="https://dl.dropboxusercontent.com/scl/fi/w0zho4wlgq6m8db5mvn9k/hugo-00-cover.webp?rlkey=et2tlzgb0h6blgf8klzbqjxem&amp;raw=1" class=content-cover alt="Cover Image" decoding=async></div><div id=series-anchor></div><div class=sc-series><div class=series-bookmark><svg width="32" height="48" fill="currentColor" viewBox="0 0 32 48" class="series-corner-image"><path fill="currentColor" d="M32 0H0v48h.163l16-16L32 47.836V0z"/></svg></div><div class=series-header><h2 class=series-title>Hugo 블로그 만들기</h2></div><input type=checkbox id=series-toggle class=series-toggle-input hidden><div class=series-content><ol class=series-list><li class=series-item><span class=series-item-index>1.</span>
<a href=/blog/hugo-blog-1/#series-anchor>Hugo 블로그 만들기 - Git Submodule로 구성하고 배포하기</a></li><li class="series-item active"><span class=series-item-index>2.</span>
<a href=/blog/hugo-blog-2/#series-anchor>Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선</a></li><li class=series-item><span class=series-item-index>3.</span>
<a href=/blog/hugo-blog-3/#series-anchor>Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현</a></li><li class=series-item><span class=series-item-index>4.</span>
<a href=/blog/hugo-blog-4/#series-anchor>Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기</a></li><li class=series-item><span class=series-item-index>5.</span>
<a href=/blog/hugo-blog-5/#series-anchor>Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터)</a></li></ol></div><div class=series-footer><label for=series-toggle class=series-toggle-label><span class=series-toggle-icon><i class="fas fa-caret-up"></i></span>
<span class=series-toggle-text-hide data-i18n-id=series.hide.label data-i18n-text>숨기기</span>
<span class=series-toggle-text-show data-i18n-id=series.show.label data-i18n-text>목록 보기</span></label><div class=series-nav><span class=series-nav-info>2/5</span><div class=series-nav-buttons><a href=/blog/hugo-blog-1/#series-anchor class=series-nav-button><i class="fas fa-chevron-left"></i></a>
<a href=/blog/hugo-blog-3/#series-anchor class=series-nav-button><i class="fas fa-chevron-right"></i></a></div></div></div></div><script>(function(){const e=document.getElementById("series-toggle"),t="series-expanded",n=localStorage.getItem(t)??"true";n==="true"&&(e.checked=!0),e.addEventListener("change",function(){localStorage.setItem(t,this.checked)})})()</script><blockquote class="sc-hint info"><p><i class="fa-solid fa-wand-magic-sparkles"></i> <strong>AI 요약 & 가이드</strong></p><p>Hugo 블로그의 외형을 결정짓는 <strong>메인 레이아웃(메뉴, 목차, 헤더)</strong> 을 직접 뜯어고치며 프론트엔드 역량을 키워보세요.
템플릿 구조에 대한 기초 지식부터 CSS/JS를 활용한 세부 기능 구현까지 단계별로 설명합니다.</p><ul><li><strong><a href=#book-%ed%85%8c%eb%a7%88-%ec%95%8c%ec%95%84%eb%b3%b4%ea%b8%b0>테마 구조 분석</a></strong>: Hugo의 템플릿 구조와 Book 테마의 구성 요소 파악</li><li><strong><a href=#%eb%a9%94%eb%89%b4-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>메뉴 기능 개선</a></strong>: 사이드바 위치 고정부터 <a href=#2-%ed%94%84%eb%a1%9c%ed%95%84-%ec%82%ac%ec%a7%84%ec%9d%84-%ed%91%9c%ec%8b%9c%ed%95%98%ea%b8%b0>프로필 사진</a>, <a href=#3-%ec%86%8c%ec%85%9c-%eb%a7%81%ed%81%ac%eb%a5%bc-%ed%91%9c%ec%8b%9c%ed%95%98%ea%b8%b0>소셜 링크 연동</a>으로 퍼스널 브랜딩 강화</li><li><strong><a href=#%eb%aa%a9%ec%b0%a8-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>독자 편의성 향상</a></strong>: 현재 읽고 있는 위치를 알려주는 <a href=#2-%eb%aa%a9%ec%b0%a8-%ed%95%98%ec%9d%b4%eb%9d%bc%ec%9d%b4%ed%8a%b8-%ec%a0%81%ec%9a%a9%ed%95%98%ea%b8%b0>목차 하이라이트</a>와 <a href=#3-%ec%8a%a4%ed%81%ac%eb%a1%a4-%ec%9d%b4%eb%8f%99-%eb%b2%84%ed%8a%bc-%ec%b6%94%ea%b0%80%ed%95%98%ea%b8%b0>이동 버튼</a>으로 사용자 경험 극대화</li><li><strong><a href=#%ed%97%a4%eb%8d%94-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>반응형 최적화</a></strong>: 모바일 환경에서도 끊김 없는 사용성을 제공하는 헤더 디자인 개선</li></ul></blockquote><p><a href=/blog/hugo-blog-1/>앞선 게시글</a>에서 Hugo 테마에 대해 둘러보고 Hugo 프로젝트 구조를 설계하는 방법을 알아보았습니다.</p><h2 id=hugo-서버-실행하기>Hugo 서버 실행하기
<a class=anchor href=#hugo-%ec%84%9c%eb%b2%84-%ec%8b%a4%ed%96%89%ed%95%98%ea%b8%b0>#</a></h2><p>Github Pages를 이용해 블로그를 <code>github.io</code> 주소로 배포해보았지만
테마를 개선하는 과정에서는 변경사항을 즉각적으로 확인해보기 위해 로컬에서 서버를 실행해 보는게 좋습니다.</p><p>Hugo 서버를 실행하려면 <code>hugo server</code> 명령어를 사용할 수 있습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>% hugo server
</span></span><span class=line><span class=cl>Watching <span class=k>for</span> changes in .../<span class=o>{</span>archetypes,content,static,themes<span class=o>}</span>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>Web Server is available at http://localhost:1313/ <span class=o>(</span><span class=nb>bind</span> address 127.0.0.1<span class=o>)</span></span></span></code></pre></div></div><p>기본적으로는 1313 포트에서 서버가 실행되며 <code>--port &lt;포트번호></code> 옵션을 추가하면
서버가 할당될 포트를 직접 지정할 수 있습니다.</p><p>서버를 실행하면 터미널에서 출력되는 주소 <code>http://localhost:1313/</code> 를 통해
블로그에 접속할 수 있습니다.</p><p>이렇게 서버를 실행했을 때 장점은 테마를 수정할 때마다 자동으로 빌드되어 변경사항이
즉각적으로 반영된다는 점입니다. 만약 변경사항이 적용되지 않는다면 서버를 실행할 때
<code>--disableFastRender</code> 옵션을 추가하거나 브라우저에서 캐시를 삭제해 볼 수 있습니다.</p><h2 id=book-테마-알아보기>Book 테마 알아보기
<a class=anchor href=#book-%ed%85%8c%eb%a7%88-%ec%95%8c%ec%95%84%eb%b3%b4%ea%b8%b0>#</a></h2><p><a href=/blog/hugo-blog-1/#book-%ed%85%8c%eb%a7%88-%ec%84%a0%ec%a0%95>앞선 게시글</a>에서 Book 테마에 대해 둘러보면서
앞으로 해당 테마를 바탕으로 레이아웃을 개선해보겠다고 전달드렸습니다.</p><h3 id=book-테마-가져오기>Book 테마 가져오기
<a class=anchor href=#book-%ed%85%8c%eb%a7%88-%ea%b0%80%ec%a0%b8%ec%98%a4%ea%b8%b0>#</a></h3><p>Github에 올라온 <a href=https://github.com/alex-shpak/hugo-book target=_blank rel="noopener noreferrer">hugo-book 저장소</a>를 Fork하여
개인 소유의 저장소로 가져오면 앞으로의 변경사항을 관리하는데 편리합니다.</p><p>저 또한 Book 테마를 개선하기 위해
<a href=https://github.com/minyeamer/hugo-book-custom target=_blank rel="noopener noreferrer"><code>hugo-book-custom</code></a>이라는
별도의 저장소를 Fork해서 만들었습니다.</p><p><label class=md-image for=md-image-toggle-0><input class="hidden toggle" type=checkbox id=md-image-toggle-0>
<img src="https://dl.dropboxusercontent.com/scl/fi/nlz6cmz7tu68u90muvomr/hugo-25-book-fork.webp?rlkey=o4a5k3phxon9jr4y4budm84sl&amp;raw=1" alt="Book 테마 Fork하기" loading=lazy decoding=async></label></p><p>Fork한 저장소를 <code>git clone</code> 명령어로 로컬 경로로 가져와 코드를 확인해보겠습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/minyeamer/hugo-book-custom</span></span></code></pre></div></div><h3 id=hugo-템플릿-구조>Hugo 템플릿 구조
<a class=anchor href=#hugo-%ed%85%9c%ed%94%8c%eb%a6%bf-%ea%b5%ac%ec%a1%b0>#</a></h3><p>Hugo v0.146.0 공식문서에서 안내하는 폴더 구조를 알아보겠습니다.</p><a href=https://gohugo.io/templates/new-templatesystem-overview/ target=_blank class=sc-bookmark-card><div class=sc-bookmark-image><img src=https://gohugo.io/opengraph/gohugoio-card-base-1_hu_5689bddcd03b2187.png alt="New template system in Hugo v0.146.0" loading=lazy decoding=async></div><div class=sc-bookmark-content><h3 class=sc-bookmark-title>New template system in Hugo v0.146.0</h3><p class=sc-bookmark-description>Overview of the new template system in Hugo v0.146.0.</p><small class=sc-bookmark-url>gohugo.io</small></div></a><p><code>layouts/</code> 경로 아래에 다음과 같은 경로로 레이아웃을 구성하도록 권장합니다.</p><p>여기서 가장 기본이 되는 템플릿이 <code>layouts/baseof.html</code> 이고,
템플릿을 헤더, 목차 등 역할에 따라 작은 부분으로 나눠 <code>layouts/_partials/</code> 경로에 배치시킵니다.
<code>layouts/baseof.html</code> 에서는 이러한 부분 템플릿을 동적으로 가져옵니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>layouts/
</span></span><span class=line><span class=cl>├── baseof.html
</span></span><span class=line><span class=cl>├── baseof.term.html
</span></span><span class=line><span class=cl>├── home.html
</span></span><span class=line><span class=cl>├── page.html
</span></span><span class=line><span class=cl>├── section.html
</span></span><span class=line><span class=cl>├── taxonomy.html
</span></span><span class=line><span class=cl>├── term.html
</span></span><span class=line><span class=cl>├── term.mylayout.en.rss.xml
</span></span><span class=line><span class=cl>├── _markup/
</span></span><span class=line><span class=cl>│   ├── render-codeblock-go.term.mylayout.no.rss.xml
</span></span><span class=line><span class=cl>│   └── render-link.html
</span></span><span class=line><span class=cl>├── _partials/
</span></span><span class=line><span class=cl>│   └── mypartial.html
</span></span><span class=line><span class=cl>├── _shortcodes/
</span></span><span class=line><span class=cl>│   ├── myshortcode.html
</span></span><span class=line><span class=cl>│   └── myshortcode.section.mylayout.en.rss.xml
</span></span><span class=line><span class=cl>├── docs/
</span></span><span class=line><span class=cl>│   ├── baseof.html
</span></span><span class=line><span class=cl>│   ├── _shortcodes/
</span></span><span class=line><span class=cl>│   │   └── myshortcode.html
</span></span><span class=line><span class=cl>│   └── api/
</span></span><span class=line><span class=cl>│       ├── mylayout.html
</span></span><span class=line><span class=cl>│       ├── page.html
</span></span><span class=line><span class=cl>│       └── _markup/
</span></span><span class=line><span class=cl>│           └── render-link.html
</span></span><span class=line><span class=cl>└── tags/
</span></span><span class=line><span class=cl>    ├── taxonomy.html
</span></span><span class=line><span class=cl>    ├── term.html
</span></span><span class=line><span class=cl>    └── blue
</span></span><span class=line><span class=cl>        └── list.html</span></span></code></pre></div></div><h3 id=book-테마-구조>Book 테마 구조
<a class=anchor href=#book-%ed%85%8c%eb%a7%88-%ea%b5%ac%ec%a1%b0>#</a></h3><p><code>layouts/docs/</code> 경로를 활용하는 Hugo 공식문서와 다르게 Book 테마는 <code>layouts/_partials/</code> 경로에
<code>docs</code> 폴더를 배치시켰습니다.
따라서, 대부분의 테마 수정 작업은 <code>layouts/_partials/docs/</code> 경로에서 진행됩니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>layouts/_partials/docs/
</span></span><span class=line><span class=cl>├── ...
</span></span><span class=line><span class=cl>├── brand.html
</span></span><span class=line><span class=cl>├── ...
</span></span><span class=line><span class=cl>├── footer.html
</span></span><span class=line><span class=cl>├── header.html
</span></span><span class=line><span class=cl>├── ...
</span></span><span class=line><span class=cl>├── html-head.html
</span></span><span class=line><span class=cl>├── ...
</span></span><span class=line><span class=cl>├── menu.html
</span></span><span class=line><span class=cl>├── ...
</span></span><span class=line><span class=cl>└── toc.html</span></span></code></pre></div></div><p>Book 테마의 <code>layouts/_partials/docs/</code> 경로에는 다양한 템플릿이 있지만,
그 중에서 주로 보게될 것은 위 파일들 입니다.</p><ul><li><code>brand.html</code> : 메뉴에서 블로그 제목을 표시합니다.</li><li><code>footer.html</code> : 본문 하단에 이전, 다음 게시글 및 글 수정 링크를 표시합니다.</li><li><code>header.html</code> : 본문 상단에 메뉴 또는 목차 영역을 펼치고 접는 버튼을 표시합니다.</li><li><code>html-head.html</code> : 메타(meta) 태그 등 <code>&lt;head></code> 태그 내에 들어갈 요소들을 나열합니다.</li><li><code>menu.html</code> : 본문 좌측 메뉴를 표시합니다. 여기서 <code>brand.html</code> 을 호출합니다.</li><li><code>toc.html</code> : 본문 우측에 목차(Table of Contents)를 표시합니다.</li></ul><p>하지만, 기능적으로 무언가를 추가할게 아니라면, 단순히 시각적으로 테마를 변경하고자 한다면
템플릿 파일을 직접 건들지는 않고 CSS 파일을 주로 수정합니다.</p><p>Book 테마의 CSS 파일들은 <code>assets/</code> 경로 아래에 위치합니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>assets/
</span></span><span class=line><span class=cl>├── _custom.scss
</span></span><span class=line><span class=cl>├── _defaults.scss
</span></span><span class=line><span class=cl>├── ...
</span></span><span class=line><span class=cl>├── _main.scss
</span></span><span class=line><span class=cl>├── _markdown.scss
</span></span><span class=line><span class=cl>├── ...
</span></span><span class=line><span class=cl>├── _shortcodes.scss
</span></span><span class=line><span class=cl>└── ...</span></span></code></pre></div></div><p><code>assets/</code> 경로의 파일들 중에서 위 파일들을 주로 수정합니다.</p><ul><li><code>_custom.scss</code> : 사용자 커스터마이징을 위한 스타일을 작성합니다.</li><li><code>_defaults.scss</code> : 폰트 크기, 색상 등이 변수로 정의되어 있습니다.</li><li><code>_main.scss</code> : 메뉴, 목차 등 메인 레이아웃에 대한 스타일이 작성되어 있습니다.</li><li><code>_markdown.scss</code> : 마크다운을 HTML로 렌더링한 결과에 대한 스타일이 작성되어 있습니다.</li><li><code>_shortcodes.scss</code> : 마크다운 작성 시 미리 정해진 짧은 코드를 호출하는 경우가 있는데 이에 대한 스타일이 작성되어 있습니다.</li></ul><p>이 외에 JS 파일 등도 <code>assets/</code> 경로에 위치합니다.</p><h3 id=example-site>Example Site
<a class=anchor href=#example-site>#</a></h3><p>앞으로 Book 테마를 수정하게 되는데 아무런 글도 없으면 스타일이 어떻게 적용되었는지 확인하기 어렵습니다.</p><p>이미 작성한 게시글이 있다면 <code>content/</code> 경로에 가져다 놓아도 좋지만,
그러한 게시글이 없을 경우엔 테마에서 제공하는 <code>exampleSite/</code> 를 참고할 수 있습니다.</p><p>Book 테마의 Example Site는 영어, 히브리어, 중국어로 작성된 각각의 폴더로 나누어져 있는데,
이번 프로젝트에서 다국어 텍스트를 고려하지는 않으므로 영어 문서로 구성된 <code>content.en/</code> 폴더 내 파일들을
현재 프로젝트의 <code>content/</code> 경로로 가져옵니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>exampleSite/content.en/
</span></span><span class=line><span class=cl>├── _index.md
</span></span><span class=line><span class=cl>├── docs
</span></span><span class=line><span class=cl>│   ├── example
</span></span><span class=line><span class=cl>│   │   ├── _index.md
</span></span><span class=line><span class=cl>│   │   └── ...
</span></span><span class=line><span class=cl>│   └── ...
</span></span><span class=line><span class=cl>├── posts
</span></span><span class=line><span class=cl>│   ├── _index.md
</span></span><span class=line><span class=cl>│   └── ....md
</span></span><span class=line><span class=cl>└── showcases.md</span></span></code></pre></div></div><p>그리고, <code>exampleSite/</code> 경로 바로 아래에 있는 <code>hugo.yaml</code> 설정 파일도 현재 프로젝트로 가져옵니다.</p><p>해당 파일은 Hugo 블로그를 구성하는데 필요한 파라미터 등의 설정 정보가 기록되어 있는데,
TOML, YAML, JSON 등 다양한 형식을 지원합니다.
Hugo 프로젝트를 시작할 때 <code>hugo.toml</code> 이라는 파일이 기본적으로 생성되었을 것인데,
TOML 형식은 중첩된 구조를 표현하기에는 번거로워 YAML 형식을 사용합니다.</p><p>설정 파일에 대해서는 필요한 순간에 설명드릴 예정이지만,
설정 파일 상단에서 <code>baseUrl</code> 및 <code>theme</code> 값은 지금 변경해두는게 좋습니다.</p><div class=sc-codeblock data-lang=yaml><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">yaml</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>baseURL</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:1313/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>Hugo Book</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>theme</span><span class=p>:</span><span class=w> </span><span class=l>Book</span></span></span></code></pre></div></div><p><code>baseUrl</code> 은 기본값으로 <code>http://localhost:1313/hugo-book/</code> 경로가 적용되어 있는데,
매번 테스트 페이지에 접근할 때마다 <code>hugo-book/</code> 경로를 추가하는게 불편하여 제거했습니다.</p><p><code>theme</code> 은 기본값으로 <code>hugo-book</code> 이 적용되어 있는데, <code>themes/</code> 경로에 위치한
Book 테마의 폴더명을 입력해야 합니다.</p><h2 id=메인-레이아웃-개선하기>메인 레이아웃 개선하기
<a class=anchor href=#%eb%a9%94%ec%9d%b8-%eb%a0%88%ec%9d%b4%ec%95%84%ec%9b%83-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>#</a></h2><p>Book 테마는 다음과 같은 형태를 가집니다.</p><p><label class=md-image for=md-image-toggle-1><input class="hidden toggle" type=checkbox id=md-image-toggle-1>
<img src="https://dl.dropboxusercontent.com/scl/fi/872htn2ieg1jk74k7cfm6/hugo-09-example-site.webp?rlkey=0ou1fendglqi8310cmzhk1fyh&amp;raw=1" alt="Example Site 보기" loading=lazy decoding=async></label></p><p>브라우저에서 <code>&lt;body></code> 태그 바로 아래에 있는 <code>.container</code> 요소를 클랙해보면
아래와 같이 메뉴, 본문, 목차 3개의 부분으로 나눠져 있는 것을 확인할 수 있습니다.
HTML 소스코드에서 각각의 요소에 대한 클래스를 확인해보면 <code>book-menu</code>, <code>book-page</code>, <code>book-toc</code>
로 지정되어 있습니다.</p><p><label class=md-image for=md-image-toggle-2><input class="hidden toggle" type=checkbox id=md-image-toggle-2>
<img src="https://dl.dropboxusercontent.com/scl/fi/q3m1gtqi2kwz1109pz8nq/hugo-10-main-container.webp?rlkey=5g1s015httn7c8nilwhv0w9pb&amp;raw=1" alt="메인 컨테이너 영역 선택" loading=lazy decoding=async></label></p><p>브라우저의 너비를 줄이다 보면 메뉴와 목차 영역이 사라지고 헤더 영역이 나타나게 됩니다.
헤더 영역은 <code>book-header</code> 클래스로 특정할 수 있습니다.
헤더 양옆의 버튼을 클릭하면 메뉴(왼쪽 버튼)와 목차(오른쪽 버튼)가 다시 나타납니다.</p><p><label class=md-image for=md-image-toggle-3><input class="hidden toggle" type=checkbox id=md-image-toggle-3>
<img src="https://dl.dropboxusercontent.com/scl/fi/x68lh4nu28awnctyyoc9p/hugo-11-mobile-header.webp?rlkey=1ktuycfbolqs19t7wok1q72l0&amp;raw=1" alt="모바일 헤더 영역 선택" loading=lazy decoding=async></label></p><p>이번 게시글에서는 메뉴, 목차, 헤더 영역을 순차적으로 개선해보겠습니다.</p><h2 id=메뉴-영역-개선하기>메뉴 영역 개선하기
<a class=anchor href=#%eb%a9%94%eb%89%b4-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>#</a></h2><p>Book 테마에서 메뉴 영역은 아래 이미지에서 선택된 부분입니다.</p><p><label class=md-image for=md-image-toggle-4><input class="hidden toggle" type=checkbox id=md-image-toggle-4>
<img src="https://dl.dropboxusercontent.com/scl/fi/vql6oba5mxrrv1yskoqjv/hugo-12-book-menu.webp?rlkey=99je2sfrmzs92jpbhuezlun58&amp;raw=1" alt="book-menu 영역 선택" loading=lazy decoding=async></label></p><p>좌측 사이드바에 해당하는 메뉴 영역은 <code>book-menu</code> 클래스가 적용된 요소로 감싸져 있으며,
<code>baseof.html</code> 파일에서 다음과 같이 <code>menu.html</code> 템플릿 파일을 호출합니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- baseof.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ define &#34;menu-container&#34; }}
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>aside</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-menu&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-menu-content&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ template &#34;menu&#34; . }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>aside</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>{{ end }}</span></span></code></pre></div></div><p><code>menu.html</code> 템플릿 파일은 <code>layouts/_partials/docs/</code> 경로에 있으며,
이름에서 알 수 있듯이 검색창을 나타내는 <code>docs/search</code> 템플릿이 두 번째로 호출되고,
그 가장 먼저 호출되는 <code>docs/brand</code> 템플릿이 이번 문단에서 개선하고자 하는 부분입니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/menu.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>nav</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>{{ partial &#34;docs/brand&#34; . }}
</span></span><span class=line><span class=cl>{{ partial &#34;docs/search&#34; . }}
</span></span><span class=line><span class=cl><span class=c>&lt;!-- ... --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>nav</span><span class=p>&gt;</span></span></span></code></pre></div></div><p>다시 <a href=#%eb%a9%94%eb%89%b4-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>위 이미지</a>와 아래 개선하고 싶은 사항을 같이 보면서
어떤 점을 해결해야 하는지 생각해보겠습니다.</p><blockquote class="sc-hint default"><ol><li>좌측에는 메뉴 영역을 표시합니다.</li><li>프로필 사진을 표시합니다. 클릭하면 블로그 홈페이지와 연결됩니다.</li><li>소셜 링크 또는 기능성 버튼을 표시합니다.</li></ol></blockquote><h3 id=1-메뉴-영역-위치-고정하기>1. 메뉴 영역 위치 고정하기
<a class=anchor href=#1-%eb%a9%94%eb%89%b4-%ec%98%81%ec%97%ad-%ec%9c%84%ec%b9%98-%ea%b3%a0%ec%a0%95%ed%95%98%ea%b8%b0>#</a></h3><p>일단, 결론적으로 제가 희망하는 디자인은 아래 이미지와 같습니다.
티스토리의 hELLO 테마입니다.</p><p><label class=md-image for=md-image-toggle-5><input class="hidden toggle" type=checkbox id=md-image-toggle-5>
<img src="https://dl.dropboxusercontent.com/scl/fi/4xn1fjflju78w0jv76i7h/hugo-02-example-tistory.webp?rlkey=ixtuq0oo3xa26cgqfkwri1i4t&amp;raw=1" alt="티스토리 인터페이스" loading=lazy decoding=async></label></p><p>위 스타일을 구현하는데 있어 문제점은 메뉴 영역이 어중간하게 화면 좌측 중간에 위치한다는 점입니다.</p><p>Book 테마에서는 메뉴 영역에 배경색이 없어서 자연스러워 보이지만,
저는 메뉴 영역과 본문 영역의 경계를 명확히 하기 위해 배경색을 넣어보면서 해당 문제점을 발견했습니다.</p><p><label class=md-image for=md-image-toggle-6><input class="hidden toggle" type=checkbox id=md-image-toggle-6>
<img src="https://dl.dropboxusercontent.com/scl/fi/r91v7nhof30antpb5wauo/hugo-13-book-menu-bg.webp?rlkey=vscar5p994g1xglcekt96r04l&amp;raw=1" alt="book-menu 영역에 회색 배경 스타일 적용 결과" loading=lazy decoding=async></label></p><p>이러한 스타일을 만들어낸 <code>assets/_main.scss</code> 파일의 <code>.book-menu</code> 부분을 확인해보니까
<code>flex</code> 속성이 적용되어 있었습니다. 메뉴, 본문, 목차 영역이 나란히 붙어있고
모니터의 너비가 길어질수록 좌우에 공백이 생기게 됩니다.</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// assets/_main.scss
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.book-menu</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>flex</span><span class=o>:</span> <span class=mi>0</span> <span class=mi>0</span> <span class=nv>$menu-width</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>font-size</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>font-size-smaller</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>메뉴 영역을 고정시키려면 <code>position: fixed;</code> 속성을 부여하고,
좌측 끝에 고정시키기 위해 <code>top: 0; left: 0;</code> 속성을 추가로 부여합니다.
나머지 <code>width: $menu-width; flex-shrink: 0;</code> 속성은 메뉴 영역의 너비를 고정시키는 스타일입니다.</p><p>참고로, 배경색은 <code>.book-menu</code> 하위의 <code>.book-menu-content</code> 요소에 적용했습니다.</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=nc>.book-menu</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>position</span><span class=o>:</span> <span class=ni>fixed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>top</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>left</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>width</span><span class=o>:</span> <span class=nv>$menu-width</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>flex-shrink</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nc>.book-menu-content</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>background</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=no>gray</span><span class=o>-</span><span class=mi>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>아직 목차 영역의 차례는 아니지만, 목차 영역도 메뉴 영역과 동일하게 우측 끝에 고정시킬 필요가 있어
미리 적용하겠습니다.</p><p>목차 영역에 해당하는 <code>book-toc</code> 클래스가 적용된 요소를 대상으로
<code>top: 0; right: 0;</code> 부분만 다르게 하여 <code>.book-menu</code> 와 동일한 속성을 적용했습니다.</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=nc>.book-toc</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>position</span><span class=o>:</span> <span class=ni>fixed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>top</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>right</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>width</span><span class=o>:</span> <span class=nv>$menu-width</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>flex-shrink</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>이렇게 적용했을 때, 본문 영역이 가운데 위치하지 않고 메뉴 영역에 치우친 쪽으로 정렬됩니다.</p><p>가운데 정렬하기 위해 본문 영역에 해당하는 <code>book-page</code> 클래스가 적용된 요소를 대상으로
<code>margin: 0 auto;</code> 속성을 적용하면 본문 영역 양 옆에 자동으로 동일한 크기의 여백을 만들어 줍니다.</p><p>초기 Book 테마에는 <code>min-width</code> 속성만 적용되어 있는데,
본문이 전체 영역을 차지해버려 여백이 만들어지지 않기 때문에 <code>max-width</code> 속성을 추가합니다.</p><p><code>$body-max-width</code> 변수는 기본적으로 없을건데, 저는 <code>assets/_defaults.scss</code> 파일에서 <code>$body-max-width: 48rem;</code> 라인을 추가해 본문의 최대 너비가 48rem이 되도록 적용했습니다.
(앞으로의 진행 과정에서 기존에 존재하지 않는 변수를 정의하여 사용하는 경우가 있을텐데,
<code>$padding-24</code> 등 직관적으로 이해할 수 있는 변수에 대한 설명은 생략하겠습니다.)</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=nc>.book-page</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>max-width</span><span class=o>:</span> <span class=nv>$body-max-width</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>min-width</span><span class=o>:</span> <span class=nv>$body-min-width</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>margin</span><span class=o>:</span> <span class=mi>0</span> <span class=ni>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>flex</span><span class=o>:</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>padding</span><span class=o>:</span> <span class=nv>$padding-16</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>위 스타일을 적용하면 아래 이미지와 같이 좌측 끝의 고정된 위치에 메뉴가 보여집니다.</p><p><label class=md-image for=md-image-toggle-7><input class="hidden toggle" type=checkbox id=md-image-toggle-7>
<img src="https://dl.dropboxusercontent.com/scl/fi/2mr2dsohsmvog0vb36w9k/hugo-14-book-menu-pos.webp?rlkey=48smm08lv0n1ua8ojxv0w77wz&amp;raw=1" alt="book-menu 영역 위치 고정 결과" loading=lazy decoding=async></label></p><p>잘 보이기 위해 브라우저의 너비를 1500px 정도로 줄이고 캡쳐한 것인데,
여기서 브라우저의 너비를 1200px까지 줄여보니까 아래 이미지처럼
본문이 메뉴 및 목차 영역 뒤에 겹쳐서 숨어버리는 현상이 발생했습니다.</p><p><label class=md-image for=md-image-toggle-8><input class="hidden toggle" type=checkbox id=md-image-toggle-8>
<img src="https://dl.dropboxusercontent.com/scl/fi/4i0yr7l89580syf3z2b9f/hugo-15-book-menu-overlap.webp?rlkey=adw6l26t24bvbo17jqj7d4wmr&amp;raw=1" alt="book-menu 영역 간 겹치는 문제" loading=lazy decoding=async></label></p><p>메뉴, 본문, 목차 영역이 flexible하게 정렬된 기존의 스타일과 다르게
메뉴와 목차 영역을 <code>position</code> 속성으로 양끝에 고정시키면서 본문 영역과 독립적인 요소가 되었습니다.
이로 인해 본문 영역이 메뉴와 목차 영역을 인식하지 못하고 침범하게 된 것입니다.</p><p>본문 메뉴가 메뉴와 목차 영역에 겹치지 않기 위해 다양한 해결 방법들이 있겠지만,
저는 Book 테마에서 이미 만들어놓은 반응형 디자인을 사용했습니다.</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=k>@media</span> <span class=ni>screen</span> <span class=ow>and</span> <span class=p>(</span><span class=na>max-width</span><span class=o>:</span> <span class=nv>$mobile-breakpoint</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nc>.book-menu</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>visibility</span><span class=o>:</span> <span class=ni>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=na>margin-inline-start</span><span class=o>:</span> <span class=o>-</span><span class=nv>$menu-width</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=na>z-index</span><span class=o>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nc>.book-toc</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>display</span><span class=o>:</span> <span class=ni>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nc>.book-header</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>display</span><span class=o>:</span> <span class=ni>block</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=c1>// ...
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p><code>@media screen and (max-width: $mobile-breakpoint)</code> 는
화면의 너비가 <code>$mobile-breakpoint</code> 보다 작아지는 경우를 기점으로 발생하는 조건문 입니다.</p><p><code>assets/_defaults.scss</code> 파일에서 <code>$mobile-breakpoint</code> 는
<code>$menu-width + $body-min-width * 1.2 + $toc-width</code> 정도의 크기를 가집니다.
계산하면 56rem 정도 되는데, 화면의 너비가 이보다 작아지면 메뉴와 목차 영역을 숨기고 헤더를 표시하게 됩니다.
(헤더에 대한 설명은 헤더를 개선할 때 할 예정이지만, 헤더에서 메뉴와 목차를 펼치고 접을 수 있습니다.)</p><p>변경된 스타일에서 본문이 메뉴 및 목차와 겹치게 되는 지점은
메뉴와 목차 영역의 너비에 <code>$body-max-width</code> 길이를 더한 크기입니다.
즉, <code>$mobile-breakpoint</code> 에서 <code>$body-min-width</code> 를
<code>$body-max-width</code> 로 바꿔주기만 하면 됩니다.
이렇게 변경하고 다시 계산하면 93.6rem이 되어 본문이 메뉴 및 목차와 겹치지 않게 됩니다.</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=nv>$mobile-breakpoint</span><span class=o>:</span> <span class=nv>$menu-width</span> <span class=o>+</span> <span class=nv>$body-max-width</span> <span class=o>*</span> <span class=mi>1</span><span class=mf>.2</span> <span class=o>+</span> <span class=nv>$toc-width</span> <span class=k>!default</span><span class=p>;</span></span></span></code></pre></div></div><p>이렇게 해결된 줄 알았지만, 32인치 모니터 및 모바일 기기를 사용하는 입장에서 문제가 없었던 것이고
13인치 노트북에서 블로그에 접속해보니까 모바일처럼 메뉴와 본문이 숨겨져 보였습니다.
그래서 이후에 단일 <code>$mobile-breakpoint</code> 를 <code>$wide-breakpoint</code>, <code>$toc-breakpoint</code>, <code>$menu-breakpoint</code> 3단계로 나누고 <code>$wide-breakpoint</code> 지점에서 본문의 너비를 한 번 줄여주어
11인치 너비까지는 메뉴와 목차가 전부 표시되도록 수정했습니다.
이 부분은 각자의 화면 크기에 맞춰 직접 진행해보시기 바랍니다.</p><h3 id=2-프로필-사진을-표시하기>2. 프로필 사진을 표시하기
<a class=anchor href=#2-%ed%94%84%eb%a1%9c%ed%95%84-%ec%82%ac%ec%a7%84%ec%9d%84-%ed%91%9c%ec%8b%9c%ed%95%98%ea%b8%b0>#</a></h3><p>현재까지의 변경사항을 적용하면 블로그가 아래와 같이 보여집니다.</p><p><label class=md-image for=md-image-toggle-9><input class="hidden toggle" type=checkbox id=md-image-toggle-9>
<img src="https://dl.dropboxusercontent.com/scl/fi/2mr2dsohsmvog0vb36w9k/hugo-14-book-menu-pos.webp?rlkey=48smm08lv0n1ua8ojxv0w77wz&amp;raw=1" alt="book-menu 영역 위치 고정 결과" loading=lazy decoding=async></label></p><p>메뉴 영역에서 블로그 제목만 있고 눈길을 끌만한 이미지가 없습니다.
이번에는 제목 위에 프로필 사진을 추가해보겠습니다.</p><p><a href=#%eb%a9%94%eb%89%b4-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>메뉴 영역 개선하기</a> 문단의 첫 부분에서 설명했듯이
블로그 제목이 위치한 템플릿은 <code>layouts/_partials/docs/brand.html</code> 파일입니다.
파일의 내용은 다음과 같습니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/brand.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-brand&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>a</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex align-center&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ cond (not .Site.Home.File) .Sites.Default.Home.RelPermalink .Site.Home.RelPermalink }}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{- with .Site.Params.BookLogo -}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;{{ . | relURL }}&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;{{ partial &#34;</span><span class=na>docs</span><span class=err>/</span><span class=na>text</span><span class=err>/</span><span class=na>i18n</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=na>Logo</span><span class=err>&#34;</span> <span class=err>}}&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    {{- end -}}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>span</span><span class=p>&gt;</span>{{ .Site.Title }}<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span></span></span></code></pre></div></div><p>설정 파일에서 BookLogo 파라미터를 추가하면 제목 옆에 로고를 표시하는듯 하지만,
프로필 사진은 이보다 더 크게 제목 위에 나타낼 것이기 때문에 새로운 요소를 추가하겠습니다.
(프로필 사진을 원형으로 표현하는 CSS 스타일도 <code>assets/_custom.scss</code> 에 적용합니다.)</p><div class=sc-tabs><input type=radio class=toggle name=tabs-profile-image id=tabs-profile-image-0 checked>
<label for=tabs-profile-image-0>HTML</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/brand.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;sidebar-profile&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;profile-img-wrap&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Site.BaseURL }}&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.BookMenu.profileImage }}&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;Profile&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;profile-img&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-brand&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- ... --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span></span></span></code></pre></div></div></div><input type=radio class=toggle name=tabs-profile-image id=tabs-profile-image-1>
<label for=tabs-profile-image-1>CSS</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// assets/_custom.scss
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.profile-img-wrap</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>border-radius</span><span class=o>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>overflow</span><span class=o>:</span> <span class=ni>hidden</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>margin-bottom</span><span class=o>:</span> <span class=mi>1</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.profile-img</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>width</span><span class=o>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>height</span><span class=o>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>object-fit</span><span class=o>:</span> <span class=ni>contain</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>border-radius</span><span class=o>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>display</span><span class=o>:</span> <span class=ni>block</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div><p>템플릿에서 <code>{{ .Site.Params.BookMenu.profileImage }}</code> 부분은
설정 파일에서 파라미터를 호출하는 부분입니다.
기본 설정 파일은 Hugo 프로젝트 루트 경로에 있는 <code>hugo.toml</code> 파일입니다.
해당 파일에서 <code>profileImage</code> 파라미터를 추가해야 하는데 YAML 형식에서는
이렇게 추가할 수 있습니다.</p><div class=sc-codeblock data-lang=yaml><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">yaml</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=c># hugo.yaml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>BookMenu</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>profileImage</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;&lt;프로필-사진-주소&gt;&#34;</span></span></span></code></pre></div></div><p>프로필 사진의 주소까지 설정한 결과는 아래 이미지와 같습니다.</p><p><label class=md-image for=md-image-toggle-10><input class="hidden toggle" type=checkbox id=md-image-toggle-10>
<img src="https://dl.dropboxusercontent.com/scl/fi/ctvdfak8bnphkkjcu08xf/hugo-16-book-menu-profile.webp?rlkey=vv1amtzqw7er0vezhsac2tmn2&amp;raw=1" alt="book-menu 영역에 프로필 사진 추가" loading=lazy decoding=async></label></p><h3 id=3-소셜-링크를-표시하기>3. 소셜 링크를 표시하기
<a class=anchor href=#3-%ec%86%8c%ec%85%9c-%eb%a7%81%ed%81%ac%eb%a5%bc-%ed%91%9c%ec%8b%9c%ed%95%98%ea%b8%b0>#</a></h3><p>다음으로, 프로필 사진 아래에, 그리고 블로그 제목 위에 소셜 링크를 표시할 것입니다.</p><p><code>brand.html</code> 템플릿에 소셜 링크를 추가하면 되는 것은 이미 알고 있으므로
부가적인 설명없이 바로 추가해보겠습니다.</p><div class=sc-tabs><input type=radio class=toggle name=tabs-social-links id=tabs-social-links-0 checked>
<label for=tabs-social-links-0>HTML</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/brand.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;sidebar-profile&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;profile-img-wrap&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- ... --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;sidebar-social&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.BookMenu.githubLink }}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;GitHub&#34;</span> <span class=err>{{</span> <span class=na>if</span> <span class=na>not</span> <span class=err>.</span><span class=na>Site</span><span class=err>.</span><span class=na>Params</span><span class=err>.</span><span class=na>BookMenu</span><span class=err>.</span><span class=na>githubLink</span> <span class=err>}}</span><span class=na>class</span><span class=o>=</span><span class=s>&#34;disabled&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=err>}}</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa-brands fa-github&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.BookMenu.linkedinLink }}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;LinkedIn&#34;</span> <span class=err>{{</span> <span class=na>if</span> <span class=na>not</span> <span class=err>.</span><span class=na>Site</span><span class=err>.</span><span class=na>Params</span><span class=err>.</span><span class=na>BookMenu</span><span class=err>.</span><span class=na>linkedinLink</span> <span class=err>}}</span><span class=na>class</span><span class=o>=</span><span class=s>&#34;disabled&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=err>}}</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa-brands fa-linkedin&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.BookMenu.notionLink }}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;Notion&#34;</span> <span class=err>{{</span> <span class=na>if</span> <span class=na>not</span> <span class=err>.</span><span class=na>Site</span><span class=err>.</span><span class=na>Params</span><span class=err>.</span><span class=na>BookMenu</span><span class=err>.</span><span class=na>notionLink</span> <span class=err>}}</span><span class=na>class</span><span class=o>=</span><span class=s>&#34;disabled&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=err>}}</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa-brands fa-notion&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Site.Params.BookMenu.twitterLink }}&#34;</span> <span class=na>target</span><span class=o>=</span><span class=s>&#34;_blank&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;Twitter&#34;</span> <span class=err>{{</span> <span class=na>if</span> <span class=na>not</span> <span class=err>.</span><span class=na>Site</span><span class=err>.</span><span class=na>Params</span><span class=err>.</span><span class=na>BookMenu</span><span class=err>.</span><span class=na>twitterLink</span> <span class=err>}}</span><span class=na>class</span><span class=o>=</span><span class=s>&#34;disabled&#34;</span><span class=err>{{</span> <span class=na>end</span> <span class=err>}}</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa-brands fa-twitter&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-brand&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- ... --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span></span></span></code></pre></div></div></div><input type=radio class=toggle name=tabs-social-links id=tabs-social-links-1>
<label for=tabs-social-links-1>CSS</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// assets/_custom.scss
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.sidebar-social</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>display</span><span class=o>:</span> <span class=ni>flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>justify-content</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>align-items</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>gap</span><span class=o>:</span> <span class=mi>0</span><span class=mf>.5</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>font-size</span><span class=o>:</span> <span class=mi>1</span><span class=mf>.5</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>width</span><span class=o>:</span> <span class=mi>100</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>margin-bottom</span><span class=o>:</span> <span class=mi>1</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.sidebar-social</span> <span class=nt>a</span><span class=o>,</span> <span class=nt>i</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>color</span><span class=o>:</span> <span class=o>--</span><span class=ni>color</span><span class=o>-</span><span class=n>social-link</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>font-size</span><span class=o>:</span> <span class=mi>2</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>flex</span><span class=o>:</span> <span class=mi>1</span> <span class=mi>1</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>text-align</span><span class=o>:</span> <span class=ni>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>transition</span><span class=o>:</span> <span class=ni>color</span> <span class=mi>0</span><span class=mf>.2</span><span class=kt>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.sidebar-social</span> <span class=nt>a</span><span class=nc>.disabled</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>pointer-events</span><span class=o>:</span> <span class=ni>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>opacity</span><span class=o>:</span> <span class=mi>0</span><span class=mf>.5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>cursor</span><span class=o>:</span> <span class=ni>default</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div><p>총 4개의 소셜 링크 [ 깃허브, 링크드인, 노션, 트위터 ] 를 추가했습니다.</p><p><code>&lt;a></code> 태그에서 if 문을 사용하는 것을 볼 수 있는데, 이는 소셜 링크를 가리키는
<code>BookMenu.githubLink</code> 등의 파라미터가 설정 파일에 없을 경우 추가되는 구문입니다.
소셜 링크가 없으면 아래 CSS 설정에서 활용될 <code>disabled</code> 클래스가 적용되어 링크가 비활성화됩니다.</p><p>그리고, <code>&lt;a></code> 태그의 내용을 보면 알 수 있듯이 소셜 플랫폼에 대한 로고 이미지가 아니라
<code>&lt;i></code> 태그 아이콘을 사용하고 있습니다. 이것은 <a href=https://fontawesome.com/ target=_blank rel="noopener noreferrer">Font Awesome</a>에서
제공하는 스타일인데, 이를 사용하기 위해 외부 소스의 CSS 파일을 가져와야 합니다.</p><a href=https://fontawesome.com/ target=_blank class=sc-bookmark-card><div class=sc-bookmark-image><img src=https://img.fortawesome.com/1ce05b4b/open-graph-general.png alt="Font Awesome" loading=lazy decoding=async></div><div class=sc-bookmark-content><h3 class=sc-bookmark-title>Font Awesome</h3><p class=sc-bookmark-description>The internet&amp;#39;s icon library + toolkit. Used by millions of designers, devs, &amp;amp; content creators. Open-source. …</p><small class=sc-bookmark-url>fontawesome.com</small></div></a><p><a href=#Book-%ed%85%8c%eb%a7%88-%ea%b5%ac%ec%a1%b0>Book 테마 구조</a> 문단에서 했던 것처럼
<code>&lt;head></code> 태그 내에 들어갈 요소는 <code>layouts/_partials/docs/html-head.html</code>
템플릿에 추가합니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/html-head.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;stylesheet&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css&#34;</span> <span class=na>crossorigin</span><span class=o>=</span><span class=s>&#34;anonymous&#34;</span> <span class=p>/&gt;</span></span></span></code></pre></div></div><p>로고 이미지를 사용했다면 소셜 로고 크기를 조절하기 위해 <code>width</code> 속성을 적용해야 하지만,
텍스트 유형인 <code>&lt;i></code> 태그를 사용하기 때문에 <code>font-size</code> 속성으로 크기를 조절해주어야 합니다.
(<code>--color-social-link</code> 변수는 라이트 모드와 다크 모드에 따라 달라지는데,
아직 다크 모드를 추가하기 전이므로 <code>#fff</code> 색상을 적용해주세요.
변수가 정의되지 않아도 오류는 발생하지 않습니다.)</p><p>또한, 소설 링크를 설정 파일에서 추가하지 않았을 경우에 추가되는 <code>disabled</code> 클래스에
링크를 비활성화하는 스타일을 적용했습니다.</p><p>소셜 링크까지 추가한 결과는 아래 이미지와 같습니다.</p><p><label class=md-image for=md-image-toggle-11><input class="hidden toggle" type=checkbox id=md-image-toggle-11>
<img src="https://dl.dropboxusercontent.com/scl/fi/wnx9vi7vszdijhyg6fyre/hugo-17-book-menu-social.webp?rlkey=2x53x3i816t9rshv25va0bjgi&amp;raw=1" alt="book-menu 영역에 소셜 링크 추가" loading=lazy decoding=async></label></p><p>추후에 카테고리, 태그 등을 추가하기 위해 메뉴 영역을 수정할 일이 있지만,
이번 게시글에서는 메뉴 영역에 대해 여기까지 진행하겠습니다.</p><h2 id=목차-영역-개선하기>목차 영역 개선하기
<a class=anchor href=#%eb%aa%a9%ec%b0%a8-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>#</a></h2><p>Book 테마에서 목차 영역은 아래 이미지에서 선택된 부분입니다.</p><p><label class=md-image for=md-image-toggle-12><input class="hidden toggle" type=checkbox id=md-image-toggle-12>
<img src="https://dl.dropboxusercontent.com/scl/fi/s6ntlk5pgwkqi3kdtopnb/hugo-18-book-toc.webp?rlkey=b35n6qbjlk3sbateixn0jn4br&amp;raw=1" alt="book-toc 영역 선택" loading=lazy decoding=async></label></p><p>위 이미지는 메뉴 영역을 개선하기 전인 Example Site 기준이고,
<a href=#1-%eb%a9%94%eb%89%b4-%ec%98%81%ec%97%ad-%ec%9c%84%ec%b9%98-%ea%b3%a0%ec%a0%95%ed%95%98%ea%b8%b0>메뉴 영역을 위치 고정하기</a> 문단에서
목차 영역도 우측 끝에 고정시켰습니다.
(너무 끝에 붙어있으면 보기 안좋아 <code>1.5rem</code> 수준의 여백을 추가했습니다.)</p><p><label class=md-image for=md-image-toggle-13><input class="hidden toggle" type=checkbox id=md-image-toggle-13>
<img src="https://dl.dropboxusercontent.com/scl/fi/lh2apnezxbezik8n5hpan/hugo-19-book-toc-pos.webp?rlkey=tuwvadpunh2try3jvw3lptvpz&amp;raw=1" alt="book-toc 영역 위치 고정 결과" loading=lazy decoding=async></label></p><p>목차 영역은 <code>book-toc</code> 클래스가 적용된 요소로 감싸져 있으며, <code>baseof.html</code> 파일에서
다음과 같이 <code>toc</code> 템플릿을 호출합니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- baseof.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ define &#34;toc-container&#34; }}
</span></span><span class=line><span class=cl>{{ if partial &#34;docs/toc-show&#34; . }}
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>aside</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-toc&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-toc-content&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ template &#34;toc&#34; . }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>aside</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>{{ end }}
</span></span><span class=line><span class=cl>{{ end }}</span></span></code></pre></div></div><p><code>toc.html</code> 템플릿 파일은 <code>layouts/_partials/docs/</code> 경로에 있는데,
내용은 별 거 없습니다. Hugo 공식문서
<a href=https://gohugo.io/methods/page/tableofcontents/ target=_blank rel="noopener noreferrer">TableOfContents</a>를
보면 <code>{{ .TableOfContents }}</code> 템플릿을 통해 목차를 만들 수 있다고 안내되어 있습니다.
Book 테마에서도 Hugo에 내장된 목차 템플릿을 호출하여 목차를 생성합니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/toc.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ partial &#34;docs/inject/toc-before&#34; . }}
</span></span><span class=line><span class=cl>{{ .TableOfContents }}
</span></span><span class=line><span class=cl>{{ partial &#34;docs/inject/toc-after&#34; . }}</span></span></code></pre></div></div><p>참고로, 같은 경로에 있는 <code>toc-show.html</code> 파일은 <code>baseof.html</code> 에서
<code>book-toc</code> 를 생성할지 결정하는 역할을 수행하는데
내용을 보면 <code>nav#TableOfContents</code> 영역이 있는지 검사합니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/toc-show.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ return default
</span></span><span class=line><span class=cl>  (not (eq .TableOfContents &#34;<span class=p>&lt;</span><span class=nt>nav</span> <span class=na>id</span><span class=o>=</span><span class=s>\&#34;TableOfContents\&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>nav</span><span class=p>&gt;</span>&#34;))
</span></span><span class=line><span class=cl>  (default .Site.Params.BookToC .Params.BookToC)
</span></span><span class=line><span class=cl>}}</span></span></code></pre></div></div><p>다시 Hugo 공식문서
<a href=https://gohugo.io/methods/page/tableofcontents/ target=_blank rel="noopener noreferrer">TableOfContents</a>를
보면 목차 영역이 아래 HTML 형태로 만들어지는 것을 알 수 있습니다.
<code>#TableOfContents</code> 요소를 대상으로 CSS 스타일을 적용할 일이 있어서 알고 있으면 좋습니다.</p><div class=sc-codeblock data-lang><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">text</span></div><pre tabindex=0><code>&lt;nav id=&#34;TableOfContents&#34;&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;a href=&#34;#section-1&#34;&gt;Section 1&lt;/a&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;a href=&#34;#section-11&#34;&gt;Section 1.1&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&#34;#section-12&#34;&gt;Section 1.2&lt;/a&gt;&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;&lt;a href=&#34;#section-2&#34;&gt;Section 2&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/nav&gt;</code></pre></div><p>목차 영역에서는 어떤 점을 해결하면 좋을지 생각해보겠습니다.</p><blockquote class="sc-hint default"><ol><li>목차와 본문의 사이에 목차의 길이만큼 구분선을 추가합니다.</li><li>스크롤이 위치한 목차를 하이라이트로 강조합니다.</li><li>우측 하단의 고정된 위치에 이동 버튼을 추가합니다.<ul><li>맨 위로 이동, 맨 아래로 이동, 뒤로 가기 버튼을 세로로 나열합니다.</li></ul></li></ol></blockquote><h3 id=1-목차-옆에-구분선-추가하기>1. 목차 옆에 구분선 추가하기
<a class=anchor href=#1-%eb%aa%a9%ec%b0%a8-%ec%98%86%ec%97%90-%ea%b5%ac%eb%b6%84%ec%84%a0-%ec%b6%94%ea%b0%80%ed%95%98%ea%b8%b0>#</a></h3><p>단순히 목차 영역에 <code>border</code> 속성을 추가하면 되지만, 목차 영역을 어디까지 볼 것인지 고려해야 합니다.</p><p><code>book-toc</code> 클래스가 적용된 요소는 목차를 포함한 우측 사이드바 전체 영역입니다.
<code>book-toc</code> 클래스를 대상으로 <code>border</code> 속성을 추가하면 본문과 목차 사이에
끝없이 긴 라인이 만들어질 것입니다.</p><p>제가 원하는 것은 목차 텍스트가 있는 영역에만 <code>border</code> 속성을 추가하는 것입니다.</p><p>Book 테마의 <code>toc.html</code> 템플릿만 보았다면 어디에 <code>border</code> 속성을 추가해야 하는지
알 수 없지만, Hugo 공식문서
<a href=https://gohugo.io/methods/page/tableofcontents/ target=_blank rel="noopener noreferrer">TableOfContents</a>를
통해 <code>#TableOfContents</code> 요소가 목차 텍스트가 있는 영역이란 것을 확인했습니다.</p><p>이제 <code>assets/_main.scss</code> 파일에 스타일을 추가하겠습니다.</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// assets/_main.scss
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nn>#TableOfContents</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>margin-top</span><span class=o>:</span> <span class=mi>2</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>padding-left</span><span class=o>:</span> <span class=mi>1</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>border-left</span><span class=o>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=ni>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>toc-font-color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nt>a</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>color</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>toc-font-color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>단순히 <code>border</code> 속성만 추가하면 구분선과 목차 텍스트가 딱 붙어버리기 때문에
적당한 여백을 추가했습니다.</p><p>저는 구분선의 색상을 나타내는 <code>--toc-font-color</code> 변수에 검은색(<code>black</code>)을 지정했습니다.
추가로, 목차를 구성하는 <code>&lt;a></code> 태그가 링크와 동일한 파란색 글씨색을 가져서 보기 안좋아
구분선과 동일한 색상을 적용했는데, 이 부분은 취향에 맞게 수정해보시기 바랍니다.</p><p><label class=md-image for=md-image-toggle-14><input class="hidden toggle" type=checkbox id=md-image-toggle-14>
<img src="https://dl.dropboxusercontent.com/scl/fi/ji6qysyrb41vogsh95g2z/hugo-20-book-toc-border.webp?rlkey=wcu0nu9xg5oes1im89ds7tclt&amp;raw=1" alt="book-toc 영역에 구분선 추가" loading=lazy decoding=async></label></p><p>목차 영역을 돋보이기 위해 잠시 본문의 헤딩을 늘렸습니다.</p><h3 id=2-목차-하이라이트-적용하기>2. 목차 하이라이트 적용하기
<a class=anchor href=#2-%eb%aa%a9%ec%b0%a8-%ed%95%98%ec%9d%b4%eb%9d%bc%ec%9d%b4%ed%8a%b8-%ec%a0%81%ec%9a%a9%ed%95%98%ea%b8%b0>#</a></h3><p>독자에게 게시글에서 자신이 어떤 위치에 있는지 알려주는 것은 가독성을 크게 향상시킬 수 있다고 생각합니다.</p><p>하지만, 이러한 기능을 구현하는 방법을 몰라 코파일럿의 Sonnet 4.5 모델에게
목차 하이라이트를 구현하는 방법을 물어보았습니다.
프롬프트는 특별히 길게 쓴건 아니라서 따로 저장해두진 않았는데,
에이전트 모드로 Book 테마 경로를 첨부하여 문맥을 제공하였고 아래와 같은 코드가 생성되었습니다.</p><div class=sc-tabs><input type=radio class=toggle name=tabs-toc-highlight id=tabs-toc-highlight-0 checked>
<label for=tabs-toc-highlight-0>JavaScript</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=js><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">js</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// assets/toc-highlight.js
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>document</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;DOMContentLoaded&#39;</span><span class=p>,</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>headings</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;h2[id], h3[id]&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>getVisibleToc</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kr>const</span> <span class=nx>bookToc</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.book-toc&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>bookToc</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>style</span> <span class=o>=</span> <span class=nb>window</span><span class=p>.</span><span class=nx>getComputedStyle</span><span class=p>(</span><span class=nx>bookToc</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>style</span><span class=p>.</span><span class=nx>visibility</span> <span class=o>===</span> <span class=s1>&#39;visible&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=nx>bookToc</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;#TableOfContents&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;#TableOfContents&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>observer</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>IntersectionObserver</span><span class=p>(</span><span class=nx>entries</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>entries</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>entry</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>id</span> <span class=o>=</span> <span class=nx>entry</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>getAttribute</span><span class=p>(</span><span class=s1>&#39;id&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>toc</span> <span class=o>=</span> <span class=nx>getVisibleToc</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>tocLinks</span> <span class=o>=</span> <span class=nx>toc</span><span class=p>.</span><span class=nx>querySelectorAll</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=kr>const</span> <span class=nx>correspondingTocLink</span> <span class=o>=</span> <span class=nx>toc</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=sb>`a[href=&#34;#</span><span class=si>${</span><span class=nx>id</span><span class=si>}</span><span class=sb>&#34;]`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=nx>correspondingTocLink</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=nx>entry</span><span class=p>.</span><span class=nx>isIntersecting</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nx>tocLinks</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>link</span> <span class=p>=&gt;</span> <span class=nx>link</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>remove</span><span class=p>(</span><span class=s1>&#39;active&#39;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>                    <span class=nx>correspondingTocLink</span><span class=p>.</span><span class=nx>classList</span><span class=p>.</span><span class=nx>add</span><span class=p>(</span><span class=s1>&#39;active&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>});</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>rootMargin</span><span class=o>:</span> <span class=s1>&#39;0px 0px -70% 0px&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>headings</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>heading</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>observer</span><span class=p>.</span><span class=nx>observe</span><span class=p>(</span><span class=nx>heading</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div></div></div><input type=radio class=toggle name=tabs-toc-highlight id=tabs-toc-highlight-1>
<label for=tabs-toc-highlight-1>CSS</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// assets/_main.scss
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nn>#TableOfContents</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nt>a</span><span class=nc>.active</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>color</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>toc-active-color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=na>font-weight</span><span class=o>:</span> <span class=ni>bold</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div><p>자바스크립트로 기능을 정의하는데 익숙하지는 않지만,
함수명 등으로 유추해봤을 때 <code>getVisibleToc()</code> 함수에서 <code>#TableOfContents</code> 요소를 가져와
<code>toc</code> 상수에 할당하는데 사용되는 것으로 보입니다.
그리고, <code>toc</code> 상수로부터 <code>&lt;a></code> 태그들을 꺼내서 순회하면서 <code>&lt;a></code> 태그가 가리키는
헤딩 요소가 화면에 들어오면 <code>active</code> 클래스를 추가한다고 해석할 수 있습니다.</p><p>CSS 스타일을 통해 <code>active</code> 클래스인 요소에 대해서만 하이라이트를 적용했습니다.
<code>--toc-active-color</code> 변수는 제가 입맛에 맞게 바꾼 색상인데
라이트 모드에서는 다른 목차 글씨 색상과 동일한 검은색(<code>black</code>)이며,
<code>font-weight: bold;</code> 속성으로 글씨를 굵게하는 것으로 하이라이트를 표현했습니다.</p><p>이렇게하면 목차 하이라이트가 적용되지만, <code>assets/</code> 경로에 새로 추가한 자바스크립트 파일은
<code>layouts/_partials/docs/html-head.html</code> 템플릿에서 호출해주어야 합니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/html-head.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{- $tocHighlightJS := resources.Get &#34;toc-highlight.js&#34; | resources.ExecuteAsTemplate &#34;toc-highlightjs&#34; . | resources.Minify | resources.Fingerprint }}
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>defer</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;{{ partial &#34;</span><span class=na>docs</span><span class=err>/</span><span class=na>links</span><span class=err>/</span><span class=na>resource-precache</span><span class=err>&#34;</span> <span class=err>$</span><span class=na>tocHighlightJS</span> <span class=err>}}&#34;</span> <span class=err>{{</span> <span class=na>template</span> <span class=err>&#34;</span><span class=na>integrity</span><span class=err>&#34;</span> <span class=err>$</span><span class=na>tocHighlightJS</span> <span class=err>}}</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span></span></span></code></pre></div></div><p>이렇게 적용하면 아래 이미지와 같이 현재 보고 있는 헤딩이 목차에서 하이라이트됩니다.
스크롤을 할만큼 본문이 길지 않지만, 이미지를 기준으로 "제목 2-3" 헤딩을 현재 보고 있는 것으로 인식하여
목차에서 "제목 2-3" 항목이 굵은 글씨로 강조되고 있습니다.</p><p><label class=md-image for=md-image-toggle-15><input class="hidden toggle" type=checkbox id=md-image-toggle-15>
<img src="https://dl.dropboxusercontent.com/scl/fi/0ncrj5rqapnj3ikwqzx70/hugo-21-book-toc-highlight.webp?rlkey=cune4iwe36oamxeszzmbtawyc&amp;raw=1" alt="book-toc 영역에 하이라이트 기능 추가" loading=lazy decoding=async></label></p><h3 id=3-스크롤-이동-버튼-추가하기>3. 스크롤 이동 버튼 추가하기
<a class=anchor href=#3-%ec%8a%a4%ed%81%ac%eb%a1%a4-%ec%9d%b4%eb%8f%99-%eb%b2%84%ed%8a%bc-%ec%b6%94%ea%b0%80%ed%95%98%ea%b8%b0>#</a></h3><p>제가 경험해 본 웹사이트 중에서 우측 하단에 스크롤 이동 버튼을 놓는 경우가 종종 있었습니다.
PC에서는 굳이 이러한 버튼을 안써도 키보드 단축키로 이동하기 쉽지만,
모바일에서는 그 긴 스크롤을 일일이 내리기 불편해 있으면 매우 편한 기능이라고 생각합니다.</p><p>그렇다면 이 버튼을 어느 템플릿에 넣으면 좋을지 생각해봐야 합니다.</p><p>새로운 템플릿을 만들어서 <code>toc.html</code> 템플릿에서 호출할 수도 있지만,
저는 <code>layouts/_partials/docs/inject/</code> 경로에 있는
<code>toc-after.html</code> 템플릿에 추가하는게 적절하다고 생각했습니다.</p><p>이유는 <code>toc.html</code> 템플릿에서 이미 해당 템플릿을 호출하고 있고,
<code>toc-after.html</code> 템플릿 자체는 비어있는 파일이라
새로운 템플릿 파일을 만드는 것과 별 차이가 없다고 판단했기 때문입니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/toc.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{ partial &#34;docs/inject/toc-before&#34; . }}
</span></span><span class=line><span class=cl>{{ .TableOfContents }}
</span></span><span class=line><span class=cl>{{ partial &#34;docs/inject/toc-after&#34; . }}</span></span></code></pre></div></div><p><code>toc-after.html</code> 에 다음 3개의 버튼을 추가했습니다. <code>onclick</code> 이벤트에 대해서
위에서부터 스크롤을 맨 위로, 스크롤을 맨 아래로, 그리고 이전 페이지로 이동하는 3가지 기능을
하는 버튼입니다.</p><div class=sc-tabs><input type=radio class=toggle name=tabs-book-nav id=tabs-book-nav-0 checked>
<label for=tabs-book-nav-0>HTML</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/inject/toc-after.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-nav&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-nav-btn3&#34;</span> <span class=na>onclick</span><span class=o>=</span><span class=s>&#34;window.scrollTo({top: 0, behavior: &#39;smooth&#39;})&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;Go to top&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa fa-chevron-up&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-nav-btn3&#34;</span> <span class=na>onclick</span><span class=o>=</span><span class=s>&#34;window.scrollTo({top: document.body.scrollHeight, behavior: &#39;smooth&#39;})&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;Go to bottom&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa fa-chevron-down&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>button</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-nav-btn3&#34;</span> <span class=na>onclick</span><span class=o>=</span><span class=s>&#34;history.back()&#34;</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;Go back&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;fa-solid fa-arrow-left&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span></span></span></code></pre></div></div></div><input type=radio class=toggle name=tabs-book-nav id=tabs-book-nav-1>
<label for=tabs-book-nav-1>CSS</label><div class="sc-tabs-content markdown-inner"><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// assets/_main.scss
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.book-nav</span><span class=o>,</span> <span class=nc>.book-mobile-nav</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>position</span><span class=o>:</span> <span class=ni>fixed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>bottom</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>right</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=na>margin-bottom</span><span class=o>:</span> <span class=nv>$padding-16</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>margin-right</span><span class=o>:</span> <span class=nv>$padding-16</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=na>display</span><span class=o>:</span> <span class=ni>flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>align-items</span><span class=o>:</span> <span class=ni>flex-end</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>flex-direction</span><span class=o>:</span> <span class=ni>column</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nc>.book-nav-btn3</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=na>width</span><span class=o>:</span> <span class=nv>$font-size-40</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=na>height</span><span class=o>:</span> <span class=nv>$font-size-40</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=na>margin</span><span class=o>:</span> <span class=nv>$padding-4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=na>border</span><span class=o>:</span> <span class=mi>0</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=na>border-radius</span><span class=o>:</span> <span class=mi>50</span><span class=kt>%</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=na>background</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=no>gray</span><span class=o>-</span><span class=mi>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=na>color</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>body-font-color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=na>cursor</span><span class=o>:</span> <span class=ni>pointer</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>i</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=na>font-size</span><span class=o>:</span> <span class=nv>$font-size-20</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div></div><p>CSS 스타일에서 스크롤 이동 버튼을 표현하는데 핵심적인 속성은 <code>border-radius: 50%;</code> 및
<code>background: var(--gray-200);</code> 입니다.
Font Awesome에서 가져온 단순한 화살표 아이콘을 동그란 버튼처럼 가공해 보기 좋아졌습니다.
그런데, 이렇게 적용했을 때 스크롤 이동 버튼이 우측 끝에 너무 딱 붙어있어서
<code>book-toc</code> 영역 전체에 <code>margin-right: $padding-48;</code> 속성을 추가했습니다.</p><p>스크롤 이동 버튼까지 추가한 결과는 아래와 같습니다.
(하단에 있는 버튼이 잘 보이기 위해 브라우저 높이를 450px 정도로 줄였습니다.)</p><p><label class=md-image for=md-image-toggle-16><input class="hidden toggle" type=checkbox id=md-image-toggle-16>
<img src="https://dl.dropboxusercontent.com/scl/fi/dsdk1qgd6ymnaziu2g83o/hugo-22-book-toc-button.webp?rlkey=ycvts8xntyix655ym1m6nsvhs&amp;raw=1" alt="book-toc 영역 하단에 스크롤 이동 버튼 추가" loading=lazy decoding=async></label></p><p>목차 영역은 여기서 완성입니다.
나중에 다크 모드를 적용할 때 전용 색상 스타일을 추가할 일이 있지만,
더 이상 목차 영역에 새로운 기능을 추가하는 경우는 없습니다.</p><h2 id=헤더-영역-개선하기>헤더 영역 개선하기
<a class=anchor href=#%ed%97%a4%eb%8d%94-%ec%98%81%ec%97%ad-%ea%b0%9c%ec%84%a0%ed%95%98%ea%b8%b0>#</a></h2><p>헤더 영역은 브라우저 너비가 일정 크기 이상 줄어들 때만 나타나는 모바일 전용 헤더입니다.</p><p><label class=md-image for=md-image-toggle-17><input class="hidden toggle" type=checkbox id=md-image-toggle-17>
<img src="https://dl.dropboxusercontent.com/scl/fi/tnmxpbfinoqf0o3z0wi72/hugo-23-book-header.webp?rlkey=tc7h4bspbn2ea5scnjqbqrdl8&amp;raw=1" alt="모바일 화면에서 book-header가 보이는 모습" loading=lazy decoding=async></label></p><p>헤더 영역은 <code>book-header</code> 클래스가 적용된 요소로 감싸져 있으며, <code>baseof.html</code> 파일에서
다음과 같이 <code>header</code> 템플릿을 호출합니다. <code>book-header</code> 의 바로 위를 보면
본문을 나타내는 <code>book-page</code> 요소의 하위에 헤더 영역이 있음을 알 수 있습니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- baseof.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- ... --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-page&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>header</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-header&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        {{ template &#34;header&#34; . }} <span class=c>&lt;!-- Mobile layout header --&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>header</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- ... --&gt;</span></span></span></code></pre></div></div><p><code>header.html</code> 템플릿 파일은 <code>layouts/_partials/docs/</code> 경로에 있는데
내용은 직관적으로 읽힙니다. 메뉴 버튼을 의미하는 <code>menu-control</code> 요소,
제목을 가리키는 <code>&lt;h3></code> 태그, 그리고 목차 버튼을 의미하는 <code>toc-control</code> 요소가 있습니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=c>&lt;!-- layouts/_partials/docs/header.html --&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;flex align-center justify-between&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>label</span> <span class=na>for</span><span class=o>=</span><span class=s>&#34;menu-control&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;{{ partial &#34;</span><span class=na>docs</span><span class=err>/</span><span class=na>icon</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=na>menu</span><span class=err>&#34;</span> <span class=err>}}&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-icon&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;{{ partial &#34;</span><span class=na>docs</span><span class=err>/</span><span class=na>text</span><span class=err>/</span><span class=na>i18n</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=na>Menu</span><span class=err>&#34;</span> <span class=err>}}&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>{{ partial &#34;docs/title&#34; . }}<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>label</span> <span class=na>for</span><span class=o>=</span><span class=s>&#34;toc-control&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    {{ if partial &#34;docs/toc-show&#34; . }}
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>img</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;{{ partial &#34;</span><span class=na>docs</span><span class=err>/</span><span class=na>icon</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=na>toc</span><span class=err>&#34;</span> <span class=err>}}&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;book-icon&#34;</span> <span class=na>alt</span><span class=o>=</span><span class=s>&#34;{{ partial &#34;</span><span class=na>docs</span><span class=err>/</span><span class=na>text</span><span class=err>/</span><span class=na>i18n</span><span class=err>&#34;</span> <span class=err>&#34;</span><span class=na>Table</span> <span class=na>of</span> <span class=na>Contents</span><span class=err>&#34;</span> <span class=err>}}&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl>    {{ end }}
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>label</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span></span></span></code></pre></div></div><p>헤더 영역에서는 어떤 점을 해결하면 좋을지 생각해보겠습니다.</p><blockquote class="sc-hint default"><ol><li>헤더 영역의 가운데에는 블로그 제목을 표시하고 홈페이지로 이동하는 링크를 설정합니다.</li><li>헤더 영역은 반투명한 배경색을 가지고 스크롤 위치에 관계없이 고정됩니다.</li></ol></blockquote><p>헤더 영역은 특별히 수정할건 없습니다.</p><p>먼저, 제목에 홈페이지로 이동하는 링크를 거는건 아래처럼 간단합니다.</p><div class=sc-codeblock data-lang=html><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">html</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;{{ .Site.BaseURL }}&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;site-title&#34;</span><span class=p>&gt;</span>{{ .Site.Title }}<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span></span></span></code></pre></div></div><p>다음으로, 헤더에 반투명한 배경색을 넣고 상단에 고정하는건 아래 스타일을 적용하면 됩니다.</p><div class=sc-codeblock data-lang=scss><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">scss</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-scss data-lang=scss><span class=line><span class=cl><span class=c1>// assets/_main.scss
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nc>.book-header</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=na>display</span><span class=o>:</span> <span class=ni>block</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>position</span><span class=o>:</span> <span class=ni>sticky</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>opacity</span><span class=o>:</span> <span class=mi>0</span><span class=mf>.9</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>top</span><span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=na>background-color</span><span class=o>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>body-background</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=na>padding</span><span class=o>:</span> <span class=mi>1</span><span class=kt>rem</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>기존 Book 테마에서는 모바일 화면에서 스크롤하면 헤더가 사라져버려
메뉴 및 목차 버튼을 클릭하기 위해 매번 맨 위로 이동해야 하는 불편함이 있었습니다.</p><p>그래서 헤더 영역을 상단에 고정시켜 봤는데, 문제가 이 버튼을 클릭하면 자동으로 맨 위로 올라가 버립니다.
결국 의도했던 동작을 수행하지 못해 아직까지 해결책을 찾고 있는데,
해결되었다면 해당 게시글에 업데이트 하겠습니다.</p><p><label class=md-image for=md-image-toggle-18><input class="hidden toggle" type=checkbox id=md-image-toggle-18>
<img src="https://dl.dropboxusercontent.com/scl/fi/t71bdlejum4fopmg4ic1s/hugo-24-book-header-bg.webp?rlkey=zvh85hvkiwik4b3x0zy7do81a&amp;raw=1" alt="book-header 영역에 반투명한 배경 추가" loading=lazy decoding=async></label></p><p>스크롤을 내려보면 헤더가 반투명하게 보이면서 헤더 밑에 있는 본문을 읽을 수 있습니다.</p><p>다음 게시글에서는 카테고리와 태그 기능을 추가하고, 관련 게시글을 목록을 보여주는 템플릿을
작성하는 과정을 진행하겠습니다. 카테고리와 태그 기능은 특히 내용이 길어서
다음 게시글로 분리하게 되었는데, 다음 게시글에서 이를 포함한 메뉴 영역을 완성할 수 있게 됩니다.</p></article><footer class=site-footer><div class=tags-wrap><a href="/search/?tags=Hugo" class=tag>#Hugo</a>
<a href="/search/?tags=Blog" class=tag>#Blog</a>
<a href="/search/?tags=%ed%9c%b4%ea%b3%a0%20%ed%85%8c%eb%a7%88" class=tag>#휴고 테마</a>
<a href="/search/?tags=%ed%9c%b4%ea%b3%a0%20%eb%a0%88%ec%9d%b4%ec%95%84%ec%9b%83" class=tag>#휴고 레이아웃</a>
<a href="/search/?tags=HTML" class=tag>#HTML</a>
<a href="/search/?tags=CSS" class=tag>#CSS</a>
<a href="/search/?tags=JavaScript" class=tag>#JavaScript</a>
<a href="/search/?tags=Hugo%20Book" class=tag>#Hugo Book</a>
<a href="/search/?tags=%ec%bb%a4%ec%8a%a4%ed%84%b0%eb%a7%88%ec%9d%b4%ec%a7%95" class=tag>#커스터마이징</a>
<a href="/search/?tags=%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%aa%a9%ec%b0%a8" class=tag>#블로그 목차</a></div><div class=prev-next-wrap><a href=/blog/hugo-blog-1/ class=prev-link><span class=prev-next-label><i class="fa-solid fa-backward"></i>
<span data-i18n-id=post.prev.link data-i18n-text>이전</span>
</span><span class=prev-next-title>Hugo 블로그 만들기 - Git Submodule로 구성하고 배포하기</span>
</a><a href=/blog/hugo-blog-3/ class=next-link><span class=prev-next-label><span data-i18n-id=post.next.link data-i18n-text>다음</span>
<i class="fa-solid fa-forward"></i>
</span><span class=prev-next-title>Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현</span></a></div><div class=comments-wrap><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://minyeamer.github.io/blog/hugo-blog-2/",this.page.identifier="https://minyeamer.github.io/blog/hugo-blog-2/"};window.relocateDisqus=()=>{let e=0;const t=20,n=setInterval(()=>{e++;const s=document.getElementById(atob(atob("WkdsemNYVnpYM1JvY21WaFpBPT0=")));var o=!1;if(s){const e=s.querySelector(atob(atob("VzNOeVl5bzlKMkZrY3lkZA==")));e&&(s.appendChild(e),o=!0)}(o||e>t)&&clearInterval(n)},1e3)},function(){var e=document,t=e.createElement("script");t.src="https://minyeamer.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}(),window.relocateDisqus();function reloadDisqus(){window.DISQUS&&(DISQUS.reset({reload:!0,config:function(){this.page.url="https://minyeamer.github.io/blog/hugo-blog-2/",this.page.identifier="https://minyeamer.github.io/blog/hugo-blog-2/"}}),window.relocateDisqus())}</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><div class="copyright-wrap flex justify-center"><small>Minystory - <a href=https://creativecommons.org/licenses/by/4.0/legalcode target=_blank rel="noopener noreferrer">© CC BY 4.0</a></small></div></footer><label for=menu-control class="hidden site-menu-overlay"></label></div><aside class=site-toc aria-label=목차 data-i18n-id=toc.aside.tooltip data-i18n-attrs=aira-label><div class=toc-content><nav id=TableOfContents><ul><li><a href=#hugo-서버-실행하기>Hugo 서버 실행하기</a></li><li><a href=#book-테마-알아보기>Book 테마 알아보기</a><ul><li><a href=#book-테마-가져오기>Book 테마 가져오기</a></li><li><a href=#hugo-템플릿-구조>Hugo 템플릿 구조</a></li><li><a href=#book-테마-구조>Book 테마 구조</a></li><li><a href=#example-site>Example Site</a></li></ul></li><li><a href=#메인-레이아웃-개선하기>메인 레이아웃 개선하기</a></li><li><a href=#메뉴-영역-개선하기>메뉴 영역 개선하기</a><ul><li><a href=#1-메뉴-영역-위치-고정하기>1. 메뉴 영역 위치 고정하기</a></li><li><a href=#2-프로필-사진을-표시하기>2. 프로필 사진을 표시하기</a></li><li><a href=#3-소셜-링크를-표시하기>3. 소셜 링크를 표시하기</a></li></ul></li><li><a href=#목차-영역-개선하기>목차 영역 개선하기</a><ul><li><a href=#1-목차-옆에-구분선-추가하기>1. 목차 옆에 구분선 추가하기</a></li><li><a href=#2-목차-하이라이트-적용하기>2. 목차 하이라이트 적용하기</a></li><li><a href=#3-스크롤-이동-버튼-추가하기>3. 스크롤 이동 버튼 추가하기</a></li></ul></li><li><a href=#헤더-영역-개선하기>헤더 영역 개선하기</a></li></ul></nav></div><div class=hidden id=toc-config data-start=2 data-end=3></div></aside><div class=site-toolbar role=toolbar aria-label="툴바'" data-i18n-id=toolbar.wrap.tooltip data-i18n-attrs=aira-label><input type=checkbox id=toolbar-toggle class="hidden toggle"><div class=toolbar-items><div class="toolbar-button i18n-button"><i class="fa-solid fa-globe"></i>
<select class=i18n-selector id=i18n-selector aria-label="i18n `toolbar.i18n.tooltip` | default `Select language`" title="i18n `toolbar.i18n.tooltip` | default `Select language`" data-i18n-id=toolbar.i18n.tooltip data-i18n-attrs=aria-label,title><option value=ko>한국어</option><option value=en>English</option><option value=ja>日本語</option><option value=zh>中文</option><option value=es>Español</option><option value=fr>Français</option><option value=de>Deutsch</option><option value=it>Italiano</option><option value=pt>Português</option><option value=ru>Русский</option><option value=am>አማርኛ</option><option value=bg>Български</option><option value=bn>বাংলা</option><option value=cn>简体中文</option><option value=cs>Čeština</option><option value=fa>فارسی</option><option value=he>עברית</option><option value=nb>Norsk</option><option value=nl>Nederlands</option><option value=oc>Occitan</option><option value=pl>Polski</option><option value=pt-BR>Português (BR)</option><option value=sv>Svenska</option><option value=sw>Kiswahili</option><option value=tr>Türkçe</option><option value=uk>Українська</option><option value=zh-TW>繁體中文</option></select></div><button class=toolbar-button onclick='window.scrollTo({top:0,behavior:"smooth"})' aria-label="i18n `toolbar.top.tooltip` | default `Go to top`" title="i18n `toolbar.top.tooltip` | default `Go to top`" data-i18n-id=toolbar.top.tooltip data-i18n-attrs=aria-label,title>
<i class="fa fa-chevron-up"></i>
</button>
<button class=toolbar-button onclick='window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})' aria-label="i18n `toolbar.bottom.tooltip` | default `Go to bottom`" title="i18n `toolbar.bottom.tooltip` | default `Go to bottom`" data-i18n-id=toolbar.bottom.tooltip data-i18n-attrs=aria-label,title>
<i class="fa fa-chevron-down"></i>
</button>
<button class=toolbar-button onclick=history.back() aria-label="i18n `toolbar.back.tooltip` | default `Go back`" title="i18n `toolbar.back.tooltip` | default `Go back`" data-i18n-id=toolbar.back.tooltip data-i18n-attrs=aria-label,title>
<i class="fa-solid fa-arrow-left"></i></button></div><label for=toolbar-toggle class="toolbar-button toolbar-toggle-label"><i class="fa-solid fa-plus icon-expand"></i>
<i class="fa-solid fa-xmark icon-collapse"></i></label></div></main></body></html>