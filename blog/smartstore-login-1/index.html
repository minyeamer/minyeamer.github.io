<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><meta name=author content><meta name=keywords content="크롤링,Python,네이버,스마트스토어,로그인 자동화,requests,데이터 수집,쿠키 인증,웹 자동화"><meta name=description content="네이버 스마트스토어센터 자동 데이터 수집을 위한 로그인 구현 시리즈 첫 번째입니다. API를 활용한 데이터 수집 방식, 쿠키 기반 인증, requests 모듈을 통한 자동화 구현의 …"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><link rel=icon href=https://minyeamer.github.io/images/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://minyeamer.github.io/images/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://minyeamer.github.io/images/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://minyeamer.github.io/images/favicons/apple-touch-icon.png><link rel=mask-icon href=https://minyeamer.github.io/images/favicons/apple-touch-icon.png><meta name=google-site-verification content="u1tWcHmHUZWfFT1cHaku6sqU-bK40N3WLR-C-4VUWN0"><meta name=naver-site-verification content="6eaf8e9da1a6104780f056f1a7797fe5a3a5a0da"><meta property="og:title" content="[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (1)"><meta property="og:description" content="네이버 스마트스토어센터 자동 데이터 수집을 위한 로그인 구현 시리즈 첫 번째입니다. API를 활용한 데이터 수집 방식, 쿠키 기반 인증, requests 모듈을 통한 자동화 구현의 …"><meta property="og:type" content="article"><meta property="og:url" content="https://minyeamer.github.io/blog/smartstore-login-1/"><meta property="og:image" content="https://dl.dropboxusercontent.com/scl/fi/bghhh0kkkr4ssaw5a10ri/smartstore-login-00-main-wide.webp?rlkey=014mj9c15aymkvseohy0dtqih&amp;raw=1"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-03T13:56:14+09:00"><meta property="article:modified_time" content="2022-12-03T13:56:14+09:00"><meta property="og:see_also" content="https://minyeamer.github.io/blog/smartstore-login-3/"><meta property="og:see_also" content="https://minyeamer.github.io/blog/smartstore-login-2/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dl.dropboxusercontent.com/scl/fi/bghhh0kkkr4ssaw5a10ri/smartstore-login-00-main-wide.webp?rlkey=014mj9c15aymkvseohy0dtqih&amp;raw=1"><meta name=twitter:title content="[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (1)"><meta name=twitter:description content="네이버 스마트스토어센터 자동 데이터 수집을 위한 로그인 구현 시리즈 첫 번째입니다. API를 활용한 데이터 수집 방식, 쿠키 기반 인증, requests 모듈을 통한 자동화 구현의 …"><meta name=twitter:site content="@https://x.com/minyeamer"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://minyeamer.github.io/posts/"},{"@type":"ListItem","position":2,"name":"[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (1)","item":"https://minyeamer.github.io/blog/smartstore-login-1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (1)","name":"[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (1)","description":"네이버 스마트스토어센터 자동 데이터 수집을 위한 로그인 구현 시리즈 첫 번째입니다. API를 활용한 데이터 수집 방식, 쿠키 기반 인증, requests 모듈을 통한 자동화 구현의 기초를 설명합니다.\n","keywords":["크롤링, Python, 네이버, 스마트스토어, 로그인 자동화, requests, 데이터 수집, 쿠키 인증, 웹 자동화"],"articleBody":" 스마트스토어센터 로그인 구현하기 1. requests로 네이버 스마트스토어센터 로그인 구현하기 (1) 2. requests로 네이버 스마트스토어센터 로그인 구현하기 (2) 3. requests로 네이버 스마트스토어센터 로그인 구현하기 (3) 숨기기 목록 보기 1/3 네이버 스마트스토어센터에서는 매출 향상에 도움을 주는 유용한 통계 데이터를 제공해줍니다.\n쇼핑몰 데이터를 분석하는 입장에서 무료로 제공되는 이런 데이터는 큰 도움이 되지만, 대부분이 엑셀 파일 다운로드를 지원하지 않고 빈번하게 수치가 바뀌는 데이터를 각각의 메뉴에서 매번 확인하기도 어렵습니다. 이런 데이터를 자동화 프로그램으로 수집 및 적재할 수 있다면 업무 효율을 크게 향상시킬 수 있을 것입니다.\n이번 게시글에서는 실제 네이버 스마트스토어 로그인 구현에 앞서 데이터 수집에 대한 간단한 설명을 진행하고 네이버 로그인 구현의 바탕이 되는 클래스와 메소드를 정의합니다.\n데이터 수집 개요 #네이버 웹사이트에서 데이터를 수집할 때 활용할 수 있는 방안은 2가지가 있습니다.\n첫 번째는 CSS Selector 또는 XPath를 활용해 웹사이트 특정 위치의 값을 가져오는 것,\n두 번째는 API에 요청을 보내 JSON 형태의 데이터를 가져오는 것입니다.\n특정 위치의 값을 가져오는 첫 번째 방식은 UI에 의존적이어서 코드의 지속성을 보장하기 어렵고 원하는 데이터와 관련없는 웹 소스 전체를 불러오기 때문에 속도 면에서도 단점이 있습니다. 따라서, API를 제공하는 경우 두 번째 방식을 이용하는 것이 효율적입니다.\n데이터 수집 시나리오 #네이버 쇼핑에서 표시되는 상품의 순위는 검색인기도를 기준으로 결정됩니다. 키워드별 상위권 상품의 검색인기도를 가져오는 것을 예시로 데이터 수집을 진행해보겠습니다.\n위 이미지에서 왼쪽 부분은 실제 UI, 오른쪽 부분은 HTML 소스 입니다.\n해당 소스에서 데이터를 가져온다면 div.popularity-product \u003e div.box-border 위치에서 dd 태그를 순서대로 지정해서 각각의 종합, 적합도, 인기도 값을 가져올 수 있습니다.\n해당 데이터를 분석에 활용하기 위해서는 인기도 수치를 구성하는 클릭수, 판매실적 등도 필요하기 때문에 상세보기 페이지를 확인해야하고 결과적으로 하나의 상품에 대한 데이터를 보기 위해 두 개의 페이지를 방문해야 합니다.\n하지만 네이버의 대부분의 웹페이지는 API를 기반으로 가져온 데이터로 구성되기 때문에 해당 API를 활용할 수 있다면 더욱 효율적인 데이터 수집이 가능합니다.\n","wordCount":"1044","inLanguage":"ko","image":"https:\/\/dl.dropboxusercontent.com\/scl\/fi\/bghhh0kkkr4ssaw5a10ri\/smartstore-login-00-main-wide.webp?rlkey=014mj9c15aymkvseohy0dtqih\u0026raw=1","datePublished":"2022-12-03T13:56:14+09:00","dateModified":"2022-12-03T13:56:14+09:00","author":{"@type":"Person","name":"minyeamer"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://minyeamer.github.io/blog/smartstore-login-1/"},"publisher":{"@type":"Person","name":"Minystory","logo":{"@type":"ImageObject","url":"https://minyeamer.github.io/images/favicons/favicon.ico"}}}</script><script>(function(){const e=256+768*1.3;window.innerWidth>e&&localStorage.getItem("menu-expanded")==="false"&&document.documentElement.classList.add("menu-initial-collapsed")})()</script><title>[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (1)</title><link rel=manifest href=/data/manifest.json><link rel=canonical href=https://minyeamer.github.io/blog/smartstore-login-1/><link rel=stylesheet href=/main.min.2645a7d9c5a4e6ec4130cf335d83b7bd6ecc4ea05e244abe01938a765c99d8b7.css integrity="sha256-JkWn2cWk5uxBMM8zXYO3vW7MTqBeJEq+AZOKdlyZ2Lc=" crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-BJ8Z9RMBPJ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BJ8Z9RMBPJ")</script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script>(function(){const e=console.warn;console.warn=function(...n){const t=(new Error).stack||"";if(t.includes("highlight.min.js")||t.includes("highlightjs-line-numbers"))return;e.apply(console,n)}})()</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){typeof hljs!="undefined"&&(hljs.highlightAll(),typeof hljs.initLineNumbersOnLoad=="function"&&hljs.initLineNumbersOnLoad())})</script><script>window.siteI18n=window.siteI18n||{},window.siteI18n.defaultLang="en"</script><script>window.siteI18n.dataUrl="/data/i18n.min.a69d97976d04e681499d74d71f0019de3d6ed9f29a55bc606a9459d1454b3b65.json"</script><script>window.siteI18n.initData=function(){return window.siteI18n.data?Promise.resolve(window.siteI18n.data):fetch(window.siteI18n.dataUrl).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(e=>(window.siteI18n.data=e,window.siteI18n.data))},window.siteI18n.getLanguage=function(e={}){const s="site-language",t=localStorage.getItem(s);if(t)return t;const n=(navigator.language||navigator.userLanguage).split("-")[0];return!e||e[n]?n:window.siteI18n.defaultLang},window.siteI18n.translate=function(e,t=""){if(window.siteI18n.data){const n=window.siteI18n.getLanguage(),t=window.siteI18n.data[n];if(t&&e in t)return t[e]}return t},void window.siteI18n.initData().catch(()=>{})</script><script defer src=/js/core/i18n.min.c076e5ad51c454cca138121312827bfde8c5526a930ce57cea2207f501fea0d7.js integrity="sha256-wHblrVHEVMyhOBITEoJ7/ejFUmqTDOV86iIH9QH+oNc=" crossorigin=anonymous></script><script defer src=/js/partials/scroll-progress.min.841ade7e507a5f6d59c4e7bf2fe2b2ca034070677ff7957eec55610a024dd776.js integrity="sha256-hBreflB6X21ZxOe/L+KyygNAcGd/95V+7FVhCgJN13Y=" crossorigin=anonymous></script><script defer src=/js/partials/menu-toggle.min.e4c6c0cbf938a3d475fffe81471742bb460a77af62c865617af554b992375da9.js integrity="sha256-5MbAy/k4o9R1//6BRxdCu0YKd69iyGVhevVUuZI3Xak=" crossorigin=anonymous></script><script defer src=/js/partials/toc-toggle.min.eb96c48129742c9454fd93d56aed2e6c2d69bf4853d82204b2e53662e92f02cc.js integrity="sha256-65bEgSl0LJRU/ZPVau0ubC1pv0hT2CIEsuU2YukvAsw=" crossorigin=anonymous></script><script defer src=/js/core/set-theme.min.3ffcf0a1423dfbec7dc2da84e7cd18933d2a4ebc1efd4058f2f3da1c4e6d10c3.js integrity="sha256-P/zwoUI9++x9wtqE580Ykz0qTrwe/UBY8vPaHE5tEMM=" crossorigin=anonymous></script><script defer src=/js/shortcodes/copy-code.min.68a0c392faa93e1c6ebb981074928a99da92c62b203f5d43120539057e9e299e.js integrity="sha256-aKDDkvqpPhxuu5gQdJKKmdqSxisgP11DEgU5BX6eKZ4=" crossorigin=anonymous></script><script defer src=/js/partials/toc-highlight.min.7917ead4ecb7378779bfbf3f988251ac76bd55ca7f12fd5919870777dbcd6095.js integrity="sha256-eRfq1Oy3N4d5v78/mIJRrHa9Vcp/Ev1ZGYcHd9vNYJU=" crossorigin=anonymous></script><script defer src=/js/partials/reading-time.min.1063c3a4b82c1c1f36f88704c4544b75c39c2707d86c09aa7098d2963e6d3835.js integrity="sha256-EGPDpLgsHB82+IcExFRLdcOcJwfYbAmqcJjSlj5tODU=" crossorigin=anonymous></script><script defer src=/js/shortcodes/image-zoom.min.bb446c50cbec91f1b4fdfbb9f695d753ef4811f43de0a9411201c8466ffe204a.js integrity="sha256-u0RsUMvskfG0/fu59pXXU+9IEfQ94KlBEgHIRm/+IEo=" crossorigin=anonymous></script><script defer src=/js/shortcodes/data-table.min.d20aaf7f506ee989f91746098231f979e58b8435513de0d4f05eefb9c45743e7.js integrity="sha256-0gqvf1Bu6Yn5F0YJgjH5eeWLhDVRPeDU8F7vucRXQ+c=" crossorigin=anonymous></script><script>window.siteSearch=window.siteSearch||{}</script><script>window.siteSearch.contentUrl="/data/content.min.2139dbc8d9c6a32a3911208fc83c2318f1506e5b4ff3c811888f5a38f634284f.json"</script><script>window.siteSearch.categoriesUrl="/data/categories.min.e5ad81c31794748a54e2582c1615444e4e8e3354bfda1a0ea76f869cebee36d7.json"</script><script>window.siteSearch.tagsUrl="/data/tags.min.e6d3eb3deec95a87346243a2e36efdf24c16f6b62180a48785e3781c41afb2f7.json"</script><script defer src=/fuse.min.js></script><script defer src=/js/search/init.min.ee793e2de351fef268c6642567b4af23bd3763c2cb74f767e7240807e394417d.js integrity="sha256-7nk+LeNR/vJoxmQlZ7SvI703Y8LLdPdn5yQIB+OUQX0=" crossorigin=anonymous></script><script defer src=/js/search/input.min.c66bcb412051f2f9c3c6b5fa330c41ca187bd4e9a91447b672d8cbe1468bcfc9.js integrity="sha256-xmvLQSBR8vnDxrX6MwxByhh71OmpFEe2ctjL4UaLz8k=" crossorigin=anonymous></script><script defer src=/js/search/list.min.dd79e8831a4de031882d789f0ccdd204cc68a7481011c4cfc62f541eda286077.js integrity="sha256-3XnogxpN4DGILXifDM3SBMxop0gQEcTPxi9UHtooYHc=" crossorigin=anonymous></script></head><body class="site-kind-page site-type-posts site-layout-post" dir=ltr><div class=scroll-progress><div class=scroll-progress-bar></div></div><label class=image-overlay-wrap for=image-overlay-toggle><input class="hidden toggle" type=checkbox id=image-overlay-toggle><div class=image-overlay></div></label><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><div class=menu-overlay></div><main class=container><aside class=site-menu aria-label=메뉴 data-i18n-id=menu.aside.tooltip data-i18n-attrs=aira-label><div class=menu-content><nav><div class=menu-profile><div class=profile-image-wrap><a href=https://minyeamer.github.io/><img src=/images/profile/menu.jpg alt=Profile class=profile-image decoding=async></a></div><h2 class=profile-title><a class="flex align-center" href=https://minyeamer.github.io/><span>Minystory</span></a></h2></div><div class=menu-links><a href=https://github.com/minyeamer target=_blank id=github-link title=GitHub><i class=icon-github></i>
</a><a href=/categories/ id=categories-link title=Categories><i class=icon-folder></i>
</a><a href=/tags/ id=tags-link title=Tags><i class=icon-tags></i>
</a><button class=dark-mode-toggle id=theme-toggle-button aria-label="Toggle color scheme">
<i class=icon-moon></i></button></div><div class=menu-search id=search-input data-hotkeys=s/ role=button tabindex=0 aria-label=검색 data-i18n-id=search.action.label data-i18n-attrs=aira-label><i class="icon-search search-icon"></i>
<span class=search-placeholder data-i18n-id=search.input.label data-i18n-text='{"`/`": "$code"}'><code>/</code> 를 눌러 검색하세요</span></div><div class=menu-categories><input type=checkbox class="hidden toggle" id=categories-control checked>
<label for=categories-control class="categories-label categories-toggle"><a href=/categories/ class=categories-root><i class=icon-folder></i>
<span data-i18n-id=categories.root.label data-i18n-text>전체
</span><span class=category-count>(42)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li><input type=checkbox class="hidden toggle" id=cat-algorithm>
<label for=cat-algorithm class="categories-label categories-toggle"><a href="/search/?category1=Algorithm"><i class=icon-folder></i>Algorithm<span class=category-count>(4)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Algorithm&category2=Graph"><i class=icon-file></i>Graph<span class=category-count>(1)</span></a></li><li class=categories-label><a href="/search/?category1=Algorithm&category2=Python"><i class=icon-file></i>Python<span class=category-count>(2)</span></a></li><li class=categories-label><a href="/search/?category1=Algorithm&category2=SQL"><i class=icon-file></i>SQL<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-cloud>
<label for=cat-cloud class="categories-label categories-toggle"><a href="/search/?category1=Cloud"><i class=icon-folder></i>Cloud<span class=category-count>(2)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Cloud&category2=Kubernetes"><i class=icon-file></i>Kubernetes<span class=category-count>(2)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-data-analysis>
<label for=cat-data-analysis class="categories-label categories-toggle"><a href="/search/?category1=Data%20Analysis"><i class=icon-folder></i>Data Analysis<span class=category-count>(3)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Data%20Analysis&category2=Dacon"><i class=icon-file></i>Dacon<span class=category-count>(3)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-data-engineering>
<label for=cat-data-engineering class="categories-label categories-toggle"><a href="/search/?category1=Data%20Engineering"><i class=icon-folder></i>Data Engineering<span class=category-count>(19)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Apache%20Airflow"><i class=icon-file></i>Apache Airflow<span class=category-count>(7)</span></a></li><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Apache%20Spark"><i class=icon-file></i>Apache Spark<span class=category-count>(8)</span></a></li><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Crawling"><i class=icon-file></i>Crawling<span class=category-count>(4)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-frontend>
<label for=cat-frontend class="categories-label categories-toggle"><a href="/search/?category1=Frontend"><i class=icon-folder></i>Frontend<span class=category-count>(11)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Frontend&category2=Blog"><i class=icon-file></i>Blog<span class=category-count>(11)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-linux>
<label for=cat-linux class="categories-label categories-toggle"><a href="/search/?category1=Linux"><i class=icon-folder></i>Linux<span class=category-count>(1)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Linux&category2=Ubuntu"><i class=icon-file></i>Ubuntu<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-project>
<label for=cat-project class="categories-label categories-toggle"><a href="/search/?category1=Project"><i class=icon-folder></i>Project<span class=category-count>(2)</span>
</a><i class="icon-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Project&category2=Open%20Source"><i class=icon-file></i>Open Source<span class=category-count>(1)</span></a></li><li class=categories-label><a href="/search/?category1=Project&category2=Tools"><i class=icon-file></i>Tools<span class=category-count>(1)</span></a></li></ul></li></ul></div><div class=recent-posts><div class=recent-post-label><i class=icon-clock></i>
<span data-i18n-id=menu.recent.posts data-i18n-text>최신글</span></div><ul class=recent-post-list><li class=recent-post-item><a href=/blog/hugo-seotax-2/ title="Hugo 정적 페이지 경량화 - JS 기반 동적 렌더링 검색 구현"><div class=recent-post-title>Hugo 정적 페이지 경량화 - JS 기반 동적 렌더링 검색 구현</div><div class=recent-post-date><time datetime=2026-02-15>2026.02.15</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-seotax-1/ title="Hugo 서택스(SeoTax) 테마 제작기 - 동적 렌더링으로 확장된 검색"><div class=recent-post-title>Hugo 서택스(SeoTax) 테마 제작기 - 동적 렌더링으로 확장된 검색</div><div class=recent-post-date><time datetime=2026-01-25>2026.01.25</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-5/ title="Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터)"><div class=recent-post-title>Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터)</div><div class=recent-post-date><time datetime=2025-12-15>2025.12.15</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-4/ title="Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기"><div class=recent-post-title>Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기</div><div class=recent-post-date><time datetime=2025-12-14>2025.12.14</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-3/ title="Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현"><div class=recent-post-title>Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현</div><div class=recent-post-date><time datetime=2025-11-22>2025.11.22</time></div></a></li></ul></div></nav><script>(function(){var e=document.querySelector("aside .menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=main-wrap><header class=site-header><div class="flex align-center justify-between"><label for=menu-control aria-label="메뉴 접기/펼치기" title="메뉴 접기/펼치기" data-i18n-id=menu.toggle.tooltip data-i18n-attrs=aria-label,title><i class="icon-bars menu-icon" id=menu-icon></i></label><div class=mobile-search id=mobile-search-input role=button tabindex=0 aria-label=검색 data-i18n-id=search.action.label data-i18n-attrs=aria-label><i class="icon-search search-icon"></i>
<span class=mobile-title>Minystory</span>
<i class=mobile-title-pad></i></div><label for=toc-control aria-label="목차 접기/펼치기" title="목차 접기/펼치기" data-i18n-id=toc.toggle.tooltip data-i18n-attrs=aria-label,title><i class="icon-list menu-icon" id=toc-icon></i></label></div></header><article class="content-wrap markdown" id=content-wrap><header class=content-header><div class=content-category><a href="/search/?category1=Data%20Engineering&category2=Crawling" class=content-category-link>Data Engineering/Crawling</a></div><h1 class=content-title>[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (1)</h1><div class=content-datetime><time datetime=2022-12-03T13:56:14+09:00>2022. 12. 03. 13:56
</time><span>• </span><span id=reading-time>읽는데 9분</span></div></header><div class=content-cover-wrap><img src="https://dl.dropboxusercontent.com/scl/fi/bghhh0kkkr4ssaw5a10ri/smartstore-login-00-main-wide.webp?rlkey=014mj9c15aymkvseohy0dtqih&amp;raw=1" class=content-cover alt="Cover Image" width=1920 height=637 decoding=async></div><div id=series-anchor></div><div class=sc-series><div class=series-bookmark><svg width="32" height="48" fill="currentColor" viewBox="0 0 32 48" class="series-corner-image"><path fill="currentColor" d="M32 0H0v48h.163l16-16L32 47.836V0z"/></svg></div><div class=series-header><h2 class=series-title>스마트스토어센터 로그인 구현하기</h2></div><input type=checkbox id=series-toggle class=series-toggle-input hidden><div class=series-content><ol class=series-list><li class="series-item active"><span class=series-item-index>1.</span>
<a href=/blog/smartstore-login-1/#series-anchor>requests로 네이버 스마트스토어센터 로그인 구현하기 (1)</a></li><li class=series-item><span class=series-item-index>2.</span>
<a href=/blog/smartstore-login-2/#series-anchor>requests로 네이버 스마트스토어센터 로그인 구현하기 (2)</a></li><li class=series-item><span class=series-item-index>3.</span>
<a href=/blog/smartstore-login-3/#series-anchor>requests로 네이버 스마트스토어센터 로그인 구현하기 (3)</a></li></ol></div><div class=series-footer><label for=series-toggle class=series-toggle-label><span class=series-toggle-icon><i class=icon-caret-up></i></span>
<span class=series-toggle-text-hide data-i18n-id=series.hide.label data-i18n-text>숨기기</span>
<span class=series-toggle-text-show data-i18n-id=series.show.label data-i18n-text>목록 보기</span></label><div class=series-nav><span class=series-nav-info>1/3</span><div class=series-nav-buttons><span class="series-nav-button disabled"><i class=icon-chevron-left></i></span>
<a href=/blog/smartstore-login-2/#series-anchor class=series-nav-button><i class=icon-chevron-right></i></a></div></div></div></div><script>(function(){const e=document.getElementById("series-toggle"),t="series-expanded",n=localStorage.getItem(t)??"true";n==="true"&&(e.checked=!0),e.addEventListener("change",function(){localStorage.setItem(t,this.checked)})})()</script><p>네이버 스마트스토어센터에서는 매출 향상에 도움을 주는 유용한 통계 데이터를 제공해줍니다.</p><p>쇼핑몰 데이터를 분석하는 입장에서 무료로 제공되는 이런 데이터는 큰 도움이 되지만,
대부분이 엑셀 파일 다운로드를 지원하지 않고 빈번하게 수치가 바뀌는 데이터를 각각의 메뉴에서 매번 확인하기도 어렵습니다.
이런 데이터를 자동화 프로그램으로 수집 및 적재할 수 있다면 업무 효율을 크게 향상시킬 수 있을 것입니다.</p><p>이번 게시글에서는 실제 네이버 스마트스토어 로그인 구현에 앞서
데이터 수집에 대한 간단한 설명을 진행하고 네이버 로그인 구현의 바탕이 되는 클래스와 메소드를 정의합니다.</p><h2 id=데이터-수집-개요>데이터 수집 개요
<a class=anchor href=#%eb%8d%b0%ec%9d%b4%ed%84%b0-%ec%88%98%ec%a7%91-%ea%b0%9c%ec%9a%94>#</a></h2><p>네이버 웹사이트에서 데이터를 수집할 때 활용할 수 있는 방안은 2가지가 있습니다.</p><p>첫 번째는 CSS Selector 또는 XPath를 활용해 웹사이트 특정 위치의 값을 가져오는 것,<br>두 번째는 API에 요청을 보내 JSON 형태의 데이터를 가져오는 것입니다.</p><p>특정 위치의 값을 가져오는 첫 번째 방식은 UI에 의존적이어서 코드의 지속성을 보장하기 어렵고
원하는 데이터와 관련없는 웹 소스 전체를 불러오기 때문에 속도 면에서도 단점이 있습니다.
따라서, API를 제공하는 경우 두 번째 방식을 이용하는 것이 효율적입니다.</p><h3 id=데이터-수집-시나리오>데이터 수집 시나리오
<a class=anchor href=#%eb%8d%b0%ec%9d%b4%ed%84%b0-%ec%88%98%ec%a7%91-%ec%8b%9c%eb%82%98%eb%a6%ac%ec%98%a4>#</a></h3><p>네이버 쇼핑에서 표시되는 상품의 순위는 검색인기도를 기준으로 결정됩니다.
키워드별 상위권 상품의 검색인기도를 가져오는 것을 예시로 데이터 수집을 진행해보겠습니다.</p><p><label class=md-image for=md-image-toggle-0><input class="hidden toggle" type=checkbox id=md-image-toggle-0>
<img src="https://dl.dropboxusercontent.com/scl/fi/idrkdsijc0s2pvexje2pa/smartstore-login-01-popularity-ui.webp?rlkey=h5ksw8y9k8x2xxkiygrb4c5aj&amp;raw=1" alt="스마트스토어 검색인기도 - 검색결과 상위 상품" width=1920 height=475 loading=lazy decoding=async></label></p><p>위 이미지에서 왼쪽 부분은 실제 UI, 오른쪽 부분은 HTML 소스 입니다.</p><p>해당 소스에서 데이터를 가져온다면 <code>div.popularity-product > div.box-border</code> 위치에서
<code>dd</code> 태그를 순서대로 지정해서 각각의 종합, 적합도, 인기도 값을 가져올 수 있습니다.</p><p>해당 데이터를 분석에 활용하기 위해서는 인기도 수치를 구성하는 클릭수, 판매실적 등도 필요하기 때문에
상세보기 페이지를 확인해야하고 결과적으로 하나의 상품에 대한 데이터를 보기 위해 두 개의 페이지를 방문해야 합니다.</p><p>하지만 네이버의 대부분의 웹페이지는 API를 기반으로 가져온 데이터로 구성되기 때문에
해당 API를 활용할 수 있다면 더욱 효율적인 데이터 수집이 가능합니다.</p><p><label class=md-image for=md-image-toggle-1><input class="hidden toggle" type=checkbox id=md-image-toggle-1>
<img src="https://dl.dropboxusercontent.com/scl/fi/7930bw0j9zhxgucy2oeqx/smartstore-login-02-popularity-json.webp?rlkey=q7sj2tvfnayfkim2fzzv3iu10&amp;raw=1" alt='"relevance":172,"similarity":22,"quality":93' width=1920 height=448 loading=lazy decoding=async></label></p><p>서버에서 가져오는 데이터를 확인할 때는 주로 개발자 도구의 네트워크 탭을 활용합니다.
웹페이지 로드 시 가져오는 문서를 확인하다보면 위 이미지와 같이 목표로 하는 데이터를 보내주는 API를 발견할 수 있습니다.</p><p>새 탭에서 해당 API 주소를 요청하면 위 이미지 내 오른쪽 부분과 같은 JSON 형식의 데이터를 받을 수 있습니다.</p><p>실제 UI에서 가져오고자 하는 종합, 적합도, 인기도 수치도 해당 데이터에서 확인할 수 있습니다.
여기에는 추가로 클릭수, 판매실적 등에 대한 수치 데이터도 포함되어 있기 때문에
해당 API를 활용하면 다수의 페이지에 요청을 보낼 수고도 줄어들게 됩니다.</p><h3 id=로그인이-필요한-페이지의-데이터-가져오기>로그인이 필요한 페이지의 데이터 가져오기
<a class=anchor href=#%eb%a1%9c%ea%b7%b8%ec%9d%b8%ec%9d%b4-%ed%95%84%ec%9a%94%ed%95%9c-%ed%8e%98%ec%9d%b4%ec%a7%80%ec%9d%98-%eb%8d%b0%ec%9d%b4%ed%84%b0-%ea%b0%80%ec%a0%b8%ec%98%a4%ea%b8%b0>#</a></h3><p>여기까지는 간단해보이지만 네이버 스마트스토어센터 데이터를 <code>requests</code> 모듈로 가져오는데는
하나의 추가적인 문제가 존재합니다.</p><p>단순한 GET 요청일지라도 로그인 정보를 갖고 있지 않다면 데이터를 받을 수 없습니다.
스마트스토어센터에 로그인하지 않은 상태에서 위 API 주소로 요청을 보내게 된다면
아래와 같은 에러 메시지를 받아볼 수 있습니다.</p><div class=sc-codeblock data-lang=json><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">json</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span> <span class=nt>&#34;error&#34;</span><span class=p>:</span> <span class=s2>&#34;Full authentication is required to access this resource&#34;</span> <span class=p>}</span></span></span></code></pre></div></div><p>이 문제에 대한 해결방법은 헤더에 있습니다.
개발자 도구 네트워크 탭에서 하나의 문서를 클릭하고 Headers 탭에서 스크롤을 내리면
아래와 같은 Request Headers 정보를 확인할 수 있습니다.</p><p><label class=md-image for=md-image-toggle-2><input class="hidden toggle" type=checkbox id=md-image-toggle-2>
<img src="https://dl.dropboxusercontent.com/scl/fi/3101t7wp01cjoh1soye45/smartstore-login-03-popularity-headers.webp?rlkey=mfgbtgk7ha662d1wqb11t8fox&amp;raw=1" alt="cookie: NNB=...; nid_inf=...; NID_AUT=...;" width=1594 height=486 loading=lazy decoding=async></label></p><p>서버와 클라이언트 간 네트워크 요청 시 서버는 클라이언트의 정보를 확인할 목적으로
클라이언트에 쿠키라는 암호화된 인증 정보를 남깁니다.
클라이언트가 해당 정보를 헤더에 담아 요청을 보내는 경우에만 서버가 올바른 응답을 전달합니다.</p><p><code>requests</code> 모듈에서는 이러한 과정을 다음과 같이 구현할 수 있습니다.</p><div class=sc-codeblock data-lang=python><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>headers</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;cookie&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span></span></span></code></pre></div></div><p>하지만 일반적인 쿠키 값은 30분의 유통기한이 있기 때문에, 매번 쿠키 값을 갱신해야 하는데
자동화 프로그램을 돌리기 전에 직접 로그인해서 쿠키 값을 갱신하는 것은 바람직하지 못합니다.</p><p>결과적으로 로그인이 필요한 스마트스토어 페이지의 데이터를 가져오기 위해서는
자동화된 로그인 과정을 거쳐서 쿠키 값을 갱신할 필요가 있습니다.</p><h3 id=쿠키-확인하기>쿠키 확인하기
<a class=anchor href=#%ec%bf%a0%ed%82%a4-%ed%99%95%ec%9d%b8%ed%95%98%ea%b8%b0>#</a></h3><p>클라이언트에서 요청하는 헤더 내역에서 확인할 수 있는 정보는 표현하면 다음과 같습니다.</p><div class=sc-codeblock data-lang=json><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">json</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;NNB&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;nid_inf&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;NID_AUT&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;NID_SES&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;NID_JKL&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;CBI_SES&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;CBI_CHK&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;NSI&#34;</span><span class=p>:</span> <span class=s2>&#34;...&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>이는 앞으로 스마트스토어센터 로그인을 구현하는데서 반드시 확인해야할 목록입니다.</p><p>지금은 이 값들이 어떤 의미를 가지고 어디서 발생하는 값인지 알 수는 없지만,
서버로부터 해당 값들을 받아오는 것에 집중하여 로그인 프로세스를 파악하고
로그인 진행 과정을 쿠키 값을 통해 시각적으로 점검할 것입니다.</p><h2 id=스마트스토어센터-로그인-개요>스마트스토어센터 로그인 개요
<a class=anchor href=#%ec%8a%a4%eb%a7%88%ed%8a%b8%ec%8a%a4%ed%86%a0%ec%96%b4%ec%84%bc%ed%84%b0-%eb%a1%9c%ea%b7%b8%ec%9d%b8-%ea%b0%9c%ec%9a%94>#</a></h2><p>스마트스토어센터 로그인을 구현하기 위해 로그인 페이지를 탐색할 필요가 있습니다.</p><div class="sc-columns flex flex-wrap"><div class="flex-even markdown-inner" style=flex-grow:65><ul><li><p><label class=sc-image for=sc-image-toggle-1><input class="hidden toggle" type=checkbox id=sc-image-toggle-1>&lt;img src="https://dl.dropboxusercontent.com/scl/fi/dioekdylr9hg6mi6rj9f6/smartstore-login-00-main.webp?rlkey=uf5euqirww7zb8uwp1dayl87r&amp;raw=1"alt="스마트스토어 홈페이지 - 로그인하기"id="sc-image-1"width="1920"height="837"loading="lazy"
decoding="async"></label></p></div><div class="flex-even markdown-inner" style=flex-grow:35></li><li><p><label class=sc-image for=sc-image-toggle-2><input class="hidden toggle" type=checkbox id=sc-image-toggle-2>&lt;img src="https://dl.dropboxusercontent.com/scl/fi/ss8nhi6428fxn0n4bpx4y/smartstore-login-04-login-ui.webp?rlkey=3klo2immbjzwmd5uxqbqxl24c&amp;raw=1"alt="이메일/판매자 아이디 로그인"id="sc-image-2"width="1218"height="1152"loading="lazy"
decoding="async"></label></p></div></div></li></ul><p>메인 페이지에서 로그인하기 버튼을 클릭했을 때 이동하는 로그인 페이지에서 실제 로그인이 이루어집니다.
스마트스토어센터 로그인에는 판매자 아이디로 로그인하는 방식과
네이버 아이디로 로그인하는 방식이 있습니다.</p><p>우선적으로 네이버 아이디로 로그인하는 방식을 알아보겠습니다.</p><p>네이버 로그인을 구현하는 것에 관해선 좋은 선례가 있어 많은 부분을 참고했습니다.
해당 내용은 아래 링크를 참고할 수 있습니다.</p><a href="https://blog.naver.com/PostView.naver?blogId=nkj2001&amp;logNo=222722322802" target=_blank class=sc-bookmark-card><div class=sc-bookmark-image><img src="https://blogpfthumb-phinf.pstatic.net/MjAyMjAyMTdfMjc0/MDAxNjQ1MDI1NDQ2MjI0.Sg_HOc_KfHbbvpdaouH6_xcCMIXIR8Waczw8RRDJxQwg.GESLu4Na5ILGbrAlIDH5kbOfO9_-hmbsYYGKJozyktQg.PNG.nkj2001/charactor-120-120.png/charactor-120-120.png?type=w161" alt="파이썬#76 - 파이썬 크롤링 requests 로 네이버 로그인 하기" loading=lazy decoding=async></div><div class=sc-bookmark-content><h3 class=sc-bookmark-title>파이썬#76 - 파이썬 크롤링 requests 로 네이버 로그인 하기</h3><p class=sc-bookmark-description>개인적으로 파이썬 크롤링 프로그램을 만들다보면 네이버에서 제공하는 데이터를 사용할때가 많습니다. 그...</p><small class=sc-bookmark-url>네이버 블로그 | ▒ Blog Of Life ▒</small></div></a><h3 id=클래스-정의>클래스 정의
<a class=anchor href=#%ed%81%b4%eb%9e%98%ec%8a%a4-%ec%a0%95%ec%9d%98>#</a></h3><p>네이버 로그인 기능은 자동화 프로그램에서 지속적으로 활용될 것이기 때문에
별도의 클래스에서 메소드로 구현할 필요가 있습니다.</p><p>먼저 <code>requests</code> 모듈의 <code>Session</code> 클래스를 상속받는 <code>NaverLogin</code> 클래스를 정의합니다.</p><p><code>NaverLogin</code>은 네이버 ID와 비밀번호를 초기화하는 단순한 기능만을 구현했지만
<code>requests.Session</code> 클래스를 상속받았기 때문에
웹페이지 요청과 관련된 다양한 기능을 가지고 있습니다.</p><div class=sc-codeblock data-lang=python><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>NaverLogin</span><span class=p>(</span><span class=n>requests</span><span class=o>.</span><span class=n>Session</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>userid</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>passwd</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>userid</span> <span class=o>=</span> <span class=n>userid</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>passwd</span> <span class=o>=</span> <span class=n>passwd</span></span></span></code></pre></div></div><p>그리고 <code>NaverLogin</code> 을 상속받는 <code>SmartstoreLogin</code> 클래스를 정의합니다.
일반적인 네이버 로그인과 스마트스토어센터에서 진행되는 네이버 로그인이 다르기 때문에
<code>NaverLogin</code> 메소드의 일부를 변경할 필요가 있을 것입니다.</p><div class=sc-codeblock data-lang=python><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>SmartstoreLogin</span><span class=p>(</span><span class=n>NaverLogin</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>userid</span><span class=o>=</span><span class=nb>str</span><span class=p>(),</span> <span class=n>passwd</span><span class=o>=</span><span class=nb>str</span><span class=p>(),</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>userid</span><span class=p>,</span> <span class=n>passwd</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></span></span></code></pre></div></div><p>추가적으로 로그인 페이지 요청 과정에서 빈번하게 정의해야 하는 매개변수 생성을
간단하게 할 수 있는 메소드를 정의하겠습니다.</p><h3 id=헤더-생성-메소드-정의>헤더 생성 메소드 정의
<a class=anchor href=#%ed%97%a4%eb%8d%94-%ec%83%9d%ec%84%b1-%eb%a9%94%ec%86%8c%eb%93%9c-%ec%a0%95%ec%9d%98>#</a></h3><p><code>requests</code> 모듈은 기본적으로 헤더를 갖고 있지 않는데
이 상태로 다수의 웹페이지에 요청을 보낸다면 로봇으로 간주당해 차단당할 것입니다.</p><p>임의의 웹페이지에 요청을 보낼 때 확인할 수 있는 요청 헤더 <code>HEADERS</code> 를 기본 바탕으로,
웹페이지 별로 최적화된 헤더를 생성하는 <code>get_headers()</code> 메소드를 정의합니다.</p><div class=sc-codeblock data-lang=python><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>HEADERS</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Accept&#34;</span><span class=p>:</span> <span class=s2>&#34;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Accept-Encoding&#34;</span><span class=p>:</span> <span class=s2>&#34;gzip, deflate, br&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Accept-Language&#34;</span><span class=p>:</span> <span class=s2>&#34;ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Connection&#34;</span><span class=p>:</span> <span class=s2>&#34;keep-alive&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sec-ch-ua&#34;</span><span class=p>:</span> <span class=s1>&#39;&#34;Chromium&#34;;v=&#34;106&#34;, &#34;Google Chrome&#34;;v=&#34;106&#34;, &#34;Not;A=Brand&#34;;v=&#34;99&#34;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sec-ch-ua-mobile&#34;</span><span class=p>:</span> <span class=s2>&#34;?0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;sec-ch-ua-platform&#34;</span><span class=p>:</span> <span class=s1>&#39;&#34;Windows&#34;&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Sec-Fetch-Dest&#34;</span><span class=p>:</span> <span class=s2>&#34;empty&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Sec-Fetch-Mode&#34;</span><span class=p>:</span> <span class=s2>&#34;cors&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Sec-Fetch-Site&#34;</span><span class=p>:</span> <span class=s2>&#34;same-origin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;User-Agent&#34;</span><span class=p>:</span> <span class=s2>&#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><div class=sc-codeblock data-lang=python><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>urllib.parse</span> <span class=kn>import</span> <span class=n>urlparse</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>NaverLogin</span><span class=p>(</span><span class=n>requests</span><span class=o>.</span><span class=n>Session</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_headers</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>authority</span><span class=o>=</span><span class=nb>str</span><span class=p>(),</span> <span class=n>referer</span><span class=o>=</span><span class=nb>str</span><span class=p>(),</span> <span class=n>cookies</span><span class=o>=</span><span class=nb>str</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>                    <span class=n>host</span><span class=o>=</span><span class=nb>str</span><span class=p>(),</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span><span class=n>Any</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=n>headers</span> <span class=o>=</span> <span class=n>HEADERS</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>authority</span><span class=p>:</span> <span class=n>headers</span><span class=p>[</span><span class=s2>&#34;Authority&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>urlparse</span><span class=p>(</span><span class=n>authority</span><span class=p>)</span><span class=o>.</span><span class=n>hostname</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>host</span><span class=p>:</span> <span class=n>headers</span><span class=p>[</span><span class=s2>&#34;Host&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>urlparse</span><span class=p>(</span><span class=n>host</span><span class=p>)</span><span class=o>.</span><span class=n>hostname</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>referer</span><span class=p>:</span> <span class=n>headers</span><span class=p>[</span><span class=s2>&#34;Referer&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>referer</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>cookies</span><span class=p>:</span> <span class=n>headers</span><span class=p>[</span><span class=s2>&#34;Cookie&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>cookies</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>dict</span><span class=p>(</span><span class=n>headers</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></span></span></code></pre></div></div><p>호스트명을 의미하는 <code>Authority</code> 또는 <code>Host</code>, 리다이렉트 전 경로를 의미하는 <code>Referer</code>,
그리고 쿠키를 의미하는 <code>Cookie</code> 등의 값은 수시로 변하기 때문에 별도의 입력으로 지정합니다.</p><h3 id=쿠키-생성-메소드-정의>쿠키 생성 메소드 정의
<a class=anchor href=#%ec%bf%a0%ed%82%a4-%ec%83%9d%ec%84%b1-%eb%a9%94%ec%86%8c%eb%93%9c-%ec%a0%95%ec%9d%98>#</a></h3><p>헤더와 함께 활용되는 쿠키는 헤더와 마찬가지로 웹페이지 요청 시 빈번히 활용되는데
<code>requests</code> 모듈의 쿠키 자료형인 <code>RequestsCookieJar</code> 를 헤더에 직접 포함시킬 수 없기 때문에,
쿠키를 적절한 형태의 문자열로 변환하는 <code>get_cookies()</code> 메소드를 정의합니다.</p><div class=sc-codeblock data-lang=python><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class=icon-file-copy></i>Copy
</button>
<span class="code-language code-action">python</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>requests.cookies</span> <span class=kn>import</span> <span class=n>RequestsCookieJar</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>NaverLogin</span><span class=p>(</span><span class=n>requests</span><span class=o>.</span><span class=n>Session</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_cookies</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>parse_cookies</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>cookies</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>parse_cookies</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>cookies</span><span class=p>:</span> <span class=n>RequestsCookieJar</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=s2>&#34;; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=nb>str</span><span class=p>(</span><span class=n>key</span><span class=p>)</span><span class=o>+</span><span class=s2>&#34;=&#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=k>for</span> <span class=n>key</span><span class=p>,</span><span class=n>value</span> <span class=ow>in</span> <span class=n>cookies</span><span class=o>.</span><span class=n>items</span><span class=p>()])</span></span></span></code></pre></div></div><h2 id=마치며>마치며
<a class=anchor href=#%eb%a7%88%ec%b9%98%eb%a9%b0>#</a></h2><p>이번 게시글에서는 두 가지 데이터 수집 방식을 예시를 통해 알아보았고
스마트스토어센터 로그인의 바탕이 되는 클래스와 메소드를 정의했습니다.</p><p>다음 게시글에서는 네이버 로그인을 본격적으로 구현해보겠습니다.</p></article><footer class=site-footer><div class=tags-wrap><a href="/search/?tags=%ed%81%ac%eb%a1%a4%eb%a7%81" class=tag>#크롤링</a>
<a href="/search/?tags=Python" class=tag>#Python</a>
<a href="/search/?tags=%eb%84%a4%ec%9d%b4%eb%b2%84" class=tag>#네이버</a>
<a href="/search/?tags=%ec%8a%a4%eb%a7%88%ed%8a%b8%ec%8a%a4%ed%86%a0%ec%96%b4" class=tag>#스마트스토어</a>
<a href="/search/?tags=%eb%a1%9c%ea%b7%b8%ec%9d%b8%20%ec%9e%90%eb%8f%99%ed%99%94" class=tag>#로그인 자동화</a>
<a href="/search/?tags=requests" class=tag>#requests</a>
<a href="/search/?tags=%eb%8d%b0%ec%9d%b4%ed%84%b0%20%ec%88%98%ec%a7%91" class=tag>#데이터 수집</a>
<a href="/search/?tags=%ec%bf%a0%ed%82%a4%20%ec%9d%b8%ec%a6%9d" class=tag>#쿠키 인증</a>
<a href="/search/?tags=%ec%9b%b9%20%ec%9e%90%eb%8f%99%ed%99%94" class=tag>#웹 자동화</a></div><div class=prev-next-wrap><a href=/blog/hugo-blog-old-3/ class=prev-link><span class=prev-next-label><i class=icon-backward></i>
<span data-i18n-id=post.prev.link data-i18n-text>이전</span>
</span><span class=prev-next-title>깃허브 블로그 만들기 (3) - PaperMod 테마 커스터마이징</span>
</a><a href=/blog/smartstore-login-2/ class=next-link><span class=prev-next-label><span data-i18n-id=post.next.link data-i18n-text>다음</span>
<i class=icon-forward></i>
</span><span class=prev-next-title>[Python] requests로 네이버 스마트스토어센터 로그인 구현하기 (2)</span></a></div><div class=comments-wrap><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://minyeamer.github.io/blog/smartstore-login-1/",this.page.identifier="https://minyeamer.github.io/blog/smartstore-login-1/"};window.relocateDisqus=()=>{let e=0;const t=20,n=setInterval(()=>{e++;const s=document.getElementById(atob(atob("WkdsemNYVnpYM1JvY21WaFpBPT0=")));var o=!1;if(s){const e=s.querySelector(atob(atob("VzNOeVl5bzlKMkZrY3lkZA==")));e&&(s.appendChild(e),o=!0)}(o||e>t)&&clearInterval(n)},1e3)},function(){var e=document,t=e.createElement("script");t.src="https://minyeamer.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}(),window.relocateDisqus();function reloadDisqus(){window.DISQUS&&(DISQUS.reset({reload:!0,config:function(){this.page.url="https://minyeamer.github.io/blog/smartstore-login-1/",this.page.identifier="https://minyeamer.github.io/blog/smartstore-login-1/"}}),window.relocateDisqus())}</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><div class="copyright-wrap flex justify-center"><small>Minystory - <a href=https://creativecommons.org/licenses/by/4.0/legalcode target=_blank rel="noopener noreferrer">© CC BY 4.0</a></small></div></footer><label for=menu-control class="hidden site-menu-overlay"></label></div><aside class=site-toc aria-label=목차 data-i18n-id=toc.aside.tooltip data-i18n-attrs=aira-label><div class=toc-content><nav id=TableOfContents><ul><li><a href=#데이터-수집-개요>데이터 수집 개요</a><ul><li><a href=#데이터-수집-시나리오>데이터 수집 시나리오</a></li><li><a href=#로그인이-필요한-페이지의-데이터-가져오기>로그인이 필요한 페이지의 데이터 가져오기</a></li><li><a href=#쿠키-확인하기>쿠키 확인하기</a></li></ul></li><li><a href=#스마트스토어센터-로그인-개요>스마트스토어센터 로그인 개요</a><ul><li><a href=#클래스-정의>클래스 정의</a></li><li><a href=#헤더-생성-메소드-정의>헤더 생성 메소드 정의</a></li><li><a href=#쿠키-생성-메소드-정의>쿠키 생성 메소드 정의</a></li></ul></li><li><a href=#마치며>마치며</a></li></ul></nav></div><div class=hidden id=toc-config data-start=2 data-end=3></div></aside><div class=site-toolbar role=toolbar aria-label="툴바'" data-i18n-id=toolbar.wrap.tooltip data-i18n-attrs=aira-label><input type=checkbox id=toolbar-toggle class="hidden toggle"><div class=toolbar-items><div class="toolbar-button i18n-button"><i class=icon-globe></i>
<select class=i18n-selector id=i18n-selector aria-label="i18n `toolbar.i18n.tooltip` | default `Select language`" title="i18n `toolbar.i18n.tooltip` | default `Select language`" data-i18n-id=toolbar.i18n.tooltip data-i18n-attrs=aria-label,title><option value=ko>한국어</option><option value=en>English</option><option value=ja>日本語</option><option value=zh>中文</option><option value=es>Español</option><option value=fr>Français</option><option value=de>Deutsch</option><option value=it>Italiano</option><option value=pt>Português</option><option value=ru>Русский</option><option value=am>አማርኛ</option><option value=bg>Български</option><option value=bn>বাংলা</option><option value=cn>简体中文</option><option value=cs>Čeština</option><option value=fa>فارسی</option><option value=he>עברית</option><option value=nb>Norsk</option><option value=nl>Nederlands</option><option value=oc>Occitan</option><option value=pl>Polski</option><option value=pt-BR>Português (BR)</option><option value=sv>Svenska</option><option value=sw>Kiswahili</option><option value=tr>Türkçe</option><option value=uk>Українська</option><option value=zh-TW>繁體中文</option></select></div><button class=toolbar-button onclick='window.scrollTo({top:0,behavior:"smooth"})' aria-label="i18n `toolbar.top.tooltip` | default `Go to top`" title="i18n `toolbar.top.tooltip` | default `Go to top`" data-i18n-id=toolbar.top.tooltip data-i18n-attrs=aria-label,title>
<i class=icon-chevron-up></i>
</button>
<button class=toolbar-button onclick='window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})' aria-label="i18n `toolbar.bottom.tooltip` | default `Go to bottom`" title="i18n `toolbar.bottom.tooltip` | default `Go to bottom`" data-i18n-id=toolbar.bottom.tooltip data-i18n-attrs=aria-label,title>
<i class=icon-chevron-down></i>
</button>
<button class=toolbar-button onclick=history.back() aria-label="i18n `toolbar.back.tooltip` | default `Go back`" title="i18n `toolbar.back.tooltip` | default `Go back`" data-i18n-id=toolbar.back.tooltip data-i18n-attrs=aria-label,title>
<i class=icon-arrow-left></i></button></div><label for=toolbar-toggle class="toolbar-button toolbar-toggle-label"><i class="icon-plus icon-expand"></i>
<i class="icon-xmark icon-collapse"></i></label></div></main></body></html>