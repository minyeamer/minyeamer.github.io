<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><meta name=author content><meta name=keywords content="Kubernetes,쿠버네티스 설치,Ubuntu 24.04,kubeadm,containerd,Calico,CNI,kubectl,kubelet,클러스터 구성"><meta name=description content="Ubuntu 24.04에서 쿠버네티스 클러스터 설치 가이드. kubeadm, containerd, Calico CNI를 활용한 마스터/워커 노드 구성부터 대시보드 배포까지 단계별로 …"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><link rel=icon href=https://minyeamer.github.io/images/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://minyeamer.github.io/images/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://minyeamer.github.io/images/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://minyeamer.github.io/images/favicons/apple-touch-icon.png><link rel=mask-icon href=https://minyeamer.github.io/images/favicons/apple-touch-icon.png><meta name=google-site-verification content="u1tWcHmHUZWfFT1cHaku6sqU-bK40N3WLR-C-4VUWN0"><meta name=naver-site-verification content="6eaf8e9da1a6104780f056f1a7797fe5a3a5a0da"><meta property="og:title" content="쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치"><meta property="og:description" content="Ubuntu 24.04에서 쿠버네티스 클러스터 설치 가이드. kubeadm, containerd, Calico CNI를 활용한 마스터/워커 노드 구성부터 대시보드 배포까지 단계별로 …"><meta property="og:type" content="article"><meta property="og:url" content="https://minyeamer.github.io/blog/kube-installtion/"><meta property="og:image" content="https://dl.dropboxusercontent.com/scl/fi/9itthpgf8xuiogeebvyp9/kubernetes-00-logo.webp?rlkey=g4wrh18mf0tioibm3fij5r54k&amp;raw=1"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-07-16T23:52:48+09:00"><meta property="article:modified_time" content="2025-07-16T23:52:48+09:00"><meta property="og:see_also" content="https://minyeamer.github.io/blog/container-history/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://dl.dropboxusercontent.com/scl/fi/9itthpgf8xuiogeebvyp9/kubernetes-00-logo.webp?rlkey=g4wrh18mf0tioibm3fij5r54k&amp;raw=1"><meta name=twitter:title content="쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치"><meta name=twitter:description content="Ubuntu 24.04에서 쿠버네티스 클러스터 설치 가이드. kubeadm, containerd, Calico CNI를 활용한 마스터/워커 노드 구성부터 대시보드 배포까지 단계별로 …"><meta name=twitter:site content="@https://x.com/minyeamer"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://minyeamer.github.io/posts/"},{"@type":"ListItem","position":2,"name":"쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치","item":"https://minyeamer.github.io/blog/kube-installtion/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치","name":"쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치","description":"Ubuntu 24.04에서 쿠버네티스 클러스터 설치 가이드. kubeadm, containerd, Calico CNI를 활용한 마스터/워커 노드 구성부터 대시보드 배포까지 단계별로 설명합니다. Apple Silicon(ARM64) 환경에서 실습 가능한 완벽한 K8s 설치 튜토리얼입니다.\n","keywords":["Kubernetes, 쿠버네티스 설치, Ubuntu 24.04, kubeadm, containerd, Calico, CNI, kubectl, kubelet, 클러스터 구성"],"articleBody":" Kubernetes 배우기 1. 컨테이너의 역사와 쿠버네티스 등장 배경 - LXC에서 containerd까지 2. 쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치 숨기기 목록 보기 2/2 실습 개요 # 쿠버네티스 공식문서 중 시작하기 항목에 있는 컨테이너 런타임 과 kubeadm 설치하기 를 따릅니다.\nOS 선정 #관련한 블로그 게시글 중에는 Rocky Linux OS를 사용한 사례가 많았는데, 이미 과거에 Mac에 Ubuntu Server 24.04 설치하기 (UTM) 라는 게시글로 Ubuntu Server 가상머신을 생성한 이력이 있어서 Rocky Linux 대신에 Ubuntu Server를 사용할 것입니다.\nUbuntu Server를 선택한 또 다른 이유는, Rocky Linux의 원본인 RHEL 8버전과 Ubuntu Server의 공식문서를 참고하여 아래와 같이 최소사양을 비교한데 있습니다. 서비스 운영 환경으로 사용할 것이 아니라서 단순히 숫자만 놓고 봤을 때 Ubuntu Server가 더 가벼워서 실습 환경으로 선택했습니다.\n하드웨어 Ubuntu Server 24.04.2 LTS RHEL 8 CPU 1GHz 이상 64비트 1.5GHz 이상 64비트, 2코어 권장 RAM 최소 1.5GB (ISO), 권장 3GB 이상 최소 1.5GiB~3GiB, 권장 1GB/CPU 저장공간 최소 5GB, 권장 25GB 이상 최소 10GiB, 권장 20GiB 이상 Apple Silicon 환경에서 리눅스 가상머신을 실행하기 때문에, OS와 컨테이너 런타임 등은 모두 arm64 호환 버전을 사용합니다.\n실습 환경 #UTM 소프트웨어를 사용해 Ubuntu Server 가상머신이 만들어졌음을 가정하고 진행합니다. 가상머신 생성이 필요한 경우 이전 게시글을 참고할 수 있습니다.\n가용 자원 #M4 Mac Mini 한 대의 자원을 사용할 수 있습니다.\nM4 Mac mini\nMemory : 16GB CPU : 10코어 IP Address : 192.168.50.227/24\n실습 자원 #마스터 노드 1대와 워커 노드 2대로 구성된 쿠버네티스 클러스터를 구성합니다.\nk8s-master\nMemory : 4GB CPU : 4코어 IP Address : 192.168.50.13/24\nk8s-worker1\nMemory : 4GB CPU : 4코어 IP Address : 192.168.50.14/24\nk8s-worker2\nMemory : 4GB CPU : 4코어 IP Address : 192.168.50.15/24\n네트워크 # 통신 편의성을 위해 가상머신 네트워크는 브릿지 모드로 설정합니다. Ubuntu Server 설치 시 기본 설정인 DHCP 대신에 Static IP 주소를 설정합니다.\n실습 중 minyeamer 호스트에서 쿠버네티스 노드로 SSH 연결하여 명령어를 입력합니다.\n쿠버네티스 노드는 역할을 명시하기 위해 k8s-master, k8s-worker1, k8s-worker2 호스트로 정의합니다. k8s-master 가 마스터 노드 역할을 하고, 나머지가 워커 노드 역할을 담당합니다.\n설치하기 (공통) #우선, 마스터 노드와 워커 노드에서 공통적으로 컨테이너 런타임과 쿠버네티스를 설치합니다.\n1. Ubuntu Server 기본 설정 # Copy bash echo '===== [1] Ubuntu Server 기본 설정 =====' echo '===== [1-1] 타임존 설정 =====' sudo timedatectl set-timezone Asia/Seoul echo '===== [1-2] hosts 설정 =====' cat \u003c\u003c EOF | sudo tee -a /etc/hosts 192.168.50.13 k8s-master 192.168.50.14 k8s-worker1 192.168.50.15 k8s-worker2 EOF쿠버네티스 노드 간 호스트명으로 통신하기 위해 /etc/hosts 에 호스트명과 IP 주소를 맵핑합니다. 맥에서도 쿠버네티스 노드에 SSH로 접근하기 위해 편의상 /etc/hosts 를 동일하게 설정했습니다.\n2. kubeadm 설치 전 사전작업 #쿠버네티스 공식문서 kubeadm 설치하기 에 따르면 시작하기 전에,\n컴퓨터의 특정 포트들 개방. 자세한 내용은 여기 를 참고한다. 스왑의 비활성화. kubelet이 제대로 작동하게 하려면 반드시 스왑을 사용하지 않도록 설정한다. 위 사항을 만족해야 한다고 알려줍니다.\n쿠버네티스 클러스터 노드 간 다양한 포트를 통해 통신이 이루어지는데, 방화벽 설정에 의해 통신이 차단되어 클러스터 구성이 실패할 수 있습니다. 쿠버네티스 API 서버가 6443 포트를 사용하고, 파드 네트워크 플러그인마다 또 필요한 포트가 있습니다. 실습 환경에선 방화벽 자체를 해제합니다.\n또한, 쿠버네티스의 구성요소인 Kubelet은 메모리 할당 및 관리를 위해 설계되었는데, Swap을 사용하게 되면 예상치 못한 성능 저하나 불안정성을 초래할 수 있어 Swap을 해제해야 합니다.\n이러한 과정을 아래와 같은 명령어로 처리할 수 있습니다.\nCopy bash echo '===== [2] kubeadm 설치 전 사전작업 =====' echo '===== [2-1] 방화벽 해제 =====' sudo systemctl stop ufw sudo systemctl disable ufw sudo ufw disable echo '===== [2-2] Swap 비활성화 =====' sudo swapoff -a sudo sed -i '/ swap / s/^/#/' /etc/fstab echo '===== [2-3] 필수 패키지 설치 =====' sudo apt-get update sudo apt-get install -y apt-transport-https ca-certificates curl gpg iproute2추가로, 컨테이너 런타임과 쿠버네티스 설치 전 필요한 필수 패키지를 미리 설치합니다.\n3. 컨테이너 런타임 설치 전 사전작업 #컨테이너 런타임과 관련된 쿠버네티스 공식문서의 IPv4를 포워딩하여 iptables가 브리지된 트래픽을 보게 하기 문단에 따라 패킷 포워딩 등의 기능 제공을 위해 iptables 설정을 합니다.\n해당 과정은 아래와 같이 공식문서에서 제공됩니다.\nCopy bash echo '===== [3] 컨테이너 런타임 설치 전 사전작업 =====' echo '===== [3-1] 필요한 모듈 로드 =====' cat \u003c","wordCount":"1771","inLanguage":"ko","image":"https:\/\/dl.dropboxusercontent.com\/scl\/fi\/9itthpgf8xuiogeebvyp9\/kubernetes-00-logo.webp?rlkey=g4wrh18mf0tioibm3fij5r54k\u0026raw=1","datePublished":"2025-07-16T23:52:48+09:00","dateModified":"2025-07-16T23:52:48+09:00","author":{"@type":"Person","name":"minyeamer"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://minyeamer.github.io/blog/kube-installtion/"},"publisher":{"@type":"Person","name":"Minystory","logo":{"@type":"ImageObject","url":"https://minyeamer.github.io/images/favicons/favicon.ico"}}}</script><script>(function(){const e=256+768*1.3;window.innerWidth>e&&localStorage.getItem("menu-expanded")==="false"&&document.documentElement.classList.add("menu-initial-collapsed")})()</script><title>쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치</title><link rel=icon href=/images/favicon.ico><link rel=manifest href=/data/manifest.json><link rel=canonical href=https://minyeamer.github.io/blog/kube-installtion/><link rel=stylesheet href=/main.min.5cef15459c75888e1b1985caa72c3b3683ebe3aad0d82d5eebb539a840899be7.css integrity="sha256-XO8VRZx1iI4bGYXKpyw7NoPr46rQ2C1e67U5qECJm+c=" crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-BJ8Z9RMBPJ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BJ8Z9RMBPJ")</script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css crossorigin=anonymous><script>(function(){const e=console.warn;console.warn=function(...n){const t=(new Error).stack||"";if(t.includes("highlight.min.js")||t.includes("highlightjs-line-numbers"))return;e.apply(console,n)}})()</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js crossorigin=anonymous></script><script>window.siteI18n=window.siteI18n||{},window.siteI18n.defaultLang="en"</script><script>window.siteI18n.dataUrl="/data/i18n.min.a69d97976d04e681499d74d71f0019de3d6ed9f29a55bc606a9459d1454b3b65.json"</script><script>window.siteI18n.initData=function(){return window.siteI18n.data?Promise.resolve(window.siteI18n.data):fetch(window.siteI18n.dataUrl).then(e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()}).then(e=>(window.siteI18n.data=e,window.siteI18n.data))},window.siteI18n.getLanguage=function(e={}){const s="site-language",t=localStorage.getItem(s);if(t)return t;const n=(navigator.language||navigator.userLanguage).split("-")[0];return!e||e[n]?n:window.siteI18n.defaultLang},window.siteI18n.translate=function(e,t=""){if(window.siteI18n.data){const n=window.siteI18n.getLanguage(),t=window.siteI18n.data[n];if(t&&e in t)return t[e]}return t},void window.siteI18n.initData().catch(()=>{})</script><script defer src=/js/core/i18n.min.c076e5ad51c454cca138121312827bfde8c5526a930ce57cea2207f501fea0d7.js integrity="sha256-wHblrVHEVMyhOBITEoJ7/ejFUmqTDOV86iIH9QH+oNc=" crossorigin=anonymous></script><script defer src=/js/partials/scroll-progress.min.841ade7e507a5f6d59c4e7bf2fe2b2ca034070677ff7957eec55610a024dd776.js integrity="sha256-hBreflB6X21ZxOe/L+KyygNAcGd/95V+7FVhCgJN13Y=" crossorigin=anonymous></script><script defer src=/js/partials/menu-toggle.min.7ee0f34ad37a564fe94803318b77c9128244ae7747bf68a99f5c639cd14ee1bc.js integrity="sha256-fuDzStN6Vk/pSAMxi3fJEoJErndHv2ipn1xjnNFO4bw=" crossorigin=anonymous></script><script defer src=/js/partials/toc-toggle.min.245e40eb40fe121e595f13897569556fa17b72530600a710a00a5d636dbf140d.js integrity="sha256-JF5A60D+Eh5ZXxOJdWlVb6F7clMGAKcQoApdY22/FA0=" crossorigin=anonymous></script><script defer src=/js/core/set-theme.min.986446861d7c48b101b4a6f53724b7fc97d6efec2a87906c6630cb9e503897c4.js integrity="sha256-mGRGhh18SLEBtKb1NyS3/JfW7+wqh5BsZjDLnlA4l8Q=" crossorigin=anonymous></script><script defer src=/js/shortcodes/copy-code.min.e18ffc44cf6beb1757c467945bb2897b0e1cb2ee52f08b460ee3ee57f0db6d60.js integrity="sha256-4Y/8RM9r6xdXxGeUW7KJew4csu5S8ItGDuPuV/DbbWA=" crossorigin=anonymous></script><script defer src=/js/partials/toc-highlight.min.7917ead4ecb7378779bfbf3f988251ac76bd55ca7f12fd5919870777dbcd6095.js integrity="sha256-eRfq1Oy3N4d5v78/mIJRrHa9Vcp/Ev1ZGYcHd9vNYJU=" crossorigin=anonymous></script><script defer src=/js/partials/reading-time.min.9dae1dd14e75a79711e28a5864bf1fe636869815c32110f680ff8e1d61bfdf28.js integrity="sha256-na4d0U51p5cR4opYZL8f5jaGmBXDIRD2gP+OHWG/3yg=" crossorigin=anonymous></script><script defer src=/js/shortcodes/image-zoom.min.bb446c50cbec91f1b4fdfbb9f695d753ef4811f43de0a9411201c8466ffe204a.js integrity="sha256-u0RsUMvskfG0/fu59pXXU+9IEfQ94KlBEgHIRm/+IEo=" crossorigin=anonymous></script><script defer src=/js/shortcodes/data-table.min.d20aaf7f506ee989f91746098231f979e58b8435513de0d4f05eefb9c45743e7.js integrity="sha256-0gqvf1Bu6Yn5F0YJgjH5eeWLhDVRPeDU8F7vucRXQ+c=" crossorigin=anonymous></script><script>window.siteSearch=window.siteSearch||{}</script><script>window.siteSearch.contentUrl="/data/content.min.0d9c35258206161520526aeccdea6826417931b6c7dda3db171fe4099b3a26f1.json"</script><script>window.siteSearch.categoriesUrl="/data/categories.min.a110e9708cdf79e3dc8d271224586cc9deffc0232514190c37e24dc74470851c.json"</script><script>window.siteSearch.tagsUrl="/data/tags.min.d80e1fb9a5142d159b8e7e3b9adea10216e811adf810f15fbe9bd79b2b6c83d8.json"</script><script defer src=/fuse.min.js></script><script defer src=/js/search/init.min.ee793e2de351fef268c6642567b4af23bd3763c2cb74f767e7240807e394417d.js integrity="sha256-7nk+LeNR/vJoxmQlZ7SvI703Y8LLdPdn5yQIB+OUQX0=" crossorigin=anonymous></script><script defer src=/js/search/input.min.d9380107ad7925e0b0ba621d64e1648e8119523b6f8cff46cdf240117921a06b.js integrity="sha256-2TgBB615JeCwumIdZOFkjoEZUjtvjP9GzfJAEXkhoGs=" crossorigin=anonymous></script><script defer src=/js/search/list.min.19c27643078f3be0fb15443fbb4903ffe3234c85373d568e3de7478ac45b16e5.js integrity="sha256-GcJ2QwePO+D7FUQ/u0kD/+MjTIU3PVaOPedHisRbFuU=" crossorigin=anonymous></script></head><body class="site-kind-page site-type-posts site-layout-post" dir=ltr><div class=scroll-progress><div class=scroll-progress-bar></div></div><label class=image-overlay-wrap for=image-overlay-toggle><input class="hidden toggle" type=checkbox id=image-overlay-toggle><div class=image-overlay></div></label><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><div class=menu-overlay></div><main class=container><aside class=site-menu aria-label=메뉴 data-i18n-id=menu.aside.tooltip data-i18n-attrs=aira-label><div class=menu-content><nav><div class=menu-profile><div class=profile-image-wrap><a href=https://minyeamer.github.io/><img src=/images/profile/menu.jpg alt=Profile class=profile-image decoding=async></a></div><h2 class=profile-title><a class="flex align-center" href=https://minyeamer.github.io/><span>Minystory</span></a></h2></div><div class=menu-links><a href=https://github.com/minyeamer target=_blank id=github-link title=GitHub><i class="fa-brands fa-github"></i>
</a><a href=/categories/ id=categories-link title=Categories><i class="fa-solid fa-folder"></i>
</a><a href=/tags/ id=tags-link title=Tags><i class="fa-solid fa-tags"></i>
</a><button class=dark-mode-toggle id=theme-toggle-button aria-label="Toggle color scheme">
<i class="fa-solid fa-circle-half-stroke"></i></button></div><div class=menu-search id=search-input data-hotkeys=s/ role=button tabindex=0 aria-label=검색 data-i18n-id=search.action.label data-i18n-attrs=aira-label><i class="fa-solid fa-magnifying-glass search-icon"></i>
<span class=search-placeholder data-i18n-id=search.input.label data-i18n-text='{"`/`": "$code"}'><code>/</code> 를 눌러 검색하세요</span></div><div class=menu-categories><input type=checkbox class="hidden toggle" id=categories-control checked>
<label for=categories-control class="categories-label categories-toggle"><a href=/categories/ class=categories-root><i class="fa-solid fa-folder"></i>
<span data-i18n-id=categories.root.label data-i18n-text>전체
</span><span class=category-count>(41)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li><input type=checkbox class="hidden toggle" id=cat-algorithm>
<label for=cat-algorithm class="categories-label categories-toggle"><a href="/search/?category1=Algorithm"><i class="fa-solid fa-folder"></i>Algorithm<span class=category-count>(4)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Algorithm&category2=Graph"><i class="fa-solid fa-file"></i>Graph<span class=category-count>(1)</span></a></li><li class=categories-label><a href="/search/?category1=Algorithm&category2=Python"><i class="fa-solid fa-file"></i>Python<span class=category-count>(2)</span></a></li><li class=categories-label><a href="/search/?category1=Algorithm&category2=SQL"><i class="fa-solid fa-file"></i>SQL<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-cloud>
<label for=cat-cloud class="categories-label categories-toggle"><a href="/search/?category1=Cloud"><i class="fa-solid fa-folder"></i>Cloud<span class=category-count>(2)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Cloud&category2=Kubernetes"><i class="fa-solid fa-file"></i>Kubernetes<span class=category-count>(2)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-data-analysis>
<label for=cat-data-analysis class="categories-label categories-toggle"><a href="/search/?category1=Data%20Analysis"><i class="fa-solid fa-folder"></i>Data Analysis<span class=category-count>(3)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Data%20Analysis&category2=Dacon"><i class="fa-solid fa-file"></i>Dacon<span class=category-count>(3)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-data-engineering>
<label for=cat-data-engineering class="categories-label categories-toggle"><a href="/search/?category1=Data%20Engineering"><i class="fa-solid fa-folder"></i>Data Engineering<span class=category-count>(19)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Apache%20Airflow"><i class="fa-solid fa-file"></i>Apache Airflow<span class=category-count>(7)</span></a></li><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Apache%20Spark"><i class="fa-solid fa-file"></i>Apache Spark<span class=category-count>(8)</span></a></li><li class=categories-label><a href="/search/?category1=Data%20Engineering&category2=Crawling"><i class="fa-solid fa-file"></i>Crawling<span class=category-count>(4)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-frontend>
<label for=cat-frontend class="categories-label categories-toggle"><a href="/search/?category1=Frontend"><i class="fa-solid fa-folder"></i>Frontend<span class=category-count>(10)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Frontend&category2=Blog"><i class="fa-solid fa-file"></i>Blog<span class=category-count>(10)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-linux>
<label for=cat-linux class="categories-label categories-toggle"><a href="/search/?category1=Linux"><i class="fa-solid fa-folder"></i>Linux<span class=category-count>(1)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Linux&category2=Ubuntu"><i class="fa-solid fa-file"></i>Ubuntu<span class=category-count>(1)</span></a></li></ul></li><li><input type=checkbox class="hidden toggle" id=cat-project>
<label for=cat-project class="categories-label categories-toggle"><a href="/search/?category1=Project"><i class="fa-solid fa-folder"></i>Project<span class=category-count>(2)</span>
</a><i class="fa-solid fa-chevron-down categories-arrow"></i></label><ul><li class=categories-label><a href="/search/?category1=Project&category2=Open%20Source"><i class="fa-solid fa-file"></i>Open Source<span class=category-count>(1)</span></a></li><li class=categories-label><a href="/search/?category1=Project&category2=Tools"><i class="fa-solid fa-file"></i>Tools<span class=category-count>(1)</span></a></li></ul></li></ul></div><div class=recent-posts><div class=recent-post-label><i class="fa-solid fa-clock"></i>
<span data-i18n-id=menu.recent.posts data-i18n-text>최신글</span></div><ul class=recent-post-list><li class=recent-post-item><a href=/blog/hugo-seotax-1/ title="Hugo 서택스(SeoTax) 테마 제작기 - 동적 렌더링으로 확장된 검색"><div class=recent-post-title>Hugo 서택스(SeoTax) 테마 제작기 - 동적 렌더링으로 확장된 검색</div><div class=recent-post-date><time datetime=2026-01-25>2026.01.25</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-5/ title="Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터)"><div class=recent-post-title>Hugo Disqus 댓글 연동 - 본문 레이아웃 개선하기 (헤더/푸터)</div><div class=recent-post-date><time datetime=2025-12-15>2025.12.15</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-4/ title="Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기"><div class=recent-post-title>Hugo 검색 기능 구현 - Fuse.js로 검색 인덱스 최적화하기</div><div class=recent-post-date><time datetime=2025-12-14>2025.12.14</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-3/ title="Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현"><div class=recent-post-title>Hugo 분류(Taxonomies) 커스터마이징 - 태그/카테고리 템플릿 구현</div><div class=recent-post-date><time datetime=2025-11-22>2025.11.22</time></div></a></li><li class=recent-post-item><a href=/blog/hugo-blog-2/ title="Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선"><div class=recent-post-title>Hugo Book 테마 커스터마이징 - 메뉴/목차/헤더 레이아웃 개선</div><div class=recent-post-date><time datetime=2025-11-04>2025.11.04</time></div></a></li></ul></div></nav><script>(function(){var e=document.querySelector("aside .menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=main-wrap><header class=site-header><div class="flex align-center justify-between"><label for=menu-control aria-label="메뉴 접기/펼치기" title="메뉴 접기/펼치기" data-i18n-id=menu.toggle.tooltip data-i18n-attrs=aria-label,title><i class="fa-solid fa-bars menu-icon" id=menu-icon></i></label><div class=mobile-search id=mobile-search-input role=button tabindex=0 aria-label=검색 data-i18n-id=search.action.label data-i18n-attrs=aria-label><i class="fa-solid fa-magnifying-glass search-icon"></i>
<span class=mobile-title>Minystory</span>
<i class=mobile-title-pad></i></div><label for=toc-control aria-label="목차 접기/펼치기" title="목차 접기/펼치기" data-i18n-id=toc.toggle.tooltip data-i18n-attrs=aria-label,title><i class="fa-solid fa-list menu-icon" id=toc-icon></i></label></div></header><article class="content-wrap markdown" id=content-wrap><header class=content-header><div class=content-category><a href="/search/?category1=Cloud&category2=Kubernetes" class=content-category-link>Cloud/Kubernetes</a></div><h1 class=content-title>쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치</h1><div class=content-datetime><time datetime=2025-07-16T23:52:48+09:00>2025. 07. 16. 23:52
</time><span id=reading-time></span></div></header><div class=content-cover-wrap><img src="https://dl.dropboxusercontent.com/scl/fi/vz7ubvu68l28n2h9m13vc/kubernetes-00-cover.webp?rlkey=62jkzfxluywah0k79039ywve0&amp;raw=1" class=content-cover alt="Cover Image" decoding=async></div><div id=series-anchor></div><div class=sc-series><div class=series-bookmark><svg width="32" height="48" fill="currentColor" viewBox="0 0 32 48" class="series-corner-image"><path fill="currentColor" d="M32 0H0v48h.163l16-16L32 47.836V0z"/></svg></div><div class=series-header><h2 class=series-title>Kubernetes 배우기</h2></div><input type=checkbox id=series-toggle class=series-toggle-input hidden><div class=series-content><ol class=series-list><li class=series-item><span class=series-item-index>1.</span>
<a href=/blog/container-history/#series-anchor>컨테이너의 역사와 쿠버네티스 등장 배경 - LXC에서 containerd까지</a></li><li class="series-item active"><span class=series-item-index>2.</span>
<a href=/blog/kube-installtion/#series-anchor>쿠버네티스 클러스터 구축하기 - Ubuntu 24.04에서 kubeadm으로 멀티노드 설치</a></li></ol></div><div class=series-footer><label for=series-toggle class=series-toggle-label><span class=series-toggle-icon><i class="fas fa-caret-up"></i></span>
<span class=series-toggle-text-hide data-i18n-id=series.hide.label data-i18n-text>숨기기</span>
<span class=series-toggle-text-show data-i18n-id=series.show.label data-i18n-text>목록 보기</span></label><div class=series-nav><span class=series-nav-info>2/2</span><div class=series-nav-buttons><a href=/blog/container-history/#series-anchor class=series-nav-button><i class="fas fa-chevron-left"></i></a>
<span class="series-nav-button disabled"><i class="fas fa-chevron-right"></i></span></div></div></div></div><script>(function(){const e=document.getElementById("series-toggle"),t="series-expanded",n=localStorage.getItem(t)??"true";n==="true"&&(e.checked=!0),e.addEventListener("change",function(){localStorage.setItem(t,this.checked)})})()</script><h2 id=실습-개요>실습 개요
<a class=anchor href=#%ec%8b%a4%ec%8a%b5-%ea%b0%9c%ec%9a%94>#</a></h2><blockquote class="sc-hint warning"><p>쿠버네티스 공식문서 중 시작하기 항목에 있는 <a href=https://kubernetes.io/ko/docs/setup/production-environment/container-runtimes/ target=_blank rel="noopener noreferrer">컨테이너 런타임</a>
과 <a href=https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/ target=_blank rel="noopener noreferrer">kubeadm 설치하기</a> 를 따릅니다.</p></blockquote><h3 id=os-선정>OS 선정
<a class=anchor href=#os-%ec%84%a0%ec%a0%95>#</a></h3><p>관련한 블로그 게시글 중에는 Rocky Linux OS를 사용한 사례가 많았는데,
이미 과거에 <a href=/blog/install-ubuntu-server/>Mac에 Ubuntu Server 24.04 설치하기 (UTM)</a> 라는 게시글로
Ubuntu Server 가상머신을 생성한 이력이 있어서 Rocky Linux 대신에 Ubuntu Server를 사용할 것입니다.</p><p>Ubuntu Server를 선택한 또 다른 이유는,
Rocky Linux의 원본인 RHEL 8버전과 Ubuntu Server의 공식문서를 참고하여 아래와 같이 최소사양을 비교한데 있습니다.
서비스 운영 환경으로 사용할 것이 아니라서 단순히 숫자만 놓고 봤을 때 Ubuntu Server가 더 가벼워서 실습 환경으로 선택했습니다.</p><table><thead><tr><th>하드웨어</th><th><a href=https://documentation.ubuntu.com/server/reference/installation/system-requirements/ target=_blank rel="noopener noreferrer">Ubuntu Server 24.04.2 LTS</a></th><th><a href=https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/automatically_installing_rhel/system-requirements-and-supported-architectures_rhel-installer#check-disk-and-memory-requirements_system-requirements-and-supported-architectures target=_blank rel="noopener noreferrer">RHEL 8</a></th></tr></thead><tbody><tr><td>CPU</td><td>1GHz 이상 64비트</td><td>1.5GHz 이상 64비트, 2코어 권장</td></tr><tr><td>RAM</td><td>최소 1.5GB (ISO), 권장 3GB 이상</td><td>최소 1.5GiB~3GiB, 권장 1GB/CPU</td></tr><tr><td>저장공간</td><td>최소 5GB, 권장 25GB 이상</td><td>최소 10GiB, 권장 20GiB 이상</td></tr></tbody></table><p>Apple Silicon 환경에서 리눅스 가상머신을 실행하기 때문에, OS와 컨테이너 런타임 등은 모두 arm64 호환 버전을 사용합니다.</p><h2 id=실습-환경>실습 환경
<a class=anchor href=#%ec%8b%a4%ec%8a%b5-%ed%99%98%ea%b2%bd>#</a></h2><p>UTM 소프트웨어를 사용해 Ubuntu Server 가상머신이 만들어졌음을 가정하고 진행합니다. 가상머신 생성이 필요한 경우 <a href=/blog/install-ubuntu-server/>이전 게시글</a>을 참고할 수 있습니다.</p><p><label class=md-image for=md-image-toggle-0><input class="hidden toggle" type=checkbox id=md-image-toggle-0>
<img src="https://dl.dropboxusercontent.com/scl/fi/yohnr0gbnachd0thjabu3/diagram-02-vm.webp?rlkey=heta5zxt7qoomnhwqfh1tvml5&amp;raw=1" alt="localhost(minyeamer) \subset {UTM \subset {k8s-master, k8s-worker1, k8s-worker2}}" loading=lazy decoding=async></label></p><h3 id=가용-자원>가용 자원
<a class=anchor href=#%ea%b0%80%ec%9a%a9-%ec%9e%90%ec%9b%90>#</a></h3><p>M4 Mac Mini 한 대의 자원을 사용할 수 있습니다.</p><blockquote class="sc-hint info"><p><strong>M4 Mac mini</strong></p><p>Memory : 16GB
CPU : 10코어
IP Address : 192.168.50.227/24</p></blockquote><h3 id=실습-자원>실습 자원
<a class=anchor href=#%ec%8b%a4%ec%8a%b5-%ec%9e%90%ec%9b%90>#</a></h3><p>마스터 노드 1대와 워커 노드 2대로 구성된 쿠버네티스 클러스터를 구성합니다.</p><blockquote class="sc-hint info"><p><strong>k8s-master</strong></p><p>Memory : 4GB
CPU : 4코어
IP Address : 192.168.50.13/24</p></blockquote><blockquote class="sc-hint info"><p><strong>k8s-worker1</strong></p><p>Memory : 4GB
CPU : 4코어
IP Address : 192.168.50.14/24</p></blockquote><blockquote class="sc-hint info"><p><strong>k8s-worker2</strong></p><p>Memory : 4GB
CPU : 4코어
IP Address : 192.168.50.15/24</p></blockquote><h3 id=네트워크>네트워크
<a class=anchor href=#%eb%84%a4%ed%8a%b8%ec%9b%8c%ed%81%ac>#</a></h3><label class=sc-image for=sc-image-toggle-1 style=text-align:center><input class="hidden toggle" type=checkbox id=sc-image-toggle-1><img src="https://dl.dropboxusercontent.com/scl/fi/a74mlztg1okfv44avn46l/diagram-03-network.webp?rlkey=nod84kq0bx9nrb0lhvizjozoo&amp;raw=1" alt="{k8s-master, k8s-worker1, k8s-worker2} -> localhost(minyeamer) -> gateway -> internet" id=sc-image-1 loading=lazy decoding=async style=max-width:691px></label><p>통신 편의성을 위해 가상머신 네트워크는 브릿지 모드로 설정합니다.
Ubuntu Server 설치 시 기본 설정인 DHCP 대신에 Static IP 주소를 설정합니다.</p><p>실습 중 <code>minyeamer</code> 호스트에서 쿠버네티스 노드로 SSH 연결하여 명령어를 입력합니다.</p><p>쿠버네티스 노드는 역할을 명시하기 위해 <code>k8s-master</code>, <code>k8s-worker1</code>, <code>k8s-worker2</code> 호스트로 정의합니다.
<code>k8s-master</code> 가 마스터 노드 역할을 하고, 나머지가 워커 노드 역할을 담당합니다.</p><h2 id=설치하기-공통>설치하기 (공통)
<a class=anchor href=#%ec%84%a4%ec%b9%98%ed%95%98%ea%b8%b0-%ea%b3%b5%ed%86%b5>#</a></h2><p>우선, 마스터 노드와 워커 노드에서 공통적으로 컨테이너 런타임과 쿠버네티스를 설치합니다.</p><h3 id=1-ubuntu-server-기본-설정>1. Ubuntu Server 기본 설정
<a class=anchor href=#1-ubuntu-server-%ea%b8%b0%eb%b3%b8-%ec%84%a4%ec%a0%95>#</a></h3><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [1] Ubuntu Server 기본 설정 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [1-1] 타임존 설정 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo timedatectl set-timezone Asia/Seoul
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [1-2] hosts 설정 =====&#39;</span>
</span></span><span class=line><span class=cl>cat <span class=s>&lt;&lt; EOF | sudo tee -a /etc/hosts
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>192.168.50.13 k8s-master
</span></span></span><span class=line><span class=cl><span class=s>192.168.50.14 k8s-worker1
</span></span></span><span class=line><span class=cl><span class=s>192.168.50.15 k8s-worker2
</span></span></span><span class=line><span class=cl><span class=s>EOF</span></span></span></code></pre></div></div><p>쿠버네티스 노드 간 호스트명으로 통신하기 위해 <code>/etc/hosts</code> 에 호스트명과 IP 주소를 맵핑합니다.
맥에서도 쿠버네티스 노드에 SSH로 접근하기 위해 편의상 <code>/etc/hosts</code> 를 동일하게 설정했습니다.</p><h3 id=2-kubeadm-설치-전-사전작업>2. kubeadm 설치 전 사전작업
<a class=anchor href=#2-kubeadm-%ec%84%a4%ec%b9%98-%ec%a0%84-%ec%82%ac%ec%a0%84%ec%9e%91%ec%97%85>#</a></h3><p>쿠버네티스 공식문서 <a href=https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/ target=_blank rel="noopener noreferrer">kubeadm 설치하기</a>
에 따르면 시작하기 전에,</p><blockquote class="sc-hint info"><ul><li>컴퓨터의 특정 포트들 개방. 자세한 내용은
<a href=https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#check-required-ports target=_blank rel="noopener noreferrer">여기</a>
를 참고한다.</li><li>스왑의 비활성화. kubelet이 제대로 작동하게 하려면 반드시 스왑을 사용하지 않도록 설정한다.</li></ul></blockquote><p>위 사항을 만족해야 한다고 알려줍니다.</p><p>쿠버네티스 클러스터 노드 간 다양한 포트를 통해 통신이 이루어지는데,
방화벽 설정에 의해 통신이 차단되어 클러스터 구성이 실패할 수 있습니다. 쿠버네티스 API 서버가 <code>6443</code> 포트를 사용하고,
파드 네트워크 플러그인마다 또 필요한 포트가 있습니다. 실습 환경에선 방화벽 자체를 해제합니다.</p><p>또한, 쿠버네티스의 구성요소인 Kubelet은 메모리 할당 및 관리를 위해 설계되었는데,
Swap을 사용하게 되면 예상치 못한 성능 저하나 불안정성을 초래할 수 있어 Swap을 해제해야 합니다.</p><p>이러한 과정을 아래와 같은 명령어로 처리할 수 있습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [2] kubeadm 설치 전 사전작업 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [2-1] 방화벽 해제 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo systemctl stop ufw
</span></span><span class=line><span class=cl>sudo systemctl disable ufw
</span></span><span class=line><span class=cl>sudo ufw disable
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [2-2] Swap 비활성화 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo swapoff -a
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;/ swap / s/^/#/&#39;</span> /etc/fstab
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [2-3] 필수 패키지 설치 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install -y apt-transport-https ca-certificates curl gpg iproute2</span></span></code></pre></div></div><p>추가로, 컨테이너 런타임과 쿠버네티스 설치 전 필요한 필수 패키지를 미리 설치합니다.</p><h3 id=3-컨테이너-런타임-설치-전-사전작업>3. 컨테이너 런타임 설치 전 사전작업
<a class=anchor href=#3-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%eb%9f%b0%ed%83%80%ec%9e%84-%ec%84%a4%ec%b9%98-%ec%a0%84-%ec%82%ac%ec%a0%84%ec%9e%91%ec%97%85>#</a></h3><p>컨테이너 런타임과 관련된 쿠버네티스 공식문서의
<a href=https://kubernetes.io/ko/docs/setup/production-environment/container-runtimes/#ipv4%eb%a5%bc-%ed%8f%ac%ec%9b%8c%eb%94%a9%ed%95%98%ec%97%ac-iptables%ea%b0%80-%eb%b8%8c%eb%a6%ac%ec%a7%80%eb%90%9c-%ed%8a%b8%eb%9e%98%ed%94%bd%ec%9d%84-%eb%b3%b4%ea%b2%8c-%ed%95%98%ea%b8%b0 target=_blank rel="noopener noreferrer">IPv4를 포워딩하여 iptables가 브리지된 트래픽을 보게 하기</a>
문단에 따라 패킷 포워딩 등의 기능 제공을 위해 iptables 설정을 합니다.</p><p>해당 과정은 아래와 같이 공식문서에서 제공됩니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [3] 컨테이너 런타임 설치 전 사전작업 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [3-1] 필요한 모듈 로드 =====&#39;</span>
</span></span><span class=line><span class=cl>cat <span class=s>&lt;&lt;EOF | sudo tee /etc/modules-load.d/containerd.conf
</span></span></span><span class=line><span class=cl><span class=s>overlay
</span></span></span><span class=line><span class=cl><span class=s>br_netfilter
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo modprobe overlay
</span></span><span class=line><span class=cl>sudo modprobe br_netfilter
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [3-2] iptables 세팅 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo tee /etc/sysctl.d/kubernetes.conf <span class=s>&lt;&lt;EOF
</span></span></span><span class=line><span class=cl><span class=s>net.bridge.bridge-nf-call-ip6tables = 1
</span></span></span><span class=line><span class=cl><span class=s>net.bridge.bridge-nf-call-iptables  = 1
</span></span></span><span class=line><span class=cl><span class=s>net.ipv4.ip_forward                 = 1
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [3-3] 설정값 적용 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo sysctl --system</span></span></code></pre></div></div><h3 id=4-컨테이너-런타임-설치>4. 컨테이너 런타임 설치
<a class=anchor href=#4-%ec%bb%a8%ed%85%8c%ec%9d%b4%eb%84%88-%eb%9f%b0%ed%83%80%ec%9e%84-%ec%84%a4%ec%b9%98>#</a></h3><p>컨테이너 런타임은 Docker 공식문서 <a href=https://docs.docker.com/engine/install/ubuntu/ target=_blank rel="noopener noreferrer">Install Docker Engine on Ubuntu</a>
에 따라 도커 엔진을 설치합니다.
도커 엔진을 설치하고 그 안에 포함되는 <code>containerd</code> 를 쿠버네티스의 컨테이너 런타임으로 사용합니다.</p><p>해당 과정은 아래와 같이 공식문서에서 제공됩니다.</p><p>참고로, <code>containerd</code> 설치 시 amd64와 arm64 아키텍처 중 하나를 지정해야 하는데,
<code>$(dpkg --print-architecture)</code> 명령어로 현재 환경의 아키텍처를 출력하여 변수로 사용합니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [4] 컨테이너 런타임 설치 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [4-1] 도커 공식 GPG 키 추가 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo install -m <span class=m>0755</span> -d /etc/apt/keyrings
</span></span><span class=line><span class=cl>sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
</span></span><span class=line><span class=cl>sudo chmod a+r /etc/apt/keyrings/docker.asc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [4-2] 도커 Apt 저장소 추가 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=se>\
</span></span></span><span class=line><span class=cl>  <span class=s2>&#34;deb [arch=</span><span class=k>$(</span>dpkg --print-architecture<span class=k>)</span><span class=s2> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
</span></span></span><span class=line><span class=cl><span class=s2>  </span><span class=k>$(</span>. /etc/os-release <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>UBUNTU_CODENAME</span><span class=k>:-</span><span class=nv>$VERSION_CODENAME</span><span class=si>}</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2> stable&#34;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl>  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [4-3] containerd 설치 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [4-4] CRI 활성화 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo mkdir -p /etc/containerd
</span></span><span class=line><span class=cl>sudo containerd config default <span class=p>|</span> sudo tee /etc/containerd/config.toml
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;s/SystemdCgroup = false/SystemdCgroup = true/g&#39;</span> /etc/containerd/config.toml
</span></span><span class=line><span class=cl>sudo systemctl restart containerd</span></span></code></pre></div></div><p>컨테이너 런타임과 관련된 쿠버네티스 공식문서의
<a href=https://kubernetes.io/ko/docs/setup/production-environment/container-runtimes/#containerd target=_blank rel="noopener noreferrer">containerd</a>
문단을 보면 아래와 같은 참고사항을 알려줍니다.</p><blockquote class="sc-hint info"><p>만약 <code>containerd</code> 를 패키지(<code>RPM</code>, <code>.deb</code> 등)를 통해 설치하였다면,
CRI integration 플러그인은 기본적으로 비활성화되어 있다.</p><p>쿠버네티스에서 containerd를 사용하기 위해서는 CRI support가 활성화되어 있어야 한다.
cri가 <code>/etc/containerd/config.toml</code> 파일 안에 있는 <code>disabled_plugins</code> 목록에 포함되지 않도록 주의하자.
만약 해당 파일을 변경하였다면, <code>containerd</code> 를 다시 시작한다.</p></blockquote><p>따라서, <code>containerd</code> 설치 후 CRI를 직접 활성화합니다.</p><p>컨테이너 런타임을 설치한 후 <code>containerd</code> 버전을 확인해보니 1.2.27 버전이 설치되었습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ containerd --version
</span></span><span class=line><span class=cl>containerd containerd.io 1.7.27 05044ec0a9a75232cad458027ca83437aae3f4da</span></span></code></pre></div></div><h3 id=5-쿠버네티스-설치>5. 쿠버네티스 설치
<a class=anchor href=#5-%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%ec%84%a4%ec%b9%98>#</a></h3><p>쿠버네티스 공식문서의
<a href=https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#kubeadm-kubelet-%eb%b0%8f-kubectl-%ec%84%a4%ec%b9%98 target=_blank rel="noopener noreferrer">kubeadm, kubelet 및 kubectl 설치</a>
문단에 따라 쿠버네티스 운영에 필요한 패키지를 설치합니다. 각 패키지에 대해 아래와 같은 설명을 참고할 수 있습니다.</p><blockquote class="sc-hint info"><ul><li><code>kubeadm</code> : 클러스터를 부트스트랩하는 명령이다.</li><li><code>kubelet</code> : 클러스터의 모든 머신에서 실행되는 파드와 컨테이너 시작과 같은 작업을 수행하는 컴포넌트이다.</li><li><code>kubectl</code> : 클러스터와 통신하기 위한 커맨드 라인 유틸리티이다.</li></ul></blockquote><p>해당 과정은 아래와 같이 공식문서에서 제공됩니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [5] kubeadm 설치 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [5-1] 쿠버네티스 패키지 저장소의 공개키 다운로드 =====&#39;</span>
</span></span><span class=line><span class=cl>curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.33/deb/Release.key <span class=p>|</span> sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [5-2] 쿠버네티스 Apt 저장소 추가 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=c1># sudo mkdir -p -m 755 /etc/apt/keyrings &lt;&lt; Ubuntu 22.04 이전 버전</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=se>\
</span></span></span><span class=line><span class=cl>  <span class=s2>&#34;deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.33/deb/ /&#34;</span> <span class=p>|</span> <span class=se>\
</span></span></span><span class=line><span class=cl>  sudo tee /etc/apt/sources.list.d/kubernetes.list
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [5-3] kubelet, kubeadm, kubectl 설치 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install -y kubelet kubeadm kubectl
</span></span><span class=line><span class=cl>sudo apt-mark hold kubelet kubeadm kubectl
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [5-4] kubelet 서비스 활성화 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> --now kubelet</span></span></code></pre></div></div><p>쿠버네티스를 설치한 후 <code>kubeadm</code>, <code>kubelet</code>, <code>kubectl</code> 버전을 확인했습니다.
모두 동일하게 1.33.2 버전이 설치되었습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubeadm version
</span></span><span class=line><span class=cl>kubeadm version: <span class=p>&amp;</span>version.Info<span class=o>{</span>
</span></span><span class=line><span class=cl>Major:<span class=s2>&#34;1&#34;</span>, Minor:<span class=s2>&#34;33&#34;</span>, EmulationMajor:<span class=s2>&#34;&#34;</span>, EmulationMinor:<span class=s2>&#34;&#34;</span>, MinCompatibilityMajor:<span class=s2>&#34;&#34;</span>,
</span></span><span class=line><span class=cl>MinCompatibilityMinor:<span class=s2>&#34;&#34;</span>,
</span></span><span class=line><span class=cl>GitVersion:<span class=s2>&#34;v1.33.2&#34;</span>, GitCommit:<span class=s2>&#34;a57b6f7709f6c2722b92f07b8b4c48210a51fc40&#34;</span>,
</span></span><span class=line><span class=cl>GitTreeState:<span class=s2>&#34;clean&#34;</span>, BuildDate:<span class=s2>&#34;2025-06-17T18:39:42Z&#34;</span>,
</span></span><span class=line><span class=cl>GoVersion:<span class=s2>&#34;go1.24.4&#34;</span>, Compiler:<span class=s2>&#34;gc&#34;</span>, Platform:<span class=s2>&#34;linux/arm64&#34;</span><span class=o>}</span></span></span></code></pre></div></div><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubelet --version
</span></span><span class=line><span class=cl>Kubernetes v1.33.2</span></span></code></pre></div></div><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl version
</span></span><span class=line><span class=cl>Client Version: v1.33.2
</span></span><span class=line><span class=cl>Kustomize Version: v5.6.0
</span></span><span class=line><span class=cl>Server Version: v1.33.2</span></span></code></pre></div></div><h2 id=설정하기-마스터-노드>설정하기 (마스터 노드)
<a class=anchor href=#%ec%84%a4%ec%a0%95%ed%95%98%ea%b8%b0-%eb%a7%88%ec%8a%a4%ed%84%b0-%eb%85%b8%eb%93%9c>#</a></h2><p>마스터 노드에서 우선 클러스터 설정을 진행합니다.</p><h3 id=6-쿠버네티스-클러스터-설정>6. 쿠버네티스 클러스터 설정
<a class=anchor href=#6-%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%ed%81%b4%eb%9f%ac%ec%8a%a4%ed%84%b0-%ec%84%a4%ec%a0%95>#</a></h3><p>쿠버네티스 클러스터를 초기화하면 다양한 쿠버네티스 컴포넌트들이 파드로 만들어집니다.
또한, 실습 과정에서 새로운 파드를 생성하게 됩니다.</p><p>컨테이너들 간 통신을 위해 CNI(Container Network Interface)라는 표준 인터페이스가 필요합니다.
쿠버네티스는 기본적으로 Kubelet 이라는 자체적인 CNI 플러그인을 제공하지만 네트워크 기능이 매우 제한적인 단점이 있습니다.</p><p>그 단점을 보완하기 위해, 서드파티 플러그인으로 Flannel, Calico 등이 존재합니다.
이 중에서 Calico 네트워크 정책 및 보안, 확장성, 성능 측면에서 뛰어나기 때문에 실전 환경에서 주로 사용됩니다.</p><p>Calico를 개발하고 관리하는 Tigera에서 제공하는 공식문서
<a href=https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises target=_blank rel="noopener noreferrer">Install Calico networking and network policy for on-premises deployments</a>
를 참고하여 아래와 같이 Calico를 설치했습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [6] 쿠버네티스 클러스터 설정 =====&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [6-1] 클러스터 초기화 =====&#39;</span>
</span></span><span class=line><span class=cl>sudo kubeadm init --pod-network-cidr<span class=o>=</span>10.244.0.0/16 --apiserver-advertise-address 192.168.50.13
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [6-2] kubectl 설정 =====&#39;</span>
</span></span><span class=line><span class=cl>mkdir -p <span class=nv>$HOME</span>/.kube
</span></span><span class=line><span class=cl>sudo cp -i /etc/kubernetes/admin.conf <span class=nv>$HOME</span>/.kube/config
</span></span><span class=line><span class=cl>sudo chown <span class=k>$(</span>id -u<span class=k>)</span>:<span class=k>$(</span>id -g<span class=k>)</span> <span class=nv>$HOME</span>/.kube/config
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [6-3] Pod Network 설치 (Calico) =====&#39;</span>
</span></span><span class=line><span class=cl>kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/operator-crds.yaml
</span></span><span class=line><span class=cl>kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/tigera-operator.yaml
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [6-4] 사용자 정의 리소스 다운로드 =====&#39;</span>
</span></span><span class=line><span class=cl>curl https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/custom-resources.yaml -O
</span></span><span class=line><span class=cl>sed -i <span class=s1>&#39;s/192.168.0.0/10.244.0.0/g&#39;</span> custom-resources.yaml
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;===== [6-5] Calico를 설치하기 위한 manifest 생성 =====&#39;</span>
</span></span><span class=line><span class=cl>kubectl create -f custom-resources.yaml</span></span></code></pre></div></div><p>설치가 완료되면 <code>calico-system</code> 이라는 네임스페이스 아래에 <code>calico-node</code> 등의 파드가 만들어집니다.
하지만, 위 명령어 중 사용자 정의 리소스 다운로드 부분에 <code>calico-node</code> 를 정의하는
<code>custom-resources.yaml</code> 파일의 기본 네트워크 대역이 <code>192.168.0.0/16</code> 대역으로 작성되어 있어서 오류가 발생했습니다.</p><p><code>custom-resources.yaml</code> 파일 내용에서 기본 네트워크 대역을 클러스터 초기화 시에
입력한 <code>pod-network-cidr</code> 대역 <code>10.244.0.0/16</code> 으로 변경해줍니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ kubectl get pods -n calico-system
</span></span><span class=line><span class=cl>NAME                                       READY   STATUS        RESTARTS      AGE
</span></span><span class=line><span class=cl>calico-kube-controllers-6565cb8dfb-dfb6m   1/1     Running       <span class=m>1</span> <span class=o>(</span>23h ago<span class=o>)</span>   3d
</span></span><span class=line><span class=cl>calico-node-2xznr                          1/1     Running       <span class=m>0</span>             3d
</span></span><span class=line><span class=cl>calico-node-7zlgx                          1/1     Running       <span class=m>0</span>             3d
</span></span><span class=line><span class=cl>calico-node-jgddh                          0/1     Running       <span class=m>1</span> <span class=o>(</span>23h ago<span class=o>)</span>   3d
</span></span><span class=line><span class=cl>calico-typha-6fd8bff95d-k2bgm              1/1     Running       <span class=m>0</span>             3d
</span></span><span class=line><span class=cl>csi-node-driver-2llx6                      2/2     Running       <span class=m>0</span>             3d
</span></span><span class=line><span class=cl>csi-node-driver-mj8js                      2/2     Running       <span class=m>0</span>             3d
</span></span><span class=line><span class=cl>csi-node-driver-nzr55                      2/2     Running       <span class=m>2</span> <span class=o>(</span>23h ago<span class=o>)</span>   3d
</span></span><span class=line><span class=cl>goldmane-5f56496f4c-5szmn                  1/1     Running       <span class=m>1</span> <span class=o>(</span>23h ago<span class=o>)</span>   3d
</span></span><span class=line><span class=cl>whisker-78db647586-dpsdl                   2/2     Terminating   <span class=m>0</span>             3d
</span></span><span class=line><span class=cl>whisker-78db647586-tmbnp                   2/2     Running       <span class=m>0</span>             31m</span></span></code></pre></div></div><h2 id=설정하기-워커-노드>설정하기 (워커 노드)
<a class=anchor href=#%ec%84%a4%ec%a0%95%ed%95%98%ea%b8%b0-%ec%9b%8c%ec%bb%a4-%eb%85%b8%eb%93%9c>#</a></h2><p>워커 노드에서 마스터 노드에 연결하는 설정을 진행합니다.</p><h3 id=7-쿠버네티스-클러스터-연결>7. 쿠버네티스 클러스터 연결
<a class=anchor href=#7-%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%ed%81%b4%eb%9f%ac%ec%8a%a4%ed%84%b0-%ec%97%b0%ea%b2%b0>#</a></h3><p>마스터 노드에서 쿠버네티스 클러스터를 초기화하고
새 노드가 클러스터에 합류할 수 있도록 아래와 같이 토큰을 생성할 수 있습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>k8s-master$ sudo kubeadm token create --print-join-command &gt; ~/join.sh
</span></span><span class=line><span class=cl>k8s-master$ cat join.sh
</span></span><span class=line><span class=cl>kubeadm join 192.168.50.13:6443 --token ...</span></span></code></pre></div></div><p>마스터 노드에서 <code>kubeadm token create</code> 의 출력 결과를 복사해서 워커 노드에서 실행할 수도 있지만,
향후 쿠버네티스 설치 과정을 Ansible 등을 사용해 자동화할 계획이 있어서
GUI를 거치지 않고 SSH 통신을 통해 출력 결과를 전달했습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>k8s-master$ scp ~/join.sh minyeamer@k8s-worker1:/home/minyeamer/
</span></span><span class=line><span class=cl>k8s-worker1$ sudo ./join.sh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>k8s-master$ scp ~/join.sh minyeamer@k8s-worker2:/home/minyeamer/
</span></span><span class=line><span class=cl>k8s-worker2$ sudo ./join.sh</span></span></code></pre></div></div><p>마스터 노드로부터 전달받은 <code>join.sh</code> 파일, 즉 <code>kubeadm join</code> 명령어를
워커 노드에서 실행하고 기다리면 모든 노드가 활성화되는 것을 확인할 수 있습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>k8s-master$ kubectl get nodes
</span></span><span class=line><span class=cl>NAME          STATUS     ROLES           AGE   VERSION
</span></span><span class=line><span class=cl>k8s-master    Ready      control-plane   29m   v1.33.2
</span></span><span class=line><span class=cl>k8s-worker1   NotReady   &lt;none&gt;          16m   v1.33.2
</span></span><span class=line><span class=cl>k8s-worker2   NotReady   &lt;none&gt;          15m   v1.33.2</span></span></code></pre></div></div><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>k8s-master$ kubectl get nodes
</span></span><span class=line><span class=cl>NAME          STATUS   ROLES           AGE   VERSION
</span></span><span class=line><span class=cl>k8s-master    Ready    control-plane   30m   v1.33.2
</span></span><span class=line><span class=cl>k8s-worker1   Ready    &lt;none&gt;          16m   v1.33.2
</span></span><span class=line><span class=cl>k8s-worker2   Ready    &lt;none&gt;          16m   v1.33.2</span></span></code></pre></div></div><h2 id=설정하기-기타>설정하기 (기타)
<a class=anchor href=#%ec%84%a4%ec%a0%95%ed%95%98%ea%b8%b0-%ea%b8%b0%ed%83%80>#</a></h2><p><code>kubectl</code> 명령어를 입력하는 마스터 노드에서 편의를 위한 설정을 진행합니다.</p><h3 id=8-쿠버네티스-편의기능-설치>8. 쿠버네티스 편의기능 설치
<a class=anchor href=#8-%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%ed%8e%b8%ec%9d%98%ea%b8%b0%eb%8a%a5-%ec%84%a4%ec%b9%98>#</a></h3><p>쿠버네티스 공식문서 중 <a href=https://kubernetes.io/ko/docs/reference/kubectl/cheatsheet/ target=_blank rel="noopener noreferrer">kubectl 치트 시트</a>
에 따라 <code>kubectl</code> 명령어를 <code>k</code> 로 단축하는 것과 같은 자동완성 설정을 할 수 있습니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get update
</span></span><span class=line><span class=cl>sudo apt-get install bash-completion
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;source &lt;(kubectl completion bash)&#39;</span> &gt;&gt; ~/.bashrc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;alias k=kubectl&#39;</span> &gt;&gt; ~/.bashrc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;complete -o default -F __start_kubectl k&#39;</span> &gt;&gt; ~/.bashrc
</span></span><span class=line><span class=cl><span class=nb>source</span> ~/.bashrc</span></span></code></pre></div></div><h3 id=9-쿠버네티스-대시보드-배포>9. 쿠버네티스 대시보드 배포
<a class=anchor href=#9-%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%eb%8c%80%ec%8b%9c%eb%b3%b4%eb%93%9c-%eb%b0%b0%ed%8f%ac>#</a></h3><p>쿠버네티스 공식문서 중
<a href=https://kubernetes.io/ko/docs/tasks/access-application-cluster/web-ui-dashboard/ target=_blank rel="noopener noreferrer">쿠버네티스 대시보드를 배포하고 접속하기</a>
에 따르면 아래와 같은 웹 UI(쿠버네티스 대시보드)를 배포할 수 있습니다.</p><p><label class=md-image for=md-image-toggle-1><input class="hidden toggle" type=checkbox id=md-image-toggle-1>
<img src="https://dl.dropboxusercontent.com/scl/fi/25ojg74h2u84k91aluf5k/kubernetes-01-dashboard.webp?rlkey=yp0kbkrle7od4cr1crcb06mm7&amp;raw=1" alt="Kubernetes Dashboard > Workloads > Pods" loading=lazy decoding=async></label></p><p>쿠버네티스 대시보드 웹 UI에 대한 파드를 생성하고, 파드의 <code>443</code> 포트를 호스트의 포트(<code>8443</code> 등)에 포워딩하여 웹 UI에 접속할 수 있습니다. 해당 과정은 아래에서 제시합니다.</p><div class=sc-codeblock data-lang=bash><div class=code-actions><button class="code-copy-button code-action" onclick=copyCode(this)>
<i class="fa-solid fa-copy"></i>Copy
</button>
<span class="code-language code-action">bash</span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.6.1/aio/deploy/recommended.yaml
</span></span><span class=line><span class=cl>kubectl create serviceaccount admin-user -n kubernetes-dashboard
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>kubectl create clusterrolebinding admin-user <span class=se>\
</span></span></span><span class=line><span class=cl>  --clusterrole<span class=o>=</span>cluster-admin <span class=se>\
</span></span></span><span class=line><span class=cl>  --serviceaccount<span class=o>=</span>kubernetes-dashboard:admin-user
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>kubectl create token admin-user -n kubernetes-dashboard &gt; ~/admin-token
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>kubectl -n kubernetes-dashboard port-forward svc/kubernetes-dashboard 8443:443 <span class=p>&amp;</span></span></span></code></pre></div></div><p>이제 막 쿠버네티스를 설치한 직후라 그런지, 아니면 사용량이 올바르게 수집되지 않아서인진 모르겠지만 아무런 내용도 나타나지 않습니다. 나중에 쿠버네티스를 충분히 실습하고 나서 대시보드에 대해 다시 알아보겠습니다.</p><h2 id=references>References
<a class=anchor href=#references>#</a></h2><ul><li><a href=https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/ target=_blank rel="noopener noreferrer">https://kubernetes.io/ko/docs/setup/production-environment/tools/kubeadm/install-kubeadm/</a></li><li><a href=https://kubernetes.io/ko/docs/setup/production-environment/container-runtimes/ target=_blank rel="noopener noreferrer">https://kubernetes.io/ko/docs/setup/production-environment/container-runtimes/</a></li><li><a href=https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises target=_blank rel="noopener noreferrer">https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises</a></li><li><a href=https://www.inflearn.com/course/%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4-%ec%96%b4%eb%82%98%eb%8d%94-%ed%81%b4%eb%9e%98%ec%8a%a4-%ec%a7%80%ec%83%81%ed%8e%b8-sprint1 target=_blank rel="noopener noreferrer">https://www.inflearn.com/course/쿠버네티스-어나더-클래스-지상편-sprint1</a></li><li><a href=https://cafe.naver.com/kubeops/91 target=_blank rel="noopener noreferrer">https://cafe.naver.com/kubeops/91</a></li><li><a href=https://captcha.tistory.com/78 target=_blank rel="noopener noreferrer">https://captcha.tistory.com/78</a></li><li><a href=https://kubernetes.io/ko/docs/reference/kubectl/cheatsheet/ target=_blank rel="noopener noreferrer">https://kubernetes.io/ko/docs/reference/kubectl/cheatsheet/</a></li><li><a href=https://kubernetes.io/ko/docs/tasks/access-application-cluster/web-ui-dashboard/ target=_blank rel="noopener noreferrer">https://kubernetes.io/ko/docs/tasks/access-application-cluster/web-ui-dashboard/</a></li></ul></article><footer class=site-footer><div class=tags-wrap><a href="/search/?tags=Kubernetes" class=tag>#Kubernetes</a>
<a href="/search/?tags=%ec%bf%a0%eb%b2%84%eb%84%a4%ed%8b%b0%ec%8a%a4%20%ec%84%a4%ec%b9%98" class=tag>#쿠버네티스 설치</a>
<a href="/search/?tags=Ubuntu%2024.04" class=tag>#Ubuntu 24.04</a>
<a href="/search/?tags=kubeadm" class=tag>#kubeadm</a>
<a href="/search/?tags=containerd" class=tag>#containerd</a>
<a href="/search/?tags=Calico" class=tag>#Calico</a>
<a href="/search/?tags=CNI" class=tag>#CNI</a>
<a href="/search/?tags=kubectl" class=tag>#kubectl</a>
<a href="/search/?tags=kubelet" class=tag>#kubelet</a>
<a href="/search/?tags=%ed%81%b4%eb%9f%ac%ec%8a%a4%ed%84%b0%20%ea%b5%ac%ec%84%b1" class=tag>#클러스터 구성</a></div><div class=prev-next-wrap><a href=/blog/container-history/ class=prev-link><span class=prev-next-label><i class="fa-solid fa-backward"></i>
<span data-i18n-id=post.prev.link data-i18n-text>이전</span>
</span><span class=prev-next-title>컨테이너의 역사와 쿠버네티스 등장 배경 - LXC에서 containerd까지</span>
</a><a href=/blog/spark-study-8/ class=next-link><span class=prev-next-label><span data-i18n-id=post.next.link data-i18n-text>다음</span>
<i class="fa-solid fa-forward"></i>
</span><span class=prev-next-title>Apache Spark - 사용자 정의 함수(UDF)와 고차 함수 활용하기</span></a></div><div class=comments-wrap><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://minyeamer.github.io/blog/kube-installtion/",this.page.identifier="https://minyeamer.github.io/blog/kube-installtion/"};window.relocateDisqus=()=>{let e=0;const t=20,n=setInterval(()=>{e++;const s=document.getElementById(atob(atob("WkdsemNYVnpYM1JvY21WaFpBPT0=")));var o=!1;if(s){const e=s.querySelector(atob(atob("VzNOeVl5bzlKMkZrY3lkZA==")));e&&(s.appendChild(e),o=!0)}(o||e>t)&&clearInterval(n)},1e3)},function(){var e=document,t=e.createElement("script");t.src="https://minyeamer.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}(),window.relocateDisqus();function reloadDisqus(){window.DISQUS&&(DISQUS.reset({reload:!0,config:function(){this.page.url="https://minyeamer.github.io/blog/kube-installtion/",this.page.identifier="https://minyeamer.github.io/blog/kube-installtion/"}}),window.relocateDisqus())}</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><div class="copyright-wrap flex justify-center"><small>Minystory - <a href=https://creativecommons.org/licenses/by/4.0/legalcode target=_blank rel="noopener noreferrer">© CC BY 4.0</a></small></div></footer><label for=menu-control class="hidden site-menu-overlay"></label></div><aside class=site-toc aria-label=목차 data-i18n-id=toc.aside.tooltip data-i18n-attrs=aira-label><div class=toc-content><nav id=TableOfContents><ul><li><a href=#실습-개요>실습 개요</a><ul><li><a href=#os-선정>OS 선정</a></li></ul></li><li><a href=#실습-환경>실습 환경</a><ul><li><a href=#가용-자원>가용 자원</a></li><li><a href=#실습-자원>실습 자원</a></li><li><a href=#네트워크>네트워크</a></li></ul></li><li><a href=#설치하기-공통>설치하기 (공통)</a><ul><li><a href=#1-ubuntu-server-기본-설정>1. Ubuntu Server 기본 설정</a></li><li><a href=#2-kubeadm-설치-전-사전작업>2. kubeadm 설치 전 사전작업</a></li><li><a href=#3-컨테이너-런타임-설치-전-사전작업>3. 컨테이너 런타임 설치 전 사전작업</a></li><li><a href=#4-컨테이너-런타임-설치>4. 컨테이너 런타임 설치</a></li><li><a href=#5-쿠버네티스-설치>5. 쿠버네티스 설치</a></li></ul></li><li><a href=#설정하기-마스터-노드>설정하기 (마스터 노드)</a><ul><li><a href=#6-쿠버네티스-클러스터-설정>6. 쿠버네티스 클러스터 설정</a></li></ul></li><li><a href=#설정하기-워커-노드>설정하기 (워커 노드)</a><ul><li><a href=#7-쿠버네티스-클러스터-연결>7. 쿠버네티스 클러스터 연결</a></li></ul></li><li><a href=#설정하기-기타>설정하기 (기타)</a><ul><li><a href=#8-쿠버네티스-편의기능-설치>8. 쿠버네티스 편의기능 설치</a></li><li><a href=#9-쿠버네티스-대시보드-배포>9. 쿠버네티스 대시보드 배포</a></li></ul></li><li><a href=#references>References</a></li></ul></nav></div><div class=hidden id=toc-config data-start=2 data-end=3></div></aside><div class=site-toolbar role=toolbar aria-label="툴바'" data-i18n-id=toolbar.wrap.tooltip data-i18n-attrs=aira-label><input type=checkbox id=toolbar-toggle class="hidden toggle"><div class=toolbar-items><div class="toolbar-button i18n-button"><i class="fa-solid fa-globe"></i>
<select class=i18n-selector id=i18n-selector aria-label="i18n `toolbar.i18n.tooltip` | default `Select language`" title="i18n `toolbar.i18n.tooltip` | default `Select language`" data-i18n-id=toolbar.i18n.tooltip data-i18n-attrs=aria-label,title><option value=ko>한국어</option><option value=en>English</option><option value=ja>日本語</option><option value=zh>中文</option><option value=es>Español</option><option value=fr>Français</option><option value=de>Deutsch</option><option value=it>Italiano</option><option value=pt>Português</option><option value=ru>Русский</option><option value=am>አማርኛ</option><option value=bg>Български</option><option value=bn>বাংলা</option><option value=cn>简体中文</option><option value=cs>Čeština</option><option value=fa>فارسی</option><option value=he>עברית</option><option value=nb>Norsk</option><option value=nl>Nederlands</option><option value=oc>Occitan</option><option value=pl>Polski</option><option value=pt-BR>Português (BR)</option><option value=sv>Svenska</option><option value=sw>Kiswahili</option><option value=tr>Türkçe</option><option value=uk>Українська</option><option value=zh-TW>繁體中文</option></select></div><button class=toolbar-button onclick='window.scrollTo({top:0,behavior:"smooth"})' aria-label="i18n `toolbar.top.tooltip` | default `Go to top`" title="i18n `toolbar.top.tooltip` | default `Go to top`" data-i18n-id=toolbar.top.tooltip data-i18n-attrs=aria-label,title>
<i class="fa fa-chevron-up"></i>
</button>
<button class=toolbar-button onclick='window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})' aria-label="i18n `toolbar.bottom.tooltip` | default `Go to bottom`" title="i18n `toolbar.bottom.tooltip` | default `Go to bottom`" data-i18n-id=toolbar.bottom.tooltip data-i18n-attrs=aria-label,title>
<i class="fa fa-chevron-down"></i>
</button>
<button class=toolbar-button onclick=history.back() aria-label="i18n `toolbar.back.tooltip` | default `Go back`" title="i18n `toolbar.back.tooltip` | default `Go back`" data-i18n-id=toolbar.back.tooltip data-i18n-attrs=aria-label,title>
<i class="fa-solid fa-arrow-left"></i></button></div><label for=toolbar-toggle class="toolbar-button toolbar-toggle-label"><i class="fa-solid fa-plus icon-expand"></i>
<i class="fa-solid fa-xmark icon-collapse"></i></label></div></main></body></html>