"use strict";(function(){const i="/en.search-data.min.d8230bedff175a96b9214f4b0be4b94c0a75563fb182ddc9fe65cdc891987514.json",a=Object.assign({cache:!0},{includeScore:!0,useExtendedSearch:!0,fieldNormWeight:1.5,threshold:.2,ignoreLocation:!0,keys:[{name:"title",weight:.7},{name:"content",weight:.3}]}),e=document.querySelector("#book-search-input"),t=document.querySelector("#book-search-results");if(!e)return;e.addEventListener("focus",n),e.addEventListener("keyup",s),document.addEventListener("keypress",r);function r(t){if(t.target.value!==0[0])return;if(e===document.activeElement)return;const n=String.fromCharCode(t.charCode);if(!c(n))return;e.focus(),t.preventDefault()}function c(t){const n=e.getAttribute("data-hotkeys")||"";return n.indexOf(t)>=0}function n(){e.removeEventListener("focus",n),e.required=!0,fetch(i).then(e=>e.json()).then(e=>{window.bookSearchIndex=new Fuse(e,a)}).then(()=>e.required=!1).then(s)}function s(){for(;t.firstChild;)t.removeChild(t.firstChild);if(!e.value)return;const n=window.bookSearchIndex.search(e.value),s=n.slice(0,3);if(s.forEach(function(e){const n=o("<li><a href></a></li>"),s=n.querySelector("a");s.href=e.item.href,s.textContent=e.item.title,t.appendChild(n)}),n.length>3){const s=o('<li class="book-search-more"><a href></a></li>'),i=s.querySelector("a");i.href="/search/?q="+encodeURIComponent(e.value),i.textContent="더보기 (총 "+n.length+"개)",t.appendChild(s)}}function o(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild}})()